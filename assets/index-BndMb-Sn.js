(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dm={exports:{}},du={},Nm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function RN(){if(bT)return Fe;bT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function b(H,Z,he){this.props=H,this.context=Z,this.refs=S,this.updater=he||E}b.prototype.isReactComponent={},b.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=b.prototype;function P(H,Z,he){this.props=H,this.context=Z,this.refs=S,this.updater=he||E}var M=P.prototype=new C;M.constructor=P,I(M,b.prototype),M.isPureReactComponent=!0;var F=Array.isArray,W=Object.prototype.hasOwnProperty,z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(H,Z,he){var xe,Re={},Ne=null,Le=null;if(Z!=null)for(xe in Z.ref!==void 0&&(Le=Z.ref),Z.key!==void 0&&(Ne=""+Z.key),Z)W.call(Z,xe)&&!D.hasOwnProperty(xe)&&(Re[xe]=Z[xe]);var Oe=arguments.length-2;if(Oe===1)Re.children=he;else if(1<Oe){for(var He=Array(Oe),mt=0;mt<Oe;mt++)He[mt]=arguments[mt+2];Re.children=He}if(H&&H.defaultProps)for(xe in Oe=H.defaultProps,Oe)Re[xe]===void 0&&(Re[xe]=Oe[xe]);return{$$typeof:n,type:H,key:Ne,ref:Le,props:Re,_owner:z.current}}function x(H,Z){return{$$typeof:n,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return Z[he]})}var U=/\/+/g;function O(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):Z.toString(36)}function ce(H,Z,he,xe,Re){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Le=!1;if(H===null)Le=!0;else switch(Ne){case"string":case"number":Le=!0;break;case"object":switch(H.$$typeof){case n:case e:Le=!0}}if(Le)return Le=H,Re=Re(Le),H=xe===""?"."+O(Le,0):xe,F(Re)?(he="",H!=null&&(he=H.replace(U,"$&/")+"/"),ce(Re,Z,he,"",function(mt){return mt})):Re!=null&&(L(Re)&&(Re=x(Re,he+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+H)),Z.push(Re)),1;if(Le=0,xe=xe===""?".":xe+":",F(H))for(var Oe=0;Oe<H.length;Oe++){Ne=H[Oe];var He=xe+O(Ne,Oe);Le+=ce(Ne,Z,he,He,Re)}else if(He=y(H),typeof He=="function")for(H=He.call(H),Oe=0;!(Ne=H.next()).done;)Ne=Ne.value,He=xe+O(Ne,Oe++),Le+=ce(Ne,Z,he,He,Re);else if(Ne==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Le}function Te(H,Z,he){if(H==null)return H;var xe=[],Re=0;return ce(H,xe,"","",function(Ne){return Z.call(he,Ne,Re++)}),xe}function _e(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var ye={current:null},ne={transition:null},de={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ne,ReactCurrentOwner:z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Te,forEach:function(H,Z,he){Te(H,function(){Z.apply(this,arguments)},he)},count:function(H){var Z=0;return Te(H,function(){Z++}),Z},toArray:function(H){return Te(H,function(Z){return Z})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fe.Component=b,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=P,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=le,Fe.cloneElement=function(H,Z,he){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var xe=I({},H.props),Re=H.key,Ne=H.ref,Le=H._owner;if(Z!=null){if(Z.ref!==void 0&&(Ne=Z.ref,Le=z.current),Z.key!==void 0&&(Re=""+Z.key),H.type&&H.type.defaultProps)var Oe=H.type.defaultProps;for(He in Z)W.call(Z,He)&&!D.hasOwnProperty(He)&&(xe[He]=Z[He]===void 0&&Oe!==void 0?Oe[He]:Z[He])}var He=arguments.length-2;if(He===1)xe.children=he;else if(1<He){Oe=Array(He);for(var mt=0;mt<He;mt++)Oe[mt]=arguments[mt+2];xe.children=Oe}return{$$typeof:n,type:H.type,key:Re,ref:Ne,props:xe,_owner:Le}},Fe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Fe.createElement=A,Fe.createFactory=function(H){var Z=A.bind(null,H);return Z.type=H,Z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(H){return{$$typeof:u,render:H}},Fe.isValidElement=L,Fe.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:_e}},Fe.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},Fe.startTransition=function(H){var Z=ne.transition;ne.transition={};try{H()}finally{ne.transition=Z}},Fe.unstable_act=le,Fe.useCallback=function(H,Z){return ye.current.useCallback(H,Z)},Fe.useContext=function(H){return ye.current.useContext(H)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(H){return ye.current.useDeferredValue(H)},Fe.useEffect=function(H,Z){return ye.current.useEffect(H,Z)},Fe.useId=function(){return ye.current.useId()},Fe.useImperativeHandle=function(H,Z,he){return ye.current.useImperativeHandle(H,Z,he)},Fe.useInsertionEffect=function(H,Z){return ye.current.useInsertionEffect(H,Z)},Fe.useLayoutEffect=function(H,Z){return ye.current.useLayoutEffect(H,Z)},Fe.useMemo=function(H,Z){return ye.current.useMemo(H,Z)},Fe.useReducer=function(H,Z,he){return ye.current.useReducer(H,Z,he)},Fe.useRef=function(H){return ye.current.useRef(H)},Fe.useState=function(H){return ye.current.useState(H)},Fe.useSyncExternalStore=function(H,Z,he){return ye.current.useSyncExternalStore(H,Z,he)},Fe.useTransition=function(){return ye.current.useTransition()},Fe.version="18.3.1",Fe}var IT;function bw(){return IT||(IT=1,Nm.exports=RN()),Nm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function AN(){if(RT)return du;RT=1;var n=bw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var m,v={},y=null,E=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:y,ref:E,props:v,_owner:i.current}}return du.Fragment=t,du.jsx=l,du.jsxs=l,du}var AT;function CN(){return AT||(AT=1,Dm.exports=AN()),Dm.exports}var k=CN(),q=bw();const G=On(q);var Kd={},Om={exports:{}},Cn={},Mm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function xN(){return CT||(CT=1,(function(n){function e(ne,de){var le=ne.length;ne.push(de);e:for(;0<le;){var H=le-1>>>1,Z=ne[H];if(0<i(Z,de))ne[H]=de,ne[le]=Z,le=H;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],le=ne.pop();if(le!==de){ne[0]=le;e:for(var H=0,Z=ne.length,he=Z>>>1;H<he;){var xe=2*(H+1)-1,Re=ne[xe],Ne=xe+1,Le=ne[Ne];if(0>i(Re,le))Ne<Z&&0>i(Le,Re)?(ne[H]=Le,ne[Ne]=le,H=Ne):(ne[H]=Re,ne[xe]=le,H=xe);else if(Ne<Z&&0>i(Le,le))ne[H]=Le,ne[Ne]=le,H=Ne;else break e}}return de}function i(ne,de){var le=ne.sortIndex-de.sortIndex;return le!==0?le:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,y=3,E=!1,I=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ne){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(p)}}function F(ne){if(S=!1,M(ne),!I)if(t(d)!==null)I=!0,_e(W);else{var de=t(p);de!==null&&ye(F,de.startTime-ne)}}function W(ne,de){I=!1,S&&(S=!1,C(A),A=-1),E=!0;var le=y;try{for(M(de),v=t(d);v!==null&&(!(v.expirationTime>de)||ne&&!V());){var H=v.callback;if(typeof H=="function"){v.callback=null,y=v.priorityLevel;var Z=H(v.expirationTime<=de);de=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),M(de)}else r(d);v=t(d)}if(v!==null)var he=!0;else{var xe=t(p);xe!==null&&ye(F,xe.startTime-de),he=!1}return he}finally{v=null,y=le,E=!1}}var z=!1,D=null,A=-1,x=5,L=-1;function V(){return!(n.unstable_now()-L<x)}function U(){if(D!==null){var ne=n.unstable_now();L=ne;var de=!0;try{de=D(!0,ne)}finally{de?O():(z=!1,D=null)}}else z=!1}var O;if(typeof P=="function")O=function(){P(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Te=ce.port2;ce.port1.onmessage=U,O=function(){Te.postMessage(null)}}else O=function(){b(U,0)};function _e(ne){D=ne,z||(z=!0,O())}function ye(ne,de){A=b(function(){ne(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){I||E||(I=!0,_e(W))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var le=y;y=de;try{return ne()}finally{y=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=y;y=ne;try{return de()}finally{y=le}},n.unstable_scheduleCallback=function(ne,de,le){var H=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,ne={id:m++,callback:de,priorityLevel:ne,startTime:le,expirationTime:Z,sortIndex:-1},le>H?(ne.sortIndex=le,e(p,ne),t(d)===null&&ne===t(p)&&(S?(C(A),A=-1):S=!0,ye(F,le-H))):(ne.sortIndex=Z,e(d,ne),I||E||(I=!0,_e(W))),ne},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ne){var de=y;return function(){var le=y;y=de;try{return ne.apply(this,arguments)}finally{y=le}}}})(Lm)),Lm}var xT;function PN(){return xT||(xT=1,Mm.exports=xN()),Mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function kN(){if(PT)return Cn;PT=1;var n=bw(),e=PN();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function E(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,f){if(a===null||typeof a>"u"||E(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,c,f,g,w,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=R}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,P);b[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,P);b[a]=new S(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,P);b[a]=new S(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,f){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,g,f)&&(c=null),f||g===null?y(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,H;function Z(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var he=!1;function xe(s,a){if(!s||he)return"";he=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var f=X}Reflect.construct(s,[],a)}else{try{a.call()}catch(X){f=X}s.call(a.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=f.stack.split(`
`),R=g.length-1,j=w.length-1;1<=R&&0<=j&&g[R]!==w[j];)j--;for(;1<=R&&0<=j;R--,j--)if(g[R]!==w[j]){if(R!==1||j!==1)do if(R--,j--,0>j||g[R]!==w[j]){var $=`
`+g[R].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=R&&0<=j);break}}}finally{he=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Re(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case z:return"Portal";case x:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return a=s.displayName||null,a!==null?a:Ne(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return Ne(s(a))}catch{}}return null}function Le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(s){var a=He(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fn(s){s._valueTracker||(s._valueTracker=mt(s))}function $r(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=He(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Mn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vr(s,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function qe(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Oe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ln(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function Ve(s,a){Ln(s,a);var c=Oe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?pn(s,a.type,c):a.hasOwnProperty("defaultValue")&&pn(s,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Vn(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function pn(s,a,c){(a!=="number"||Mn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var xt=Array.isArray;function Pt(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Oe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Bt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function at(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(xt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Oe(c)}}function mn(s,a){var c=Oe(a.value),f=Oe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Fn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var kt,Wi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function yr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(s){zr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),pi[a]=pi[s]})});function wn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||pi.hasOwnProperty(s)&&pi[s]?(""+a).trim():a+"px"}function jn(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=wn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var bl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(s,a){if(a){if(bl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Rl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=null;function Qo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xo=null,Jn=null,Br=null;function Jo(s){if(s=Ql(s)){if(typeof Xo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ld(a),Xo(s.stateNode,s.type,a))}}function Wr(s){Jn?Br?Br.push(s):Br=[s]:Jn=s}function Al(){if(Jn){var s=Jn,a=Br;if(Br=Jn=null,Jo(s),a)for(s=0;s<a.length;s++)Jo(a[s])}}function Gs(s,a){return s(a)}function Cl(){}var mi=!1;function xl(s,a,c){if(mi)return s(a,c);mi=!0;try{return Gs(s,a,c)}finally{mi=!1,(Jn!==null||Br!==null)&&(Cl(),Al())}}function _t(s,a){var c=s.stateNode;if(c===null)return null;var f=ld(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Zo=!1;if(u)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Zo=!1}function Ks(s,a,c,f,g,w,R,j,$){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(ie){this.onError(ie)}}var Ys=!1,ea=null,wr=!1,Pl=null,op={onError:function(s){Ys=!0,ea=s}};function ta(s,a,c,f,g,w,R,j,$){Ys=!1,ea=null,Ks.apply(op,arguments)}function Nc(s,a,c,f,g,w,R,j,$){if(ta.apply(this,arguments),Ys){if(Ys){var X=ea;Ys=!1,ea=null}else throw Error(t(198));wr||(wr=!0,Pl=X)}}function Er(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Qs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Tr(s){if(Er(s)!==s)throw Error(t(188))}function Oc(s){var a=s.alternate;if(!a){if(a=Er(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Tr(g),s;if(w===f)return Tr(g),a;w=w.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=w;else{for(var R=!1,j=g.child;j;){if(j===c){R=!0,c=g,f=w;break}if(j===f){R=!0,f=g,c=w;break}j=j.sibling}if(!R){for(j=w.child;j;){if(j===c){R=!0,c=w,f=g;break}if(j===f){R=!0,f=w,c=g;break}j=j.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function kl(s){return s=Oc(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=na(s);if(a!==null)return a;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,Dl=e.unstable_cancelCallback,Mc=e.unstable_shouldYield,ap=e.unstable_requestPaint,et=e.unstable_now,Lc=e.unstable_getCurrentPriorityLevel,Xs=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Nl=e.unstable_LowPriority,Vc=e.unstable_IdlePriority,Js=null,Un=null;function Fc(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Js,s,void 0,(s.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Uc,Ol=Math.log,jc=Math.LN2;function Uc(s){return s>>>=0,s===0?32:31-(Ol(s)/jc|0)|0}var ia=64,sa=4194304;function Gi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zs(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,R=c&268435455;if(R!==0){var j=R&~g;j!==0?f=Gi(j):(w&=R,w!==0&&(f=Gi(w)))}else R=c&~g,R!==0?f=Gi(R):w!==0&&(f=Gi(w));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-gn(a),g=1<<c,f|=s[c],a&=~g;return f}function lp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var R=31-gn(w),j=1<<R,$=g[R];$===-1?((j&c)===0||(j&f)!==0)&&(g[R]=lp(j,a)):$<=a&&(s.expiredLanes|=j),w&=~j}}function qn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function eo(){var s=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),s}function Ki(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Yi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-gn(a),s[a]=c}function Xe(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-gn(c),w=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~w}}function Qi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-gn(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var $e=0;function Xi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qc,oa,$c,zc,Bc,Ml=!1,Hr=[],Wt=null,Sr=null,br=null,Ji=new Map,er=new Map,Gr=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(s,a){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ji.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(a.pointerId)}}function En(s,a,c,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Ql(a),a!==null&&oa(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function cp(s,a,c,f,g){switch(a){case"focusin":return Wt=En(Wt,s,a,c,f,g),!0;case"dragenter":return Sr=En(Sr,s,a,c,f,g),!0;case"mouseover":return br=En(br,s,a,c,f,g),!0;case"pointerover":var w=g.pointerId;return Ji.set(w,En(Ji.get(w)||null,s,a,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,er.set(w,En(er.get(w)||null,s,a,c,f,g)),!0}return!1}function Hc(s){var a=so(s.target);if(a!==null){var c=Er(a);if(c!==null){if(a=c.tag,a===13){if(a=Qs(c),a!==null){s.blockedOn=a,Bc(s.priority,function(){$c(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=aa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Hs=f,c.target.dispatchEvent(f),Hs=null}else return a=Ql(c),a!==null&&oa(a),s.blockedOn=c,!1;a.shift()}return!0}function to(s,a,c){vi(s)&&c.delete(a)}function Gc(){Ml=!1,Wt!==null&&vi(Wt)&&(Wt=null),Sr!==null&&vi(Sr)&&(Sr=null),br!==null&&vi(br)&&(br=null),Ji.forEach(to),er.forEach(to)}function Ir(s,a){s.blockedOn===a&&(s.blockedOn=null,Ml||(Ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gc)))}function Rr(s){function a(g){return Ir(g,s)}if(0<Hr.length){Ir(Hr[0],s);for(var c=1;c<Hr.length;c++){var f=Hr[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Wt!==null&&Ir(Wt,s),Sr!==null&&Ir(Sr,s),br!==null&&Ir(br,s),Ji.forEach(a),er.forEach(a),c=0;c<Gr.length;c++)f=Gr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Gr.length&&(c=Gr[0],c.blockedOn===null);)Hc(c),c.blockedOn===null&&Gr.shift()}var yi=F.ReactCurrentBatchConfig,Zi=!0;function ut(s,a,c,f){var g=$e,w=yi.transition;yi.transition=null;try{$e=1,Ll(s,a,c,f)}finally{$e=g,yi.transition=w}}function dp(s,a,c,f){var g=$e,w=yi.transition;yi.transition=null;try{$e=4,Ll(s,a,c,f)}finally{$e=g,yi.transition=w}}function Ll(s,a,c,f){if(Zi){var g=aa(s,a,c,f);if(g===null)Tp(s,a,f,no,c),Wc(s,f);else if(cp(g,s,a,c,f))f.stopPropagation();else if(Wc(s,f),a&4&&-1<up.indexOf(s)){for(;g!==null;){var w=Ql(g);if(w!==null&&qc(w),w=aa(s,a,c,f),w===null&&Tp(s,a,f,no,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else Tp(s,a,f,null,c)}}var no=null;function aa(s,a,c,f){if(no=null,s=Qo(f),s=so(s),s!==null)if(a=Er(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Qs(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return no=s,null}function Vl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lc()){case Xs:return 1;case Hi:return 4;case Zn:case Nl:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var $n=null,la=null,Tn=null;function Fl(){if(Tn)return Tn;var s,a=la,c=a.length,f,g="value"in $n?$n.value:$n.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var R=c-s;for(f=1;f<=R&&a[c-f]===g[w-f];f++);return Tn=g.slice(s,1<f?1-f:void 0)}function ua(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Kr(){return!0}function jl(){return!1}function Ht(s){function a(c,f,g,w,R){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Kr:jl,this.isPropagationStopped=jl,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),a}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Ht(Ar),Yr=le({},Ar,{view:0,detail:0}),hp=Ht(Yr),da,_i,es,ro=le({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(da=s.screenX-es.screenX,_i=s.screenY-es.screenY):_i=da=0,es=s),da)},movementY:function(s){return"movementY"in s?s.movementY:_i}}),ha=Ht(ro),Ul=le({},ro,{dataTransfer:0}),Kc=Ht(Ul),fa=le({},Yr,{relatedTarget:0}),pa=Ht(fa),Yc=le({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),wi=Ht(Yc),Qc=le({},Ar,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xc=Ht(Qc),Jc=le({},Ar,{data:0}),ql=Ht(Jc),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Zc[s])?!!a[s]:!1}function Qr(){return ed}var h=le({},Yr,{key:function(s){if(s.key){var a=ma[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Ht(h),T=le({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Ht(T),K=le({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),J=Ht(K),ue=le({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Ht(ue),Dt=le({},ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Ht(Dt),jt=[9,13,27,32],St=u&&"CompositionEvent"in window,tr=null;u&&"documentMode"in document&&(tr=document.documentMode);var zn=u&&"TextEvent"in window&&!tr,io=u&&(!St||tr&&8<tr&&11>=tr),ga=" ",yE=!1;function _E(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function SD(s,a){switch(s){case"compositionend":return wE(a);case"keypress":return a.which!==32?null:(yE=!0,ga);case"textInput":return s=a.data,s===ga&&yE?null:s;default:return null}}function bD(s,a){if(va)return s==="compositionend"||!St&&_E(s,a)?(s=Fl(),Tn=la=$n=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return io&&a.locale!=="ko"?null:a.data;default:return null}}var ID={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ID[s.type]:a==="textarea"}function TE(s,a,c,f){Wr(f),a=sd(a,"onChange"),0<a.length&&(c=new ca("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var $l=null,zl=null;function RD(s){UE(s,0)}function td(s){var a=Ta(s);if($r(a))return s}function AD(s,a){if(s==="change")return a}var SE=!1;if(u){var fp;if(u){var pp="oninput"in document;if(!pp){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),pp=typeof bE.oninput=="function"}fp=pp}else fp=!1;SE=fp&&(!document.documentMode||9<document.documentMode)}function IE(){$l&&($l.detachEvent("onpropertychange",RE),zl=$l=null)}function RE(s){if(s.propertyName==="value"&&td(zl)){var a=[];TE(a,zl,s,Qo(s)),xl(RD,a)}}function CD(s,a,c){s==="focusin"?(IE(),$l=a,zl=c,$l.attachEvent("onpropertychange",RE)):s==="focusout"&&IE()}function xD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return td(zl)}function PD(s,a){if(s==="click")return td(a)}function kD(s,a){if(s==="input"||s==="change")return td(a)}function DD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Cr=typeof Object.is=="function"?Object.is:DD;function Bl(s,a){if(Cr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!d.call(a,g)||!Cr(s[g],a[g]))return!1}return!0}function AE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function CE(s,a){var c=AE(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=AE(c)}}function xE(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?xE(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function PE(){for(var s=window,a=Mn();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Mn(s.document)}return a}function mp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ND(s){var a=PE(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&xE(c.ownerDocument.documentElement,c)){if(f!==null&&mp(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=CE(c,w);var R=CE(c,f);g&&R&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(a),s.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var OD=u&&"documentMode"in document&&11>=document.documentMode,ya=null,gp=null,Wl=null,vp=!1;function kE(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vp||ya==null||ya!==Mn(f)||(f=ya,"selectionStart"in f&&mp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wl&&Bl(Wl,f)||(Wl=f,f=sd(gp,"onSelect"),0<f.length&&(a=new ca("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ya)))}function nd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var _a={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},yp={},DE={};u&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function rd(s){if(yp[s])return yp[s];if(!_a[s])return s;var a=_a[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in DE)return yp[s]=a[c];return s}var NE=rd("animationend"),OE=rd("animationiteration"),ME=rd("animationstart"),LE=rd("transitionend"),VE=new Map,FE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(s,a){VE.set(s,a),o(a,[s])}for(var _p=0;_p<FE.length;_p++){var wp=FE[_p],MD=wp.toLowerCase(),LD=wp[0].toUpperCase()+wp.slice(1);ts(MD,"on"+LD)}ts(NE,"onAnimationEnd"),ts(OE,"onAnimationIteration"),ts(ME,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(LE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function jE(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Nc(f,a,void 0,s),s.currentTarget=null}function UE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var w=void 0;if(a)for(var R=f.length-1;0<=R;R--){var j=f[R],$=j.instance,X=j.currentTarget;if(j=j.listener,$!==w&&g.isPropagationStopped())break e;jE(g,j,X),w=$}else for(R=0;R<f.length;R++){if(j=f[R],$=j.instance,X=j.currentTarget,j=j.listener,$!==w&&g.isPropagationStopped())break e;jE(g,j,X),w=$}}}if(wr)throw s=Pl,wr=!1,Pl=null,s}function it(s,a){var c=a[Cp];c===void 0&&(c=a[Cp]=new Set);var f=s+"__bubble";c.has(f)||(qE(a,s,2,!1),c.add(f))}function Ep(s,a,c){var f=0;a&&(f|=4),qE(c,s,f,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function Gl(s){if(!s[id]){s[id]=!0,r.forEach(function(c){c!=="selectionchange"&&(VD.has(c)||Ep(c,!1,s),Ep(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[id]||(a[id]=!0,Ep("selectionchange",!1,a))}}function qE(s,a,c,f){switch(Vl(a)){case 1:var g=ut;break;case 4:g=dp;break;default:g=Ll}c=g.bind(null,a,c,s),g=void 0,!Zo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Tp(s,a,c,f,g){var w=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var j=f.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(R===4)for(R=f.return;R!==null;){var $=R.tag;if(($===3||$===4)&&($=R.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;R=R.return}for(;j!==null;){if(R=so(j),R===null)return;if($=R.tag,$===5||$===6){f=w=R;continue e}j=j.parentNode}}f=f.return}xl(function(){var X=w,ie=Qo(c),se=[];e:{var re=VE.get(s);if(re!==void 0){var pe=ca,ve=s;switch(s){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":pe=_;break;case"focusin":ve="focus",pe=pa;break;case"focusout":ve="blur",pe=pa;break;case"beforeblur":case"afterblur":pe=pa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=J;break;case NE:case OE:case ME:pe=wi;break;case LE:pe=Ye;break;case"scroll":pe=hp;break;case"wheel":pe=ze;break;case"copy":case"cut":case"paste":pe=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=N}var we=(a&4)!==0,wt=!we&&s==="scroll",Y=we?re!==null?re+"Capture":null:re;we=[];for(var B=X,Q;B!==null;){Q=B;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,Y!==null&&(oe=_t(B,Y),oe!=null&&we.push(Kl(B,oe,Q)))),wt)break;B=B.return}0<we.length&&(re=new pe(re,ve,null,c,ie),se.push({event:re,listeners:we}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&c!==Hs&&(ve=c.relatedTarget||c.fromElement)&&(so(ve)||ve[Ei]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=c.relatedTarget||c.toElement,pe=X,ve=ve?so(ve):null,ve!==null&&(wt=Er(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=X),pe!==ve)){if(we=ha,oe="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=N,oe="onPointerLeave",Y="onPointerEnter",B="pointer"),wt=pe==null?re:Ta(pe),Q=ve==null?re:Ta(ve),re=new we(oe,B+"leave",pe,c,ie),re.target=wt,re.relatedTarget=Q,oe=null,so(ie)===X&&(we=new we(Y,B+"enter",ve,c,ie),we.target=Q,we.relatedTarget=wt,oe=we),wt=oe,pe&&ve)t:{for(we=pe,Y=ve,B=0,Q=we;Q;Q=wa(Q))B++;for(Q=0,oe=Y;oe;oe=wa(oe))Q++;for(;0<B-Q;)we=wa(we),B--;for(;0<Q-B;)Y=wa(Y),Q--;for(;B--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=wa(we),Y=wa(Y)}we=null}else we=null;pe!==null&&$E(se,re,pe,we,!1),ve!==null&&wt!==null&&$E(se,wt,ve,we,!0)}}e:{if(re=X?Ta(X):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ee=AD;else if(EE(re))if(SE)Ee=kD;else{Ee=xD;var be=CD}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=PD);if(Ee&&(Ee=Ee(s,X))){TE(se,Ee,c,ie);break e}be&&be(s,re,X),s==="focusout"&&(be=re._wrapperState)&&be.controlled&&re.type==="number"&&pn(re,"number",re.value)}switch(be=X?Ta(X):window,s){case"focusin":(EE(be)||be.contentEditable==="true")&&(ya=be,gp=X,Wl=null);break;case"focusout":Wl=gp=ya=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,kE(se,c,ie);break;case"selectionchange":if(OD)break;case"keydown":case"keyup":kE(se,c,ie)}var Ie;if(St)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else va?_E(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(io&&c.locale!=="ko"&&(va||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&va&&(Ie=Fl()):($n=ie,la="value"in $n?$n.value:$n.textContent,va=!0)),be=sd(X,Pe),0<be.length&&(Pe=new ql(Pe,s,null,c,ie),se.push({event:Pe,listeners:be}),Ie?Pe.data=Ie:(Ie=wE(c),Ie!==null&&(Pe.data=Ie)))),(Ie=zn?SD(s,c):bD(s,c))&&(X=sd(X,"onBeforeInput"),0<X.length&&(ie=new ql("onBeforeInput","beforeinput",null,c,ie),se.push({event:ie,listeners:X}),ie.data=Ie))}UE(se,a)})}function Kl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function sd(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=_t(s,c),w!=null&&f.unshift(Kl(s,w,g)),w=_t(s,a),w!=null&&f.push(Kl(s,w,g))),s=s.return}return f}function wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function $E(s,a,c,f,g){for(var w=a._reactName,R=[];c!==null&&c!==f;){var j=c,$=j.alternate,X=j.stateNode;if($!==null&&$===f)break;j.tag===5&&X!==null&&(j=X,g?($=_t(c,w),$!=null&&R.unshift(Kl(c,$,j))):g||($=_t(c,w),$!=null&&R.push(Kl(c,$,j)))),c=c.return}R.length!==0&&s.push({event:a,listeners:R})}var FD=/\r\n?/g,jD=/\u0000|\uFFFD/g;function zE(s){return(typeof s=="string"?s:""+s).replace(FD,`
`).replace(jD,"")}function od(s,a,c){if(a=zE(a),zE(s)!==a&&c)throw Error(t(425))}function ad(){}var Sp=null,bp=null;function Ip(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,BE=typeof Promise=="function"?Promise:void 0,qD=typeof queueMicrotask=="function"?queueMicrotask:typeof BE<"u"?function(s){return BE.resolve(null).then(s).catch($D)}:Rp;function $D(s){setTimeout(function(){throw s})}function Ap(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Rr(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Rr(a)}function ns(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function WE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Ea,Yl="__reactProps$"+Ea,Ei="__reactContainer$"+Ea,Cp="__reactEvents$"+Ea,zD="__reactListeners$"+Ea,BD="__reactHandles$"+Ea;function so(s){var a=s[Xr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ei]||c[Xr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=WE(s);s!==null;){if(c=s[Xr])return c;s=WE(s)}return a}s=c,c=s.parentNode}return null}function Ql(s){return s=s[Xr]||s[Ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ld(s){return s[Yl]||null}var xp=[],Sa=-1;function rs(s){return{current:s}}function st(s){0>Sa||(s.current=xp[Sa],xp[Sa]=null,Sa--)}function tt(s,a){Sa++,xp[Sa]=s.current,s.current=a}var is={},en=rs(is),Sn=rs(!1),oo=is;function ba(s,a){var c=s.type.contextTypes;if(!c)return is;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function ud(){st(Sn),st(en)}function HE(s,a,c){if(en.current!==is)throw Error(t(168));tt(en,a),tt(Sn,c)}function GE(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,Le(s)||"Unknown",g));return le({},c,f)}function cd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||is,oo=en.current,tt(en,s),tt(Sn,Sn.current),!0}function KE(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=GE(s,a,oo),f.__reactInternalMemoizedMergedChildContext=s,st(Sn),st(en),tt(en,s)):st(Sn),tt(Sn,c)}var Ti=null,dd=!1,Pp=!1;function YE(s){Ti===null?Ti=[s]:Ti.push(s)}function WD(s){dd=!0,YE(s)}function ss(){if(!Pp&&Ti!==null){Pp=!0;var s=0,a=$e;try{var c=Ti;for($e=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ti=null,dd=!1}catch(g){throw Ti!==null&&(Ti=Ti.slice(s+1)),ra(Xs,ss),g}finally{$e=a,Pp=!1}}return null}var Ia=[],Ra=0,hd=null,fd=0,nr=[],rr=0,ao=null,Si=1,bi="";function lo(s,a){Ia[Ra++]=fd,Ia[Ra++]=hd,hd=s,fd=a}function QE(s,a,c){nr[rr++]=Si,nr[rr++]=bi,nr[rr++]=ao,ao=s;var f=Si;s=bi;var g=32-gn(f)-1;f&=~(1<<g),c+=1;var w=32-gn(a)+g;if(30<w){var R=g-g%5;w=(f&(1<<R)-1).toString(32),f>>=R,g-=R,Si=1<<32-gn(a)+g|c<<g|f,bi=w+s}else Si=1<<w|c<<g|f,bi=s}function kp(s){s.return!==null&&(lo(s,1),QE(s,1,0))}function Dp(s){for(;s===hd;)hd=Ia[--Ra],Ia[Ra]=null,fd=Ia[--Ra],Ia[Ra]=null;for(;s===ao;)ao=nr[--rr],nr[rr]=null,bi=nr[--rr],nr[rr]=null,Si=nr[--rr],nr[rr]=null}var Bn=null,Wn=null,ct=!1,xr=null;function XE(s,a){var c=ar(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function JE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Bn=s,Wn=ns(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Bn=s,Wn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ao!==null?{id:Si,overflow:bi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ar(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Bn=s,Wn=null,!0):!1;default:return!1}}function Np(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Op(s){if(ct){var a=Wn;if(a){var c=a;if(!JE(s,a)){if(Np(s))throw Error(t(418));a=ns(c.nextSibling);var f=Bn;a&&JE(s,a)?XE(f,c):(s.flags=s.flags&-4097|2,ct=!1,Bn=s)}}else{if(Np(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Bn=s}}}function ZE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function pd(s){if(s!==Bn)return!1;if(!ct)return ZE(s),ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ip(s.type,s.memoizedProps)),a&&(a=Wn)){if(Np(s))throw e1(),Error(t(418));for(;a;)XE(s,a),a=ns(a.nextSibling)}if(ZE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Wn=ns(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Wn=null}}else Wn=Bn?ns(s.stateNode.nextSibling):null;return!0}function e1(){for(var s=Wn;s;)s=ns(s.nextSibling)}function Aa(){Wn=Bn=null,ct=!1}function Mp(s){xr===null?xr=[s]:xr.push(s)}var HD=F.ReactCurrentBatchConfig;function Xl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(R){var j=g.refs;R===null?delete j[w]:j[w]=R},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function md(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function t1(s){var a=s._init;return a(s._payload)}function n1(s){function a(Y,B){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function c(Y,B){if(!s)return null;for(;B!==null;)a(Y,B),B=B.sibling;return null}function f(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=fs(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=2,B):Q):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function R(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,Q,oe){return B===null||B.tag!==6?(B=Rm(Q,Y.mode,oe),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function $(Y,B,Q,oe){var Ee=Q.type;return Ee===D?ie(Y,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_e&&t1(Ee)===B.type)?(oe=g(B,Q.props),oe.ref=Xl(Y,B,Q),oe.return=Y,oe):(oe=jd(Q.type,Q.key,Q.props,null,Y.mode,oe),oe.ref=Xl(Y,B,Q),oe.return=Y,oe)}function X(Y,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Am(Q,Y.mode,oe),B.return=Y,B):(B=g(B,Q.children||[]),B.return=Y,B)}function ie(Y,B,Q,oe,Ee){return B===null||B.tag!==7?(B=vo(Q,Y.mode,oe,Ee),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function se(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Rm(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return Q=jd(B.type,B.key,B.props,null,Y.mode,Q),Q.ref=Xl(Y,null,B),Q.return=Y,Q;case z:return B=Am(B,Y.mode,Q),B.return=Y,B;case _e:var oe=B._init;return se(Y,oe(B._payload),Q)}if(xt(B)||de(B))return B=vo(B,Y.mode,Q,null),B.return=Y,B;md(Y,B)}return null}function re(Y,B,Q,oe){var Ee=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ee!==null?null:j(Y,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Ee?$(Y,B,Q,oe):null;case z:return Q.key===Ee?X(Y,B,Q,oe):null;case _e:return Ee=Q._init,re(Y,B,Ee(Q._payload),oe)}if(xt(Q)||de(Q))return Ee!==null?null:ie(Y,B,Q,oe,null);md(Y,Q)}return null}function pe(Y,B,Q,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Y=Y.get(Q)||null,j(B,Y,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case W:return Y=Y.get(oe.key===null?Q:oe.key)||null,$(B,Y,oe,Ee);case z:return Y=Y.get(oe.key===null?Q:oe.key)||null,X(B,Y,oe,Ee);case _e:var be=oe._init;return pe(Y,B,Q,be(oe._payload),Ee)}if(xt(oe)||de(oe))return Y=Y.get(Q)||null,ie(B,Y,oe,Ee,null);md(B,oe)}return null}function ve(Y,B,Q,oe){for(var Ee=null,be=null,Ie=B,Pe=B=0,$t=null;Ie!==null&&Pe<Q.length;Pe++){Ie.index>Pe?($t=Ie,Ie=null):$t=Ie.sibling;var Ge=re(Y,Ie,Q[Pe],oe);if(Ge===null){Ie===null&&(Ie=$t);break}s&&Ie&&Ge.alternate===null&&a(Y,Ie),B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge,Ie=$t}if(Pe===Q.length)return c(Y,Ie),ct&&lo(Y,Pe),Ee;if(Ie===null){for(;Pe<Q.length;Pe++)Ie=se(Y,Q[Pe],oe),Ie!==null&&(B=w(Ie,B,Pe),be===null?Ee=Ie:be.sibling=Ie,be=Ie);return ct&&lo(Y,Pe),Ee}for(Ie=f(Y,Ie);Pe<Q.length;Pe++)$t=pe(Ie,Y,Pe,Q[Pe],oe),$t!==null&&(s&&$t.alternate!==null&&Ie.delete($t.key===null?Pe:$t.key),B=w($t,B,Pe),be===null?Ee=$t:be.sibling=$t,be=$t);return s&&Ie.forEach(function(ps){return a(Y,ps)}),ct&&lo(Y,Pe),Ee}function we(Y,B,Q,oe){var Ee=de(Q);if(typeof Ee!="function")throw Error(t(150));if(Q=Ee.call(Q),Q==null)throw Error(t(151));for(var be=Ee=null,Ie=B,Pe=B=0,$t=null,Ge=Q.next();Ie!==null&&!Ge.done;Pe++,Ge=Q.next()){Ie.index>Pe?($t=Ie,Ie=null):$t=Ie.sibling;var ps=re(Y,Ie,Ge.value,oe);if(ps===null){Ie===null&&(Ie=$t);break}s&&Ie&&ps.alternate===null&&a(Y,Ie),B=w(ps,B,Pe),be===null?Ee=ps:be.sibling=ps,be=ps,Ie=$t}if(Ge.done)return c(Y,Ie),ct&&lo(Y,Pe),Ee;if(Ie===null){for(;!Ge.done;Pe++,Ge=Q.next())Ge=se(Y,Ge.value,oe),Ge!==null&&(B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge);return ct&&lo(Y,Pe),Ee}for(Ie=f(Y,Ie);!Ge.done;Pe++,Ge=Q.next())Ge=pe(Ie,Y,Pe,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&Ie.delete(Ge.key===null?Pe:Ge.key),B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge);return s&&Ie.forEach(function(IN){return a(Y,IN)}),ct&&lo(Y,Pe),Ee}function wt(Y,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Ee=Q.key,be=B;be!==null;){if(be.key===Ee){if(Ee=Q.type,Ee===D){if(be.tag===7){c(Y,be.sibling),B=g(be,Q.props.children),B.return=Y,Y=B;break e}}else if(be.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_e&&t1(Ee)===be.type){c(Y,be.sibling),B=g(be,Q.props),B.ref=Xl(Y,be,Q),B.return=Y,Y=B;break e}c(Y,be);break}else a(Y,be);be=be.sibling}Q.type===D?(B=vo(Q.props.children,Y.mode,oe,Q.key),B.return=Y,Y=B):(oe=jd(Q.type,Q.key,Q.props,null,Y.mode,oe),oe.ref=Xl(Y,B,Q),oe.return=Y,Y=oe)}return R(Y);case z:e:{for(be=Q.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(Y,B.sibling),B=g(B,Q.children||[]),B.return=Y,Y=B;break e}else{c(Y,B);break}else a(Y,B);B=B.sibling}B=Am(Q,Y.mode,oe),B.return=Y,Y=B}return R(Y);case _e:return be=Q._init,wt(Y,B,be(Q._payload),oe)}if(xt(Q))return ve(Y,B,Q,oe);if(de(Q))return we(Y,B,Q,oe);md(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(Y,B.sibling),B=g(B,Q),B.return=Y,Y=B):(c(Y,B),B=Rm(Q,Y.mode,oe),B.return=Y,Y=B),R(Y)):c(Y,B)}return wt}var Ca=n1(!0),r1=n1(!1),gd=rs(null),vd=null,xa=null,Lp=null;function Vp(){Lp=xa=vd=null}function Fp(s){var a=gd.current;st(gd),s._currentValue=a}function jp(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Pa(s,a){vd=s,Lp=xa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(In=!0),s.firstContext=null)}function ir(s){var a=s._currentValue;if(Lp!==s)if(s={context:s,memoizedValue:a,next:null},xa===null){if(vd===null)throw Error(t(308));xa=s,vd.dependencies={lanes:0,firstContext:s}}else xa=xa.next=s;return a}var uo=null;function Up(s){uo===null?uo=[s]:uo.push(s)}function i1(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Up(a)):(c.next=g.next,g.next=c),a.interleaved=c,Ii(s,f)}function Ii(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var os=!1;function qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function as(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Ii(s,c)}return g=f.interleaved,g===null?(a.next=a,Up(f)):(a.next=g.next,g.next=a),f.interleaved=a,Ii(s,c)}function yd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qi(s,c)}}function o1(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=R:w=w.next=R,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function _d(s,a,c,f){var g=s.updateQueue;os=!1;var w=g.firstBaseUpdate,R=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var $=j,X=$.next;$.next=null,R===null?w=X:R.next=X,R=$;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==R&&(j===null?ie.firstBaseUpdate=X:j.next=X,ie.lastBaseUpdate=$))}if(w!==null){var se=g.baseState;R=0,ie=X=$=null,j=w;do{var re=j.lane,pe=j.eventTime;if((f&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,we=j;switch(re=a,pe=c,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){se=ve.call(pe,se,re);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,se,re):ve,re==null)break e;se=le({},se,re);break e;case 2:os=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[j]:re.push(j))}else pe={eventTime:pe,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(X=ie=pe,$=se):ie=ie.next=pe,R|=re;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&($=se),g.baseState=$,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do R|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);fo|=R,s.lanes=R,s.memoizedState=se}}function a1(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Jl={},Jr=rs(Jl),Zl=rs(Jl),eu=rs(Jl);function co(s){if(s===Jl)throw Error(t(174));return s}function $p(s,a){switch(tt(eu,a),tt(Zl,s),tt(Jr,Jl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=rt(a,s)}st(Jr),tt(Jr,a)}function ka(){st(Jr),st(Zl),st(eu)}function l1(s){co(eu.current);var a=co(Jr.current),c=rt(a,s.type);a!==c&&(tt(Zl,s),tt(Jr,c))}function zp(s){Zl.current===s&&(st(Jr),st(Zl))}var ht=rs(0);function wd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bp=[];function Wp(){for(var s=0;s<Bp.length;s++)Bp[s]._workInProgressVersionPrimary=null;Bp.length=0}var Ed=F.ReactCurrentDispatcher,Hp=F.ReactCurrentBatchConfig,ho=0,ft=null,Nt=null,Ut=null,Td=!1,tu=!1,nu=0,GD=0;function tn(){throw Error(t(321))}function Gp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Cr(s[c],a[c]))return!1;return!0}function Kp(s,a,c,f,g,w){if(ho=w,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ed.current=s===null||s.memoizedState===null?XD:JD,s=c(f,g),tu){w=0;do{if(tu=!1,nu=0,25<=w)throw Error(t(301));w+=1,Ut=Nt=null,a.updateQueue=null,Ed.current=ZD,s=c(f,g)}while(tu)}if(Ed.current=Id,a=Nt!==null&&Nt.next!==null,ho=0,Ut=Nt=ft=null,Td=!1,a)throw Error(t(300));return s}function Yp(){var s=nu!==0;return nu=0,s}function Zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function sr(){if(Nt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var a=Ut===null?ft.memoizedState:Ut.next;if(a!==null)Ut=a,Nt=s;else{if(s===null)throw Error(t(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function ru(s,a){return typeof a=="function"?a(s):a}function Qp(s){var a=sr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Nt,g=f.baseQueue,w=c.pending;if(w!==null){if(g!==null){var R=g.next;g.next=w.next,w.next=R}f.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,f=f.baseState;var j=R=null,$=null,X=w;do{var ie=X.lane;if((ho&ie)===ie)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var se={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(j=$=se,R=f):$=$.next=se,ft.lanes|=ie,fo|=ie}X=X.next}while(X!==null&&X!==w);$===null?R=f:$.next=j,Cr(f,a.memoizedState)||(In=!0),a.memoizedState=f,a.baseState=R,a.baseQueue=$,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do w=g.lane,ft.lanes|=w,fo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Xp(s){var a=sr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do w=s(w,R.action),R=R.next;while(R!==g);Cr(w,a.memoizedState)||(In=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,f]}function u1(){}function c1(s,a){var c=ft,f=sr(),g=a(),w=!Cr(f.memoizedState,g);if(w&&(f.memoizedState=g,In=!0),f=f.queue,Jp(f1.bind(null,c,f,s),[s]),f.getSnapshot!==a||w||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,iu(9,h1.bind(null,c,f,g,a),void 0,null),qt===null)throw Error(t(349));(ho&30)!==0||d1(c,a,g)}return g}function d1(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function h1(s,a,c,f){a.value=c,a.getSnapshot=f,p1(a)&&m1(s)}function f1(s,a,c){return c(function(){p1(a)&&m1(s)})}function p1(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Cr(s,c)}catch{return!0}}function m1(s){var a=Ii(s,1);a!==null&&Nr(a,s,1,-1)}function g1(s){var a=Zr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:s},a.queue=s,s=s.dispatch=QD.bind(null,ft,s),[a.memoizedState,s]}function iu(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function v1(){return sr().memoizedState}function Sd(s,a,c,f){var g=Zr();ft.flags|=s,g.memoizedState=iu(1|a,c,void 0,f===void 0?null:f)}function bd(s,a,c,f){var g=sr();f=f===void 0?null:f;var w=void 0;if(Nt!==null){var R=Nt.memoizedState;if(w=R.destroy,f!==null&&Gp(f,R.deps)){g.memoizedState=iu(a,c,w,f);return}}ft.flags|=s,g.memoizedState=iu(1|a,c,w,f)}function y1(s,a){return Sd(8390656,8,s,a)}function Jp(s,a){return bd(2048,8,s,a)}function _1(s,a){return bd(4,2,s,a)}function w1(s,a){return bd(4,4,s,a)}function E1(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function T1(s,a,c){return c=c!=null?c.concat([s]):null,bd(4,4,E1.bind(null,a,s),c)}function Zp(){}function S1(s,a){var c=sr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Gp(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function b1(s,a){var c=sr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Gp(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function I1(s,a,c){return(ho&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=c):(Cr(c,a)||(c=eo(),ft.lanes|=c,fo|=c,s.baseState=!0),a)}function KD(s,a){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var f=Hp.transition;Hp.transition={};try{s(!1),a()}finally{$e=c,Hp.transition=f}}function R1(){return sr().memoizedState}function YD(s,a,c){var f=ds(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},A1(s))C1(a,c);else if(c=i1(s,a,c,f),c!==null){var g=_n();Nr(c,s,f,g),x1(c,a,f)}}function QD(s,a,c){var f=ds(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(A1(s))C1(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var R=a.lastRenderedState,j=w(R,c);if(g.hasEagerState=!0,g.eagerState=j,Cr(j,R)){var $=a.interleaved;$===null?(g.next=g,Up(a)):(g.next=$.next,$.next=g),a.interleaved=g;return}}catch{}finally{}c=i1(s,a,g,f),c!==null&&(g=_n(),Nr(c,s,f,g),x1(c,a,f))}}function A1(s){var a=s.alternate;return s===ft||a!==null&&a===ft}function C1(s,a){tu=Td=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function x1(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qi(s,c)}}var Id={readContext:ir,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},XD={readContext:ir,useCallback:function(s,a){return Zr().memoizedState=[s,a===void 0?null:a],s},useContext:ir,useEffect:y1,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Sd(4194308,4,E1.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Sd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Sd(4,2,s,a)},useMemo:function(s,a){var c=Zr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=Zr();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=YD.bind(null,ft,s),[f.memoizedState,s]},useRef:function(s){var a=Zr();return s={current:s},a.memoizedState=s},useState:g1,useDebugValue:Zp,useDeferredValue:function(s){return Zr().memoizedState=s},useTransition:function(){var s=g1(!1),a=s[0];return s=KD.bind(null,s[1]),Zr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=ft,g=Zr();if(ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),qt===null)throw Error(t(349));(ho&30)!==0||d1(f,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,y1(f1.bind(null,f,w,s),[s]),f.flags|=2048,iu(9,h1.bind(null,f,w,c,a),void 0,null),c},useId:function(){var s=Zr(),a=qt.identifierPrefix;if(ct){var c=bi,f=Si;c=(f&~(1<<32-gn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=nu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=GD++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},JD={readContext:ir,useCallback:S1,useContext:ir,useEffect:Jp,useImperativeHandle:T1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:b1,useReducer:Qp,useRef:v1,useState:function(){return Qp(ru)},useDebugValue:Zp,useDeferredValue:function(s){var a=sr();return I1(a,Nt.memoizedState,s)},useTransition:function(){var s=Qp(ru)[0],a=sr().memoizedState;return[s,a]},useMutableSource:u1,useSyncExternalStore:c1,useId:R1,unstable_isNewReconciler:!1},ZD={readContext:ir,useCallback:S1,useContext:ir,useEffect:Jp,useImperativeHandle:T1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:b1,useReducer:Xp,useRef:v1,useState:function(){return Xp(ru)},useDebugValue:Zp,useDeferredValue:function(s){var a=sr();return Nt===null?a.memoizedState=s:I1(a,Nt.memoizedState,s)},useTransition:function(){var s=Xp(ru)[0],a=sr().memoizedState;return[s,a]},useMutableSource:u1,useSyncExternalStore:c1,useId:R1,unstable_isNewReconciler:!1};function Pr(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function em(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:le({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Rd={isMounted:function(s){return(s=s._reactInternals)?Er(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=_n(),g=ds(s),w=Ri(f,g);w.payload=a,c!=null&&(w.callback=c),a=as(s,w,g),a!==null&&(Nr(a,s,g,f),yd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=_n(),g=ds(s),w=Ri(f,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=as(s,w,g),a!==null&&(Nr(a,s,g,f),yd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=_n(),f=ds(s),g=Ri(c,f);g.tag=2,a!=null&&(g.callback=a),a=as(s,g,f),a!==null&&(Nr(a,s,f,c),yd(a,s,f))}};function P1(s,a,c,f,g,w,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,R):a.prototype&&a.prototype.isPureReactComponent?!Bl(c,f)||!Bl(g,w):!0}function k1(s,a,c){var f=!1,g=is,w=a.contextType;return typeof w=="object"&&w!==null?w=ir(w):(g=bn(a)?oo:en.current,f=a.contextTypes,w=(f=f!=null)?ba(s,g):is),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Rd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function D1(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Rd.enqueueReplaceState(a,a.state,null)}function tm(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},qp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=ir(w):(w=bn(a)?oo:en.current,g.context=ba(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(em(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Rd.enqueueReplaceState(g,g.state,null),_d(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Da(s,a){try{var c="",f=a;do c+=Re(f),f=f.return;while(f);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function nm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function rm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var eN=typeof WeakMap=="function"?WeakMap:Map;function N1(s,a,c){c=Ri(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Nd||(Nd=!0,ym=f),rm(s,a)},c}function O1(s,a,c){c=Ri(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){rm(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){rm(s,a),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function M1(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new eN;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=pN.bind(null,s,a,c),a.then(s,s))}function L1(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function V1(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ri(-1,1),a.tag=2,as(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var tN=F.ReactCurrentOwner,In=!1;function yn(s,a,c,f){a.child=s===null?r1(a,null,c,f):Ca(a,s.child,c,f)}function F1(s,a,c,f,g){c=c.render;var w=a.ref;return Pa(a,g),f=Kp(s,a,c,f,w,g),c=Yp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ai(s,a,g)):(ct&&c&&kp(a),a.flags|=1,yn(s,a,f,g),a.child)}function j1(s,a,c,f,g){if(s===null){var w=c.type;return typeof w=="function"&&!Im(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,U1(s,a,w,f,g)):(s=jd(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&g)===0){var R=w.memoizedProps;if(c=c.compare,c=c!==null?c:Bl,c(R,f)&&s.ref===a.ref)return Ai(s,a,g)}return a.flags|=1,s=fs(w,f),s.ref=a.ref,s.return=a,a.child=s}function U1(s,a,c,f,g){if(s!==null){var w=s.memoizedProps;if(Bl(w,f)&&s.ref===a.ref)if(In=!1,a.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(In=!0);else return a.lanes=s.lanes,Ai(s,a,g)}return im(s,a,c,f,g)}function q1(s,a,c){var f=a.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Oa,Hn),Hn|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(Oa,Hn),Hn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,tt(Oa,Hn),Hn|=f}else w!==null?(f=w.baseLanes|c,a.memoizedState=null):f=c,tt(Oa,Hn),Hn|=f;return yn(s,a,g,c),a.child}function $1(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function im(s,a,c,f,g){var w=bn(c)?oo:en.current;return w=ba(a,w),Pa(a,g),c=Kp(s,a,c,f,w,g),f=Yp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ai(s,a,g)):(ct&&f&&kp(a),a.flags|=1,yn(s,a,c,g),a.child)}function z1(s,a,c,f,g){if(bn(c)){var w=!0;cd(a)}else w=!1;if(Pa(a,g),a.stateNode===null)Cd(s,a),k1(a,c,f),tm(a,c,f,g),f=!0;else if(s===null){var R=a.stateNode,j=a.memoizedProps;R.props=j;var $=R.context,X=c.contextType;typeof X=="object"&&X!==null?X=ir(X):(X=bn(c)?oo:en.current,X=ba(a,X));var ie=c.getDerivedStateFromProps,se=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==f||$!==X)&&D1(a,R,f,X),os=!1;var re=a.memoizedState;R.state=re,_d(a,f,R,g),$=a.memoizedState,j!==f||re!==$||Sn.current||os?(typeof ie=="function"&&(em(a,c,ie,f),$=a.memoizedState),(j=os||P1(a,c,j,f,re,$,X))?(se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=$),R.props=f,R.state=$,R.context=X,f=j):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{R=a.stateNode,s1(s,a),j=a.memoizedProps,X=a.type===a.elementType?j:Pr(a.type,j),R.props=X,se=a.pendingProps,re=R.context,$=c.contextType,typeof $=="object"&&$!==null?$=ir($):($=bn(c)?oo:en.current,$=ba(a,$));var pe=c.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==se||re!==$)&&D1(a,R,f,$),os=!1,re=a.memoizedState,R.state=re,_d(a,f,R,g);var ve=a.memoizedState;j!==se||re!==ve||Sn.current||os?(typeof pe=="function"&&(em(a,c,pe,f),ve=a.memoizedState),(X=os||P1(a,c,X,f,re,ve,$)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,ve,$),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,ve,$)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ve),R.props=f,R.state=ve,R.context=$,f=X):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),f=!1)}return sm(s,a,c,f,w,g)}function sm(s,a,c,f,g,w){$1(s,a);var R=(a.flags&128)!==0;if(!f&&!R)return g&&KE(a,c,!1),Ai(s,a,w);f=a.stateNode,tN.current=a;var j=R&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&R?(a.child=Ca(a,s.child,null,w),a.child=Ca(a,null,j,w)):yn(s,a,j,w),a.memoizedState=f.state,g&&KE(a,c,!0),a.child}function B1(s){var a=s.stateNode;a.pendingContext?HE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&HE(s,a.context,!1),$p(s,a.containerInfo)}function W1(s,a,c,f,g){return Aa(),Mp(g),a.flags|=256,yn(s,a,c,f),a.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(s){return{baseLanes:s,cachePool:null,transitions:null}}function H1(s,a,c){var f=a.pendingProps,g=ht.current,w=!1,R=(a.flags&128)!==0,j;if((j=R)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),tt(ht,g&1),s===null)return Op(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=f.children,s=f.fallback,w?(f=a.mode,w=a.child,R={mode:"hidden",children:R},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=R):w=Ud(R,f,0,null),s=vo(s,f,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=am(c),a.memoizedState=om,s):lm(a,R));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return nN(s,a,R,f,j,g,c);if(w){w=f.fallback,R=a.mode,g=s.child,j=g.sibling;var $={mode:"hidden",children:f.children};return(R&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=$,a.deletions=null):(f=fs(g,$),f.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=fs(j,w):(w=vo(w,R,c,null),w.flags|=2),w.return=a,f.return=a,f.sibling=w,a.child=f,f=w,w=a.child,R=s.child.memoizedState,R=R===null?am(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},w.memoizedState=R,w.childLanes=s.childLanes&~c,a.memoizedState=om,f}return w=s.child,s=w.sibling,f=fs(w,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function lm(s,a){return a=Ud({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ad(s,a,c,f){return f!==null&&Mp(f),Ca(a,s.child,null,c),s=lm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function nN(s,a,c,f,g,w,R){if(c)return a.flags&256?(a.flags&=-257,f=nm(Error(t(422))),Ad(s,a,R,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=f.fallback,g=a.mode,f=Ud({mode:"visible",children:f.children},g,0,null),w=vo(w,g,R,null),w.flags|=2,f.return=a,w.return=a,f.sibling=w,a.child=f,(a.mode&1)!==0&&Ca(a,s.child,null,R),a.child.memoizedState=am(R),a.memoizedState=om,w);if((a.mode&1)===0)return Ad(s,a,R,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var j=f.dgst;return f=j,w=Error(t(419)),f=nm(w,f,void 0),Ad(s,a,R,f)}if(j=(R&s.childLanes)!==0,In||j){if(f=qt,f!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|R))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ii(s,g),Nr(f,s,g,-1))}return bm(),f=nm(Error(t(421))),Ad(s,a,R,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=mN.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Wn=ns(g.nextSibling),Bn=a,ct=!0,xr=null,s!==null&&(nr[rr++]=Si,nr[rr++]=bi,nr[rr++]=ao,Si=s.id,bi=s.overflow,ao=a),a=lm(a,f.children),a.flags|=4096,a)}function G1(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),jp(s.return,a,c)}function um(s,a,c,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function K1(s,a,c){var f=a.pendingProps,g=f.revealOrder,w=f.tail;if(yn(s,a,f.children,c),f=ht.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&G1(s,c,a);else if(s.tag===19)G1(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(tt(ht,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&wd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),um(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&wd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}um(a,!0,c,null,w);break;case"together":um(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ai(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),fo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=fs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=fs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function rN(s,a,c){switch(a.tag){case 3:B1(a),Aa();break;case 5:l1(a);break;case 1:bn(a.type)&&cd(a);break;case 4:$p(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;tt(gd,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(tt(ht,ht.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?H1(s,a,c):(tt(ht,ht.current&1),s=Ai(s,a,c),s!==null?s.sibling:null);tt(ht,ht.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return K1(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),tt(ht,ht.current),f)break;return null;case 22:case 23:return a.lanes=0,q1(s,a,c)}return Ai(s,a,c)}var Y1,cm,Q1,X1;Y1=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},cm=function(){},Q1=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,co(Jr.current);var w=null;switch(c){case"input":g=vr(s,g),f=vr(s,f),w=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),w=[];break;case"textarea":g=Bt(s,g),f=Bt(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ad)}Il(c,f);var R;c=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(R in j)j.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in f){var $=f[X];if(j=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&$!==j&&($!=null||j!=null))if(X==="style")if(j){for(R in j)!j.hasOwnProperty(R)||$&&$.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in $)$.hasOwnProperty(R)&&j[R]!==$[R]&&(c||(c={}),c[R]=$[R])}else c||(w||(w=[]),w.push(X,c)),c=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(w=w||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&it("scroll",s),w||j===$||(w=[])):(w=w||[]).push(X,$))}c&&(w=w||[]).push("style",c);var X=w;(a.updateQueue=X)&&(a.flags|=4)}},X1=function(s,a,c,f){c!==f&&(a.flags|=4)};function su(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function iN(s,a,c){var f=a.pendingProps;switch(Dp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return bn(a.type)&&ud(),nn(a),null;case 3:return f=a.stateNode,ka(),st(Sn),st(en),Wp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(pd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xr!==null&&(Em(xr),xr=null))),cm(s,a),nn(a),null;case 5:zp(a);var g=co(eu.current);if(c=a.type,s!==null&&a.stateNode!=null)Q1(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return nn(a),null}if(s=co(Jr.current),pd(a)){f=a.stateNode,c=a.type;var w=a.memoizedProps;switch(f[Xr]=a,f[Yl]=w,s=(a.mode&1)!==0,c){case"dialog":it("cancel",f),it("close",f);break;case"iframe":case"object":case"embed":it("load",f);break;case"video":case"audio":for(g=0;g<Hl.length;g++)it(Hl[g],f);break;case"source":it("error",f);break;case"img":case"image":case"link":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"input":qe(f,w),it("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},it("invalid",f);break;case"textarea":at(f,w),it("invalid",f)}Il(c,w),g=null;for(var R in w)if(w.hasOwnProperty(R)){var j=w[R];R==="children"?typeof j=="string"?f.textContent!==j&&(w.suppressHydrationWarning!==!0&&od(f.textContent,j,s),g=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&od(f.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&it("scroll",f)}switch(c){case"input":fn(f),Vn(f,w,!0);break;case"textarea":fn(f),Fn(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=ad)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=R.createElement(c,{is:f.is}):(s=R.createElement(c),c==="select"&&(R=s,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):s=R.createElementNS(s,c),s[Xr]=a,s[Yl]=f,Y1(s,a,!1,!1),a.stateNode=s;e:{switch(R=Rl(c,f),c){case"dialog":it("cancel",s),it("close",s),g=f;break;case"iframe":case"object":case"embed":it("load",s),g=f;break;case"video":case"audio":for(g=0;g<Hl.length;g++)it(Hl[g],s);g=f;break;case"source":it("error",s),g=f;break;case"img":case"image":case"link":it("error",s),it("load",s),g=f;break;case"details":it("toggle",s),g=f;break;case"input":qe(s,f),g=vr(s,f),it("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),it("invalid",s);break;case"textarea":at(s,f),g=Bt(s,f),it("invalid",s);break;default:g=f}Il(c,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var $=j[w];w==="style"?jn(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Wi(s,$)):w==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&yr(s,$):typeof $=="number"&&yr(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&it("scroll",s):$!=null&&M(s,w,$,R))}switch(c){case"input":fn(s),Vn(s,f,!1);break;case"textarea":fn(s),Fn(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Oe(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Pt(s,!!f.multiple,w,!1):f.defaultValue!=null&&Pt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ad)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(s&&a.stateNode!=null)X1(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=co(eu.current),co(Jr.current),pd(a)){if(f=a.stateNode,c=a.memoizedProps,f[Xr]=a,(w=f.nodeValue!==c)&&(s=Bn,s!==null))switch(s.tag){case 3:od(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&od(f.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Xr]=a,a.stateNode=f}return nn(a),null;case 13:if(st(ht),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Wn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)e1(),Aa(),a.flags|=98560,w=!1;else if(w=pd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Xr]=a}else Aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),w=!1}else xr!==null&&(Em(xr),xr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ht.current&1)!==0?Ot===0&&(Ot=3):bm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return ka(),cm(s,a),s===null&&Gl(a.stateNode.containerInfo),nn(a),null;case 10:return Fp(a.type._context),nn(a),null;case 17:return bn(a.type)&&ud(),nn(a),null;case 19:if(st(ht),w=a.memoizedState,w===null)return nn(a),null;if(f=(a.flags&128)!==0,R=w.rendering,R===null)if(f)su(w,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(R=wd(s),R!==null){for(a.flags|=128,su(w,!1),f=R.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)w=c,s=f,w.flags&=14680066,R=w.alternate,R===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=R.childLanes,w.lanes=R.lanes,w.child=R.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=R.memoizedProps,w.memoizedState=R.memoizedState,w.updateQueue=R.updateQueue,w.type=R.type,s=R.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return tt(ht,ht.current&1|2),a.child}s=s.sibling}w.tail!==null&&et()>Ma&&(a.flags|=128,f=!0,su(w,!1),a.lanes=4194304)}else{if(!f)if(s=wd(R),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),su(w,!0),w.tail===null&&w.tailMode==="hidden"&&!R.alternate&&!ct)return nn(a),null}else 2*et()-w.renderingStartTime>Ma&&c!==1073741824&&(a.flags|=128,f=!0,su(w,!1),a.lanes=4194304);w.isBackwards?(R.sibling=a.child,a.child=R):(c=w.last,c!==null?c.sibling=R:a.child=R,w.last=R)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=et(),a.sibling=null,c=ht.current,tt(ht,f?c&1|2:c&1),a):(nn(a),null);case 22:case 23:return Sm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Hn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function sN(s,a){switch(Dp(a),a.tag){case 1:return bn(a.type)&&ud(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ka(),st(Sn),st(en),Wp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return zp(a),null;case 13:if(st(ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(ht),null;case 4:return ka(),null;case 10:return Fp(a.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var xd=!1,rn=!1,oN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Na(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){gt(s,a,f)}else c.current=null}function dm(s,a,c){try{c()}catch(f){gt(s,a,f)}}var J1=!1;function aN(s,a){if(Sp=Zi,s=PE(),mp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var R=0,j=-1,$=-1,X=0,ie=0,se=s,re=null;t:for(;;){for(var pe;se!==c||g!==0&&se.nodeType!==3||(j=R+g),se!==w||f!==0&&se.nodeType!==3||($=R+f),se.nodeType===3&&(R+=se.nodeValue.length),(pe=se.firstChild)!==null;)re=se,se=pe;for(;;){if(se===s)break t;if(re===c&&++X===g&&(j=R),re===w&&++ie===f&&($=R),(pe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=pe}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(bp={focusedElem:s,selectionRange:c},Zi=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,wt=ve.memoizedState,Y=a.stateNode,B=Y.getSnapshotBeforeUpdate(a.elementType===a.type?we:Pr(a.type,we),wt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return ve=J1,J1=!1,ve}function ou(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&dm(a,c,w)}g=g.next}while(g!==f)}}function Pd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function hm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Z1(s){var a=s.alternate;a!==null&&(s.alternate=null,Z1(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Xr],delete a[Yl],delete a[Cp],delete a[zD],delete a[BD])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function eT(s){return s.tag===5||s.tag===3||s.tag===4}function tT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||eT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ad));else if(f!==4&&(s=s.child,s!==null))for(fm(s,a,c),s=s.sibling;s!==null;)fm(s,a,c),s=s.sibling}function pm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(pm(s,a,c),s=s.sibling;s!==null;)pm(s,a,c),s=s.sibling}var Gt=null,kr=!1;function ls(s,a,c){for(c=c.child;c!==null;)nT(s,a,c),c=c.sibling}function nT(s,a,c){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Js,c)}catch{}switch(c.tag){case 5:rn||Na(c,a);case 6:var f=Gt,g=kr;Gt=null,ls(s,a,c),Gt=f,kr=g,Gt!==null&&(kr?(s=Gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(kr?(s=Gt,c=c.stateNode,s.nodeType===8?Ap(s.parentNode,c):s.nodeType===1&&Ap(s,c),Rr(s)):Ap(Gt,c.stateNode));break;case 4:f=Gt,g=kr,Gt=c.stateNode.containerInfo,kr=!0,ls(s,a,c),Gt=f,kr=g;break;case 0:case 11:case 14:case 15:if(!rn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,R=w.destroy;w=w.tag,R!==void 0&&((w&2)!==0||(w&4)!==0)&&dm(c,a,R),g=g.next}while(g!==f)}ls(s,a,c);break;case 1:if(!rn&&(Na(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){gt(c,a,j)}ls(s,a,c);break;case 21:ls(s,a,c);break;case 22:c.mode&1?(rn=(f=rn)||c.memoizedState!==null,ls(s,a,c),rn=f):ls(s,a,c);break;default:ls(s,a,c)}}function rT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new oN),a.forEach(function(f){var g=gN.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Dr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var w=s,R=a,j=R;e:for(;j!==null;){switch(j.tag){case 5:Gt=j.stateNode,kr=!1;break e;case 3:Gt=j.stateNode.containerInfo,kr=!0;break e;case 4:Gt=j.stateNode.containerInfo,kr=!0;break e}j=j.return}if(Gt===null)throw Error(t(160));nT(w,R,g),Gt=null,kr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(X){gt(g,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)iT(a,s),a=a.sibling}function iT(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(a,s),ei(s),f&4){try{ou(3,s,s.return),Pd(3,s)}catch(we){gt(s,s.return,we)}try{ou(5,s,s.return)}catch(we){gt(s,s.return,we)}}break;case 1:Dr(a,s),ei(s),f&512&&c!==null&&Na(c,c.return);break;case 5:if(Dr(a,s),ei(s),f&512&&c!==null&&Na(c,c.return),s.flags&32){var g=s.stateNode;try{yr(g,"")}catch(we){gt(s,s.return,we)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,R=c!==null?c.memoizedProps:w,j=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&Ln(g,w),Rl(j,R);var X=Rl(j,w);for(R=0;R<$.length;R+=2){var ie=$[R],se=$[R+1];ie==="style"?jn(g,se):ie==="dangerouslySetInnerHTML"?Wi(g,se):ie==="children"?yr(g,se):M(g,ie,se,X)}switch(j){case"input":Ve(g,w);break;case"textarea":mn(g,w);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Pt(g,!!w.multiple,pe,!1):re!==!!w.multiple&&(w.defaultValue!=null?Pt(g,!!w.multiple,w.defaultValue,!0):Pt(g,!!w.multiple,w.multiple?[]:"",!1))}g[Yl]=w}catch(we){gt(s,s.return,we)}}break;case 6:if(Dr(a,s),ei(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(we){gt(s,s.return,we)}}break;case 3:if(Dr(a,s),ei(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Rr(a.containerInfo)}catch(we){gt(s,s.return,we)}break;case 4:Dr(a,s),ei(s);break;case 13:Dr(a,s),ei(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(vm=et())),f&4&&rT(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(rn=(X=rn)||ie,Dr(a,s),rn=X):Dr(a,s),ei(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(ge=s,ie=s.child;ie!==null;){for(se=ge=ie;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:ou(4,re,re.return);break;case 1:Na(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){f=re,c=re.return;try{a=f,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(we){gt(f,c,we)}}break;case 5:Na(re,re.return);break;case 22:if(re.memoizedState!==null){aT(se);continue}}pe!==null?(pe.return=re,ge=pe):aT(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{g=se.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=se.stateNode,$=se.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=wn("display",R))}catch(we){gt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(we){gt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Dr(a,s),ei(s),f&4&&rT(s);break;case 21:break;default:Dr(a,s),ei(s)}}function ei(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(eT(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(yr(g,""),f.flags&=-33);var w=tT(s);pm(s,w,g);break;case 3:case 4:var R=f.stateNode.containerInfo,j=tT(s);fm(s,j,R);break;default:throw Error(t(161))}}catch($){gt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function lN(s,a,c){ge=s,sT(s)}function sT(s,a,c){for(var f=(s.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&f){var R=g.memoizedState!==null||xd;if(!R){var j=g.alternate,$=j!==null&&j.memoizedState!==null||rn;j=xd;var X=rn;if(xd=R,(rn=$)&&!X)for(ge=g;ge!==null;)R=ge,$=R.child,R.tag===22&&R.memoizedState!==null?lT(g):$!==null?($.return=R,ge=$):lT(g);for(;w!==null;)ge=w,sT(w),w=w.sibling;ge=g,xd=j,rn=X}oT(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ge=w):oT(s)}}function oT(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||Pd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!rn)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Pr(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&a1(a,w,f);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}a1(a,R,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Rr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||a.flags&512&&hm(a)}catch(re){gt(a,a.return,re)}}if(a===s){ge=null;break}if(c=a.sibling,c!==null){c.return=a.return,ge=c;break}ge=a.return}}function aT(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ge=c;break}ge=a.return}}function lT(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Pd(4,a)}catch($){gt(a,c,$)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch($){gt(a,g,$)}}var w=a.return;try{hm(a)}catch($){gt(a,w,$)}break;case 5:var R=a.return;try{hm(a)}catch($){gt(a,R,$)}}}catch($){gt(a,a.return,$)}if(a===s){ge=null;break}var j=a.sibling;if(j!==null){j.return=a.return,ge=j;break}ge=a.return}}var uN=Math.ceil,kd=F.ReactCurrentDispatcher,mm=F.ReactCurrentOwner,or=F.ReactCurrentBatchConfig,We=0,qt=null,bt=null,Kt=0,Hn=0,Oa=rs(0),Ot=0,au=null,fo=0,Dd=0,gm=0,lu=null,Rn=null,vm=0,Ma=1/0,Ci=null,Nd=!1,ym=null,us=null,Od=!1,cs=null,Md=0,uu=0,_m=null,Ld=-1,Vd=0;function _n(){return(We&6)!==0?et():Ld!==-1?Ld:Ld=et()}function ds(s){return(s.mode&1)===0?1:(We&2)!==0&&Kt!==0?Kt&-Kt:HD.transition!==null?(Vd===0&&(Vd=eo()),Vd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Vl(s.type)),s)}function Nr(s,a,c,f){if(50<uu)throw uu=0,_m=null,Error(t(185));Yi(s,c,f),((We&2)===0||s!==qt)&&(s===qt&&((We&2)===0&&(Dd|=c),Ot===4&&hs(s,Kt)),An(s,f),c===1&&We===0&&(a.mode&1)===0&&(Ma=et()+500,dd&&ss()))}function An(s,a){var c=s.callbackNode;gi(s,a);var f=Zs(s,s===qt?Kt:0);if(f===0)c!==null&&Dl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Dl(c),a===1)s.tag===0?WD(cT.bind(null,s)):YE(cT.bind(null,s)),qD(function(){(We&6)===0&&ss()}),c=null;else{switch(Xi(f)){case 1:c=Xs;break;case 4:c=Hi;break;case 16:c=Zn;break;case 536870912:c=Vc;break;default:c=Zn}c=yT(c,uT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function uT(s,a){if(Ld=-1,Vd=0,(We&6)!==0)throw Error(t(327));var c=s.callbackNode;if(La()&&s.callbackNode!==c)return null;var f=Zs(s,s===qt?Kt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Fd(s,f);else{a=f;var g=We;We|=2;var w=hT();(qt!==s||Kt!==a)&&(Ci=null,Ma=et()+500,mo(s,a));do try{hN();break}catch(j){dT(s,j)}while(!0);Vp(),kd.current=w,We=g,bt!==null?a=0:(qt=null,Kt=0,a=Ot)}if(a!==0){if(a===2&&(g=qn(s),g!==0&&(f=g,a=wm(s,g))),a===1)throw c=au,mo(s,0),hs(s,f),An(s,et()),c;if(a===6)hs(s,f);else{if(g=s.current.alternate,(f&30)===0&&!cN(g)&&(a=Fd(s,f),a===2&&(w=qn(s),w!==0&&(f=w,a=wm(s,w))),a===1))throw c=au,mo(s,0),hs(s,f),An(s,et()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:go(s,Rn,Ci);break;case 3:if(hs(s,f),(f&130023424)===f&&(a=vm+500-et(),10<a)){if(Zs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Rp(go.bind(null,s,Rn,Ci),a);break}go(s,Rn,Ci);break;case 4:if(hs(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var R=31-gn(f);w=1<<R,R=a[R],R>g&&(g=R),f&=~w}if(f=g,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*uN(f/1960))-f,10<f){s.timeoutHandle=Rp(go.bind(null,s,Rn,Ci),f);break}go(s,Rn,Ci);break;case 5:go(s,Rn,Ci);break;default:throw Error(t(329))}}}return An(s,et()),s.callbackNode===c?uT.bind(null,s):null}function wm(s,a){var c=lu;return s.current.memoizedState.isDehydrated&&(mo(s,a).flags|=256),s=Fd(s,a),s!==2&&(a=Rn,Rn=c,a!==null&&Em(a)),s}function Em(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function cN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!Cr(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hs(s,a){for(a&=~gm,a&=~Dd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-gn(a),f=1<<c;s[c]=-1,a&=~f}}function cT(s){if((We&6)!==0)throw Error(t(327));La();var a=Zs(s,0);if((a&1)===0)return An(s,et()),null;var c=Fd(s,a);if(s.tag!==0&&c===2){var f=qn(s);f!==0&&(a=f,c=wm(s,f))}if(c===1)throw c=au,mo(s,0),hs(s,a),An(s,et()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,go(s,Rn,Ci),An(s,et()),null}function Tm(s,a){var c=We;We|=1;try{return s(a)}finally{We=c,We===0&&(Ma=et()+500,dd&&ss())}}function po(s){cs!==null&&cs.tag===0&&(We&6)===0&&La();var a=We;We|=1;var c=or.transition,f=$e;try{if(or.transition=null,$e=1,s)return s()}finally{$e=f,or.transition=c,We=a,(We&6)===0&&ss()}}function Sm(){Hn=Oa.current,st(Oa)}function mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,UD(c)),bt!==null)for(c=bt.return;c!==null;){var f=c;switch(Dp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ud();break;case 3:ka(),st(Sn),st(en),Wp();break;case 5:zp(f);break;case 4:ka();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Fp(f.type._context);break;case 22:case 23:Sm()}c=c.return}if(qt=s,bt=s=fs(s.current,null),Kt=Hn=a,Ot=0,au=null,gm=Dd=fo=0,Rn=lu=null,uo!==null){for(a=0;a<uo.length;a++)if(c=uo[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,w=c.pending;if(w!==null){var R=w.next;w.next=g,f.next=R}c.pending=f}uo=null}return s}function dT(s,a){do{var c=bt;try{if(Vp(),Ed.current=Id,Td){for(var f=ft.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Td=!1}if(ho=0,Ut=Nt=ft=null,tu=!1,nu=0,mm.current=null,c===null||c.return===null){Ot=1,au=a,bt=null;break}e:{var w=s,R=c.return,j=c,$=a;if(a=Kt,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ie=j,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=L1(R);if(pe!==null){pe.flags&=-257,V1(pe,R,j,w,a),pe.mode&1&&M1(w,X,a),a=pe,$=X;var ve=a.updateQueue;if(ve===null){var we=new Set;we.add($),a.updateQueue=we}else ve.add($);break e}else{if((a&1)===0){M1(w,X,a),bm();break e}$=Error(t(426))}}else if(ct&&j.mode&1){var wt=L1(R);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),V1(wt,R,j,w,a),Mp(Da($,j));break e}}w=$=Da($,j),Ot!==4&&(Ot=2),lu===null?lu=[w]:lu.push(w),w=R;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=N1(w,$,a);o1(w,Y);break e;case 1:j=$;var B=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(us===null||!us.has(Q)))){w.flags|=65536,a&=-a,w.lanes|=a;var oe=O1(w,j,a);o1(w,oe);break e}}w=w.return}while(w!==null)}pT(c)}catch(Ee){a=Ee,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function hT(){var s=kd.current;return kd.current=Id,s===null?Id:s}function bm(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),qt===null||(fo&268435455)===0&&(Dd&268435455)===0||hs(qt,Kt)}function Fd(s,a){var c=We;We|=2;var f=hT();(qt!==s||Kt!==a)&&(Ci=null,mo(s,a));do try{dN();break}catch(g){dT(s,g)}while(!0);if(Vp(),We=c,kd.current=f,bt!==null)throw Error(t(261));return qt=null,Kt=0,Ot}function dN(){for(;bt!==null;)fT(bt)}function hN(){for(;bt!==null&&!Mc();)fT(bt)}function fT(s){var a=vT(s.alternate,s,Hn);s.memoizedProps=s.pendingProps,a===null?pT(s):bt=a,mm.current=null}function pT(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=iN(c,a,Hn),c!==null){bt=c;return}}else{if(c=sN(c,a),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ot=6,bt=null;return}}if(a=a.sibling,a!==null){bt=a;return}bt=a=s}while(a!==null);Ot===0&&(Ot=5)}function go(s,a,c){var f=$e,g=or.transition;try{or.transition=null,$e=1,fN(s,a,c,f)}finally{or.transition=g,$e=f}return null}function fN(s,a,c,f){do La();while(cs!==null);if((We&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Xe(s,w),s===qt&&(bt=qt=null,Kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Od||(Od=!0,yT(Zn,function(){return La(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=or.transition,or.transition=null;var R=$e;$e=1;var j=We;We|=4,mm.current=null,aN(s,c),iT(c,s),ND(bp),Zi=!!Sp,bp=Sp=null,s.current=c,lN(c),ap(),We=j,$e=R,or.transition=w}else s.current=c;if(Od&&(Od=!1,cs=s,Md=g),w=s.pendingLanes,w===0&&(us=null),Fc(c.stateNode),An(s,et()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Nd)throw Nd=!1,s=ym,ym=null,s;return(Md&1)!==0&&s.tag!==0&&La(),w=s.pendingLanes,(w&1)!==0?s===_m?uu++:(uu=0,_m=s):uu=0,ss(),null}function La(){if(cs!==null){var s=Xi(Md),a=or.transition,c=$e;try{if(or.transition=null,$e=16>s?16:s,cs===null)var f=!1;else{if(s=cs,cs=null,Md=0,(We&6)!==0)throw Error(t(331));var g=We;for(We|=4,ge=s.current;ge!==null;){var w=ge,R=w.child;if((ge.flags&16)!==0){var j=w.deletions;if(j!==null){for(var $=0;$<j.length;$++){var X=j[$];for(ge=X;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:ou(8,ie,w)}var se=ie.child;if(se!==null)se.return=ie,ge=se;else for(;ge!==null;){ie=ge;var re=ie.sibling,pe=ie.return;if(Z1(ie),ie===X){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var wt=we.sibling;we.sibling=null,we=wt}while(we!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,ge=R;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ou(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var B=s.current;for(ge=B;ge!==null;){R=ge;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,ge=Q;else e:for(R=B;ge!==null;){if(j=ge,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Pd(9,j)}}catch(Ee){gt(j,j.return,Ee)}if(j===R){ge=null;break e}var oe=j.sibling;if(oe!==null){oe.return=j.return,ge=oe;break e}ge=j.return}}if(We=g,ss(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Js,s)}catch{}f=!0}return f}finally{$e=c,or.transition=a}}return!1}function mT(s,a,c){a=Da(c,a),a=N1(s,a,1),s=as(s,a,1),a=_n(),s!==null&&(Yi(s,1,a),An(s,a))}function gt(s,a,c){if(s.tag===3)mT(s,s,c);else for(;a!==null;){if(a.tag===3){mT(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(us===null||!us.has(f))){s=Da(c,s),s=O1(a,s,1),a=as(a,s,1),s=_n(),a!==null&&(Yi(a,1,s),An(a,s));break}}a=a.return}}function pN(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&c,qt===s&&(Kt&c)===c&&(Ot===4||Ot===3&&(Kt&130023424)===Kt&&500>et()-vm?mo(s,0):gm|=c),An(s,a)}function gT(s,a){a===0&&((s.mode&1)===0?a=1:(a=sa,sa<<=1,(sa&130023424)===0&&(sa=4194304)));var c=_n();s=Ii(s,a),s!==null&&(Yi(s,a,c),An(s,c))}function mN(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),gT(s,c)}function gN(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),gT(s,c)}var vT;vT=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)In=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return In=!1,rN(s,a,c);In=(s.flags&131072)!==0}else In=!1,ct&&(a.flags&1048576)!==0&&QE(a,fd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Cd(s,a),s=a.pendingProps;var g=ba(a,en.current);Pa(a,c),g=Kp(null,a,f,s,g,c);var w=Yp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,bn(f)?(w=!0,cd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qp(a),g.updater=Rd,a.stateNode=g,g._reactInternals=a,tm(a,f,s,c),a=sm(null,a,f,!0,w,c)):(a.tag=0,ct&&w&&kp(a),yn(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Cd(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=yN(f),s=Pr(f,s),g){case 0:a=im(null,a,f,s,c);break e;case 1:a=z1(null,a,f,s,c);break e;case 11:a=F1(null,a,f,s,c);break e;case 14:a=j1(null,a,f,Pr(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),im(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),z1(s,a,f,g,c);case 3:e:{if(B1(a),s===null)throw Error(t(387));f=a.pendingProps,w=a.memoizedState,g=w.element,s1(s,a),_d(a,f,null,c);var R=a.memoizedState;if(f=R.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=Da(Error(t(423)),a),a=W1(s,a,f,c,g);break e}else if(f!==g){g=Da(Error(t(424)),a),a=W1(s,a,f,c,g);break e}else for(Wn=ns(a.stateNode.containerInfo.firstChild),Bn=a,ct=!0,xr=null,c=r1(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Aa(),f===g){a=Ai(s,a,c);break e}yn(s,a,f,c)}a=a.child}return a;case 5:return l1(a),s===null&&Op(a),f=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,R=g.children,Ip(f,g)?R=null:w!==null&&Ip(f,w)&&(a.flags|=32),$1(s,a),yn(s,a,R,c),a.child;case 6:return s===null&&Op(a),null;case 13:return H1(s,a,c);case 4:return $p(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ca(a,null,f,c):yn(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),F1(s,a,f,g,c);case 7:return yn(s,a,a.pendingProps,c),a.child;case 8:return yn(s,a,a.pendingProps.children,c),a.child;case 12:return yn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,w=a.memoizedProps,R=g.value,tt(gd,f._currentValue),f._currentValue=R,w!==null)if(Cr(w.value,R)){if(w.children===g.children&&!Sn.current){a=Ai(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var j=w.dependencies;if(j!==null){R=w.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(w.tag===1){$=Ri(-1,c&-c),$.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?$.next=$:($.next=ie.next,ie.next=$),X.pending=$}}w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),jp(w.return,c,a),j.lanes|=c;break}$=$.next}}else if(w.tag===10)R=w.type===a.type?null:w.child;else if(w.tag===18){if(R=w.return,R===null)throw Error(t(341));R.lanes|=c,j=R.alternate,j!==null&&(j.lanes|=c),jp(R,c,a),R=w.sibling}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===a){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}yn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Pa(a,c),g=ir(g),f=f(g),a.flags|=1,yn(s,a,f,c),a.child;case 14:return f=a.type,g=Pr(f,a.pendingProps),g=Pr(f.type,g),j1(s,a,f,g,c);case 15:return U1(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),Cd(s,a),a.tag=1,bn(f)?(s=!0,cd(a)):s=!1,Pa(a,c),k1(a,f,g),tm(a,f,g,c),sm(null,a,f,!0,s,c);case 19:return K1(s,a,c);case 22:return q1(s,a,c)}throw Error(t(156,a.tag))};function yT(s,a){return ra(s,a)}function vN(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,a,c,f){return new vN(s,a,c,f)}function Im(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yN(s){if(typeof s=="function")return Im(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Te)return 14}return 2}function fs(s,a){var c=s.alternate;return c===null?(c=ar(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function jd(s,a,c,f,g,w){var R=2;if(f=s,typeof s=="function")Im(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case D:return vo(c.children,g,w,a);case A:R=8,g|=8;break;case x:return s=ar(12,c,a,g|2),s.elementType=x,s.lanes=w,s;case O:return s=ar(13,c,a,g),s.elementType=O,s.lanes=w,s;case ce:return s=ar(19,c,a,g),s.elementType=ce,s.lanes=w,s;case ye:return Ud(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:R=10;break e;case V:R=9;break e;case U:R=11;break e;case Te:R=14;break e;case _e:R=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ar(R,c,a,g),a.elementType=s,a.type=f,a.lanes=w,a}function vo(s,a,c,f){return s=ar(7,s,f,a),s.lanes=c,s}function Ud(s,a,c,f){return s=ar(22,s,f,a),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function Rm(s,a,c){return s=ar(6,s,null,a),s.lanes=c,s}function Am(s,a,c){return a=ar(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function _N(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Cm(s,a,c,f,g,w,R,j,$){return s=new _N(s,a,c,j,$),a===1?(a=1,w===!0&&(a|=8)):a=0,w=ar(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(w),s}function wN(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function _T(s){if(!s)return is;s=s._reactInternals;e:{if(Er(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(bn(c))return GE(s,c,a)}return a}function wT(s,a,c,f,g,w,R,j,$){return s=Cm(c,f,!0,s,g,w,R,j,$),s.context=_T(null),c=s.current,f=_n(),g=ds(c),w=Ri(f,g),w.callback=a??null,as(c,w,g),s.current.lanes=g,Yi(s,g,f),An(s,f),s}function qd(s,a,c,f){var g=a.current,w=_n(),R=ds(g);return c=_T(c),a.context===null?a.context=c:a.pendingContext=c,a=Ri(w,R),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=as(g,a,R),s!==null&&(Nr(s,g,R,w),yd(s,g,R)),R}function $d(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ET(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function xm(s,a){ET(s,a),(s=s.alternate)&&ET(s,a)}function EN(){return null}var TT=typeof reportError=="function"?reportError:function(s){console.error(s)};function Pm(s){this._internalRoot=s}zd.prototype.render=Pm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));qd(s,a,null,null)},zd.prototype.unmount=Pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;po(function(){qd(null,s,null,null)}),a[Ei]=null}};function zd(s){this._internalRoot=s}zd.prototype.unstable_scheduleHydration=function(s){if(s){var a=zc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Gr.length&&a!==0&&a<Gr[c].priority;c++);Gr.splice(c,0,s),c===0&&Hc(s)}};function km(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ST(){}function TN(s,a,c,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var X=$d(R);w.call(X)}}var R=wT(a,f,s,0,null,!1,!1,"",ST);return s._reactRootContainer=R,s[Ei]=R.current,Gl(s.nodeType===8?s.parentNode:s),po(),R}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var j=f;f=function(){var X=$d($);j.call(X)}}var $=Cm(s,0,!1,null,null,!1,!1,"",ST);return s._reactRootContainer=$,s[Ei]=$.current,Gl(s.nodeType===8?s.parentNode:s),po(function(){qd(a,$,c,f)}),$}function Wd(s,a,c,f,g){var w=c._reactRootContainer;if(w){var R=w;if(typeof g=="function"){var j=g;g=function(){var $=$d(R);j.call($)}}qd(a,R,s,g)}else R=TN(c,a,s,g,f);return $d(R)}qc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Gi(a.pendingLanes);c!==0&&(Qi(a,c|1),An(a,et()),(We&6)===0&&(Ma=et()+500,ss()))}break;case 13:po(function(){var f=Ii(s,1);if(f!==null){var g=_n();Nr(f,s,1,g)}}),xm(s,1)}},oa=function(s){if(s.tag===13){var a=Ii(s,134217728);if(a!==null){var c=_n();Nr(a,s,134217728,c)}xm(s,134217728)}},$c=function(s){if(s.tag===13){var a=ds(s),c=Ii(s,a);if(c!==null){var f=_n();Nr(c,s,a,f)}xm(s,a)}},zc=function(){return $e},Bc=function(s,a){var c=$e;try{return $e=s,a()}finally{$e=c}},Xo=function(s,a,c){switch(a){case"input":if(Ve(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=ld(f);if(!g)throw Error(t(90));$r(f),Ve(f,g)}}}break;case"textarea":mn(s,c);break;case"select":a=c.value,a!=null&&Pt(s,!!c.multiple,a,!1)}},Gs=Tm,Cl=po;var SN={usingClientEntryPoint:!1,Events:[Ql,Ta,ld,Wr,Al,Tm]},cu={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bN={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Js=Hd.inject(bN),Un=Hd}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SN,Cn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(a))throw Error(t(200));return wN(s,a,null,c)},Cn.createRoot=function(s,a){if(!km(s))throw Error(t(299));var c=!1,f="",g=TT;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Cm(s,1,!1,null,null,c,!1,f,g),s[Ei]=a.current,Gl(s.nodeType===8?s.parentNode:s),new Pm(a)},Cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(a),s=s===null?null:s.stateNode,s},Cn.flushSync=function(s){return po(s)},Cn.hydrate=function(s,a,c){if(!Bd(a))throw Error(t(200));return Wd(null,s,a,!0,c)},Cn.hydrateRoot=function(s,a,c){if(!km(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,w="",R=TT;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=wT(a,null,s,1,c??null,g,!1,w,R),s[Ei]=a.current,Gl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new zd(a)},Cn.render=function(s,a,c){if(!Bd(a))throw Error(t(200));return Wd(null,s,a,!1,c)},Cn.unmountComponentAtNode=function(s){if(!Bd(s))throw Error(t(40));return s._reactRootContainer?(po(function(){Wd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ei]=null})}),!0):!1},Cn.unstable_batchedUpdates=Tm,Cn.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Bd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wd(s,a,c,!1,f)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var kT;function GC(){if(kT)return Om.exports;kT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Om.exports=kN(),Om.exports}var DT;function DN(){if(DT)return Kd;DT=1;var n=GC();return Kd.createRoot=n.createRoot,Kd.hydrateRoot=n.hydrateRoot,Kd}var NN=DN();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NT="popstate";function ON(n={}){function e(i,o){let{pathname:l="/",search:u="",hash:d=""}=Wo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),O_("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof o=="string"?o:Lu(o))}function r(i,o){Qn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return LN(e,t,r,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MN(){return Math.random().toString(36).substring(2,10)}function OT(n,e){return{usr:n.state,key:n.key,idx:e}}function O_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||r||MN()}}function Lu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function LN(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let b=m(),C=b==null?null:b-p;p=b,d&&d({action:u,location:S.location,delta:C})}function y(b,C){u="PUSH";let P=O_(S.location,b,C);t&&t(P,b),p=m()+1;let M=OT(P,p),F=S.createHref(P);try{l.pushState(M,"",F)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(F)}o&&d&&d({action:u,location:S.location,delta:1})}function E(b,C){u="REPLACE";let P=O_(S.location,b,C);t&&t(P,b),p=m();let M=OT(P,p),F=S.createHref(P);l.replaceState(M,"",F),o&&d&&d({action:u,location:S.location,delta:0})}function I(b){return VN(b)}let S={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(NT,v),d=b,()=>{i.removeEventListener(NT,v),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let C=I(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:E,go(b){return l.go(b)}};return S}function VN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Lu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function KC(n,e,t="/"){return FN(n,e,t,!1)}function FN(n,e,t,r){let i=typeof e=="string"?Wo(e):e,o=Li(i.pathname||"/",t);if(o==null)return null;let l=YC(n);jN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=QN(o);u=KN(l[d],p,r)}return u}function YC(n,e=[],t=[],r="",i=!1){let o=(l,u,d=i,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;dt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=Ni([r,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),YC(l.children,e,y,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:HN(v,l.index),routesMeta:y})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let p of QC(l.path))o(l,u,!0,p)}),e}function QC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=QC(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function jN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UN=/^:[\w-]+$/,qN=3,$N=2,zN=1,BN=10,WN=-2,MT=n=>n==="*";function HN(n,e){let t=n.split("/"),r=t.length;return t.some(MT)&&(r+=WN),e&&(r+=$N),t.filter(i=>!MT(i)).reduce((i,o)=>i+(UN.test(o)?qN:o===""?zN:BN),r)}function GN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function KN(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=Ph({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),y=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Ph({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Ni([o,v.pathname]),pathnameBase:tO(Ni([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=Ni([o,v.pathnameBase]))}return l}function Ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},y)=>{if(m==="*"){let I=u[y]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const E=u[y];return v&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function YN(n,e=!1,t=!0){Qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var XN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JN=n=>XN.test(n);function ZN(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wo(n):n,o;if(t)if(JN(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?o=LT(t.substring(1),"/"):o=LT(t,e)}else o=e;return{pathname:o,search:nO(r),hash:rO(i)}}function LT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Vm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Iw(n){let e=eO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Rw(n,e,t,r=!1){let i;typeof n=="string"?i=Wo(n):(i={...n},dt(!i.pathname||!i.pathname.includes("?"),Vm("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Vm("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Vm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let d=ZN(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),tO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function sO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XC=["POST","PUT","PATCH","DELETE"];new Set(XC);var oO=["GET",...XC];new Set(oO);var ll=q.createContext(null);ll.displayName="DataRouter";var uf=q.createContext(null);uf.displayName="DataRouterState";q.createContext(!1);var JC=q.createContext({isTransitioning:!1});JC.displayName="ViewTransition";var aO=q.createContext(new Map);aO.displayName="Fetchers";var lO=q.createContext(null);lO.displayName="Await";var mr=q.createContext(null);mr.displayName="Navigation";var ac=q.createContext(null);ac.displayName="Location";var Ur=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var Aw=q.createContext(null);Aw.displayName="RouteError";function uO(n,{relative:e}={}){dt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(mr),{hash:i,pathname:o,search:l}=lc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ni([t,o])),r.createHref({pathname:u,search:l,hash:i})}function ul(){return q.useContext(ac)!=null}function qr(){return dt(ul(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ac).location}var ZC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ex(n){q.useContext(mr).static||q.useLayoutEffect(n)}function Vs(){let{isDataRoute:n}=q.useContext(Ur);return n?TO():cO()}function cO(){dt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ll),{basename:e,navigator:t}=q.useContext(mr),{matches:r}=q.useContext(Ur),{pathname:i}=qr(),o=JSON.stringify(Iw(r)),l=q.useRef(!1);return ex(()=>{l.current=!0}),q.useCallback((d,p={})=>{if(Qn(l.current,ZC),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Rw(d,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ni([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}q.createContext(null);function tx(){let{matches:n}=q.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function lc(n,{relative:e}={}){let{matches:t}=q.useContext(Ur),{pathname:r}=qr(),i=JSON.stringify(Iw(t));return q.useMemo(()=>Rw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function dO(n,e){return nx(n,e)}function nx(n,e,t,r,i){var P;dt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(mr),{matches:l}=q.useContext(Ur),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";rx(p,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=qr(),E;if(e){let M=typeof e=="string"?Wo(e):e;dt(m==="/"||((P=M.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=y;let I=E.pathname||"/",S=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");S="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=KC(n,{pathname:S});Qn(v||b!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Qn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=gO(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ni([m,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ni([m,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,t,r,i);return e&&C?q.createElement(ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function hO(){let n=EO(),e=iO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:i},t):null,l)}var fO=q.createElement(hO,null),pO=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?q.createElement(Ur.Provider,{value:this.props.routeContext},q.createElement(Aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mO({routeContext:n,match:e,children:t}){let r=q.useContext(ll);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Ur.Provider,{value:n},t)}function gO(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let m=o.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let v=o[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:y,errors:E}=t,I=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||I){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=t&&r?(m,v)=>{var y,E;r(m,{location:t.location,params:((E=(y=t.matches)==null?void 0:y[0])==null?void 0:E.params)??{},unstable_pattern:sO(t.matches),errorInfo:v})}:void 0;return o.reduceRight((m,v,y)=>{let E,I=!1,S=null,b=null;t&&(E=l&&v.route.id?l[v.route.id]:void 0,S=v.route.errorElement||fO,u&&(d<0&&y===0?(rx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):d===y&&(I=!0,b=v.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),P=()=>{let M;return E?M=S:I?M=b:v.route.Component?M=q.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=m,q.createElement(mO,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:M})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?q.createElement(pO,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):P()},null)}function Cw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(n){let e=q.useContext(ll);return dt(e,Cw(n)),e}function yO(n){let e=q.useContext(uf);return dt(e,Cw(n)),e}function _O(n){let e=q.useContext(Ur);return dt(e,Cw(n)),e}function xw(n){let e=_O(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wO(){return xw("useRouteId")}function EO(){var r;let n=q.useContext(Aw),e=yO("useRouteError"),t=xw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TO(){let{router:n}=vO("useNavigate"),e=xw("useNavigate"),t=q.useRef(!1);return ex(()=>{t.current=!0}),q.useCallback(async(i,o={})=>{Qn(t.current,ZC),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var VT={};function rx(n,e,t){!e&&!VT[n]&&(VT[n]=!0,Qn(!1,t))}q.memo(SO);function SO({routes:n,future:e,state:t,unstable_onError:r}){return nx(n,void 0,t,r,e)}function vu({to:n,replace:e,state:t,relative:r}){dt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(mr);Qn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(Ur),{pathname:l}=qr(),u=Vs(),d=Rw(n,Iw(o),l,r==="path"),p=JSON.stringify(d);return q.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function Or(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){dt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof t=="string"&&(t=Wo(t));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:E="default"}=t,I=q.useMemo(()=>{let S=Li(p,u);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:E},navigationType:r}},[u,p,m,v,y,E,r]);return Qn(I!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(mr.Provider,{value:d},q.createElement(ac.Provider,{children:e,value:I}))}function IO({children:n,location:e}){return dO(M_(n),e)}function M_(n,e=[]){let t=[];return q.Children.forEach(n,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){t.push.apply(t,M_(r.props.children,o));return}dt(r.type===Or,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=M_(r.props.children,o)),t.push(l)}),t}var oh="get",ah="application/x-www-form-urlencoded";function cf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function RO(n){return cf(n)&&n.tagName.toLowerCase()==="button"}function AO(n){return cf(n)&&n.tagName.toLowerCase()==="form"}function CO(n){return cf(n)&&n.tagName.toLowerCase()==="input"}function xO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PO(n,e){return n.button===0&&(!e||e==="_self")&&!xO(n)}var Yd=null;function kO(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var DO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(n){return n!=null&&!DO.has(n)?(Qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):n}function NO(n,e){let t,r,i,o,l;if(AO(n)){let u=n.getAttribute("action");r=u?Li(u,e):null,t=n.getAttribute("method")||oh,i=Fm(n.getAttribute("enctype"))||ah,o=new FormData(n)}else if(RO(n)||CO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Li(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||oh,i=Fm(n.getAttribute("formenctype"))||Fm(u.getAttribute("enctype"))||ah,o=new FormData(u,n),!kO()){let{name:p,type:m,value:v}=n;if(m==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,v)}}else{if(cf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oh,r=null,i=ah,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OO(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function MO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VO(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await MO(o,t);return l.links?l.links():[]}return[]}));return qO(r.flat(1).filter(LO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function FT(n,e,t,r,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function FO(n,e,{includeHydrateFallback:t}={}){return jO(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function jO(n){return[...new Set(n)]}function UO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qO(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(UO(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function ix(){let n=q.useContext(ll);return Pw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $O(){let n=q.useContext(uf);return Pw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kw=q.createContext(void 0);kw.displayName="FrameworkContext";function sx(){let n=q.useContext(kw);return Pw(n,"You must render this element inside a <HydratedRouter> element"),n}function zO(n,e){let t=q.useContext(kw),[r,i]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,y=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=C=>{C.forEach(P=>{l(P.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[n]),q.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:hu(u,E),onBlur:hu(d,I),onMouseEnter:hu(p,E),onMouseLeave:hu(m,I),onTouchStart:hu(v,E)}]:[!1,y,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BO({page:n,...e}){let{router:t}=ix(),r=q.useMemo(()=>KC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(HO,{page:n,matches:r,...e}):null}function WO(n){let{manifest:e,routeModules:t}=sx(),[r,i]=q.useState([]);return q.useEffect(()=>{let o=!1;return VO(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function HO({page:n,matches:e,...t}){let r=qr(),{manifest:i,routeModules:o}=sx(),{basename:l}=ix(),{loaderData:u,matches:d}=$O(),p=q.useMemo(()=>FT(n,e,d,i,r,"data"),[n,e,d,i,r]),m=q.useMemo(()=>FT(n,e,d,i,r,"assets"),[n,e,d,i,r]),v=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,S=!1;if(e.forEach(C=>{var M;let P=i.routes[C.route.id];!P||!P.hasLoader||(!p.some(F=>F.route.id===C.route.id)&&C.route.id in u&&((M=o[C.route.id])!=null&&M.shouldRevalidate)||P.hasClientLoader?S=!0:I.add(C.route.id))}),I.size===0)return[];let b=OO(n,l,"data");return S&&I.size>0&&b.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,p,e,n,o]),y=q.useMemo(()=>FO(m,i),[m,i]),E=WO(m);return q.createElement(q.Fragment,null,v.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),y.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),E.map(({key:I,link:S})=>q.createElement("link",{key:I,nonce:t.nonce,...S})))}function GO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ox&&(window.__reactRouterVersion="7.10.1")}catch{}function KO({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=q.useRef();i.current==null&&(i.current=ON({window:r,v5Compat:!0}));let o=i.current,[l,u]=q.useState({action:o.action,location:o.location}),d=q.useCallback(p=>{t===!1?u(p):q.startTransition(()=>u(p))},[t]);return q.useLayoutEffect(()=>o.listen(d),[o,d]),q.createElement(bO,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t===!0})}var ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:m,viewTransition:v,...y},E){let{basename:I,unstable_useTransitions:S}=q.useContext(mr),b=typeof p=="string"&&ax.test(p),C,P=!1;if(typeof p=="string"&&b&&(C=p,ox))try{let L=new URL(window.location.href),V=p.startsWith("//")?new URL(L.protocol+p):new URL(p),U=Li(V.pathname,I);V.origin===L.origin&&U!=null?p=U+V.search+V.hash:P=!0}catch{Qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=uO(p,{relative:i}),[F,W,z]=zO(r,y),D=JO(p,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:v,unstable_useTransitions:S});function A(L){e&&e(L),L.defaultPrevented||D(L)}let x=q.createElement("a",{...y,...z,href:C||M,onClick:P||o?e:A,ref:GO(E,W),target:d,"data-discover":!b&&t==="render"?"true":void 0});return F&&!b?q.createElement(q.Fragment,null,x,q.createElement(BO,{page:M})):x});Vu.displayName="Link";var YO=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...p},m){let v=lc(l,{relative:p.relative}),y=qr(),E=q.useContext(uf),{navigator:I,basename:S}=q.useContext(mr),b=E!=null&&rM(v)&&u===!0,C=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,P=y.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(P=P.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&S&&(M=Li(M,S)||M);const F=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let W=P===C||!i&&P.startsWith(C)&&P.charAt(F)==="/",z=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),D={isActive:W,isPending:z,isTransitioning:b},A=W?e:void 0,x;typeof r=="function"?x=r(D):x=[r,W?"active":null,z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(D):o;return q.createElement(Vu,{...p,"aria-current":A,className:x,ref:m,style:L,to:l,viewTransition:u},typeof d=="function"?d(D):d)});YO.displayName="NavLink";var QO=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=oh,action:u,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...y},E)=>{let{unstable_useTransitions:I}=q.useContext(mr),S=tM(),b=nM(u,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&ax.test(u),M=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,z=(W==null?void 0:W.getAttribute("formmethod"))||l,D=()=>S(W||F.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:v});I&&t!==!1?q.startTransition(()=>D()):D()};return q.createElement("form",{ref:E,method:C,action:b,onSubmit:r?d:M,...y,"data-discover":!P&&n==="render"?"true":void 0})});QO.displayName="Form";function XO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(n){let e=q.useContext(ll);return dt(e,XO(n)),e}function JO(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_useTransitions:u}={}){let d=Vs(),p=qr(),m=lc(n,{relative:o});return q.useCallback(v=>{if(PO(v,e)){v.preventDefault();let y=t!==void 0?t:Lu(p)===Lu(m),E=()=>d(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l});u?q.startTransition(()=>E()):E()}},[p,d,m,t,r,e,n,i,o,l,u])}var ZO=0,eM=()=>`__${String(++ZO)}__`;function tM(){let{router:n}=lx("useSubmit"),{basename:e}=q.useContext(mr),t=wO(),r=n.fetch,i=n.navigate;return q.useCallback(async(o,l={})=>{let{action:u,method:d,encType:p,formData:m,body:v}=NO(o,e);if(l.navigate===!1){let y=l.fetcherKey||eM();await r(y,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await i(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function nM(n,{relative:e}={}){let{basename:t}=q.useContext(mr),r=q.useContext(Ur);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...lc(n||".",{relative:e})},l=qr();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ni([t,o.pathname])),Lu(o)}function rM(n,{relative:e}={}){let t=q.useContext(JC);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lx("useViewTransitionState"),i=lc(n,{relative:e});if(!t.isTransitioning)return!1;let o=Li(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ph(i.pathname,l)!=null||Ph(i.pathname,o)!=null}var iM=GC();const ux=On(iM),sM=()=>{};var jT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},oM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let y=(u&15)<<2|p>>6,E=p&63;d||(E=64,l||(y=64)),r.push(t[m],t[v],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||v==null)throw new aM;const y=o<<2|u>>4;if(r.push(y),p!==64){const E=u<<4&240|p>>2;if(r.push(E),v!==64){const I=p<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lM=function(n){const e=cx(n);return dx.encodeByteArray(e,!0)},kh=function(n){return lM(n).replace(/\./g,"")},hx=function(n){try{return dx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=()=>uM().__FIREBASE_DEFAULTS__,dM=()=>{if(typeof process>"u"||typeof jT>"u")return;const n=jT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hx(n[1]);return e&&JSON.parse(e)},df=()=>{try{return sM()||cM()||dM()||hM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fx=n=>{var e,t;return(t=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fM=n=>{const e=fx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},px=()=>{var n;return(n=df())===null||n===void 0?void 0:n.config},mx=n=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kh(JSON.stringify(t)),kh(JSON.stringify(l)),""].join(".")}const Cu={};function gM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?n.emulator.push(e):n.prod.push(e);return n}function vM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let UT=!1;function vx(n,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Cu[n]===e||Cu[n]||UT)return;Cu[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=gM().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{UT=!0,l()},y}function m(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=vM(r),E=t("text"),I=document.getElementById(E)||document.createElement("span"),S=t("learnmore"),b=document.getElementById(S)||document.createElement("a"),C=t("preprendIcon"),P=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;u(M),m(b,S);const F=p();d(P,C),M.append(P,I,b,F),document.body.appendChild(M)}o?(I.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function _M(){var n;const e=(n=df())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SM(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bM(){return!_M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IM(){try{return typeof indexedDB=="object"}catch{return!1}}function RM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="FirebaseError";class zi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=AM,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?CM(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new zi(i,u,r)}}function CM(n,e){return n.replace(xM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xM=/\{\$([^}]+)}/g;function PM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(qT(o)&&qT(l)){if(!Rs(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function qT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kM(n,e){const t=new DM(n,e);return t.subscribe.bind(t)}class DM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jm),i.error===void 0&&(i.error=jm),i.complete===void 0&&(i.complete=jm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LM(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MM(n){return n===_o?void 0:n}function LM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const FM={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},jM=je.INFO,UM={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},qM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=UM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dw{constructor(e){this.name=e,this._logLevel=jM,this._logHandler=qM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const $M=(n,e)=>e.some(t=>n instanceof t);let $T,zT;function zM(){return $T||($T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BM(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,L_=new WeakMap,_x=new WeakMap,Um=new WeakMap,Nw=new WeakMap;function WM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Es(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&yx.set(t,n)}).catch(()=>{}),Nw.set(e,n),e}function HM(n){if(L_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});L_.set(n,e)}let V_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return L_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_x.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GM(n){V_=n(V_)}function KM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qm(this),e,...t);return _x.set(r,e.sort?e.sort():[e]),Es(r)}:BM().includes(n)?function(...e){return n.apply(qm(this),e),Es(yx.get(this))}:function(...e){return Es(n.apply(qm(this),e))}}function YM(n){return typeof n=="function"?KM(n):(n instanceof IDBTransaction&&HM(n),$M(n,zM())?new Proxy(n,V_):n)}function Es(n){if(n instanceof IDBRequest)return WM(n);if(Um.has(n))return Um.get(n);const e=YM(n);return e!==n&&(Um.set(n,e),Nw.set(e,n)),e}const qm=n=>Nw.get(n);function QM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=Es(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Es(l.result),d.oldVersion,d.newVersion,Es(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const XM=["get","getKey","getAll","getAllKeys","count"],JM=["put","add","delete","clear"],$m=new Map;function BT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XM.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return $m.set(e,o),o}GM(n=>({...n,get:(e,t,r)=>BT(e,t)||n.get(e,t,r),has:(e,t)=>!!BT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function eL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F_="@firebase/app",WT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Dw("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",iL="@firebase/app-check-compat",sL="@firebase/app-check",oL="@firebase/auth",aL="@firebase/auth-compat",lL="@firebase/database",uL="@firebase/data-connect",cL="@firebase/database-compat",dL="@firebase/functions",hL="@firebase/functions-compat",fL="@firebase/installations",pL="@firebase/installations-compat",mL="@firebase/messaging",gL="@firebase/messaging-compat",vL="@firebase/performance",yL="@firebase/performance-compat",_L="@firebase/remote-config",wL="@firebase/remote-config-compat",EL="@firebase/storage",TL="@firebase/storage-compat",SL="@firebase/firestore",bL="@firebase/ai",IL="@firebase/firestore-compat",RL="firebase",AL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="[DEFAULT]",CL={[F_]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[sL]:"fire-app-check",[iL]:"fire-app-check-compat",[oL]:"fire-auth",[aL]:"fire-auth-compat",[lL]:"fire-rtdb",[uL]:"fire-data-connect",[cL]:"fire-rtdb-compat",[dL]:"fire-fn",[hL]:"fire-fn-compat",[fL]:"fire-iid",[pL]:"fire-iid-compat",[mL]:"fire-fcm",[gL]:"fire-fcm-compat",[vL]:"fire-perf",[yL]:"fire-perf-compat",[_L]:"fire-rc",[wL]:"fire-rc-compat",[EL]:"fire-gcs",[TL]:"fire-gcs-compat",[SL]:"fire-fst",[IL]:"fire-fst-compat",[bL]:"fire-vertex","fire-js":"fire-js",[RL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,xL=new Map,U_=new Map;function HT(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ka(n){const e=n.name;if(U_.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;U_.set(e,n);for(const t of Dh.values())HT(t,n);for(const t of xL.values())HT(t,n);return!0}function Ow(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new uc("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=AL;function wx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(t||(t=px()),!t)throw Ts.create("no-options");const o=Dh.get(i);if(o){if(Rs(t,o.options)&&Rs(r,o.config))return o;throw Ts.create("duplicate-app",{appName:i})}const l=new VM(i);for(const d of U_.values())l.addComponent(d);const u=new kL(t,r,l);return Dh.set(i,u),u}function Ex(n=j_){const e=Dh.get(n);if(!e&&n===j_&&px())return wx();if(!e)throw Ts.create("no-app",{appName:n});return e}function Ss(n,e,t){var r;let i=(r=CL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}Ka(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",NL=1,Fu="firebase-heartbeat-store";let zm=null;function Tx(){return zm||(zm=QM(DL,NL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),zm}async function OL(n){try{const t=(await Tx()).transaction(Fu),r=await t.objectStore(Fu).get(Sx(n));return await t.done,r}catch(e){if(e instanceof zi)Vi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(t.message)}}}async function GT(n,e){try{const r=(await Tx()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,Sx(n)),await r.done}catch(t){if(t instanceof zi)Vi.warn(t.message);else{const r=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(r.message)}}}function Sx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1024,LL=30;class VL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>LL){const l=UL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KT(),{heartbeatsToSend:r,unsentEntries:i}=FL(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vi.warn(t),""}}}function KT(){return new Date().toISOString().substring(0,10)}function FL(n,e=ML){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),YT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IM()?RM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return GT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return GT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YT(n){return kh(JSON.stringify({version:2,heartbeats:n})).length}function UL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n){Ka(new Co("platform-logger",e=>new ZM(e),"PRIVATE")),Ka(new Co("heartbeat",e=>new VL(e),"PRIVATE")),Ss(F_,WT,n),Ss(F_,WT,"esm2017"),Ss("fire-js","")}qL("");function Mw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $L=bx,Ix=new uc("auth","Firebase",bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Dw("@firebase/auth");function zL(n,...e){Nh.logLevel<=je.WARN&&Nh.warn(`Auth (${dl}): ${n}`,...e)}function lh(n,...e){Nh.logLevel<=je.ERROR&&Nh.error(`Auth (${dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw Vw(n,...e)}function Lr(n,...e){return Vw(n,...e)}function Lw(n,e,t){const r=Object.assign(Object.assign({},$L()),{[e]:t});return new uc("auth","Firebase",r).create(e,{appName:n.name})}function Oi(n){return Lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),Lw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ix.create(n,...e)}function Ae(n,e,...t){if(!n)throw Vw(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lh(e),new Error(e)}function Fi(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WL(){return QT()==="http:"||QT()==="https:"}function QT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WL()||EM()||"connection"in navigator)?navigator.onLine:!0}function GL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=yM()||TM()}get(){return HL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QL=new dc(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function js(n,e,t,r,i={}){return Ax(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=cc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},o);return wM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&cl(n.emulatorConfig.host)&&(p.credentials="include"),Rx.fetch()(await Cx(n,n.config.apiHost,t,u),p)})}async function Ax(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},KL),e);try{const i=new JL(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Qd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Qd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Qd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Lw(n,m,p);dr(n,m)}}catch(i){if(i instanceof zi)throw i;dr(n,"network-request-failed",{message:String(i)})}}async function hc(n,e,t,r,i={}){const o=await js(n,e,t,r,i);return"mfaPendingCredential"in o&&dr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Cx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?Fw(n.config,i):`${n.config.apiScheme}://${i}`;return YL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function XL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),QL.get())})}}function Qd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Lr(n,e,r);return i.customData._tokenResponse=t,i}function XT(n){return n!==void 0&&n.enterprise!==void 0}class ZL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e4(n,e){return js(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e){return js(n,"POST","/v1/accounts:delete",e)}async function Oh(n,e){return js(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n4(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),i=jw(r);Ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xu(Bm(i.auth_time)),issuedAtTime:xu(Bm(i.iat)),expirationTime:xu(Bm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Bm(n){return Number(n)*1e3}function jw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const i=hx(t);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JT(n){const e=jw(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zi&&r4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function r4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ju(n,Oh(t,{idToken:r}));Ae(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xx(o.providerUserInfo):[],u=o4(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function s4(n){const e=Ct(n);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xx(n){return n.map(e=>{var{providerId:t}=e,r=Mw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n,e){const t=await Ax(n,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await Cx(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&cl(n.emulatorConfig.host)&&(d.credentials="include"),Rx.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function l4(n,e){return js(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=JT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await a4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new za;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Mw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ju(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return n4(this,e)}reload(){return s4(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await ju(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,P=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:F,isAnonymous:W,providerData:z,stsTokenManager:D}=t;Ae(M&&D,e,"internal-error");const A=za.fromJSON(this.name,D);Ae(typeof M=="string",e,"internal-error"),ms(v,e.name),ms(y,e.name),Ae(typeof F=="boolean",e,"internal-error"),Ae(typeof W=="boolean",e,"internal-error"),ms(E,e.name),ms(I,e.name),ms(S,e.name),ms(b,e.name),ms(C,e.name),ms(P,e.name);const x=new Mr({uid:M,auth:e,email:y,emailVerified:F,displayName:v,isAnonymous:W,photoURL:I,phoneNumber:E,tenantId:S,stsTokenManager:A,createdAt:C,lastLoginAt:P});return z&&Array.isArray(z)&&(x.providerData=z.map(L=>Object.assign({},L))),b&&(x._redirectEventId=b),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new za;i.updateFromServerResponse(t);const o=new Mr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xx(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new za;u.updateFromIdToken(r);const d=new Mr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;function Di(n){Fi(n instanceof Function,"Expected a class definition");let e=ZT.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ZT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Px.type="NONE";const eS=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ba{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=uh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Oh(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ba(Di(eS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Di(eS);const l=uh(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const y=await Oh(e,{idToken:m}).catch(()=>{});if(!y)break;v=await Mr._fromGetAccountInfoResponse(e,y,m)}else v=Mr._fromJSON(e,m);p!==o&&(u=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ba(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Ba(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lx(e))return"Blackberry";if(Vx(e))return"Webos";if(Dx(e))return"Safari";if((e.includes("chrome/")||Nx(e))&&!e.includes("edge/"))return"Chrome";if(Mx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kx(n=cn()){return/firefox\//i.test(n)}function Dx(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nx(n=cn()){return/crios\//i.test(n)}function Ox(n=cn()){return/iemobile/i.test(n)}function Mx(n=cn()){return/android/i.test(n)}function Lx(n=cn()){return/blackberry/i.test(n)}function Vx(n=cn()){return/webos/i.test(n)}function Uw(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u4(n=cn()){var e;return Uw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return SM()&&document.documentMode===10}function Fx(n=cn()){return Uw(n)||Mx(n)||Vx(n)||Lx(n)||/windows phone/i.test(n)||Ox(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,e=[]){let t;switch(n){case"Browser":t=tS(cn());break;case"Worker":t=`${tS(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e={}){return js(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class p4{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:f4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nS(this),this.idTokenSubscription=new nS(this),this.beforeStateQueue=new d4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ix,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Oh(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Oi(this));const t=e?Ct(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),t=new p4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await l4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Us(n){return Ct(n)}class nS{constructor(e){this.auth=e,this.observer=null,this.addObserver=kM(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g4(n){hf=n}function Ux(n){return hf.loadJS(n)}function v4(){return hf.recaptchaEnterpriseScript}function y4(){return hf.gapiScript}function _4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class w4{constructor(){this.enterprise=new E4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class E4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const T4="recaptcha-enterprise",qx="NO_RECAPTCHA";class S4{constructor(e){this.type=T4,this.auth=Us(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{e4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new ZL(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;XT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(qx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&XT(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=v4();d.length!==0&&(d+=u),Ux(d).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function rS(n,e,t,r=!1,i=!1){const o=new S4(n);let l;if(i)l=qx;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function z_(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rS(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await rS(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n,e){const t=Ow(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Rs(o,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function I4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R4(n,e,t){const r=Us(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=$x(e),{host:l,port:u}=A4(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Rs(p,r.config.emulator)&&Rs(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,cl(l)?(gx(`${o}//${l}${d}`),vx("Auth",!0)):C4()}function $x(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A4(n){const e=$x(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:iS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:iS(l)}}}function iS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function C4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function x4(n,e){return js(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e){return hc(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e){return hc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function D4(n,e){return hc(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends qw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Uu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Uu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,t,"signInWithPassword",P4);case"emailLink":return k4(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,r,"signUpPassword",x4);case"emailLink":return D4(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n,e){return hc(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="http://localhost";class xo extends qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Mw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new xo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Wa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Wa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wa(e,t)}buildRequest(){const e={requestUri:N4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M4(n){const e=yu(_u(n)).link,t=e?yu(_u(e)).deep_link_id:null,r=yu(_u(n)).deep_link_id;return(r?yu(_u(r)).link:null)||r||t||e||n}class $w{constructor(e){var t,r,i,o,l,u;const d=yu(_u(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=O4((i=d.mode)!==null&&i!==void 0?i:null);Ae(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=M4(e);try{return new $w(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,t){return Uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=$w.parseLink(t);return Ae(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends zw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends fc{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends fc{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends fc{constructor(){super("twitter.com")}static credential(e,t){return xo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _s.credential(t,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){return hc(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Mr._fromIdTokenResponse(e,r,i),l=sS(r);return new Po({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=sS(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function sS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends zi{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Lh(e,t,r,i)}}function zx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(n,o,e,r):o})}async function V4(n,e,t=!1){const r=await ju(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Po._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e,t=!1){const{auth:r}=n;if(Gn(r.app))return Promise.reject(Oi(r));const i="reauthenticate";try{const o=await ju(n,zx(r,i,e,n),t);Ae(o.idToken,r,"internal-error");const l=jw(o.idToken);Ae(l,r,"internal-error");const{sub:u}=l;return Ae(n.uid===u,r,"user-mismatch"),Po._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e,t=!1){if(Gn(n.app))return Promise.reject(Oi(n));const r="signIn",i=await zx(n,r,e),o=await Po._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function j4(n,e){return Bx(Us(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(n){const e=Us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U4(n,e,t){if(Gn(n.app))return Promise.reject(Oi(n));const r=Us(n),l=await z_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Wx(n),d}),u=await Po._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function q4(n,e,t){return Gn(n.app)?Promise.reject(Oi(n)):j4(Ct(n),hl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wx(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n,e){return Ct(n).setPersistence(e)}function z4(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function B4(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function Ya(n,e,t,r){return Ct(n).onAuthStateChanged(e,t,r)}function W4(n){return Ct(n).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1e3,G4=10;class Gx extends Hx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);c4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gx.type="LOCAL";const Kx=Gx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Hx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yx.type="SESSION";const Qx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),d=await K4(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=Bw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function Q4(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function X4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Z4(){return Xx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebaseLocalStorageDb",eV=1,Fh="firebaseLocalStorage",Zx="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(n,e){return n.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function tV(){const n=indexedDB.deleteDatabase(Jx);return new pc(n).toPromise()}function B_(){const n=indexedDB.open(Jx,eV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fh,{keyPath:Zx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await tV(),e(await B_()))})})}async function oS(n,e,t){const r=pf(n,!0).put({[Zx]:e,value:t});return new pc(r).toPromise()}async function nV(n,e){const t=pf(n,!1).get(e),r=await new pc(t).toPromise();return r===void 0?null:r.value}function aS(n,e){const t=pf(n,!0).delete(e);return new pc(t).toPromise()}const rV=800,iV=3;class eP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>iV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(Z4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await X4(),!this.activeServiceWorker)return;this.sender=new Y4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B_();return await oS(e,Vh,"1"),await aS(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pf(i,!1).getAll();return new pc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eP.type="LOCAL";const sV=eP;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n,e){return e?Di(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends qw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oV(n){return Bx(n.auth,new Ww(n),n.bypassAuthState)}function aV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),F4(t,new Ww(n),n.bypassAuthState)}async function lV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),V4(t,new Ww(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return aV;default:dr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new dc(2e3,1e4);async function rP(n,e,t){if(Gn(n.app))return Promise.reject(Lr(n,"operation-not-supported-in-this-environment"));const r=Us(n);BL(n,e,zw);const i=tP(r,t);return new To(r,"signInViaPopup",e,i).executeNotNull()}class To extends nP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Bw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uV.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="pendingRedirect",ch=new Map;class dV extends nP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(n,e){const t=mV(e),r=pV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function fV(n,e){ch.set(n._key(),e)}function pV(n){return Di(n._redirectPersistence)}function mV(n){return uh(cV,n.config.apiKey,n.name)}async function gV(n,e,t=!1){if(Gn(n.app))return Promise.reject(Oi(n));const r=Us(n),i=tP(r,e),l=await new dV(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=600*1e3;class yV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_V(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Lr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vV&&this.cachedEventUids.clear(),this.cachedEventUids.has(lS(e))}saveEventToCache(e){this.cachedEventUids.add(lS(e)),this.lastProcessedEventTime=Date.now()}}function lS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _V(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,e={}){return js(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;async function SV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wV(n);for(const t of e)try{if(bV(t))return}catch{}dr(n,"unauthorized-domain")}function bV(n){const e=q_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!TV.test(t))return!1;if(EV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new dc(3e4,6e4);function uS(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RV(n){return new Promise((e,t)=>{var r,i,o;function l(){uS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uS(),t(Lr(n,"network-request-failed"))},timeout:IV.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ii().gapi)===null||o===void 0)&&o.load)l();else{const u=_4("iframefcb");return ii()[u]=()=>{gapi.load?l():t(Lr(n,"network-request-failed"))},Ux(`${y4()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw dh=null,e})}let dh=null;function AV(n){return dh=dh||RV(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new dc(5e3,15e3),xV="__/auth/iframe",PV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NV(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fw(e,PV):`https://${n.config.authDomain}/${xV}`,r={apiKey:e.apiKey,appName:n.name,v:dl},i=DV.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cc(r).slice(1)}`}async function OV(n){const e=await AV(n),t=ii().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:NV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(n,"network-request-failed"),u=ii().setTimeout(()=>{o(l)},CV.get());function d(){ii().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LV=500,VV=600,FV="_blank",jV="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UV(n,e,t,r=LV,i=VV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},MV),{width:r.toString(),height:i.toString(),top:o,left:l}),p=cn().toLowerCase();t&&(u=Nx(p)?FV:t),kx(p)&&(e=e||jV,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[E,I])=>`${y}${E}=${I},`,"");if(u4(p)&&u!=="_self")return qV(e||"",u),new cS(null);const v=window.open(e||"",u,m);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new cS(v)}function qV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="__/auth/handler",zV="emulator/auth/handler",BV=encodeURIComponent("fac");async function dS(n,e,t,r,i,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:dl,eventId:i};if(e instanceof zw){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",PM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof fc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),p=d?`#${BV}=${encodeURIComponent(d)}`:"";return`${WV(n)}?${cc(u).slice(1)}${p}`}function WV({config:n}){return n.emulator?Fw(n,zV):`https://${n.authDomain}/${$V}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class HV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=gV,this._overrideRedirectResult=fV}async _openPopup(e,t,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await dS(e,t,r,q_(),i);return UV(e,l,Bw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await dS(e,t,r,q_(),i);return Q4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OV(e),r=new yV(e);return t.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wm,{type:Wm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Wm];l!==void 0&&t(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fx()||Dx()||Uw()}}const GV=HV;var hS="@firebase/auth",fS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(n){Ka(new Co("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jx(n)},p=new m4(r,i,o,d);return I4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ka(new Co("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(r=>new KV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(hS,fS,YV(n)),Ss(hS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=300,JV=mx("authIdTokenMaxAge")||XV;let pS=null;const ZV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>JV)return;const i=t==null?void 0:t.token;pS!==i&&(pS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ko(n=Ex()){const e=Ow(n,"auth");if(e.isInitialized())return e.getImmediate();const t=b4(n,{popupRedirectResolver:GV,persistence:[sV,Kx,Qx]}),r=mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=ZV(o.toString());B4(t,l,()=>l(t.currentUser)),z4(t,u=>l(u))}}const i=fx("auth");return i&&R4(t,`http://${i}`),t}function eF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}g4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",eF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var tF="firebase",nF="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(tF,nF,"app");var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,sP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function x(){}x.prototype=A.prototype,D.D=A.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(L,V,U){for(var O=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)O[ce-2]=arguments[ce];return A.prototype[V].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,x){x||(x=0);var L=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)L[V]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(V=0;16>V;++V)L[V]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=D.g[0],x=D.g[1],V=D.g[2];var U=D.g[3],O=A+(U^x&(V^U))+L[0]+3614090360&4294967295;A=x+(O<<7&4294967295|O>>>25),O=U+(V^A&(x^V))+L[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(x^U&(A^x))+L[2]+606105819&4294967295,V=U+(O<<17&4294967295|O>>>15),O=x+(A^V&(U^A))+L[3]+3250441966&4294967295,x=V+(O<<22&4294967295|O>>>10),O=A+(U^x&(V^U))+L[4]+4118548399&4294967295,A=x+(O<<7&4294967295|O>>>25),O=U+(V^A&(x^V))+L[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(x^U&(A^x))+L[6]+2821735955&4294967295,V=U+(O<<17&4294967295|O>>>15),O=x+(A^V&(U^A))+L[7]+4249261313&4294967295,x=V+(O<<22&4294967295|O>>>10),O=A+(U^x&(V^U))+L[8]+1770035416&4294967295,A=x+(O<<7&4294967295|O>>>25),O=U+(V^A&(x^V))+L[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(x^U&(A^x))+L[10]+4294925233&4294967295,V=U+(O<<17&4294967295|O>>>15),O=x+(A^V&(U^A))+L[11]+2304563134&4294967295,x=V+(O<<22&4294967295|O>>>10),O=A+(U^x&(V^U))+L[12]+1804603682&4294967295,A=x+(O<<7&4294967295|O>>>25),O=U+(V^A&(x^V))+L[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(x^U&(A^x))+L[14]+2792965006&4294967295,V=U+(O<<17&4294967295|O>>>15),O=x+(A^V&(U^A))+L[15]+1236535329&4294967295,x=V+(O<<22&4294967295|O>>>10),O=A+(V^U&(x^V))+L[1]+4129170786&4294967295,A=x+(O<<5&4294967295|O>>>27),O=U+(x^V&(A^x))+L[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^x&(U^A))+L[11]+643717713&4294967295,V=U+(O<<14&4294967295|O>>>18),O=x+(U^A&(V^U))+L[0]+3921069994&4294967295,x=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(x^V))+L[5]+3593408605&4294967295,A=x+(O<<5&4294967295|O>>>27),O=U+(x^V&(A^x))+L[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^x&(U^A))+L[15]+3634488961&4294967295,V=U+(O<<14&4294967295|O>>>18),O=x+(U^A&(V^U))+L[4]+3889429448&4294967295,x=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(x^V))+L[9]+568446438&4294967295,A=x+(O<<5&4294967295|O>>>27),O=U+(x^V&(A^x))+L[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^x&(U^A))+L[3]+4107603335&4294967295,V=U+(O<<14&4294967295|O>>>18),O=x+(U^A&(V^U))+L[8]+1163531501&4294967295,x=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(x^V))+L[13]+2850285829&4294967295,A=x+(O<<5&4294967295|O>>>27),O=U+(x^V&(A^x))+L[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^x&(U^A))+L[7]+1735328473&4294967295,V=U+(O<<14&4294967295|O>>>18),O=x+(U^A&(V^U))+L[12]+2368359562&4294967295,x=V+(O<<20&4294967295|O>>>12),O=A+(x^V^U)+L[5]+4294588738&4294967295,A=x+(O<<4&4294967295|O>>>28),O=U+(A^x^V)+L[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^x)+L[11]+1839030562&4294967295,V=U+(O<<16&4294967295|O>>>16),O=x+(V^U^A)+L[14]+4259657740&4294967295,x=V+(O<<23&4294967295|O>>>9),O=A+(x^V^U)+L[1]+2763975236&4294967295,A=x+(O<<4&4294967295|O>>>28),O=U+(A^x^V)+L[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^x)+L[7]+4139469664&4294967295,V=U+(O<<16&4294967295|O>>>16),O=x+(V^U^A)+L[10]+3200236656&4294967295,x=V+(O<<23&4294967295|O>>>9),O=A+(x^V^U)+L[13]+681279174&4294967295,A=x+(O<<4&4294967295|O>>>28),O=U+(A^x^V)+L[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^x)+L[3]+3572445317&4294967295,V=U+(O<<16&4294967295|O>>>16),O=x+(V^U^A)+L[6]+76029189&4294967295,x=V+(O<<23&4294967295|O>>>9),O=A+(x^V^U)+L[9]+3654602809&4294967295,A=x+(O<<4&4294967295|O>>>28),O=U+(A^x^V)+L[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^x)+L[15]+530742520&4294967295,V=U+(O<<16&4294967295|O>>>16),O=x+(V^U^A)+L[2]+3299628645&4294967295,x=V+(O<<23&4294967295|O>>>9),O=A+(V^(x|~U))+L[0]+4096336452&4294967295,A=x+(O<<6&4294967295|O>>>26),O=U+(x^(A|~V))+L[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~x))+L[14]+2878612391&4294967295,V=U+(O<<15&4294967295|O>>>17),O=x+(U^(V|~A))+L[5]+4237533241&4294967295,x=V+(O<<21&4294967295|O>>>11),O=A+(V^(x|~U))+L[12]+1700485571&4294967295,A=x+(O<<6&4294967295|O>>>26),O=U+(x^(A|~V))+L[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~x))+L[10]+4293915773&4294967295,V=U+(O<<15&4294967295|O>>>17),O=x+(U^(V|~A))+L[1]+2240044497&4294967295,x=V+(O<<21&4294967295|O>>>11),O=A+(V^(x|~U))+L[8]+1873313359&4294967295,A=x+(O<<6&4294967295|O>>>26),O=U+(x^(A|~V))+L[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~x))+L[6]+2734768916&4294967295,V=U+(O<<15&4294967295|O>>>17),O=x+(U^(V|~A))+L[13]+1309151649&4294967295,x=V+(O<<21&4294967295|O>>>11),O=A+(V^(x|~U))+L[4]+4149444226&4294967295,A=x+(O<<6&4294967295|O>>>26),O=U+(x^(A|~V))+L[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~x))+L[2]+718787259&4294967295,V=U+(O<<15&4294967295|O>>>17),O=x+(U^(V|~A))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var x=A-this.blockSize,L=this.B,V=this.h,U=0;U<A;){if(V==0)for(;U<=x;)i(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<A;)if(L[V++]=D.charCodeAt(U++),V==this.blockSize){i(this,L),V=0;break}}else for(;U<A;)if(L[V++]=D[U++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var x=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=x&255,x/=256;for(this.u(D),D=Array(16),A=x=0;4>A;++A)for(var L=0;32>L;L+=8)D[x++]=this.g[A]>>>L&255;return D};function o(D,A){var x=u;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=A(D)}function l(D,A){this.h=A;for(var x=[],L=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;L&&U==A||(x[V]=U,L=!1)}this.g=x}var u={};function d(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return b(p(-D));for(var A=[],x=1,L=0;D>=x;L++)A[L]=D/x|0,x*=4294967296;return new l(A,0)}function m(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return b(m(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(A,8)),L=v,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),O=parseInt(D.substring(V,V+U),A);8>U?(U=p(Math.pow(A,U)),L=L.j(U).add(p(O))):(L=L.j(x),L=L.add(p(O)))}return L}var v=d(0),y=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(S(this))return-b(this).m();for(var D=0,A=1,x=0;x<this.g.length;x++){var L=this.i(x);D+=(0<=L?L:4294967296+L)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+b(this).toString(D);for(var A=p(Math.pow(D,6)),x=this,L="";;){var V=F(x,A).g;x=C(x,V.j(A));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=V,I(x))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=C(this,D),S(D)?-1:I(D)?0:1};function b(D){for(var A=D.g.length,x=[],L=0;L<A;L++)x[L]=~D.g[L];return new l(x,~D.h).add(y)}n.abs=function(){return S(this)?b(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],L=0,V=0;V<=A;V++){var U=L+(this.i(V)&65535)+(D.i(V)&65535),O=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);L=O>>>16,U&=65535,O&=65535,x[V]=O<<16|U}return new l(x,x[x.length-1]&-2147483648?-1:0)};function C(D,A){return D.add(b(A))}n.j=function(D){if(I(this)||I(D))return v;if(S(this))return S(D)?b(this).j(b(D)):b(b(this).j(D));if(S(D))return b(this.j(b(D)));if(0>this.l(E)&&0>D.l(E))return p(this.m()*D.m());for(var A=this.g.length+D.g.length,x=[],L=0;L<2*A;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<D.g.length;V++){var U=this.i(L)>>>16,O=this.i(L)&65535,ce=D.i(V)>>>16,Te=D.i(V)&65535;x[2*L+2*V]+=O*Te,P(x,2*L+2*V),x[2*L+2*V+1]+=U*Te,P(x,2*L+2*V+1),x[2*L+2*V+1]+=O*ce,P(x,2*L+2*V+1),x[2*L+2*V+2]+=U*ce,P(x,2*L+2*V+2)}for(L=0;L<A;L++)x[L]=x[2*L+1]<<16|x[2*L];for(L=A;L<2*A;L++)x[L]=0;return new l(x,0)};function P(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function F(D,A){if(I(A))throw Error("division by zero");if(I(D))return new M(v,v);if(S(D))return A=F(b(D),A),new M(b(A.g),b(A.h));if(S(A))return A=F(D,b(A)),new M(b(A.g),A.h);if(30<D.g.length){if(S(D)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var x=y,L=A;0>=L.l(D);)x=W(x),L=W(L);var V=z(x,1),U=z(L,1);for(L=z(L,2),x=z(x,2);!I(L);){var O=U.add(L);0>=O.l(D)&&(V=V.add(x),U=O),L=z(L,1),x=z(x,1)}return A=C(D,V.j(A)),new M(V,A)}for(V=v;0<=D.l(A);){for(x=Math.max(1,Math.floor(D.m()/A.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(x),O=U.j(A);S(O)||0<O.l(D);)x-=L,U=p(x),O=U.j(A);I(U)&&(U=y),V=V.add(U),D=C(D,O)}return new M(V,D)}n.A=function(D){return F(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],L=0;L<A;L++)x[L]=this.i(L)&D.i(L);return new l(x,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],L=0;L<A;L++)x[L]=this.i(L)|D.i(L);return new l(x,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),x=[],L=0;L<A;L++)x[L]=this.i(L)^D.i(L);return new l(x,this.h^D.h)};function W(D){for(var A=D.g.length+1,x=[],L=0;L<A;L++)x[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(x,D.h)}function z(D,A){var x=A>>5;A%=32;for(var L=D.g.length-x,V=[],U=0;U<L;U++)V[U]=0<A?D.i(U+x)>>>A|D.i(U+x+1)<<32-A:D.i(U+x);return new l(V,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,bs=l}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oP,wu,aP,hh,W_,lP,uP,cP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,T){return h==Array.prototype||h==Object.prototype||(h[_]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(h,_){if(_)e:{var T=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var K=h[N];if(!(K in T))break e;T=T[K]}h=h[h.length-1],N=T[h],_=_(N),_!=N&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var T=0,N=!1,K={next:function(){if(!N&&T<h.length){var J=T++;return{value:_(J,h[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(h){return h||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function v(h,_,T){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,N),h.apply(_,K)}}return function(){return h.apply(_,arguments)}}function y(h,_,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function E(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function I(h,_){function T(){}T.prototype=_.prototype,h.aa=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(N,K,J){for(var ue=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ue[Ye-2]=arguments[Ye];return _.prototype[K].apply(N,ue)}}function S(h){const _=h.length;if(0<_){const T=Array(_);for(let N=0;N<_;N++)T[N]=h[N];return T}return[]}function b(h,_){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(d(N)){const K=h.length||0,J=N.length||0;h.length=K+J;for(let ue=0;ue<J;ue++)h[K+ue]=N[ue]}else h.push(N)}}class C{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var W=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function z(h,_,T){for(const N in h)_.call(T,h[N],N,h)}function D(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function A(h){const _={};for(const T in h)_[T]=h[T];return _}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let T,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(T in N)h[T]=N[T];for(let J=0;J<x.length;J++)T=x[J],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function V(h){var _=1;h=h.split(":");const T=[];for(;0<_&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function U(h){u.setTimeout(()=>{throw h},0)}function O(){var h=de;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,T){const N=Te.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var Te=new C(()=>new _e,h=>h.reset());class _e{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ne=!1,de=new ce,le=()=>{const h=u.Promise.resolve(void 0);ye=()=>{h.then(H)}};var H=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(T){U(T)}var _=Te;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function Re(h,_){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(W){e:{try{F(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}I(Re,he);var Ne={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function He(h,_,T,N,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=K,this.key=++Oe,this.da=this.fa=!1}function mt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,_,T,N,K){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ue=Mn(h,_,N,K);return-1<ue?(_=h[ue],T||(_.fa=!1)):(_=new He(_,this.src,J,!!N,K),_.fa=T,h.push(_)),_};function $r(h,_){var T=_.type;if(T in h.g){var N=h.g[T],K=Array.prototype.indexOf.call(N,_,void 0),J;(J=0<=K)&&Array.prototype.splice.call(N,K,1),J&&(mt(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Mn(h,_,T,N){for(var K=0;K<h.length;++K){var J=h[K];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==N)return K}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),qe={};function Ln(h,_,T,N,K){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Ln(h,_[J],T,N,K);return null}return T=Fn(T),h&&h[Le]?h.K(_,T,p(N)?!!N.capture:!1,K):Ve(h,_,T,!1,N,K)}function Ve(h,_,T,N,K,J){if(!_)throw Error("Invalid event type");var ue=p(K)?!!K.capture:!!K,Ye=at(h);if(Ye||(h[vr]=Ye=new fn(h)),T=Ye.add(_,T,N,ue,J),T.proxy)return T;if(N=Vn(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)xe||(K=ue),K===void 0&&(K=!1),h.addEventListener(_.toString(),N,K);else if(h.attachEvent)h.attachEvent(Pt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Vn(){function h(T){return _.call(h.src,h.listener,T)}const _=Bt;return h}function pn(h,_,T,N,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)pn(h,_[J],T,N,K);else N=p(N)?!!N.capture:!!N,T=Fn(T),h&&h[Le]?(h=h.i,_=String(_).toString(),_ in h.g&&(J=h.g[_],T=Mn(J,T,N,K),-1<T&&(mt(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete h.g[_],h.h--)))):h&&(h=at(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Mn(_,T,N,K)),(T=-1<h?_[h]:null)&&xt(T))}function xt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Le])$r(_.i,h);else{var T=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(T,N,h.capture):_.detachEvent?_.detachEvent(Pt(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=at(_))?($r(T,h),T.h==0&&(T.src=null,_[vr]=null)):mt(h)}}}function Pt(h){return h in qe?qe[h]:qe[h]="on"+h}function Bt(h,_){if(h.da)h=!0;else{_=new Re(_,this);var T=h.listener,N=h.ha||h.src;h.fa&&xt(h),h=T.call(N,_)}return h}function at(h){return h=h[vr],h instanceof fn?h:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(h){return typeof h=="function"?h:(h[mn]||(h[mn]=function(_){return h.handleEvent(_)}),h[mn])}function lt(){Z.call(this),this.i=new fn(this),this.M=this,this.F=null}I(lt,Z),lt.prototype[Le]=!0,lt.prototype.removeEventListener=function(h,_,T,N){pn(this,h,_,T,N)};function rt(h,_){var T,N=h.F;if(N)for(T=[];N;N=N.F)T.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new he(_,h);else if(_ instanceof he)_.target=_.target||h;else{var K=_;_=new he(N,h),L(_,K)}if(K=!0,T)for(var J=T.length-1;0<=J;J--){var ue=_.g=T[J];K=kt(ue,N,!0,_)&&K}if(ue=_.g=h,K=kt(ue,N,!0,_)&&K,K=kt(ue,N,!1,_)&&K,T)for(J=0;J<T.length;J++)ue=_.g=T[J],K=kt(ue,N,!1,_)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var T=h.g[_],N=0;N<T.length;N++)mt(T[N]);delete h.g[_],h.h--}}this.F=null},lt.prototype.K=function(h,_,T,N){return this.i.add(String(h),_,!1,T,N)},lt.prototype.L=function(h,_,T,N){return this.i.add(String(h),_,!0,T,N)};function kt(h,_,T,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,J=0;J<_.length;++J){var ue=_[J];if(ue&&!ue.da&&ue.capture==T){var Ye=ue.listener,Dt=ue.ha||ue.src;ue.fa&&$r(h.i,ue),K=Ye.call(Dt,N)!==!1&&K}}return K&&!N.defaultPrevented}function Wi(h,_,T){if(typeof h=="function")T&&(h=y(h,T));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(h,_||0)}function yr(h){h.g=Wi(()=>{h.g=null,h.i&&(h.i=!1,yr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pi extends Z{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){Z.call(this),this.h=h,this.g={}}I(zr,Z);var wn=[];function jn(h){z(h.g,function(_,T){this.g.hasOwnProperty(T)&&xt(_)},h),h.g={}}zr.prototype.N=function(){zr.aa.N.call(this),jn(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=u.JSON.stringify,Il=u.JSON.parse,Rl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Hs(){}Hs.prototype.h=null;function Qo(h){return h.h||(h.h=h.i())}function Xo(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){he.call(this,"d")}I(Br,he);function Jo(){he.call(this,"c")}I(Jo,he);var Wr={},Al=null;function Gs(){return Al=Al||new lt}Wr.La="serverreachability";function Cl(h){he.call(this,Wr.La,h)}I(Cl,he);function mi(h){const _=Gs();rt(_,new Cl(_))}Wr.STAT_EVENT="statevent";function xl(h,_){he.call(this,Wr.STAT_EVENT,h),this.stat=_}I(xl,he);function _t(h){const _=Gs();rt(_,new xl(_,h))}Wr.Ma="timingevent";function Zo(h,_){he.call(this,Wr.Ma,h),this.size=_}I(Zo,he);function _r(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function Ys(h,_,T,N,K,J){h.info(function(){if(h.g)if(J)for(var ue="",Ye=J.split("&"),Dt=0;Dt<Ye.length;Dt++){var ze=Ye[Dt].split("=");if(1<ze.length){var jt=ze[0];ze=ze[1];var St=jt.split("_");ue=2<=St.length&&St[1]=="type"?ue+(jt+"="+ze+"&"):ue+(jt+"=redacted&")}}else ue=null;else ue=J;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+_+`
`+T+`
`+ue})}function ea(h,_,T,N,K,J,ue){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+_+`
`+T+`
`+J+" "+ue})}function wr(h,_,T,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+op(h,T)+(N?" "+N:"")})}function Pl(h,_){h.info(function(){return"TIMEOUT: "+_})}Ks.prototype.info=function(){};function op(h,_){if(!h.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var N=T[h];if(!(2>N.length)){var K=N[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ue=1;ue<K.length;ue++)K[ue]=""}}}}return bl(T)}catch{return _}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Qs(){}I(Qs,Hs),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Er=new Qs;function Tr(h,_,T,N){this.j=h,this.i=_,this.l=T,this.R=N||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oc}function Oc(){this.i=null,this.g="",this.h=!1}var kl={},na={};function ra(h,_,T){h.L=1,h.v=Qi(qn(_)),h.m=T,h.P=!0,Dl(h,null)}function Dl(h,_){h.F=Date.now(),et(h),h.A=qn(h.v);var T=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Ji(T.i,"t",N),h.C=0,T=h.j.J,h.h=new Oc,h.g=Jc(h.j,T?_:null,!h.m),0<h.O&&(h.M=new pi(y(h.Y,h,h.g),h.O)),_=h.U,T=h.g,N=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(wn[0]=K.toString()),K=wn);for(var J=0;J<K.length;J++){var ue=Ln(T,K[J],N||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),mi(),Ys(h.i,h.u,h.A,h.l,h.R,h.m)}Tr.prototype.ca=function(h){h=h.target;const _=this.M;_&&Tn(h)==3?_.j():this.Y(h)},Tr.prototype.Y=function(h){try{if(h==this.g)e:{const St=Tn(this.g);var _=this.g.Ba();const tr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||St!=4||_==7||(_==8||0>=tr?mi(3):mi(2)),Xs(this);var T=this.g.Z();this.X=T;t:if(Mc(this)){var N=Fl(this.g);h="";var K=N.length,J=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Hi(this);var ue="";break t}this.h.i=new u.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,h+=this.h.i.decode(N[_],{stream:!(J&&_==K-1)});N.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,ea(this.i,this.u,this.A,this.l,this.R,St,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Dt=this.g;if((Ye=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ye)){var ze=Ye;break t}}ze=null}if(T=ze)wr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,T);else{this.o=!1,this.s=3,_t(12),Zn(this),Hi(this);break e}}if(this.P){T=!0;let zn;for(;!this.J&&this.C<ue.length;)if(zn=ap(this,ue),zn==na){St==4&&(this.s=4,_t(14),T=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==kl){this.s=4,_t(15),wr(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else wr(this.i,this.l,zn,null),Nl(this,zn);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ue.length!=0||this.h.h||(this.s=1,_t(16),T=!1),this.o=this.o&&T,!T)wr(this.i,this.l,ue,"[Invalid Chunked Response]"),Zn(this),Hi(this);else if(0<ue.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ul(jt),jt.M=!0,_t(11))}}else wr(this.i,this.l,ue,null),Nl(this,ue);St==4&&Zn(this),this.o&&!this.J&&(St==4?pa(this.j,this):(this.o=!1,et(this)))}else ua(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Zn(this),Hi(this)}}}catch{}finally{}};function Mc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ap(h,_){var T=h.C,N=_.indexOf(`
`,T);return N==-1?na:(T=Number(_.substring(T,N)),isNaN(T)?kl:(N+=1,N+T>_.length?na:(_=_.slice(N,N+T),h.C=N+T,_)))}Tr.prototype.cancel=function(){this.J=!0,Zn(this)};function et(h){h.S=Date.now()+h.I,Lc(h,h.I)}function Lc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_r(y(h.ba,h),_)}function Xs(h){h.B&&(u.clearTimeout(h.B),h.B=null)}Tr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Pl(this.i,this.A),this.L!=2&&(mi(),_t(17)),Zn(this),this.s=2,Hi(this)):Lc(this,this.S-h)};function Hi(h){h.j.G==0||h.J||pa(h.j,h)}function Zn(h){Xs(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,jn(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Nl(h,_){try{var T=h.j;if(T.G!=0&&(T.g==h||gn(T.h,h))){if(!h.K&&gn(T.h,h)&&T.G==3){try{var N=T.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)fa(T),Ar(T);else break e;ha(T),_t(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=_r(y(T.Za,T),6e3));if(1>=Fc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else wi(T,11)}else if((h.K||T.g==h)&&fa(T),!P(_))for(K=T.Da.g.parse(_),_=0;_<K.length;_++){let ze=K[_];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const jt=ze[3];jt!=null&&(T.la=jt,T.j.info("VER="+T.la));const St=ze[4];St!=null&&(T.Aa=St,T.j.info("SVER="+T.Aa));const tr=ze[5];tr!=null&&typeof tr=="number"&&0<tr&&(N=1.5*tr,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const zn=h.g;if(zn){const io=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var J=N.h;J.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ol(J,J.h),J.h=null))}if(N.D){const ga=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(N.ya=ga,Xe(N.I,N.D,ga))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var ue=h;if(N.qa=Xc(N,N.J?N.ia:null,N.W),ue.K){jc(N.h,ue);var Ye=ue,Dt=N.L;Dt&&(Ye.I=Dt),Ye.B&&(Xs(Ye),et(Ye)),N.g=ue}else ro(N);0<T.i.length&&Yr(T)}else ze[0]!="stop"&&ze[0]!="close"||wi(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?wi(T,7):Ht(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}mi(4)}catch{}}var Vc=class{constructor(h,_){this.g=h,this.map=_}};function Js(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fc(h){return h.h?1:h.g?h.g.size:0}function gn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ol(h,_){h.g?h.g.add(_):h.h=_}function jc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Js.prototype.cancel=function(){if(this.i=Uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Uc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.D);return _}return S(h.i)}function ia(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],T=h.length,N=0;N<T;N++)_.push(h[N]);return _}_=[],T=0;for(N in h)_[T++]=h[N];return _}function sa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var T=0;T<h;T++)_.push(T);return _}_=[],T=0;for(const N in h)_[T++]=N;return _}}}function Gi(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var T=sa(h),N=ia(h),K=N.length,J=0;J<K;J++)_.call(void 0,N[J],T&&T[J],h)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lp(h,_){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var N=h[T].indexOf("="),K=null;if(0<=N){var J=h[T].substring(0,N);K=h[T].substring(N+1)}else J=h[T];_(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function gi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof gi){this.h=h.h,eo(this,h.j),this.o=h.o,this.g=h.g,Ki(this,h.s),this.l=h.l;var _=h.i,T=new Hr;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Yi(this,T),this.m=h.m}else h&&(_=String(h).match(Zs))?(this.h=!1,eo(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),Ki(this,_[4]),this.l=$e(_[5]||"",!0),Yi(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}gi.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Xi(_,oa,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Xi(_,oa,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xi(T,T.charAt(0)=="/"?zc:$c,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xi(T,Ml)),h.join("")};function qn(h){return new gi(h)}function eo(h,_,T){h.j=T?$e(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ki(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Yi(h,_,T){_ instanceof Hr?(h.i=_,Gr(h.i,h.h)):(T||(_=Xi(_,Bc)),h.i=new Hr(_,h.h))}function Xe(h,_,T){h.i.set(_,T)}function Qi(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xi(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,qc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oa=/[#\/\?@]/g,$c=/[#\?:]/g,zc=/[#\?]/g,Bc=/[#\?@]/g,Ml=/#/g;function Hr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Wt(h){h.g||(h.g=new Map,h.h=0,h.i&&lp(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Hr.prototype,n.add=function(h,_){Wt(this),this.i=null,h=er(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Sr(h,_){Wt(h),_=er(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function br(h,_){return Wt(h),_=er(h,_),h.g.has(_)}n.forEach=function(h,_){Wt(this),this.g.forEach(function(T,N){T.forEach(function(K){h.call(_,K,N,this)},this)},this)},n.na=function(){Wt(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let N=0;N<_.length;N++){const K=h[N];for(let J=0;J<K.length;J++)T.push(_[N])}return T},n.V=function(h){Wt(this);let _=[];if(typeof h=="string")br(this,h)&&(_=_.concat(this.g.get(er(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)_=_.concat(h[T])}return _},n.set=function(h,_){return Wt(this),this.i=null,h=er(this,h),br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ji(h,_,T){Sr(h,_),0<T.length&&(h.i=null,h.g.set(er(h,_),S(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var N=_[T];const J=encodeURIComponent(String(N)),ue=this.V(N);for(N=0;N<ue.length;N++){var K=J;ue[N]!==""&&(K+="="+encodeURIComponent(String(ue[N]))),h.push(K)}}return this.i=h.join("&")};function er(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Gr(h,_){_&&!h.j&&(Wt(h),h.i=null,h.g.forEach(function(T,N){var K=N.toLowerCase();N!=K&&(Sr(this,N),Ji(this,K,T))},h)),h.j=_}function up(h,_){const T=new Ks;if(u.Image){const N=new Image;N.onload=E(En,T,"TestLoadImage: loaded",!0,_,N),N.onerror=E(En,T,"TestLoadImage: error",!1,_,N),N.onabort=E(En,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=E(En,T,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function Wc(h,_){const T=new Ks,N=new AbortController,K=setTimeout(()=>{N.abort(),En(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(J=>{clearTimeout(K),J.ok?En(T,"TestPingServer: ok",!0,_):En(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),En(T,"TestPingServer: error",!1,_)})}function En(h,_,T,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(T)}catch{}}function cp(){this.g=new Rl}function Hc(h,_,T){const N=T||"";try{Gi(h,function(K,J){let ue=K;p(K)&&(ue=bl(K)),_.push(N+J+"="+encodeURIComponent(ue))})}catch(K){throw _.push(N+"type="+encodeURIComponent("_badmap")),K}}function vi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(vi,Hs),vi.prototype.g=function(){return new to(this.l,this.j)},vi.prototype.i=(function(h){return function(){return h}})({});function to(h,_){lt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(to,lt),n=to.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Rr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ir(this):Rr(this),this.readyState==3&&Gc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ir(this))},n.Qa=function(h){this.g&&(this.response=h,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Rr(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yi(h){let _="";return z(h,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function Zi(h,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=yi(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xe(h,_,T))}function ut(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ut,lt);var dp=/^https?$/i,Ll=["POST","PUT"];n=ut.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Qo(this.o):Qo(Er),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){no(this,J);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)T.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())T.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ll,_,void 0))||N||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of T)this.g.setRequestHeader(J,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){no(this,J)}};function no(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,aa(h),$n(h)}function aa(h){h.A||(h.A=!0,rt(h,"complete"),rt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,rt(this,"complete"),rt(this,"abort"),$n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vl(this):this.bb())},n.bb=function(){Vl(this)};function Vl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Tn(h)!=4||h.Z()!=2)){if(h.u&&Tn(h)==4)Wi(h.Ea,0,h);else if(rt(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=ue===0){var K=String(h.D).match(Zs)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),N=!dp.test(K?K.toLowerCase():"")}T=N}if(T)rt(h,"complete"),rt(h,"success");else{h.m=6;try{var J=2<Tn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",aa(h)}}finally{$n(h)}}}}function $n(h,_){if(h.g){la(h);const T=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||rt(h,"ready");try{T.onreadystatechange=N}catch{}}}function la(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Il(_)}};function Fl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(h){const _={};h=(h.g&&2<=Tn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(P(h[N]))continue;var T=V(h[N]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[K]||[];_[K]=J,J.push(T)}D(_,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function jl(h){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,h),this.cb=Kr("retryDelaySeedMs",1e4,h),this.Wa=Kr("forwardChannelMaxRetries",2,h),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(h&&h.concurrentRequestLimit),this.Da=new cp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jl.prototype,n.la=8,n.G=1,n.connect=function(h,_,T,N){_t(0),this.W=h,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=Xc(this,null,this.W),Yr(this)};function Ht(h){if(ca(h),h.G==3){var _=h.U++,T=qn(h.I);if(Xe(T,"SID",h.K),Xe(T,"RID",_),Xe(T,"TYPE","terminate"),_i(h,T),_=new Tr(h,h.j,_),_.L=2,_.v=Qi(qn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=Jc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),et(_)}Qc(h)}function Ar(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function ca(h){Ar(h),h.u&&(u.clearTimeout(h.u),h.u=null),fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Yr(h){if(!Un(h.h)&&!h.s){h.s=!0;var _=h.Ga;ye||le(),ne||(ye(),ne=!0),de.add(_,h),h.B=0}}function hp(h,_){return Fc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_r(y(h.Ga,h,_),Yc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new Tr(this,this.j,h);let J=this.o;if(this.S&&(J?(J=A(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=es(this,K,_),T=qn(this.I),Xe(T,"RID",h),Xe(T,"CVER",22),this.D&&Xe(T,"X-HTTP-Session-Id",this.D),_i(this,T),J&&(this.O?_="headers="+encodeURIComponent(String(yi(J)))+"&"+_:this.m&&Zi(T,this.m,J)),Ol(this.h,K),this.Ua&&Xe(T,"TYPE","init"),this.P?(Xe(T,"$req",_),Xe(T,"SID","null"),K.T=!0,ra(K,T,null)):ra(K,T,_),this.G=2}}else this.G==3&&(h?da(this,h):this.i.length==0||Un(this.h)||da(this))};function da(h,_){var T;_?T=_.l:T=h.U++;const N=qn(h.I);Xe(N,"SID",h.K),Xe(N,"RID",T),Xe(N,"AID",h.T),_i(h,N),h.m&&h.o&&Zi(N,h.m,h.o),T=new Tr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),_&&(h.i=_.D.concat(h.i)),_=es(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ol(h.h,T),ra(T,N,_)}function _i(h,_){h.H&&z(h.H,function(T,N){Xe(_,N,T)}),h.l&&Gi({},function(T,N){Xe(_,N,T)})}function es(h,_,T){T=Math.min(h.i.length,T);var N=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let J=-1;for(;;){const ue=["count="+T];J==-1?0<T?(J=K[0].g,ue.push("ofs="+J)):J=0:ue.push("ofs="+J);let Ye=!0;for(let Dt=0;Dt<T;Dt++){let ze=K[Dt].g;const jt=K[Dt].map;if(ze-=J,0>ze)J=Math.max(0,K[Dt].g-100),Ye=!1;else try{Hc(jt,ue,"req"+ze+"_")}catch{N&&N(jt)}}if(Ye){N=ue.join("&");break e}}}return h=h.i.splice(0,T),_.D=h,N}function ro(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ye||le(),ne||(ye(),ne=!0),de.add(_,h),h.v=0}}function ha(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_r(y(h.Fa,h),Yc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_r(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ar(this),Kc(this))};function Ul(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Kc(h){h.g=new Tr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=qn(h.qa);Xe(_,"RID","rpc"),Xe(_,"SID",h.K),Xe(_,"AID",h.T),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(_,"TO",h.ja),Xe(_,"TYPE","xmlhttp"),_i(h,_),h.m&&h.o&&Zi(_,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Qi(qn(_)),T.m=null,T.P=!0,Dl(T,h)}n.Za=function(){this.C!=null&&(this.C=null,Ar(this),ha(this),_t(19))};function fa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function pa(h,_){var T=null;if(h.g==_){fa(h),Ul(h),h.g=null;var N=2}else if(gn(h.h,_))T=_.D,jc(h.h,_),N=1;else return;if(h.G!=0){if(_.o)if(N==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var K=h.B;N=Gs(),rt(N,new Zo(N,T)),Yr(h)}else ro(h);else if(K=_.s,K==3||K==0&&0<_.X||!(N==1&&hp(h,_)||N==2&&ha(h)))switch(T&&0<T.length&&(_=h.h,_.i=_.i.concat(T)),K){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function Yc(h,_){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*_}function wi(h,_){if(h.j.info("Error code "+_),_==2){var T=y(h.fb,h),N=h.Xa;const K=!N;N=new gi(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||eo(N,"https"),Qi(N),K?up(N.toString(),T):Wc(N.toString(),T)}else _t(2);h.G=0,h.l&&h.l.sa(_),Qc(h),ca(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Qc(h){if(h.G=0,h.ka=[],h.l){const _=Uc(h.h);(_.length!=0||h.i.length!=0)&&(b(h.ka,_),b(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function Xc(h,_,T){var N=T instanceof gi?qn(T):new gi(T);if(N.g!="")_&&(N.g=_+"."+N.g),Ki(N,N.s);else{var K=u.location;N=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var J=new gi(null);N&&eo(J,N),_&&(J.g=_),K&&Ki(J,K),T&&(J.l=T),N=J}return T=h.D,_=h.ya,T&&_&&Xe(N,T,_),Xe(N,"VER",h.la),_i(h,N),N}function Jc(h,_,T){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ut(new vi({eb:T})):new ut(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ql(){}n=ql.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ma(){}ma.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){lt.call(this),this.g=new jl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!P(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Qr(this)}I(vn,lt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ht(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=bl(h),h=T);_.i.push(new Vc(_.Ya++,h)),_.G==3&&Yr(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,vn.aa.N.call(this)};function Zc(h){Br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}I(Zc,Br);function ed(){Jo.call(this),this.status=1}I(ed,Jo);function Qr(h){this.g=h}I(Qr,ql),Qr.prototype.ua=function(){rt(this.g,"a")},Qr.prototype.ta=function(h){rt(this.g,new Zc(h))},Qr.prototype.sa=function(h){rt(this.g,new ed)},Qr.prototype.ra=function(){rt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,cP=function(){return new ma},uP=function(){return Gs()},lP=Wr,W_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,hh=ta,Nc.COMPLETE="complete",aP=Nc,Xo.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,wu=Xo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,oP=ut}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const gS="@firebase/firestore",vS="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Dw("@firebase/firestore");function Fa(){return Do.logLevel}function me(n,...e){if(Do.logLevel<=je.DEBUG){const t=e.map(Hw);Do.debug(`Firestore (${fl}): ${n}`,...t)}}function ji(n,...e){if(Do.logLevel<=je.ERROR){const t=e.map(Hw);Do.error(`Firestore (${fl}): ${n}`,...t)}}function As(n,...e){if(Do.logLevel<=je.WARN){const t=e.map(Hw);Do.warn(`Firestore (${fl}): ${n}`,...t)}}function Hw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dP(n,r,t)}function dP(n,e,t){let r=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ji(r),new Error(r)}function Ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||dP(e,i,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class iF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sF{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new hP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class oF{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aF{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oF(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function H_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Me(r,i);{const o=fP(),l=cF(o.encode(_S(n,t)),o.encode(_S(e,t)));return l!==0?l:Me(r,i)}}t+=r>65535?2:1}return Me(n.length,e.length)}function _S(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cF(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__name__";class ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ce(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=ni.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Me(e.length,t.length)}static compareSegments(e,t){const r=ni.isNumericId(e),i=ni.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ni.extractNumericId(e).compare(ni.extractNumericId(t)):H_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class nt extends ni{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const dF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ni{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return dF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wS}static keyField(){return new Qt([wS])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(nt.fromString(e))}static fromName(e){return new Se(nt.fromString(e).popFirst(5))}static empty(){return new Se(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hF(n,e,t,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ES(n){if(!Se.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TS(n){if(Se.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mf(n);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,e){const t={typeString:n};return e&&(t.value=e),t}function mc(n,e){if(!mP(n))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=-62135596800,bS=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*bS);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SS)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bS}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:At("string",Ze._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ze(0,0))}static max(){return new ke(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function fF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Cs(i,Se.empty(),e)}function pF(n){return new Cs(n.readTime,n.key,qu)}class Cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cs(ke.min(),Se.empty(),qu)}static max(){return new Cs(ke.max(),Se.empty(),qu)}}function mF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==gF)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&t()}),(d=>r(d)))})),l=!0,o===i&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((i=>i?te.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next((m=>{l[p]=m,++u,u===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new te(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function yF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=-1;function vf(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function _F(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="";function wF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IS(e)),e=EF(n.get(t),e);return IS(e)}function EF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case gP:t+="";break;default:t+=o}}return t}function IS(n){return n+gP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Yt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AS(this.data.getIterator())}getIteratorFrom(e){return new AS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class AS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Mt(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yP("Invalid base64 string: "+o):o}})(e);return new Xt(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const TF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=TF.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="server_timestamp",wP="__type__",EP="__previous_value__",TP="__local_write_time__";function Yw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[wP])===null||t===void 0?void 0:t.stringValue)===_P}function yf(n){const e=n.mapValue.fields[EP];return Yw(e)?yf(e):e}function $u(n){const e=xs(n.mapValue.fields[TP].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,t,r,i,o,l,u,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const Uh="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||Uh}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__type__",bF="__max__",Zd={mapValue:{}},bP="__vector__",qh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yw(n)?4:RF(n)?9007199254740991:IF(n)?10:11:Ce(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $u(n).isEqual($u(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=xs(i.timestampValue),u=xs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ps(i.bytesValue).isEqual(Ps(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Et(i.doubleValue),u=Et(o.doubleValue);return l===u?jh(l)===jh(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(RS(l)!==RS(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!di(l[d],u[d])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Bu(n,e){return(n.values||[]).find((t=>di(t,e)))!==void 0}function Xa(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Et(o.integerValue||o.doubleValue),d=Et(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return CS(n.timestampValue,e.timestampValue);case 4:return CS($u(n),$u(e));case 5:return H_(n.stringValue,e.stringValue);case 6:return(function(o,l){const u=Ps(o),d=Ps(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const m=Me(u[p],d[p]);if(m!==0)return m}return Me(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Me(Et(o.latitude),Et(l.latitude));return u!==0?u:Me(Et(o.longitude),Et(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return xS(n.arrayValue,e.arrayValue);case 10:return(function(o,l){var u,d,p,m;const v=o.fields||{},y=l.fields||{},E=(u=v[qh])===null||u===void 0?void 0:u.arrayValue,I=(d=y[qh])===null||d===void 0?void 0:d.arrayValue,S=Me(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:xS(E,I)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Zd.mapValue&&l===Zd.mapValue)return 0;if(o===Zd.mapValue)return 1;if(l===Zd.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const y=H_(d[v],m[v]);if(y!==0)return y;const E=Xa(u[d[v]],p[m[v]]);if(E!==0)return E}return Me(d.length,m.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{le:t})}}function CS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=xs(n),r=xs(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function xS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Me(t.length,r.length)}function Ja(n){return G_(n)}function G_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=xs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ps(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=G_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${G_(t.fields[l])}`;return i+"}"})(n.mapValue):Ce(61005,{value:n})}function fh(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(n);return e?16+fh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+fh(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return qs(r.fields,((o,l)=>{i+=o.length+fh(l)})),i})(n.mapValue);default:throw Ce(13486,{value:n})}}function PS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function K_(n){return!!n&&"integerValue"in n}function Qw(n){return!!n&&"arrayValue"in n}function kS(n){return!!n&&"nullValue"in n}function DS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ph(n){return!!n&&"mapValue"in n}function IF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[SP])===null||t===void 0?void 0:t.stringValue)===bP}function Pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Pu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Pu(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){qs(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Pn(Pu(this.value))}}function IP(n){const e=[];return qs(n.fields,((t,r)=>{const i=new Qt([t]);if(ph(r)){const o=IP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new ln(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new ln(e,2,t,ke.min(),ke.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ke.min(),ke.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.position=e,this.inclusive=t}}function NS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=Xa(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function AF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{}class Rt extends RP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xF(e,t,r):t==="array-contains"?new DF(e,r):t==="in"?new NF(e,r):t==="not-in"?new OF(e,r):t==="array-contains-any"?new MF(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PF(e,r):new kF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends RP{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Fr(e,t)}matches(e){return AP(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function AP(n){return n.op==="and"}function CP(n){return CF(n)&&AP(n)}function CF(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function Y_(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(CP(n))return n.filters.map((e=>Y_(e))).join(",");{const e=n.filters.map((t=>Y_(t))).join(",");return`${n.op}(${e})`}}function xP(n,e){return n instanceof Rt?(function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)})(n,e):n instanceof Fr?(function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&xP(l,i.filters[u])),!0):!1})(n,e):void Ce(19439)}function PP(n){return n instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`})(n):n instanceof Fr?(function(t){return t.op.toString()+" {"+t.getFilters().map(PP).join(" ,")+"}"})(n):"Filter"}class xF extends Rt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class PF extends Rt{constructor(e,t){super(e,"in",t),this.keys=kP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kF extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=kP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Se.fromName(r.referenceValue)))}class DF extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qw(t)&&Bu(t.arrayValue,this.value)}}class NF extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class OF extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class MF extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function MS(n,e=null,t=[],r=[],i=null,o=null,l=null){return new LF(n,e,t,r,i,o,l)}function Xw(n){const e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Y_(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ja(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ja(r))).join(",")),e.Pe=t}return e.Pe}function Jw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OS(n.startAt,e.startAt)&&OS(n.endAt,e.endAt)}function Q_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function VF(n,e,t,r,i,o,l,u){return new gc(n,e,t,r,i,o,l,u)}function _f(n){return new gc(n)}function LS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DP(n){return n.collectionGroup!==null}function ku(n){const e=De(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mt(Qt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new zh(o,r))})),t.has(Qt.keyField().canonicalString())||e.Te.push(new zh(Qt.keyField(),r))}return e.Te}function si(n){const e=De(n);return e.Ie||(e.Ie=FF(e,ku(n))),e.Ie}function FF(n,e){if(n.limitType==="F")return MS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new zh(i.field,o)}));const t=n.endAt?new $h(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $h(n.startAt.position,n.startAt.inclusive):null;return MS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function X_(n,e){const t=n.filters.concat([e]);return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function J_(n,e,t){return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wf(n,e){return Jw(si(n),si(e))&&n.limitType===e.limitType}function NP(n){return`${Xw(si(n))}|lt:${n.limitType}`}function ja(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>PP(i))).join(", ")}]`),vf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Ja(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Ja(i))).join(",")),`Target(${r})`})(si(n))}; limitType=${n.limitType})`}function Ef(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const p=NS(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,ku(r),i)||r.endAt&&!(function(l,u,d){const p=NS(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,ku(r),i))})(n,e)}function jF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OP(n){return(e,t)=>{let r=!1;for(const i of ku(n)){const o=UF(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function UF(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?Xa(d,p):Ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return vP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new pt(Se.comparator);function Ui(){return qF}const MP=new pt(Se.comparator);function Eu(...n){let e=MP;for(const t of n)e=e.insert(t.key,t);return e}function LP(n){let e=MP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function So(){return Du()}function VP(){return Du()}function Du(){return new Ho((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $F=new pt(Se.comparator),zF=new Mt(Se.comparator);function Ue(...n){let e=zF;for(const t of n)e=e.add(t);return e}const BF=new Mt(Me);function WF(){return BF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function FP(n){return{integerValue:""+n}}function HF(n,e){return _F(e)?FP(e):Zw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function GF(n,e,t){return n instanceof Bh?(function(i,o){const l={fields:{[wP]:{stringValue:_P},[TP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Yw(o)&&(o=yf(o)),o&&(l.fields[EP]=o),{mapValue:l}})(t,e):n instanceof Za?UP(n,e):n instanceof Wu?qP(n,e):(function(i,o){const l=jP(i,o),u=VS(l)+VS(i.Ee);return K_(l)&&K_(i.Ee)?FP(u):Zw(i.serializer,u)})(n,e)}function KF(n,e,t){return n instanceof Za?UP(n,e):n instanceof Wu?qP(n,e):t}function jP(n,e){return n instanceof Wh?(function(r){return K_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Bh extends Tf{}class Za extends Tf{constructor(e){super(),this.elements=e}}function UP(n,e){const t=$P(e);for(const r of n.elements)t.some((i=>di(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Wu extends Tf{constructor(e){super(),this.elements=e}}function qP(n,e){let t=$P(e);for(const r of n.elements)t=t.filter((i=>!di(i,r)));return{arrayValue:{values:t}}}class Wh extends Tf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function VS(n){return Et(n.integerValue||n.doubleValue)}function $P(n){return Qw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,t){this.field=e,this.transform=t}}function QF(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Za&&i instanceof Za||r instanceof Wu&&i instanceof Wu?Qa(r.elements,i.elements,di):r instanceof Wh&&i instanceof Wh?di(r.Ee,i.Ee):r instanceof Bh&&i instanceof Bh})(n.transform,e.transform)}class XF{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sf{}function zP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new e0(n.key,Vr.none()):new vc(n.key,n.data,Vr.none());{const t=n.data,r=Pn.empty();let i=new Mt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new $s(n.key,r,new Kn(i.toArray()),Vr.none())}}function JF(n,e,t){n instanceof vc?(function(i,o,l){const u=i.value.clone(),d=jS(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof $s?(function(i,o,l){if(!mh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=jS(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(BP(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Nu(n,e,t,r){return n instanceof vc?(function(o,l,u,d){if(!mh(o.precondition,l))return u;const p=o.value.clone(),m=US(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof $s?(function(o,l,u,d){if(!mh(o.precondition,l))return u;const p=US(o.fieldTransforms,d,l),m=l.data;return m.setAll(BP(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,l,u){return mh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function ZF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=jP(r.transform,i||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function FS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,((o,l)=>QF(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vc extends Sf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Sf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function jS(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,KF(l,u,t[i]))}return r}function US(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,GF(o,l,e))}return r}class e0 extends Sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e6 extends Sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&JF(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=VP();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=zP(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,((t,r)=>FS(t,r)))&&Qa(this.baseMutations,e.baseMutations,((t,r)=>FS(t,r)))}}class t0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return $F})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new t0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n6=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function i6(n){switch(n){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function WP(n){if(n===void 0)return ji("GRPC error has no .code"),ee.UNKNOWN;switch(n){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:n})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new bs([4294967295,4294967295],0);function qS(n){const e=fP().encode(n),t=new sP;return t.update(e),new Uint8Array(t.digest())}function $S(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([t,r],0),new bs([i,o],0)]}class n0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(r<0)throw new Tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=bs.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(bs.fromNumber(r)));return i.compare(s6)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=qS(e),[r,i]=$S(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new n0(o,i,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.fe===0)return;const t=qS(e),[r,i]=$S(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bf(ke.min(),i,new pt(Me),Ui(),Ue())}}class yc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class HP{constructor(e,t){this.targetId=e,this.De=t}}class GP{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zS{constructor(){this.ve=0,this.Ce=BS(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),t=Ue(),r=Ue();return this.Ce.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:o})}})),new yc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=BS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class o6{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=eh(),this.Je=eh(),this.He=new pt(Me)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,i)=>{this.nt(i)&&t(i)}))}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const o=i.target;if(Q_(o))if(r===0){const l=new Se(o.path);this.Xe(t,l,ln.newNoDocument(l,ke.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),d=u?this.ut(u,e,l):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Ps(r).toUint8Array()}catch(d){if(d instanceof yP)return As("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new n0(l,i,o)}catch(d){return As(d instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,o,null),i++)})),i}Pt(e){const t=new Map;this.Ge.forEach(((o,l)=>{const u=this.st(l);if(u){if(o.current&&Q_(u.target)){const d=new Se(u.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,ln.newNoDocument(d,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}}));let r=Ue();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.ze.forEach(((o,l)=>l.setReadTime(e)));const i=new bf(e,t,this.He,this.ze,r);return this.ze=Ui(),this.je=eh(),this.Je=eh(),this.He=new pt(Me),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new zS,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Me),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Me),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new zS),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function eh(){return new pt(Se.comparator)}function BS(){return new pt(Se.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class c6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Z_(n,e){return n.useProto3Json||vf(e)?e:{value:e}}function Hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function d6(n,e){return Hh(n,e.toTimestamp())}function oi(n){return Ke(!!n,49232),ke.fromTimestamp((function(t){const r=xs(t);return new Ze(r.seconds,r.nanos)})(n))}function r0(n,e){return ew(n,e).canonicalString()}function ew(n,e){const t=(function(i){return new nt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function YP(n){const e=nt.fromString(n);return Ke(ek(e),10190,{key:e.toString()}),e}function tw(n,e){return r0(n.databaseId,e.path)}function Hm(n,e){const t=YP(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(XP(t))}function QP(n,e){return r0(n.databaseId,e)}function h6(n){const e=YP(n);return e.length===4?nt.emptyPath():XP(e)}function nw(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XP(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WS(n,e,t){return{name:tw(n,e),fields:t.value.mapValue.fields}}function f6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string",58123),Xt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xt.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?ee.UNKNOWN:WP(p.code);return new fe(m,p.message||"")})(l);t=new GP(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hm(n,r.document.name),o=oi(r.document.updateTime),l=r.document.createTime?oi(r.document.createTime):ke.min(),u=new Pn({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new gh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hm(n,r.document),o=r.readTime?oi(r.readTime):ke.min(),l=ln.newNoDocument(i,o),u=r.removedTargetIds||[];t=new gh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hm(n,r.document),o=r.removedTargetIds||[];t=new gh([],o,i,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new r6(i,o),u=r.targetId;t=new HP(u,l)}}return t}function p6(n,e){let t;if(e instanceof vc)t={update:WS(n,e.key,e.value)};else if(e instanceof e0)t={delete:tw(n,e.key)};else if(e instanceof $s)t={update:WS(n,e.key,e.data),updateMask:S6(e.fieldMask)};else{if(!(e instanceof e6))return Ce(16599,{Rt:e.type});t={verify:tw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof Bh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Za)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Wh)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:d6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce(27497)})(n,e.precondition)),t}function m6(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(i,o){let l=i.updateTime?oi(i.updateTime):oi(o);return l.isEqual(ke.min())&&(l=oi(o)),new XF(l,i.transformResults||[])})(t,e)))):[]}function g6(n,e){return{documents:[QP(n,e.path)]}}function v6(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QP(n,i);const o=(function(p){if(p.length!==0)return ZP(Fr.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((m=>(function(y){return{field:Ua(y.field),direction:w6(y.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Z_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:t,parent:i}}function y6(n){let e=h6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ke(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(v){const y=JP(v);return y instanceof Fr&&CP(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((y=>(function(I){return new zh(qa(I.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(y)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let y;return y=typeof v=="object"?v.value:v,vf(y)?null:y})(t.limit));let d=null;t.startAt&&(d=(function(v){const y=!!v.before,E=v.values||[];return new $h(E,y)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const y=!v.before,E=v.values||[];return new $h(E,y)})(t.endAt)),VF(e,i,l,o,u,"F",d,p)}function _6(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qa(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qa(t.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rt.create(qa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fr.create(t.compositeFilter.filters.map((r=>JP(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(n):Ce(30097,{filter:n})}function w6(n){return a6[n]}function E6(n){return l6[n]}function T6(n){return u6[n]}function Ua(n){return{fieldPath:n.canonicalString()}}function qa(n){return Qt.fromServerFormat(n.fieldPath)}function ZP(n){return n instanceof Rt?(function(t){if(t.op==="=="){if(DS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NAN"}};if(kS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NAN"}};if(kS(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(t.field),op:E6(t.op),value:t.value}}})(n):n instanceof Fr?(function(t){const r=t.getFilters().map((i=>ZP(i)));return r.length===1?r[0]:{compositeFilter:{op:T6(t.op),filters:r}}})(n):Ce(54877,{filter:n})}function S6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ek(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r,i,o=ke.min(),l=ke.min(),u=Xt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.gt=e}}function I6(n){const e=y6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?J_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.Dn=new A6}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Cs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class A6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tk=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(tk,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new el(0)}static ur(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="LruGarbageCollector",C6=1048576;function KS([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class x6{constructor(e){this.Tr=e,this.buffer=new Mt(KS),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();KS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class P6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(GS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?me(GS,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Rr(3e5)}))}}class k6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(gf.ue);const r=new x6(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(HS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HS):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,l,u,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Fa()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v}))))}}function D6(n,e){return new k6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.changes=new Ho((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Nu(r.mutation,i,Kn.empty(),Ze.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const i=So();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let l=Eu();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=So();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,i){let o=Ui();const l=Du(),u=(function(){return Du()})();return t.forEach(((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof $s)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Nu(m.mutation,p,m.mutation.getFieldMask(),Ze.now())):l.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>{var v;return u.set(p,new O6(m,(v=l.get(p))!==null&&v!==void 0?v:null))})),u)))}recalculateAndSaveOverlays(e,t){const r=Du();let i=new pt(((l,u)=>l-u)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Kn.empty();m=u.applyToLocalView(p,m),r.set(d,m);const v=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,m=d.value,v=VP();m.forEach((y=>{if(!o.has(y)){const E=zP(t.get(y),r.get(y));E!==null&&v.set(y,E),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):te.resolve(So());let u=qu,d=o;return l.next((p=>te.forEach(p,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{d=d.insert(m,y)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Ue()))).next((m=>({batchId:u,changes:LP(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let i=Eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Eu();return this.indexManager.getCollectionParents(e,o).next((u=>te.forEach(u,(d=>{const p=(function(v,y){return new gc(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((m=>{m.forEach(((v,y)=>{l=l.insert(v,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((l=>{o.forEach(((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))}));let u=Eu();return l.forEach(((d,p)=>{const m=o.get(d);m!==void 0&&Nu(m.mutation,p,Kn.empty(),Ze.now()),Ef(t,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:oi(i.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:I6(i.bundledQuery),readTime:oi(i.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.overlays=new pt(Se.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=So();return te.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.wt(e,t,o)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=So(),o=t.length+1,l=new Se(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new pt(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=So(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=So(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=i)););return te.resolve(u)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new n6(t,r));let o=this.kr.get(t);o===void 0&&(o=Ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.qr=new Mt(zt.Qr),this.$r=new Mt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new zt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Se(new nt([])),r=new zt(t,e),i=new zt(t,e+1),o=[];return this.$r.forEachInRange([r,i],(l=>{this.Wr(l),o.push(l.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Se(new nt([])),r=new zt(t,e),i=new zt(t,e+1);let o=Ue();return this.$r.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new zt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Se.comparator(e.key,t.key)||Me(e.Hr,t.Hr)}static Ur(e,t){return Me(e.Hr,t.Hr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(zt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new t6(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Yr=this.Yr.add(new zt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Kw:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);o.push(u)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Me);return t.forEach((i=>{const o=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Se.isDocumentKey(o)||(o=o.child(""));const l=new zt(new Se(o),0);let u=new Mt(Me);return this.Yr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.Hr)),!0)}),l),te.resolve(this.ei(u))}ei(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(t.mutations,(i=>{const o=new zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new zt(t,0),i=this.Yr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.ni=e,this.docs=(function(){return new pt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Ui();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ui();const l=t.path,u=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||mF(pF(m),r)<=0||(i.has(m.key)||Ef(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ce(9500)}ri(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new q6(this)}getSize(e){return te.resolve(this.size)}}class q6 extends N6{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.persistence=e,this.ii=new Ho((t=>Xw(t)),Jw),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new i0,this.targetCount=0,this._i=el.ar()}forEachTarget(e,t){return this.ii.forEach(((r,i)=>t(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new el(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),te.waitFor(o).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.ai={},this.overlays={},this.ui=new gf(0),this.ci=!1,this.ci=!0,this.li=new F6,this.referenceDelegate=e(this),this.hi=new $6(this),this.indexManager=new R6,this.remoteDocumentCache=(function(i){return new U6(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new b6(t),this.Ti=new L6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new j6(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new z6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,t){return te.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class z6 extends vF{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Ai=new i0,this.Ri=null}static Vi(e){return new s0(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(r=>{const i=Se.fromPath(r);return this.fi(e,i).next((o=>{o||t.removeEntry(i,ke.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Gh{constructor(e,t){this.persistence=e,this.gi=new Ho((r=>wF(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=D6(this,t)}static Vi(e,t){return new Gh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return te.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((o=>o?te.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,(l=>this.Sr(e,l,t).next((u=>{u||(r++,o.removeEntry(l,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}Sr(e,t,r){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ue(),i=Ue();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new o0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return bM()?8:yF(cn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ps(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ys(e,t,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new B6;return this.ws(e,t,l).next((u=>{if(o.result=u,this.Rs)return this.Ss(e,t,l,u.size)}))})).next((()=>o.result))}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Fa()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Fa()<=je.DEBUG&&me("QueryEngine","Query:",ja(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Fa()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(t))):te.resolve())}ps(e,t){if(LS(t))return te.resolve(null);let r=si(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=J_(t,null,"F"),r=si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ue(...o);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(t,u);return this.Ds(t,p,l,d.readTime)?this.ps(e,J_(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ys(e,t,r,i){return LS(t)||i.isEqual(ke.min())?te.resolve(null):this.gs.getDocuments(e,r).next((o=>{const l=this.bs(t,o);return this.Ds(t,l,r,i)?te.resolve(null):(Fa()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(t)),this.vs(e,l,t,fF(i,qu)).next((u=>u)))}))}bs(e,t){let r=new Mt(OP(e));return t.forEach(((i,o)=>{Ef(e,o)&&(r=r.add(o))})),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Fa()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ja(t)),this.gs.getDocumentsMatchingQuery(e,t,Cs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LocalStore",H6=3e8;class G6{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new pt(Me),this.Ms=new Ho((o=>Xw(o)),Jw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function K6(n,e,t,r){return new G6(n,e,t,r)}async function rk(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let d=Ue();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Bs:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function Y6(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,m){const v=p.batch,y=v.keys();let E=te.resolve();return y.forEach((I=>{E=E.next((()=>m.getEntry(d,I))).next((S=>{const b=p.docVersions.get(I);Ke(b!==null,48541),S.version.compareTo(b)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Ue();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function ik(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Q6(n,e){const t=De(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const u=[];e.targetChanges.forEach(((m,v)=>{const y=i.get(v);if(!y)return;u.push(t.hi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>t.hi.addMatchingKeys(o,m.addedDocuments,v))));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Xt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),(function(S,b,C){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=H6?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,E,m)&&u.push(t.hi.updateTargetData(o,E))}));let d=Ui(),p=Ue();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(X6(o,l,e.documentUpdates).next((m=>{d=m.Ls,p=m.ks}))),!r.isEqual(ke.min())){const m=t.hi.getLastRemoteSnapshotVersion(o).next((v=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(m)}return te.waitFor(u).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(t.Fs=i,o)))}function X6(n,e,t){let r=Ue(),i=Ue();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Ui();return t.forEach(((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):me(a0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{Ls:l,ks:i}}))}function J6(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Kw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Z6(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.hi.getTargetData(r,e).next((o=>o?(i=o,te.resolve(i)):t.hi.allocateTargetId(r).next((l=>(i=new ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function rw(n,e,t){const r=De(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ml(l))throw l;me(a0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function YS(n,e,t){const r=De(n);let i=ke.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,m){const v=De(d),y=v.Ms.get(m);return y!==void 0?te.resolve(v.Fs.get(y)):v.hi.getTargetData(p,m)})(r,l,si(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:Ue()))).next((u=>(e3(r,jF(e),u),{documents:u,qs:o})))))}function e3(n,e,t){let r=n.xs.get(e)||ke.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.xs.set(e,r)}class QS{constructor(){this.activeTargetIds=WF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t3{constructor(){this.Fo=new QS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new QS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="ConnectivityMonitor";class JS{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(XS,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(XS,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function iw(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i3{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const l=iw(),u=this.Go(e,t.toUriEncodedString());me(Gm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:p}=new URL(u),m=cl(p);return this.jo(e,u,d,r,m).then((v=>(me(Gm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw As(Gm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Jo(e,t,r,i,o,l){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Go(e,t){const r=r3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class o3 extends i3{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){const l=iw();return new Promise(((u,d)=>{const p=new oP;p.setWithCredentials(!0),p.listenOnce(aP.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const v=p.getResponseJson();me(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case hh.TIMEOUT:me(sn,`RPC '${e}' ${l} timed out`),d(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const y=p.getStatus();if(me(sn,`RPC '${e}' ${l} failed with status:`,y,"response text:",p.getResponseText()),y>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const S=(function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(P)>=0?P:ee.UNKNOWN})(I.status);d(new fe(S,I.message))}else d(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{me(sn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);me(sn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",m,r,15)}))}P_(e,t,r){const i=iw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cP(),u=uP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");me(sn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);this.T_(v);let y=!1,E=!1;const I=new s3({Ho:b=>{E?me(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(me(sn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),me(sn,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Yo:()=>v.close()}),S=(b,C,P)=>{b.listen(C,(M=>{try{P(M)}catch(F){setTimeout((()=>{throw F}),0)}}))};return S(v,wu.EventType.OPEN,(()=>{E||(me(sn,`RPC '${e}' stream ${i} transport opened.`),I.s_())})),S(v,wu.EventType.CLOSE,(()=>{E||(E=!0,me(sn,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(v))})),S(v,wu.EventType.ERROR,(b=>{E||(E=!0,As(sn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),I.__(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),S(v,wu.EventType.MESSAGE,(b=>{var C;if(!E){const P=b.data[0];Ke(!!P,16349);const M=P,F=(M==null?void 0:M.error)||((C=M[0])===null||C===void 0?void 0:C.error);if(F){me(sn,`RPC '${e}' stream ${i} received error:`,F);const W=F.status;let z=(function(x){const L=It[x];if(L!==void 0)return WP(L)})(W),D=F.message;z===void 0&&(z=ee.INTERNAL,D="Unknown error status: "+W+" with message "+F.message),E=!0,I.__(new fe(z,D)),v.close()}else me(sn,`RPC '${e}' stream ${i} received:`,P),I.a_(P)}})),S(u,lP.STAT_EVENT,(b=>{b.stat===W_.PROXY?me(sn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===W_.NOPROXY&&me(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.o_()}),0),I}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n){return new c6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="PersistentStream";class ok{constructor(e,t,r,i,o,l,u,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sk(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===t&&this.W_(r,i)}),(r=>{e((()=>{const i=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return me(ZS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(me(ZS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a3 extends ok{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=f6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?oi(l.readTime):ke.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=nw(this.serializer),t.addTarget=(function(o,l){let u;const d=l.target;if(u=Q_(d)?{documents:g6(o,d)}:{query:v6(o,d).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=KP(o,l.resumeToken);const p=Z_(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){u.readTime=Hh(o,l.snapshotVersion.toTimestamp());const p=Z_(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=_6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=nw(this.serializer),t.removeTarget=e,this.k_(t)}}class l3 extends ok{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=m6(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=nw(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>p6(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class c3 extends u3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,ew(t,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ee.UNKNOWN,o.toString())}))}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,ew(t,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ee.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class d3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(t),this._a=!1):me("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class h3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{Go(this)&&(me(No,"Restarting streams for network reachability change."),await(async function(d){const p=De(d);p.Ia.add(4),await _c(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Rf(p)})(this))}))})),this.Aa=new d3(r,i)}}async function Rf(n){if(Go(n))for(const e of n.da)await e(!0)}async function _c(n){for(const e of n.da)await e(!1)}function ak(n,e){const t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),d0(t)?c0(t):gl(t).x_()&&u0(t,e))}function l0(n,e){const t=De(n),r=gl(t);t.Ta.delete(e),r.x_()&&lk(t,e),t.Ta.size===0&&(r.x_()?r.B_():Go(t)&&t.Aa.set("Unknown"))}function u0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(n).H_(e)}function lk(n,e){n.Ra.$e(e),gl(n).Y_(e)}function c0(n){n.Ra=new o6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),gl(n).start(),n.Aa.aa()}function d0(n){return Go(n)&&!gl(n).M_()&&n.Ta.size>0}function Go(n){return De(n).Ia.size===0}function uk(n){n.Ra=void 0}async function f3(n){n.Aa.set("Online")}async function p3(n){n.Ta.forEach(((e,t)=>{u0(n,e)}))}async function m3(n,e){uk(n),d0(n)?(n.Aa.la(e),c0(n)):n.Aa.set("Unknown")}async function g3(n,e,t){if(n.Aa.set("Online"),e instanceof GP&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ta.delete(u),i.Ra.removeTarget(u))})(n,e)}catch(r){me(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(n,r)}else if(e instanceof gh?n.Ra.Ye(e):e instanceof HP?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ke.min()))try{const r=await ik(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ta.get(p);m&&o.Ta.set(p,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const m=o.Ta.get(d);if(!m)return;o.Ta.set(d,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),lk(o,d);const v=new ws(m.target,d,p,m.sequenceNumber);u0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){me(No,"Failed to raise snapshot:",r),await Kh(n,r)}}async function Kh(n,e,t){if(!ml(e))throw e;n.Ia.add(1),await _c(n),n.Aa.set("Offline"),t||(t=()=>ik(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(No,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Rf(n)}))}function ck(n,e){return e().catch((t=>Kh(n,t,e)))}async function Af(n){const e=De(n),t=Ds(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kw;for(;v3(e);)try{const i=await J6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,y3(e,i)}catch(i){await Kh(e,i)}dk(e)&&hk(e)}function v3(n){return Go(n)&&n.Pa.length<10}function y3(n,e){n.Pa.push(e);const t=Ds(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function dk(n){return Go(n)&&!Ds(n).M_()&&n.Pa.length>0}function hk(n){Ds(n).start()}async function _3(n){Ds(n).na()}async function w3(n){const e=Ds(n);for(const t of n.Pa)e.X_(t.mutations)}async function E3(n,e,t){const r=n.Pa.shift(),i=t0.from(r,e,t);await ck(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Af(n)}async function T3(n,e){e&&Ds(n).Z_&&await(async function(r,i){if((function(l){return i6(l)&&l!==ee.ABORTED})(i.code)){const o=r.Pa.shift();Ds(r).N_(),await ck(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Af(r)}})(n,e),dk(n)&&hk(n)}async function eb(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),me(No,"RemoteStore received new credentials");const r=Go(t);t.Ia.add(3),await _c(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Rf(t)}async function S3(n,e){const t=De(n);e?(t.Ia.delete(2),await Rf(t)):e||(t.Ia.add(2),await _c(t),t.Aa.set("Unknown"))}function gl(n){return n.Va||(n.Va=(function(t,r,i){const o=De(t);return o.ia(),new a3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:f3.bind(null,n),e_:p3.bind(null,n),n_:m3.bind(null,n),J_:g3.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),d0(n)?c0(n):n.Aa.set("Unknown")):(await n.Va.stop(),uk(n))}))),n.Va}function Ds(n){return n.ma||(n.ma=(function(t,r,i){const o=De(t);return o.ia(),new l3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:_3.bind(null,n),n_:T3.bind(null,n),ea:w3.bind(null,n),ta:E3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Af(n)):(await n.ma.stop(),n.Pa.length>0&&(me(No,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new h0(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f0(n,e){if(ji("AsyncQueue",`${e}: ${n}`),ml(n))return new fe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(e){return new Ha(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Eu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.fa=new pt(Se.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class tl{constructor(e,t,r,i,o,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new tl(e,t,Ha.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class I3{constructor(){this.queries=nb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=De(t),o=i.queries;i.queries=nb(),o.forEach(((l,u)=>{for(const d of u.wa)d.onError(r)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function nb(){return new Ho((n=>NP(n)),wf)}async function p0(n,e){const t=De(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new b3,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=f0(l,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&g0(t)}async function m0(n,e){const t=De(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function R3(n,e){const t=De(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.wa)u.Ca(i)&&(r=!0);l.ya=i}}r&&g0(t)}function A3(n,e,t){const r=De(n),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(t);r.queries.delete(e)}function g0(n){n.Da.forEach((e=>{e.next()}))}var sw,rb;(rb=sw||(sw={})).Fa="default",rb.Cache="cache";class v0{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==sw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.key=e}}class pk{constructor(e){this.key=e}}class C3{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=OP(e),this.eu=new Ha(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new tb,i=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const y=i.get(m),E=Ef(this.query,v)?v:null,I=!!y&&this.mutatedKeys.has(y.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;y&&E?y.data.isEqual(E.data)?I!==S&&(r.track({type:3,doc:E}),b=!0):this.iu(y,E)||(r.track({type:2,doc:E}),b=!0,(d&&this.Xa(E,d)>0||p&&this.Xa(E,p)<0)&&(u=!0)):!y&&E?(r.track({type:0,doc:E}),b=!0):y&&!E&&(r.track({type:1,doc:y}),b=!0,(d||p)&&(u=!0)),b&&(E?(l=l.add(E),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:u,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((m,v)=>(function(E,I){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:b})}};return S(E)-S(I)})(m.type,v.type)||this.Xa(m.doc,v.doc))),this.su(r),i=i!=null&&i;const u=t&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,p=d!==this.Ya;return this.Ya=d,l.length!==0||p?{snapshot:new tl(this.query,e.eu,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new pk(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new fk(r))})),t}uu(e){this.Ha=e.qs,this.Za=Ue();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return tl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const y0="SyncEngine";class x3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class P3{constructor(e){this.key=e,this.lu=!1}}class k3{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Ho((u=>NP(u)),wf),this.Tu=new Map,this.Iu=new Set,this.du=new pt(Se.comparator),this.Eu=new Map,this.Au=new i0,this.Ru={},this.Vu=new Map,this.mu=el.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D3(n,e,t=!0){const r=wk(n);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await mk(r,e,t,!0),i}async function N3(n,e){const t=wk(n);await mk(t,e,!0,!1)}async function mk(n,e,t,r){const i=await Z6(n.localStore,si(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await O3(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ak(n.remoteStore,i),u}async function O3(n,e,t,r,i){n.gu=(v,y,E)=>(async function(S,b,C,P){let M=b.view.nu(C);M.Ds&&(M=await YS(S.localStore,b.query,!1).then((({documents:D})=>b.view.nu(D,M))));const F=P&&P.targetChanges.get(b.targetId),W=P&&P.targetMismatches.get(b.targetId)!=null,z=b.view.applyChanges(M,S.isPrimaryClient,F,W);return sb(S,b.targetId,z._u),z.snapshot})(n,v,y,E);const o=await YS(n.localStore,e,!0),l=new C3(e,o.qs),u=l.nu(o.documents),d=yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,d);sb(n,t,p._u);const m=new x3(e,t,l);return n.Pu.set(e,m),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function M3(n,e,t){const r=De(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter((l=>!wf(l,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&l0(r.remoteStore,i.targetId),ow(r,i.targetId)})).catch(pl)):(ow(r,i.targetId),await rw(r.localStore,i.targetId,!0))}async function L3(n,e){const t=De(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),l0(t.remoteStore,r.targetId))}async function V3(n,e,t){const r=B3(n);try{const i=await(function(l,u){const d=De(l),p=Ze.now(),m=u.reduce(((E,I)=>E.add(I.key)),Ue());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Ui(),S=Ue();return d.Os.getEntries(E,m).next((b=>{I=b,I.forEach(((C,P)=>{P.isValidDocument()||(S=S.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,I))).next((b=>{v=b;const C=[];for(const P of u){const M=ZF(P,v.get(P.key).overlayedDocument);M!=null&&C.push(new $s(P.key,M,IP(M.value.mapValue),Vr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,C,u)})).next((b=>{y=b;const C=b.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,b.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:LP(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let p=l.Ru[l.currentUser.toKey()];p||(p=new pt(Me)),p=p.insert(u,d),l.Ru[l.currentUser.toKey()]=p})(r,i.batchId,t),await wc(r,i.changes),await Af(r.remoteStore)}catch(i){const o=f0(i,"Failed to persist write");t.reject(o)}}async function gk(n,e){const t=De(n);try{const r=await Q6(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Eu.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ke(l.lu,14607):i.removedDocuments.size>0&&(Ke(l.lu,42227),l.lu=!1))})),await wc(t,r,e)}catch(r){await pl(r)}}function ib(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=De(l);d.onlineState=u;let p=!1;d.queries.forEach(((m,v)=>{for(const y of v.wa)y.va(u)&&(p=!0)})),p&&g0(d)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F3(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new pt(Se.comparator);l=l.insert(o,ln.newNoDocument(o,ke.min()));const u=Ue().add(o),d=new bf(ke.min(),new Map,new pt(Me),l,u);await gk(r,d),r.du=r.du.remove(o),r.Eu.delete(e),_0(r)}else await rw(r.localStore,e,!1).then((()=>ow(r,e,t))).catch(pl)}async function j3(n,e){const t=De(n),r=e.batch.batchId;try{const i=await Y6(t.localStore,e);yk(t,r,null),vk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wc(t,i)}catch(i){await pl(i)}}async function U3(n,e,t){const r=De(n);try{const i=await(function(l,u){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,u).next((v=>(Ke(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);yk(r,e,t),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wc(r,i)}catch(i){await pl(i)}}function vk(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function yk(n,e,t){const r=De(n);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function ow(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||_k(n,r)}))}function _k(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(l0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),_0(n))}function sb(n,e,t){for(const r of t)r instanceof fk?(n.Au.addReference(r.key,e),q3(n,r)):r instanceof pk?(me(y0,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_k(n,r.key)):Ce(19791,{yu:r})}function q3(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(me(y0,"New document in limbo: "+t),n.Iu.add(r),_0(n))}function _0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Se(nt.fromString(e)),r=n.mu.next();n.Eu.set(r,new P3(t)),n.du=n.du.insert(t,r),ak(n.remoteStore,new ws(si(_f(t.path)),r,"TargetPurposeLimboResolution",gf.ue))}}async function wc(n,e,t){const r=De(n),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,d)=>{l.push(r.gu(d,e,t).then((p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=o0.Es(d.targetId,p);o.push(v)}})))})),await Promise.all(l),r.hu.J_(i),await(async function(d,p){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(y=>te.forEach(y.Is,(E=>m.persistence.referenceDelegate.addReference(v,y.targetId,E))).next((()=>te.forEach(y.ds,(E=>m.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))))))}catch(v){if(!ml(v))throw v;me(a0,"Failed to update sequence numbers: "+v)}for(const v of p){const y=v.targetId;if(!v.fromCache){const E=m.Fs.get(y),I=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(I);m.Fs=m.Fs.insert(y,S)}}})(r.localStore,o))}async function $3(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){me(y0,"User change. New user:",e.toKey());const r=await rk(t.localStore,e);t.currentUser=e,(function(o,l){o.Vu.forEach((u=>{u.forEach((d=>{d.reject(new fe(ee.CANCELLED,l))}))})),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(t,r.Bs)}}function z3(n,e){const t=De(n),r=t.Eu.get(e);if(r&&r.lu)return Ue().add(r.key);{let i=Ue();const o=t.Tu.get(e);if(!o)return i;for(const l of o){const u=t.Pu.get(l);i=i.unionWith(u.view.tu)}return i}}function wk(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F3.bind(null,e),e.hu.J_=R3.bind(null,e.eventManager),e.hu.pu=A3.bind(null,e.eventManager),e}function B3(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U3.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return K6(this.persistence,new W6,e.initialUser,this.serializer)}Du(e){return new nk(s0.Vi,this.serializer)}bu(e){return new t3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class W3 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P6(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new nk((r=>Gh.Vi(r,t)),this.serializer)}}class aw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ib(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$3.bind(null,this.syncEngine),await S3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I3})()}createDatastore(e){const t=If(e.databaseInfo.databaseId),r=(function(o){return new o3(o)})(e.databaseInfo);return(function(o,l,u,d){return new c3(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,l,u){return new h3(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>ib(this.syncEngine,t,0)),(function(){return JS.C()?new JS:new n3})())}createSyncEngine(e,t){return(function(i,o,l,u,d,p,m){const v=new k3(i,o,l,u,d,p);return m&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=De(i);me(No,"RemoteStore shutting down."),o.Ia.add(5),await _c(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}aw.provider={build:()=>new aw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class H3{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{me(Ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me(Ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=f0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ym(n,e){n.asyncQueue.verifyOperationInProgress(),me(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{As("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{As("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),n._offlineComponents=e}async function ob(n,e){n.asyncQueue.verifyOperationInProgress();const t=await G3(n);me(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>eb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>eb(e.remoteStore,i))),n._onlineComponents=e}async function G3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Ns,"Using user provided OfflineComponentProvider");try{await Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;As("Error using user provided cache. Falling back to memory cache: "+t),await Ym(n,new Yh)}}else me(Ns,"Using default OfflineComponentProvider"),await Ym(n,new W3(void 0));return n._offlineComponents}async function Ek(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Ns,"Using user provided OnlineComponentProvider"),await ob(n,n._uninitializedComponentsProvider._online)):(me(Ns,"Using default OnlineComponentProvider"),await ob(n,new aw))),n._onlineComponents}function K3(n){return Ek(n).then((e=>e.syncEngine))}async function Qh(n){const e=await Ek(n),t=e.eventManager;return t.onListen=D3.bind(null,e.syncEngine),t.onUnlisten=M3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=L3.bind(null,e.syncEngine),t}function Y3(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const m=new w0({next:y=>{m.Ou(),l.enqueueAndForget((()=>m0(o,v)));const E=y.docs.has(u);!E&&y.fromCache?p.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&d&&d.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new v0(_f(u.path),m,{includeMetadataChanges:!0,ka:!0});return p0(o,v)})(await Qh(n),n.asyncQueue,e,t,r))),r.promise}function Q3(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const m=new w0({next:y=>{m.Ou(),l.enqueueAndForget((()=>m0(o,v))),y.fromCache&&d.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new v0(u,m,{includeMetadataChanges:!0,ka:!0});return p0(o,v)})(await Qh(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firestore.googleapis.com",lb=!0;class ub{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=lb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C6)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rF;switch(r.type){case"firstParty":return new aF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ab.get(t);r&&(me("ComponentProvider","Removing Datastore"),ab.delete(t),r.terminate())})(this),Promise.resolve()}}function X3(n,e,t,r={}){var i;n=cr(n,Cf);const o=cl(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(gx(`https://${d}`),vx("Firestore",!0)),l.host!==Sk&&l.host!==d&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Rs(p,u)&&(n._setSettings(p),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=an.MOCK_USER;else{m=mM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(y)}n._authCredentials=new iF(new hP(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(mc(t,Tt._jsonSchema))return new Tt(e,r||null,new Se(nt.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:At("string",Tt._jsonSchemaVersion),referencePath:At("string")};class Is extends Ko{constructor(e,t,r){super(e,t,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Se(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Oo(n,e,...t){if(n=Ct(n),pP("collection","path",e),n instanceof Cf){const r=nt.fromString(e,...t);return TS(r),new Is(n,null,r)}{if(!(n instanceof Tt||n instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return TS(r),new Is(n.firestore,null,r)}}function Mo(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=Gw.newId()),pP("doc","path",e),n instanceof Cf){const r=nt.fromString(e,...t);return ES(r),new Tt(n,null,new Se(r))}{if(!(n instanceof Tt||n instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return ES(r),new Tt(n.firestore,n instanceof Is?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="AsyncQueue";class db{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sk(this,"async_queue_retry"),this.oc=()=>{const r=Km();r&&me(cb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Mi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ml(e))throw e;me(cb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",hb(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=h0.createAndSchedule(this,e,t,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&Ce(47125,{hc:hb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function hb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Os extends Cf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new db,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new db(e),this._firestoreClient=void 0,await e}}}function J3(n,e){const t=typeof n=="object"?n:Ex(),r=typeof n=="string"?n:Uh,i=Ow(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fM("firestore");o&&X3(i,...o)}return i}function xf(n){if(n._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Z3(n),n._firestoreClient}function Z3(n){var e,t,r;const i=n._freezeSettings(),o=(function(u,d,p,m){return new SF(u,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Tk(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new H3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(Xt.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:At("string",ur._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(mc(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:At("string",ai._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new li(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:At("string",li._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=/^__.*__$/;class tj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class bk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ik(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:n})}}class Df{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Xh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ik(this.Ec)&&ej.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class nj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||If(e)}Dc(e,t,r,i=!1){return new Df({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E0(n){const e=n._freezeSettings(),t=If(n._databaseId);return new nj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rj(n,e,t,r,i,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);S0("Data must be an object, but it was:",l,r);const u=Rk(r,l);let d,p;if(o.merge)d=new Kn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const y=lw(e,v,t);if(!l.contains(y))throw new fe(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Ck(m,y)||m.push(y)}d=new Kn(m),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new tj(new Pn(u),d,p)}class Nf extends kf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}function ij(n,e,t){return new Df({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class T0 extends kf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ij(this,e,!0),r=this.vc.map((o=>vl(o,t))),i=new Za(r);return new YF(e.path,i)}isEqual(e){return e instanceof T0&&Rs(this.vc,e.vc)}}function sj(n,e,t,r){const i=n.Dc(1,e,t);S0("Data must be an object, but it was:",i,r);const o=[],l=Pn.empty();qs(r,((d,p)=>{const m=b0(e,d,t);p=Ct(p);const v=i.gc(m);if(p instanceof Nf)o.push(m);else{const y=vl(p,v);y!=null&&(o.push(m),l.set(m,y))}}));const u=new Kn(o);return new bk(l,u,i.fieldTransforms)}function oj(n,e,t,r,i,o){const l=n.Dc(1,e,t),u=[lw(e,r,t)],d=[i];if(o.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(lw(e,o[y])),d.push(o[y+1]);const p=[],m=Pn.empty();for(let y=u.length-1;y>=0;--y)if(!Ck(p,u[y])){const E=u[y];let I=d[y];I=Ct(I);const S=l.gc(E);if(I instanceof Nf)p.push(E);else{const b=vl(I,S);b!=null&&(p.push(E),m.set(E,b))}}const v=new Kn(p);return new bk(m,v,l.fieldTransforms)}function aj(n,e,t,r=!1){return vl(t,n.Dc(r?4:3,e))}function vl(n,e){if(Ak(n=Ct(n)))return S0("Unsupported field value:",e,n),Rk(n,e);if(n instanceof kf)return(function(r,i){if(!Ik(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let d=vl(u,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:Hh(i.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,o)}}if(r instanceof ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ur)return{bytesValue:KP(i.serializer,r._byteString)};if(r instanceof Tt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return(function(l,u){return{mapValue:{fields:{[SP]:{stringValue:bP},[qh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.wc("VectorValues must only contain numeric values.");return Zw(u.serializer,p)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${mf(r)}`)})(n,e)}function Rk(n,e){const t={};return vP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(n,((r,i)=>{const o=vl(i,e.Vc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Ak(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof ai||n instanceof ur||n instanceof Tt||n instanceof kf||n instanceof li)}function S0(n,e,t){if(!Ak(t)||!mP(t)){const r=mf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function lw(n,e,t){if((e=Ct(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return b0(n,e);throw Xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const lj=new RegExp("[~\\*/\\[\\]]");function b0(n,e,t){if(e.search(lj)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new fe(ee.INVALID_ARGUMENT,u+n+d)}function Ck(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(I0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uj extends xk{data(){return super.data()}}function I0(n,e){return typeof e=="string"?b0(n,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R0{}class cj extends R0{}function Of(n,e,...t){let r=[];e instanceof R0&&r.push(e),r=r.concat(t),(function(o){const l=o.filter((d=>d instanceof A0)).length,u=o.filter((d=>d instanceof Mf)).length;if(l>1||l>0&&u>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Mf extends cj{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Mf(e,t,r)}_apply(e){const t=this._parse(e);return kk(e._query,t),new Ko(e.firestore,e.converter,X_(e._query,t))}_parse(e){const t=E0(e.firestore);return(function(o,l,u,d,p,m,v){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){mb(v,m);const I=[];for(const S of v)I.push(pb(d,o,S));y={arrayValue:{values:I}}}else y=pb(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||mb(v,m),y=aj(u,l,v,m==="in"||m==="not-in");return Rt.create(p,m,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hu(n,e,t){const r=e,i=I0("where",n);return Mf._create(i,r,t)}class A0 extends R0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new A0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)kk(l,d),l=X_(l,d)})(e._query,t),new Ko(e.firestore,e.converter,X_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pb(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DP(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nt.fromString(t));if(!Se.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PS(n,new Se(r))}if(t instanceof Tt)return PS(n,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(t)}.`)}function mb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kk(n,e){const t=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dj{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return qs(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>Et(l.doubleValue)));return new li(o)}convertGeoPoint(e){return new ai(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=xs(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Ke(ek(r),9688,{name:e});const i=new zu(r.get(1),r.get(3)),o=new Se(r.popFirst(5));return i.isEqual(t)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bo extends xk{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(I0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",bo._jsonSchema={type:At("string",bo._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class vh extends bo{data(e={}){return super.data(e)}}class Io{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Su(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new vh(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:fj(u.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n){n=cr(n,Tt);const e=cr(n.firestore,Os);return Y3(xf(e),n._key).then((t=>Ok(e,n,t)))}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:At("string",Io._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class C0 extends dj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function x0(n){n=cr(n,Ko);const e=cr(n.firestore,Os),t=xf(e),r=new C0(e);return Pk(n._query),Q3(t,n._query).then((i=>new Io(e,r,n,i)))}function Lf(n,e,t,...r){n=cr(n,Tt);const i=cr(n.firestore,Os),o=E0(i);let l;return l=typeof(e=Ct(e))=="string"||e instanceof Pf?oj(o,"updateDoc",n._key,e,t,r):sj(o,"updateDoc",n._key,e),P0(i,[l.toMutation(n._key,Vr.exists(!0))])}function mj(n){return P0(cr(n.firestore,Os),[new e0(n._key,Vr.none())])}function Dk(n,e){const t=cr(n.firestore,Os),r=Mo(n),i=hj(n.converter,e);return P0(t,[rj(E0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then((()=>r))}function Nk(n,...e){var t,r,i;n=Ct(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||fb(e[l])||(o=e[l++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fb(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let d,p,m;if(n instanceof Tt)p=cr(n.firestore,Os),m=_f(n._key.path),d={next:v=>{e[l]&&e[l](Ok(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=cr(n,Ko);p=cr(v.firestore,Os),m=v._query;const y=new C0(p);d={next:E=>{e[l]&&e[l](new Io(p,y,v,E))},error:e[l+1],complete:e[l+2]},Pk(n._query)}return(function(y,E,I,S){const b=new w0(S),C=new v0(E,b,I);return y.asyncQueue.enqueueAndForget((async()=>p0(await Qh(y),C))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>m0(await Qh(y),C)))}})(xf(p),m,u,d)}function P0(n,e){return(function(r,i){const o=new Mi;return r.asyncQueue.enqueueAndForget((async()=>V3(await K3(r),i,o))),o.promise})(xf(n),e)}function Ok(n,e,t){const r=t.docs.get(e._key),i=new C0(n);return new bo(n,i,e._key,r,new Su(t.hasPendingWrites,t.fromCache),e.converter)}function gj(...n){return new T0("arrayUnion",n)}(function(e,t=!0){(function(i){fl=i})(dl),Ka(new Co("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Os(new sF(r.getProvider("auth-internal")),new lF(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(p.options.projectId,m)})(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Ss(gS,vS,e),Ss(gS,vS,"esm2017")})();const vj={apiKey:"AIzaSyC3DZIHW49UVq2uYJt5M8SXbgo3nVfXnjU",authDomain:"fretnot-attendance-b3026.firebaseapp.com",projectId:"fretnot-attendance-b3026",storageBucket:"fretnot-attendance-b3026.appspot.com",messagingSenderId:"1068497148466",appId:"1:1068497148466:web:538e53b89fc500b9ce3a2b"},Mk=wx(vj),ri=ko(Mk);$4(ri,Kx).then(()=>{console.log("Firebase Auth persistence set to local ")}).catch(n=>{console.error("Error setting persistence:",n)});const Lk=new Pi,Yn=J3(Mk);var Vk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gb=G.createContext&&G.createContext(Vk),yj=["attr","size","title"];function _j(n,e){if(n==null)return{};var t=wj(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function wj(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Jh(){return Jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jh.apply(this,arguments)}function vb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vb(Object(t),!0).forEach(function(r){Ej(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ej(n,e,t){return e=Tj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tj(n){var e=Sj(n,"string");return typeof e=="symbol"?e:e+""}function Sj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fk(n){return n&&n.map((e,t)=>G.createElement(e.tag,Zh({key:t},e.attr),Fk(e.child)))}function Ec(n){return e=>G.createElement(bj,Jh({attr:Zh({},n.attr)},e),Fk(n.child))}function bj(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=_j(n,yj),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),G.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Zh(Zh({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&G.createElement("title",null,o),n.children)};return gb!==void 0?G.createElement(gb.Consumer,null,t=>e(t)):e(Vk)}function jk(n){return Ec({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uk=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>q.createElement("svg",{ref:d,...Rj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Uk("lucide",i),...u},[...l.map(([p,m])=>q.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(n,e)=>{const t=q.forwardRef(({className:r,...i},o)=>q.createElement(Aj,{ref:o,iconNode:e,className:Uk(`lucide-${Ij(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Lt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Lt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Lt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Lt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Lt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Lt("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Lt("Notebook",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Lt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Lt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Hk="/attendio/assets/bg-BJQISwya.jpeg",Vj=({setShowSignUp:n})=>{const[e,t]=q.useState({email:"",password:""}),[r,i]=q.useState({}),[o,l]=q.useState(""),[u,d]=q.useState(!1),[p,m]=q.useState(!1);q.useEffect(()=>{o&&l("")},[e]);const v=()=>{const b={},C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?C.test(e.email)||(b.email="Please enter a valid email"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",i(b),Object.keys(b).length===0},y=b=>{const{name:C,value:P}=b.target;t(M=>({...M,[C]:P})),r[C]&&i(M=>({...M,[C]:""}))},E=async b=>{if(b.preventDefault(),!!v()){d(!0);try{await U4(ri,e.email,e.password),t({email:"",password:""})}catch(C){const P=S(C.code);l(P)}finally{d(!1)}}},I=async()=>{d(!0);try{await rP(ri,Lk)}catch(b){const C=S(b.code);l(C)}finally{d(!1)}},S=b=>{switch(b){case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password must be at least 6 characters.";default:return"An error occurred. Please try again."}};return k.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${Hk})`,backgroundSize:"cover"},children:k.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white  p-8 rounded-xl shadow-2xl",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up"}),k.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign up to continue"})]}),o&&k.jsx("p",{className:"text-red-600 mb-4",children:o}),k.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:y,placeholder:"Email address",className:`appearance-none relative block w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),r.email&&k.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:y,placeholder:"Password",className:`appearance-none relative block w-full px-3 py-2 border ${r.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),k.jsx("button",{type:"button",onClick:()=>m(b=>!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":p?"Hide password":"Show password",children:p?k.jsx($k,{size:16}):k.jsx(zk,{size:16})}),r.password&&k.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:r.password})]}),k.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?k.jsx(Wk,{className:"animate-spin mx-auto"}):"Sign Up"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-300"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),k.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[k.jsx(jk,{className:"h-5 w-5 mr-2"}),"Sign Up with Google"]}),k.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",k.jsx("button",{onClick:()=>n(!1),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Log in"})]})]})})},Fj=({setShowSignUp:n})=>{const[e,t]=q.useState({email:"",password:""}),[r,i]=q.useState(!1),[o,l]=q.useState(!1),[u,d]=q.useState(""),[p,m]=q.useState({}),v=Vs();q.useEffect(()=>{u&&d("")},[e]);const y=()=>{const C={},P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?P.test(e.email)||(C.email="Please enter a valid email"):C.email="Email is required",e.password?e.password.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",m(C),Object.keys(C).length===0},E=C=>{const{name:P,value:M}=C.target;t(F=>({...F,[P]:M})),p[P]&&m(F=>({...F,[P]:""}))},I=async C=>{if(C.preventDefault(),!!y()){l(!0);try{await q4(ri,e.email,e.password),console.log(" Email/password login initiated"),Ya(ri,P=>{P&&(console.log(" Auth confirmed:",P.uid),v("/home"))})}catch(P){const M=b(P.code);d(M)}finally{l(!1)}}},S=async()=>{l(!0);try{await rP(ri,Lk),console.log(" Google login initiated"),Ya(ri,C=>{C&&(console.log(" Google Auth confirmed:",C.uid),v("/home"))})}catch(C){const P=b(C.code);d(P)}finally{l(!1)}},b=C=>{switch(C){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};return k.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${Hk})`,backgroundSize:"cover"},children:k.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),k.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to continue"})]}),k.jsxs("form",{onSubmit:I,className:"mt-8 space-y-6",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),k.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Email address"}),p.email&&k.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),k.jsxs("div",{className:"relative",children:[k.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),k.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Password"}),k.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":r?"Hide password":"Show password",children:r?k.jsx($k,{size:16}):k.jsx(zk,{size:16})}),p.password&&k.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]})]}),u&&k.jsx("div",{className:"rounded-md bg-red-50 p-4",children:k.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?k.jsx(Wk,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}):"Sign in"})})]}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 flex items-center",children:k.jsx("div",{className:"w-full border-t border-gray-300"})}),k.jsx("div",{className:"relative flex justify-center text-sm",children:k.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),k.jsxs("button",{onClick:S,disabled:o,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[k.jsx(jk,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),k.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",k.jsx("button",{onClick:()=>n(!0),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Sign up"})]})]})})},jj=({title:n,description:e,onClick:t,bgColor:r="bg-white"})=>k.jsx("button",{onClick:t,className:`${r} rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-200 w-full text-left hover:scale-105`,children:k.jsxs("div",{className:"flex flex-col space-y-2",children:[k.jsx("h3",{className:"text-xl font-bold",children:n}),k.jsx("p",{className:"text-gray-600 text-sm",children:e})]})}),Uj=()=>k.jsxs("div",{className:"bg-zen-gradient rounded-lg shadow-lg p-8 text-white relative overflow-hidden",children:[k.jsx("div",{className:"relative z-10",children:k.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to the Dashboard"})}),k.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 transform rotate-45 -translate-y-8 translate-x-8"})]}),qj=()=>{const n=Vs(),e=[{title:"Student Profiles",description:"Edit and add student profiles",onClick:()=>n("/students"),bgColor:"bg-blue-50 hover:bg-blue-100"},{title:"Manage Students",description:"Mark attendance and assign homework",onClick:()=>n("/studentList"),bgColor:"bg-purple-50 hover:bg-purple-100"},{title:"Teaching Calendar",description:"View your teaching calendar",onClick:()=>n("/schedule"),bgColor:"bg-green-50 hover:bg-green-100"},{title:"Settings",description:"Manage your preferences and profile settings",onClick:()=>n("/settings"),bgColor:"bg-yellow-50 hover:bg-yellow-100"}];return k.jsxs("div",{className:"px-4 sm:px-6 pb-24 py-6 md:ml-16 max-w-7xl mx-auto space-y-6 transition-all duration-300 pb-24",children:[k.jsx(Uj,{}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>k.jsx(jj,{title:t.title,description:t.description,onClick:t.onClick,bgColor:t.bgColor},r))})]})},$j=n=>{if(!n)return"";const[e,t]=n.split(":"),r=Number(e),i=Number(t||0);if(Number.isNaN(r)||Number.isNaN(i))return n;const o=r>=12?"PM":"AM";return`${(r+11)%12+1}:${String(i).padStart(2,"0")} ${o}`},zj=({student:n,index:e,handleInputChange:t,toggleEditMode:r,handleRemoveRow:i})=>{const o=n.visitTime||"";return k.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden ",children:[k.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(D0,{className:"w-5 h-5 text-gray-400"}),k.jsx("h2",{className:"font-semibold text-gray-800",children:n.name||"New Student"})]}),k.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm bg-gray-100 text-gray-600",children:n.day||"No Day Set"})]}),k.jsxs("div",{className:"p-4 space-y-4",children:[n.isEditable?k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),k.jsx("input",{type:"text",value:n.name||"",onChange:l=>t(l,e,"name"),placeholder:"Enter Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument"}),k.jsx("input",{type:"text",value:n.instrument||"",onChange:l=>t(l,e,"instrument"),placeholder:"Enter Instrument",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),k.jsxs("select",{value:n.day||"",onChange:l=>t(l,e,"day"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[k.jsx("option",{value:"",children:"Select Day"}),k.jsx("option",{value:"Monday",children:"Monday"}),k.jsx("option",{value:"Tuesday",children:"Tuesday"}),k.jsx("option",{value:"Wednesday",children:"Wednesday"}),k.jsx("option",{value:"Thursday",children:"Thursday"}),k.jsx("option",{value:"Friday",children:"Friday"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lesson Duration"}),k.jsxs("select",{value:n.duration??"",onChange:l=>t(l,e,"duration"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[k.jsx("option",{value:"",children:"Select Duration"}),k.jsx("option",{value:"30",children:"30 Minutes"}),k.jsx("option",{value:"45",children:"45 Minutes"}),k.jsx("option",{value:"60",children:"1 Hour"})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visit time"}),k.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:l=>t(l,e,"visitTime"),"aria-label":"Visit time (HH:MM)"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pick a lesson time."})]})]}):k.jsxs("div",{className:"space-y-2",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(Pj,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"text-sm text-gray-600",children:n.instrument||"No Instrument"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(k0,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"text-sm text-gray-600",children:n.day?k.jsxs(k.Fragment,{children:[n.day,o?` ${$j(o)}`:""]}):"No Day Set"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(qk,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"text-sm text-gray-600",children:n.duration?` ${n.duration} min`:""})]})]}),k.jsxs("div",{className:"flex gap-2 pt-2 border-t mt-4",children:[k.jsx("button",{onClick:()=>r(e),className:`flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n.isEditable?"bg-green text-white":"bg-blue text-white"}`,children:n.isEditable?k.jsxs(k.Fragment,{children:[k.jsx(Oj,{className:"h-4 w-4"}),"Save"]}):k.jsxs(k.Fragment,{children:[k.jsx(Dj,{className:"h-4 w-4"}),"Edit"]})}),k.jsxs("button",{onClick:()=>i(e),className:"flex-1 bg-red text-white inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:[k.jsx(Mj,{className:"h-4 w-4"}),"Remove"]})]})]})]})},Bj=async()=>{const e=ko().currentUser;if(!e){console.error(" You must be logged in to update documents!");return}const t=e.uid,r=Oo(Yn,"students");try{const i=await x0(r);let o=0;for(const l of i.docs)l.data().ownerId||(await Lf(Mo(Yn,"students",l.id),{ownerId:t}),o++,console.log(` Updated ${l.id}`));console.log(o===0?" All documents already have ownerId fields.":` Updated ${o} documents successfully!`)}catch(i){console.error(" Error updating documents:",i)}},yb=["Monday","Tuesday","Wednesday","Thursday","Friday"],Wj=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(null),[i,o]=q.useState(!1),l=Oo(Yn,"students");q.useEffect(()=>{const y=ko();return Ya(y,I=>{I?(console.log(" Auth confirmed in Students:",I.uid),r(I.uid),o(!0),Bj()):(console.warn(" No user signed in  redirecting or waiting..."),r(null),o(!1))})},[]),q.useEffect(()=>{if(!i||!t){console.log(" Waiting for auth before querying...");return}console.log(" Querying Firestore for UID:",t);const y=Of(l,Hu("ownerId","==",t));return Nk(y,I=>{console.log(" Students snapshot:",I.docs.length,"docs"),e(I.docs.map(S=>{const b=S.data();return{id:S.id,visitTime:b.visitTime||"",duration:typeof b.duration=="number"?b.duration:Number(b.duration)||60,name:b.name||"",instrument:b.instrument||"",day:b.day||"",isEditable:!1,ownerId:b.ownerId||null}}))},I=>console.error(" Firestore query error:",I))},[t,i]);const u=()=>{i&&e([{name:"",instrument:"",day:"",visitTime:0,duration:30,isEditable:!0},...n])},d=(y,E,I)=>e(n.map((S,b)=>b===E?{...S,[I]:y.target.value}:S)),p=async y=>{var S;const E=n[y],I=n.map((b,C)=>C===y?{...b,isEditable:!b.isEditable}:b);if(E.isEditable){const b=t||((S=ko().currentUser)==null?void 0:S.uid);if(!b){console.error(" No authenticated user. Cannot save."),alert("Please log in again before saving.");return}const C={name:(E.name||"").trim(),instrument:(E.instrument||"").trim(),day:(E.day||"").trim(),visitTime:(E.visitTime||"").trim(),duration:Number(E.duration)||0,ownerId:b};if(console.log(" Attempting to save student:",C),!C.name||!C.instrument||!C.day){console.warn(" Incomplete data. Please fill in all fields before saving."),alert("Please fill in all student fields before saving.");return}try{if(E.id)console.log(" Updating existing student:",E.id),await Lf(Mo(Yn,"students",E.id),C);else{console.log(" Adding new student...");const P=await Dk(Oo(Yn,"students"),C);I[y].id=P.id,console.log(" Added new student with ID:",P.id)}console.log(" Student saved successfully!")}catch(P){console.error(" Firestore save error:",P),alert("Failed to save student. Check console for details.");return}}e(I)},m=async y=>{const E=n[y];try{E.id&&await mj(Mo(Yn,"students",E.id)),e(n.filter((I,S)=>S!==y))}catch(I){console.error("Error deleting document:",I)}},v=yb.reduce((y,E)=>(y[E]=n.filter(I=>I.day===E).sort((I,S)=>I.visitTime.localeCompare(S.visitTime)),y),{});return k.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4 pb-20",children:[k.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 px-4 md:px-6 py-4",children:[k.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[k.jsx(xj,{className:"h-8 w-8"})," Students"]}),k.jsxs("button",{onClick:u,disabled:!i,className:"w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue text-white rounded-md disabled:opacity-50",children:[k.jsx(Nj,{className:"w-4 h-4 mr-2"})," Add Student"]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:yb.map(y=>k.jsxs("div",{className:"col-span-full",children:[k.jsx("h3",{className:"text-lg font-bold mt-6 mb-3 border-b pb-1",children:y}),v[y].length===0?k.jsx("p",{className:"text-gray-400 mb-6",children:"No students scheduled"}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v[y].map((E,I)=>k.jsx(zj,{student:E,index:I,handleInputChange:d,toggleEditMode:p,handleRemoveRow:m},E.id??`temp-${y}-${I}`))})]},y))})]})},_b=["Monday","Tuesday","Wednesday","Thursday","Friday"],Hj=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(!0),[i,o]=q.useState(null),[l,u]=q.useState(null),d=Vs();q.useEffect(()=>{const y=ko();return Ya(y,async I=>{if(!I){console.warn(" No user logged in"),o("You must be logged in to view attendance."),r(!1);return}try{console.log(" Auth confirmed in Attendance:",I.uid);const S=Of(Oo(Yn,"students"),Hu("ownerId","==",I.uid)),C=(await x0(S)).docs.map(P=>({id:P.id,...P.data(),attendanceHistory:P.data().attendanceHistory||[]}));e(C),o(null),console.log(` Loaded ${C.length} students for UID ${I.uid}`)}catch(S){console.error(" Error fetching students:",S),o("Failed to fetch students. Please try again later.")}finally{r(!1)}})},[]);const p=async(y,E)=>{u(y);try{const I=Mo(Yn,"students",y),S={status:E,timestamp:Ze.now(),date:new Date().toISOString().split("T")[0]};await Lf(I,{attendance:E,attendanceHistory:gj(S)}),e(b=>b.map(C=>C.id===y?{...C,attendance:E,attendanceHistory:[...C.attendanceHistory||[],S]}:C)),console.log(` Marked ${y} as ${E}`)}catch(I){console.error(" Error updating attendance:",I),o("Failed to update attendance. Please try again.")}finally{u(null)}},m=y=>!y||y.length===0?{present:0,absent:0}:y.reduce((E,I)=>({present:E.present+(I.status==="Present"?1:0),absent:E.absent+(I.status==="Absent"?1:0)}),{present:0,absent:0});if(t)return k.jsx("div",{className:"flex items-center justify-center min-h-screen",children:k.jsx(Bk,{className:"h-8 w-8 animate-spin text-blue-500"})});const v=_b.reduce((y,E)=>(y[E]=n.filter(I=>I.day===E).sort((I,S)=>I.visitTime.localeCompare(S.visitTime)),y),{});return k.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4 pb-24",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[k.jsx(Lj,{className:"h-6 w-6"}),k.jsx("h1",{className:"text-2xl font-bold",children:"Student Attendance & Homework"})]}),i&&k.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-center gap-2 text-red-700",children:[k.jsx(Cj,{className:"h-5 w-5"}),k.jsx("p",{children:i})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_b.map(y=>k.jsxs("div",{className:"col-span-full",children:[k.jsxs("h2",{className:"text-xl font-bold mt-8 mb-4 border-b pb-2",children:[" ",y]}),v[y].length===0?k.jsx("p",{className:"text-gray-400 mb-6",children:"No students scheduled for this day"}):k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v[y].map(E=>{const I=m(E.attendanceHistory);return k.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[k.jsx("div",{className:"p-4 border-b bg-gray-50",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(D0,{className:"h-5 w-5 text-gray-400"}),k.jsx("h2",{className:"font-semibold text-gray-800",children:E.name})]}),k.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm ${E.attendance==="Present"?"bg-green-100 text-green-600":E.attendance==="Absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[E.attendance==="Present"&&k.jsx(cw,{className:"h-4 w-4"}),E.attendance==="Absent"&&k.jsx(dw,{className:"h-4 w-4"}),E.attendance||"Not marked"]})]})}),k.jsxs("div",{className:"p-4 bg-white",children:[k.jsxs("div",{className:"flex justify-around mb-4",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-green-600 font-semibold",children:I.present}),k.jsx("div",{className:"text-sm text-gray-500",children:"Present"})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-red-600 font-semibold",children:I.absent}),k.jsx("div",{className:"text-sm text-gray-500",children:"Absent"})]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("button",{onClick:()=>p(E.id,"Present"),disabled:l===E.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md",children:[k.jsx(cw,{className:"h-4 w-4"}),"Present"]}),k.jsxs("button",{onClick:()=>p(E.id,"Absent"),disabled:l===E.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md",children:[k.jsx(dw,{className:"h-4 w-4"}),"Absent"]})]}),k.jsxs("div",{className:"flex gap-2 mt-3",children:[k.jsxs("button",{onClick:()=>d(`/attendance/${E.id}`,{state:{student:E}}),className:"flex-1 px-3 py-2 text-sm bg-blue text-white rounded-md",children:[k.jsx(k0,{className:"h-4 w-4 inline mr-1"}),"Attendance"]}),k.jsx("button",{onClick:()=>d(`/homework/${E.id}`,{state:{student:E}}),className:"flex-1 px-3 py-2 text-sm bg-green text-white rounded-md",children:" Homework"})]})]})]},E.id)})})]},y))})]})},Gj=()=>{const{studentId:n}=tx(),e=ko(),{state:t}=qr(),r=t==null?void 0:t.student,[i,o]=q.useState([]),[l,u]=q.useState(""),[d,p]=q.useState(""),[m,v]=q.useState(""),[y,E]=q.useState(!1),[I,S]=q.useState(""),b=async()=>{if(!e.currentUser){console.log("No authenticated user");return}try{E(!0);const M=Of(Oo(Yn,"homework"),Hu("studentId","==",n),Hu("ownerId","==",e.currentUser.uid)),W=(await x0(M)).docs.map(z=>({id:z.id,...z.data()}));o(W),S("")}catch(M){console.error("Error fetching homework:",M),S("Failed to load homework")}finally{E(!1)}};q.useEffect(()=>{b()},[n]);const C=async()=>{if(!l||!m){S("Title and due date are required");return}if(!e.currentUser){S("You must be logged in");return}try{E(!0),S(""),await Dk(Oo(Yn,"homework"),{studentId:n,title:l,description:d,dueDate:m,status:"not_done",ownerId:e.currentUser.uid,assignedAt:Ze.now()}),u(""),p(""),v(""),await b()}catch(M){console.error("Error assigning homework:",M),S("Failed to assign homework")}finally{E(!1)}},P=async(M,F)=>{if(e.currentUser)try{await Lf(Mo(Yn,"homework",M),{status:F}),o(W=>W.map(z=>z.id===M?{...z,status:F}:z))}catch{console.error("Error updating homework"),S("Failed to update homework status")}};return k.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4 pb-24",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(kj,{className:"h-6 w-6 text-gray-500"}),k.jsx("div",{children:k.jsx("h1",{className:"text-2xl font-bold",children:r!=null&&r.name?`${r==null?void 0:r.name}'s Homework`:"Student Homework"})})]}),k.jsxs(Vu,{to:"/studentList",className:"inline-flex items-center gap-1 text-sm px-3 py-2 border rounded-md hover:bg-gray-50",children:[k.jsx(uw,{className:"h-4 w-4"}),"Back"]})]}),I&&k.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:I}),k.jsxs("form",{className:"bg-white border rounded-lg p-4 mb-6",onSubmit:M=>{M.preventDefault(),C()},children:[k.jsx("h2",{className:"font-semibold mb-3",children:"Assign Homework"}),k.jsxs("div",{className:"space-y-3",children:[k.jsx("input",{value:l,onChange:M=>u(M.target.value),placeholder:"Homework title",className:"w-full border rounded-md px-3 py-2",required:!0}),k.jsx("textarea",{value:d,onChange:M=>p(M.target.value),placeholder:"Description (optional)",className:"w-full border rounded-md px-3 py-2",rows:3}),k.jsx("input",{type:"date",value:m,onChange:M=>v(M.target.value),className:"w-full border rounded-md px-3 py-2",required:!0}),k.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue hover:bg-blue-600 disabled:bg-gray-400 text-white py-2 rounded-md transition-colors",children:y?"Assigning...":"Assign Homework"})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Assigned Homework"}),y&&i.length===0?k.jsx("p",{className:"text-gray-500",children:"Loading..."}):i.length===0?k.jsx("p",{className:"text-gray-500",children:"No homework records yet."}):i.map(M=>k.jsxs("div",{className:`\r
    border rounded-lg p-4\r
    flex flex-col gap-4\r
    sm:flex-row sm:items-center sm:justify-between\r
  `,children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("h3",{className:"font-semibold text-lg",children:M.title}),M.description&&k.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),k.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Due: ",M.dueDate]})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[k.jsxs("select",{value:M.status||"not_done",onChange:F=>P(M.id,F.target.value),className:"text-sm border rounded-md px-2 py-1 w-full sm:w-auto",children:[k.jsx("option",{value:"not_done",children:"Not practiced"}),k.jsx("option",{value:"partial",children:"Partially practiced"}),k.jsx("option",{value:"completed",children:"Practiced"})]}),k.jsx("span",{className:`text-sm px-3 py-1 rounded-full text-center whitespace-nowrap ${M.status==="completed"?"bg-green text-white":M.status==="partial"?"bg-orange text-white":"bg-red text-white"}`,children:M.status==="completed"?"Practiced":M.status==="partial"?"Partially practiced":"Did not practice"})]})]},M.id))]})]})};function qi(n){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(n)}function Kj(n,e){if(qi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gk(n){var e=Kj(n,"string");return qi(e)=="symbol"?e:e+""}function Eo(n,e,t){return(e=Gk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Je(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(t),!0).forEach(function(r){Eo(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vf(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function hi(n,e){if(n==null)return{};var t,r,i=Vf(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Vt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Eb(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Gk(r.key),r)}}function Ft(n,e,t){return e&&Eb(n.prototype,e),t&&Eb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ef(n){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ef(n)}function Kk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kk=function(){return!!n})()}function Yj(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qj(n,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yj(n)}function dn(n,e,t){return e=ef(e),Qj(n,Kk()?Reflect.construct(e,t||[],ef(n).constructor):e.apply(n,t))}function tf(n,e){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},tf(n,e)}function hn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tf(n,e)}function Yk(n){if(Array.isArray(n))return n}function Xj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,l,u=[],d=!0,p=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(m){p=!0,i=m}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(p)throw i}}return u}}function hw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function N0(n,e){if(n){if(typeof n=="string")return hw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hw(n,e):void 0}}function Qk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(n,e){return Yk(n)||Xj(n,e)||N0(n,e)||Qk()}function Xk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Xk(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function yt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Xk(n))&&(r&&(r+=" "),r+=e);return r}function vt(){return vt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vt.apply(null,arguments)}var Qm,Tb;function Jj(){if(Tb)return Qm;Tb=1;var n=function(e,t,r,i,o,l,u,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,o,l,u,d],v=0;p=new Error(t.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Qm=n,Qm}var Zj=Jj();const Gu=On(Zj);var e5=function(){};function t5(n,e){var t={};return Object.keys(n).forEach(function(r){t[yh(r)]=e5}),t}function Sb(n,e){return n[e]!==void 0}function yh(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function n5(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function r5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,tf(n,e)}function Jk(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function Zk(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function e2(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}Jk.__suppressDeprecationWarning=!0;Zk.__suppressDeprecationWarning=!0;e2.__suppressDeprecationWarning=!0;function i5(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=Jk,e.componentWillReceiveProps=Zk),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=e2;var u=e.componentDidUpdate;e.componentDidUpdate=function(p,m,v){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;u.call(this,p,m,y)}}return n}var s5="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function t2(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=n5(n),o=Object.keys(e),l=o.map(yh);i||!t.length||Gu(!1);var u=(function(p){r5(m,p);function m(){for(var y,E=arguments.length,I=new Array(E),S=0;S<E;S++)I[S]=arguments[S];y=p.call.apply(p,[this].concat(I))||this,y.handlers=Object.create(null),o.forEach(function(C){var P=e[C],M=function(W){if(y.props[P]){var z;y._notifying=!0;for(var D=arguments.length,A=new Array(D>1?D-1:0),x=1;x<D;x++)A[x-1]=arguments[x];(z=y.props)[P].apply(z,[W].concat(A)),y._notifying=!1}y.unmounted||y.setState(function(L){var V,U=L.values;return{values:vt(Object.create(null),U,(V={},V[C]=W,V))}})};y.handlers[P]=M}),t.length&&(y.attachRef=function(C){y.inner=C});var b=Object.create(null);return o.forEach(function(C){b[C]=y.props[yh(C)]}),y.state={values:b,prevProps:{}},y}var v=m.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(E,I){var S=I.values,b=I.prevProps,C={values:vt(Object.create(null),S),prevProps:{}};return o.forEach(function(P){C.prevProps[P]=E[P],!Sb(E,P)&&Sb(b,P)&&(C.values[P]=E[yh(P)])}),C},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var E=this,I=this.props,S=I.innerRef,b=Vf(I,["innerRef"]);l.forEach(function(P){delete b[P]});var C={};return o.forEach(function(P){var M=E.props[P];C[P]=M!==void 0?M:E.state.values[P]}),G.createElement(n,vt({},b,C,this.handlers,{ref:S||this.attachRef}))},m})(G.Component);i5(u),u.displayName="Uncontrolled("+r+")",u.propTypes=vt({innerRef:function(){}},t5(e)),t.forEach(function(p){u.prototype[p]=function(){var v;return(v=this.inner)[p].apply(v,arguments)}});var d=u;return G.forwardRef&&(d=G.forwardRef(function(p,m){return G.createElement(u,vt({},p,{innerRef:m,__source:{fileName:s5,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=n,d.deferControlTo=function(p,m,v){return m===void 0&&(m={}),t2(p,vt({},e,m),v)},d}var Xm={exports:{}},Jm,bb;function o5(){if(bb)return Jm;bb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jm=n,Jm}var Zm,Ib;function a5(){if(Ib)return Zm;Ib=1;var n=o5();function e(){}function t(){}return t.resetWarningCache=e,Zm=function(){function r(l,u,d,p,m,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Zm}var Rb;function l5(){return Rb||(Rb=1,Xm.exports=a5()()),Xm.exports}var u5=l5();const ae=On(u5);var nf="milliseconds",Ku="seconds",Yu="minutes",Qu="hours",Vo="day",nl="week",Xu="month",Fo="year",jo="decade",Uo="century",n2={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},c5={month:1,year:12,decade:120,century:1200};function d5(n){return[31,h5(n),31,30,31,30,31,31,30,31,30,31]}function h5(n){return n%4===0&&n%100!==0||n%400===0?29:28}function jr(n,e,t){switch(n=new Date(n),t){case nf:case Ku:case Yu:case Qu:case Vo:case nl:return f5(n,e*n2[t]);case Xu:case Fo:case jo:case Uo:return p5(n,e*c5[t])}throw new TypeError('Invalid units: "'+t+'"')}function f5(n,e){var t=new Date(+n+e);return m5(n,t)}function p5(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),o=t*12+r+e,l=Math.trunc(o/12),u=o%12,d=Math.min(i,d5(l)[u]),p=new Date(n);return p.setFullYear(l),p.setDate(1),p.setMonth(u),p.setDate(d),p}function m5(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*n2.minutes)}function Ju(n,e,t){return jr(n,-e,t)}function Jt(n,e,t){switch(n=new Date(n),e){case Uo:case jo:case Fo:n=sf(n,0);case Xu:n=a2(n,1);case nl:case Vo:n=tc(n,0);case Qu:n=rl(n,0);case Yu:n=ec(n,0);case Ku:n=Zu(n,0)}return e===jo&&(n=Ju(n,qo(n)%10,"year")),e===Uo&&(n=Ju(n,qo(n)%100,"year")),e===nl&&(n=l2(n,0,t)),n}function rf(n,e,t){switch(n=new Date(n),n=Jt(n,e,t),e){case Uo:case jo:case Fo:case Xu:case nl:n=jr(n,1,e),n=Ju(n,1,Vo),n.setHours(23,59,59,999);break;case Vo:n.setHours(23,59,59,999);break;case Qu:case Yu:case Ku:n=jr(n,1,e),n=Ju(n,1,nf)}return n}var yl=wl(function(n,e){return n===e}),O0=wl(function(n,e){return n!==e}),Ff=wl(function(n,e){return n>e}),Tc=wl(function(n,e){return n>=e}),M0=wl(function(n,e){return n<e}),_l=wl(function(n,e){return n<=e});function r2(){return new Date(Math.min.apply(Math,arguments))}function i2(){return new Date(Math.max.apply(Math,arguments))}function s2(n,e,t,r){return r=r||"day",(!e||Tc(n,e,r))&&(!t||_l(n,t,r))}var Zu=zs("Milliseconds"),ec=zs("Seconds"),rl=zs("Minutes"),tc=zs("Hours"),o2=zs("Day"),a2=zs("Date"),sf=zs("Month"),qo=zs("FullYear");function g5(n,e){return e===void 0?qo(Jt(n,jo)):jr(n,e+10,Fo)}function v5(n,e){return e===void 0?qo(Jt(n,Uo)):jr(n,e+100,Fo)}function l2(n,e,t){var r=(o2(n)+7-(t||0))%7;return e===void 0?r:jr(n,e-r,Vo)}function y5(n,e,t,r){var i,o,l;switch(t){case nf:case Ku:case Yu:case Qu:case Vo:case nl:i=e.getTime()-n.getTime();break;case Xu:case Fo:case jo:case Uo:i=(qo(e)-qo(n))*12+sf(e)-sf(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case nf:o=1;break;case Ku:o=1e3;break;case Yu:o=1e3*60;break;case Qu:o=1e3*60*60;break;case Vo:o=1e3*60*60*24;break;case nl:o=1e3*60*60*24*7;break;case Xu:o=1;break;case Fo:o=12;break;case jo:o=120;break;case Uo:o=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return l=i/o,r?l:Math.round(l)}function zs(n){var e=(function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function wl(n){return function(e,t,r){return n(+Jt(e,r),+Jt(t,r))}}const Ab=Object.freeze(Object.defineProperty({__proto__:null,add:jr,century:v5,date:a2,day:o2,decade:g5,diff:y5,endOf:rf,eq:yl,gt:Ff,gte:Tc,hours:tc,inRange:s2,lt:M0,lte:_l,max:i2,milliseconds:Zu,min:r2,minutes:rl,month:sf,neq:O0,seconds:ec,startOf:Jt,subtract:Ju,weekday:l2,year:qo},Symbol.toStringTag,{value:"Module"}));function _5(n){if(Array.isArray(n))return hw(n)}function u2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function w5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _h(n){return _5(n)||u2(n)||N0(n)||w5()}var eg,Cb;function c2(){if(Cb)return eg;Cb=1;function n(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+t];return l}return eg=n,eg}var tg,xb;function Sc(){if(xb)return tg;xb=1;function n(e,t){return e===t||e!==e&&t!==t}return tg=n,tg}var ng,Pb;function d2(){if(Pb)return ng;Pb=1;var n=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd;return ng=n,ng}var rg,kb;function fi(){if(kb)return rg;kb=1;var n=d2(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return rg=t,rg}var ig,Db;function El(){if(Db)return ig;Db=1;var n=fi(),e=n.Symbol;return ig=e,ig}var sg,Nb;function E5(){if(Nb)return sg;Nb=1;var n=El(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function o(l){var u=t.call(l,i),d=l[i];try{l[i]=void 0;var p=!0}catch{}var m=r.call(l);return p&&(u?l[i]=d:delete l[i]),m}return sg=o,sg}var og,Ob;function T5(){if(Ob)return og;Ob=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return og=t,og}var ag,Mb;function Tl(){if(Mb)return ag;Mb=1;var n=El(),e=E5(),t=T5(),r="[object Null]",i="[object Undefined]",o=n?n.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):t(u)}return ag=l,ag}var lg,Lb;function Bi(){if(Lb)return lg;Lb=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return lg=n,lg}var ug,Vb;function L0(){if(Vb)return ug;Vb=1;var n=Tl(),e=Bi(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var d=n(u);return d==r||d==i||d==t||d==o}return ug=l,ug}var cg,Fb;function V0(){if(Fb)return cg;Fb=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return cg=e,cg}var dg,jb;function bc(){if(jb)return dg;jb=1;var n=L0(),e=V0();function t(r){return r!=null&&e(r.length)&&!n(r)}return dg=t,dg}var hg,Ub;function F0(){if(Ub)return hg;Ub=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var o=typeof r;return i=i??n,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return hg=t,hg}var fg,qb;function jf(){if(qb)return fg;qb=1;var n=Sc(),e=bc(),t=F0(),r=Bi();function i(o,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?e(u)&&t(l,u.length):d=="string"&&l in u)?n(u[l],o):!1}return fg=i,fg}var pg,$b;function S5(){if($b)return pg;$b=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return pg=e,pg}var mg,zb;function b5(){if(zb)return mg;zb=1;var n=S5(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return mg=t,mg}var gg,Bb;function Bs(){if(Bb)return gg;Bb=1;function n(e){return e!=null&&typeof e=="object"}return gg=n,gg}var vg,Wb;function Ic(){if(Wb)return vg;Wb=1;var n=Tl(),e=Bs(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return vg=r,vg}var yg,Hb;function I5(){if(Hb)return yg;Hb=1;var n=b5(),e=Bi(),t=Ic(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var v=o.test(p);return v||l.test(p)?u(p.slice(2),v?2:8):i.test(p)?r:+p}return yg=d,yg}var _g,Gb;function h2(){if(Gb)return _g;Gb=1;var n=I5(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var o=i<0?-1:1;return o*t}return i===i?i:0}return _g=r,_g}var wg,Kb;function f2(){if(Kb)return wg;Kb=1;var n=h2();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return wg=e,wg}var Eg,Yb;function R5(){if(Yb)return Eg;Yb=1;var n=c2(),e=jf(),t=f2(),r=Math.ceil,i=Math.max;function o(l,u,d){(d?e(l,u,d):u===void 0)?u=1:u=i(t(u),0);var p=l==null?0:l.length;if(!p||u<1)return[];for(var m=0,v=0,y=Array(r(p/u));m<p;)y[v++]=n(l,m,m+=u);return y}return Eg=o,Eg}var A5=R5();const C5=On(A5);function Rc(n){return n&&n.ownerDocument||document}function x5(n){var e=Rc(n);return e&&e.defaultView||window}function P5(n,e){return x5(n).getComputedStyle(n,e)}var k5=/([A-Z])/g;function D5(n){return n.replace(k5,"-$1").toLowerCase()}var N5=/^ms-/;function nh(n){return D5(n).replace(N5,"-ms-")}var O5=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function M5(n){return!!(n&&O5.test(n))}function $a(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(nh(e))||P5(n).getPropertyValue(nh(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(nh(i)):M5(i)?r+=i+"("+o+") ":t+=nh(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function nc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function L5(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function j0(n){return"window"in n&&n.window===n?n:L5(n)&&n.defaultView||!1}function p2(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var o=j0(r);if(i===void 0)return o?o[n]:r[e];o?o.scrollTo(o[n],i):r[e]=i}return t}const m2=p2("pageXOffset"),g2=p2("pageYOffset");function Ro(n){var e=Rc(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!nc(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+g2(r)-(r.clientTop||0),left:t.left+m2(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var V5=function(e){return!!e&&"offsetParent"in e};function F5(n){for(var e=Rc(n),t=n&&n.offsetParent;V5(t)&&t.nodeName!=="HTML"&&$a(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var j5=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function v2(n,e){var t={top:0,left:0},r;if($a(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||F5(n);r=Ro(n),j5(i)!=="html"&&(t=Ro(i));var o=String($a(i,"borderTopWidth")||0);t.top+=parseInt(o,10)-g2(i)||0;var l=String($a(i,"borderLeftWidth")||0);t.left+=parseInt(l,10)-m2(i)||0}var u=String($a(n,"marginTop")||0),d=String($a(n,"marginLeft")||0);return vt({},r,{top:r.top-t.top-(parseInt(u,10)||0),left:r.left-t.left-(parseInt(d,10)||0)})}const U0=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qb=new Date().getTime();function U5(n){var e=new Date().getTime(),t=Math.max(0,16-(e-Qb)),r=setTimeout(n,t);return Qb=e,r}var q5=["","webkit","moz","o","ms"],fw="clearTimeout",pw=U5,Xb=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};U0&&q5.some(function(n){var e=Xb(n,"request");return e in window&&(fw=Xb(n,"cancel"),pw=function(r){return window[e](r)}),!!pw});var Jb=function(e){typeof window[fw]=="function"&&window[fw](e)},y2=pw,Tg;function $5(n,e){if(!Tg){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;Tg=function(o,l){return r.call(o,l)}}return Tg(n,e)}var z5=Function.prototype.bind.call(Function.prototype.call,[].slice);function B5(n,e){return z5(n.querySelectorAll(e))}var mw=!1,gw=!1;try{var Sg={get passive(){return mw=!0},get once(){return gw=mw=!0}};U0&&(window.addEventListener("test",Sg,Sg),window.removeEventListener("test",Sg,!0))}catch{}function W5(n,e,t,r){if(r&&typeof r!="boolean"&&!gw){var i=r.once,o=r.capture,l=t;!gw&&i&&(l=t.__once||function u(d){this.removeEventListener(e,u,o),t.call(this,d)},t.__once=l),n.addEventListener(e,l,mw?r:o)}n.addEventListener(e,t,r)}function H5(n){const e=q.useRef(n);return q.useEffect(()=>{e.current=n},[n]),e}function Zb(n){const e=H5(n);return q.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function eI(){return q.useState(null)}function G5(){const n=q.useRef(!0),e=q.useRef(()=>n.current);return q.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function K5(n){const e=G5();return[n[0],q.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var kn="top",hr="bottom",fr="right",Dn="left",q0="auto",Ac=[kn,hr,fr,Dn],il="start",rc="end",Y5="clippingParents",_2="viewport",fu="popper",Q5="reference",tI=Ac.reduce(function(n,e){return n.concat([e+"-"+il,e+"-"+rc])},[]),$0=[].concat(Ac,[q0]).reduce(function(n,e){return n.concat([e,e+"-"+il,e+"-"+rc])},[]),X5="beforeRead",J5="read",Z5="afterRead",eU="beforeMain",tU="main",nU="afterMain",rU="beforeWrite",iU="write",sU="afterWrite",oU=[X5,J5,Z5,eU,tU,nU,rU,iU,sU];function ui(n){return n.split("-")[0]}function Xn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function $o(n){var e=Xn(n).Element;return n instanceof e||n instanceof Element}function ci(n){var e=Xn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function z0(n){if(typeof ShadowRoot>"u")return!1;var e=Xn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Ao=Math.max,of=Math.min,sl=Math.round;function vw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function w2(){return!/^((?!chrome|android).)*safari/i.test(vw())}function ol(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ci(n)&&(i=n.offsetWidth>0&&sl(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&sl(r.height)/n.offsetHeight||1);var l=$o(n)?Xn(n):window,u=l.visualViewport,d=!w2()&&t,p=(r.left+(d&&u?u.offsetLeft:0))/i,m=(r.top+(d&&u?u.offsetTop:0))/o,v=r.width/i,y=r.height/o;return{width:v,height:y,top:m,right:p+v,bottom:m+y,left:p,x:p,y:m}}function B0(n){var e=ol(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function E2(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&z0(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ms(n){return n?(n.nodeName||"").toLowerCase():null}function $i(n){return Xn(n).getComputedStyle(n)}function aU(n){return["table","td","th"].indexOf(Ms(n))>=0}function Ws(n){return(($o(n)?n.ownerDocument:n.document)||window.document).documentElement}function Uf(n){return Ms(n)==="html"?n:n.assignedSlot||n.parentNode||(z0(n)?n.host:null)||Ws(n)}function nI(n){return!ci(n)||$i(n).position==="fixed"?null:n.offsetParent}function lU(n){var e=/firefox/i.test(vw()),t=/Trident/i.test(vw());if(t&&ci(n)){var r=$i(n);if(r.position==="fixed")return null}var i=Uf(n);for(z0(i)&&(i=i.host);ci(i)&&["html","body"].indexOf(Ms(i))<0;){var o=$i(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Cc(n){for(var e=Xn(n),t=nI(n);t&&aU(t)&&$i(t).position==="static";)t=nI(t);return t&&(Ms(t)==="html"||Ms(t)==="body"&&$i(t).position==="static")?e:t||lU(n)||e}function W0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ou(n,e,t){return Ao(n,of(e,t))}function uU(n,e,t){var r=Ou(n,e,t);return r>t?t:r}function T2(){return{top:0,right:0,bottom:0,left:0}}function S2(n){return Object.assign({},T2(),n)}function b2(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var cU=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,S2(typeof e!="number"?e:b2(e,Ac))};function dU(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,u=ui(t.placement),d=W0(u),p=[Dn,fr].indexOf(u)>=0,m=p?"height":"width";if(!(!o||!l)){var v=cU(i.padding,t),y=B0(o),E=d==="y"?kn:Dn,I=d==="y"?hr:fr,S=t.rects.reference[m]+t.rects.reference[d]-l[d]-t.rects.popper[m],b=l[d]-t.rects.reference[d],C=Cc(o),P=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0,M=S/2-b/2,F=v[E],W=P-y[m]-v[I],z=P/2-y[m]/2+M,D=Ou(F,z,W),A=d;t.modifiersData[r]=(e={},e[A]=D,e.centerOffset=D-z,e)}}function hU(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||E2(e.elements.popper,i)&&(e.elements.arrow=i))}const fU={name:"arrow",enabled:!0,phase:"main",fn:dU,effect:hU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function al(n){return n.split("-")[1]}var pU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mU(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:sl(t*i)/i||0,y:sl(r*i)/i||0}}function rI(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,u=n.position,d=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,y=l.x,E=y===void 0?0:y,I=l.y,S=I===void 0?0:I,b=typeof m=="function"?m({x:E,y:S}):{x:E,y:S};E=b.x,S=b.y;var C=l.hasOwnProperty("x"),P=l.hasOwnProperty("y"),M=Dn,F=kn,W=window;if(p){var z=Cc(t),D="clientHeight",A="clientWidth";if(z===Xn(t)&&(z=Ws(t),$i(z).position!=="static"&&u==="absolute"&&(D="scrollHeight",A="scrollWidth")),z=z,i===kn||(i===Dn||i===fr)&&o===rc){F=hr;var x=v&&z===W&&W.visualViewport?W.visualViewport.height:z[D];S-=x-r.height,S*=d?1:-1}if(i===Dn||(i===kn||i===hr)&&o===rc){M=fr;var L=v&&z===W&&W.visualViewport?W.visualViewport.width:z[A];E-=L-r.width,E*=d?1:-1}}var V=Object.assign({position:u},p&&pU),U=m===!0?mU({x:E,y:S},Xn(t)):{x:E,y:S};if(E=U.x,S=U.y,d){var O;return Object.assign({},V,(O={},O[F]=P?"0":"",O[M]=C?"0":"",O.transform=(W.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",O))}return Object.assign({},V,(e={},e[F]=P?S+"px":"",e[M]=C?E+"px":"",e.transform="",e))}function gU(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,u=t.roundOffsets,d=u===void 0?!0:u,p={placement:ui(e.placement),variation:al(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rI(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rI(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const vU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gU,data:{}};var rh={passive:!0};function yU(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,d=Xn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",t.update,rh)}),u&&d.addEventListener("resize",t.update,rh),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",t.update,rh)}),u&&d.removeEventListener("resize",t.update,rh)}}const _U={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yU,data:{}};var wU={left:"right",right:"left",bottom:"top",top:"bottom"};function wh(n){return n.replace(/left|right|bottom|top/g,function(e){return wU[e]})}var EU={start:"end",end:"start"};function iI(n){return n.replace(/start|end/g,function(e){return EU[e]})}function H0(n){var e=Xn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function G0(n){return ol(Ws(n)).left+H0(n).scrollLeft}function TU(n,e){var t=Xn(n),r=Ws(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;var p=w2();(p||!p&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u+G0(n),y:d}}function SU(n){var e,t=Ws(n),r=H0(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Ao(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Ao(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+G0(n),d=-r.scrollTop;return $i(i||t).direction==="rtl"&&(u+=Ao(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:u,y:d}}function K0(n){var e=$i(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function I2(n){return["html","body","#document"].indexOf(Ms(n))>=0?n.ownerDocument.body:ci(n)&&K0(n)?n:I2(Uf(n))}function Mu(n,e){var t;e===void 0&&(e=[]);var r=I2(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Xn(r),l=i?[o].concat(o.visualViewport||[],K0(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(Mu(Uf(l)))}function yw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function bU(n,e){var t=ol(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function sI(n,e,t){return e===_2?yw(TU(n,t)):$o(e)?bU(e,t):yw(SU(Ws(n)))}function IU(n){var e=Mu(Uf(n)),t=["absolute","fixed"].indexOf($i(n).position)>=0,r=t&&ci(n)?Cc(n):n;return $o(r)?e.filter(function(i){return $o(i)&&E2(i,r)&&Ms(i)!=="body"}):[]}function RU(n,e,t,r){var i=e==="clippingParents"?IU(n):[].concat(e),o=[].concat(i,[t]),l=o[0],u=o.reduce(function(d,p){var m=sI(n,p,r);return d.top=Ao(m.top,d.top),d.right=of(m.right,d.right),d.bottom=of(m.bottom,d.bottom),d.left=Ao(m.left,d.left),d},sI(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function R2(n){var e=n.reference,t=n.element,r=n.placement,i=r?ui(r):null,o=r?al(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,d;switch(i){case kn:d={x:l,y:e.y-t.height};break;case hr:d={x:l,y:e.y+e.height};break;case fr:d={x:e.x+e.width,y:u};break;case Dn:d={x:e.x-t.width,y:u};break;default:d={x:e.x,y:e.y}}var p=i?W0(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case il:d[p]=d[p]-(e[m]/2-t[m]/2);break;case rc:d[p]=d[p]+(e[m]/2-t[m]/2);break}}return d}function ic(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,u=t.boundary,d=u===void 0?Y5:u,p=t.rootBoundary,m=p===void 0?_2:p,v=t.elementContext,y=v===void 0?fu:v,E=t.altBoundary,I=E===void 0?!1:E,S=t.padding,b=S===void 0?0:S,C=S2(typeof b!="number"?b:b2(b,Ac)),P=y===fu?Q5:fu,M=n.rects.popper,F=n.elements[I?P:y],W=RU($o(F)?F:F.contextElement||Ws(n.elements.popper),d,m,l),z=ol(n.elements.reference),D=R2({reference:z,element:M,placement:i}),A=yw(Object.assign({},M,D)),x=y===fu?A:z,L={top:W.top-x.top+C.top,bottom:x.bottom-W.bottom+C.bottom,left:W.left-x.left+C.left,right:x.right-W.right+C.right},V=n.modifiersData.offset;if(y===fu&&V){var U=V[i];Object.keys(L).forEach(function(O){var ce=[fr,hr].indexOf(O)>=0?1:-1,Te=[kn,hr].indexOf(O)>=0?"y":"x";L[O]+=U[Te]*ce})}return L}function AU(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,u=t.flipVariations,d=t.allowedAutoPlacements,p=d===void 0?$0:d,m=al(r),v=m?u?tI:tI.filter(function(I){return al(I)===m}):Ac,y=v.filter(function(I){return p.indexOf(I)>=0});y.length===0&&(y=v);var E=y.reduce(function(I,S){return I[S]=ic(n,{placement:S,boundary:i,rootBoundary:o,padding:l})[ui(S)],I},{});return Object.keys(E).sort(function(I,S){return E[I]-E[S]})}function CU(n){if(ui(n)===q0)return[];var e=wh(n);return[iI(n),e,iI(e)]}function xU(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,d=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,I=E===void 0?!0:E,S=t.allowedAutoPlacements,b=e.options.placement,C=ui(b),P=C===b,M=d||(P||!I?[wh(b)]:CU(b)),F=[b].concat(M).reduce(function(xe,Re){return xe.concat(ui(Re)===q0?AU(e,{placement:Re,boundary:m,rootBoundary:v,padding:p,flipVariations:I,allowedAutoPlacements:S}):Re)},[]),W=e.rects.reference,z=e.rects.popper,D=new Map,A=!0,x=F[0],L=0;L<F.length;L++){var V=F[L],U=ui(V),O=al(V)===il,ce=[kn,hr].indexOf(U)>=0,Te=ce?"width":"height",_e=ic(e,{placement:V,boundary:m,rootBoundary:v,altBoundary:y,padding:p}),ye=ce?O?fr:Dn:O?hr:kn;W[Te]>z[Te]&&(ye=wh(ye));var ne=wh(ye),de=[];if(o&&de.push(_e[U]<=0),u&&de.push(_e[ye]<=0,_e[ne]<=0),de.every(function(xe){return xe})){x=V,A=!1;break}D.set(V,de)}if(A)for(var le=I?3:1,H=function(Re){var Ne=F.find(function(Le){var Oe=D.get(Le);if(Oe)return Oe.slice(0,Re).every(function(He){return He})});if(Ne)return x=Ne,"break"},Z=le;Z>0;Z--){var he=H(Z);if(he==="break")break}e.placement!==x&&(e.modifiersData[r]._skip=!0,e.placement=x,e.reset=!0)}}const PU={name:"flip",enabled:!0,phase:"main",fn:xU,requiresIfExists:["offset"],data:{_skip:!1}};function oI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function aI(n){return[kn,fr,hr,Dn].some(function(e){return n[e]>=0})}function kU(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=ic(e,{elementContext:"reference"}),u=ic(e,{altBoundary:!0}),d=oI(l,r),p=oI(u,i,o),m=aI(d),v=aI(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const DU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kU};function NU(n,e,t){var r=ui(n),i=[Dn,kn].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],u=o[1];return l=l||0,u=(u||0)*i,[Dn,fr].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function OU(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=$0.reduce(function(m,v){return m[v]=NU(v,e.rects,o),m},{}),u=l[e.placement],d=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const MU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OU};function LU(n){var e=n.state,t=n.name;e.modifiersData[t]=R2({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const VU={name:"popperOffsets",enabled:!0,phase:"read",fn:LU,data:{}};function FU(n){return n==="x"?"y":"x"}function jU(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,d=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,y=t.tether,E=y===void 0?!0:y,I=t.tetherOffset,S=I===void 0?0:I,b=ic(e,{boundary:d,rootBoundary:p,padding:v,altBoundary:m}),C=ui(e.placement),P=al(e.placement),M=!P,F=W0(C),W=FU(F),z=e.modifiersData.popperOffsets,D=e.rects.reference,A=e.rects.popper,x=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,L=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(z){if(o){var O,ce=F==="y"?kn:Dn,Te=F==="y"?hr:fr,_e=F==="y"?"height":"width",ye=z[F],ne=ye+b[ce],de=ye-b[Te],le=E?-A[_e]/2:0,H=P===il?D[_e]:A[_e],Z=P===il?-A[_e]:-D[_e],he=e.elements.arrow,xe=E&&he?B0(he):{width:0,height:0},Re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:T2(),Ne=Re[ce],Le=Re[Te],Oe=Ou(0,D[_e],xe[_e]),He=M?D[_e]/2-le-Oe-Ne-L.mainAxis:H-Oe-Ne-L.mainAxis,mt=M?-D[_e]/2+le+Oe+Le+L.mainAxis:Z+Oe+Le+L.mainAxis,fn=e.elements.arrow&&Cc(e.elements.arrow),$r=fn?F==="y"?fn.clientTop||0:fn.clientLeft||0:0,Mn=(O=V==null?void 0:V[F])!=null?O:0,vr=ye+He-Mn-$r,qe=ye+mt-Mn,Ln=Ou(E?of(ne,vr):ne,ye,E?Ao(de,qe):de);z[F]=Ln,U[F]=Ln-ye}if(u){var Ve,Vn=F==="x"?kn:Dn,pn=F==="x"?hr:fr,xt=z[W],Pt=W==="y"?"height":"width",Bt=xt+b[Vn],at=xt-b[pn],mn=[kn,Dn].indexOf(C)!==-1,Fn=(Ve=V==null?void 0:V[W])!=null?Ve:0,lt=mn?Bt:xt-D[Pt]-A[Pt]-Fn+L.altAxis,rt=mn?xt+D[Pt]+A[Pt]-Fn-L.altAxis:at,kt=E&&mn?uU(lt,xt,rt):Ou(E?lt:Bt,xt,E?rt:at);z[W]=kt,U[W]=kt-xt}e.modifiersData[r]=U}}const UU={name:"preventOverflow",enabled:!0,phase:"main",fn:jU,requiresIfExists:["offset"]};function qU(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function $U(n){return n===Xn(n)||!ci(n)?H0(n):qU(n)}function zU(n){var e=n.getBoundingClientRect(),t=sl(e.width)/n.offsetWidth||1,r=sl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function BU(n,e,t){t===void 0&&(t=!1);var r=ci(e),i=ci(e)&&zU(e),o=Ws(e),l=ol(n,i,t),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Ms(e)!=="body"||K0(o))&&(u=$U(e)),ci(e)?(d=ol(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=G0(o))),{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function WU(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var d=e.get(u);d&&i(d)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function HU(n){var e=WU(n);return oU.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function GU(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function KU(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var lI={placement:"bottom",modifiers:[],strategy:"absolute"};function uI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?lI:i;return function(u,d,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},lI,o),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},v=[],y=!1,E={state:m,setOptions:function(C){var P=typeof C=="function"?C(m.options):C;S(),m.options=Object.assign({},o,m.options,P),m.scrollParents={reference:$o(u)?Mu(u):u.contextElement?Mu(u.contextElement):[],popper:Mu(d)};var M=HU(KU([].concat(r,m.options.modifiers)));return m.orderedModifiers=M.filter(function(F){return F.enabled}),I(),E.update()},forceUpdate:function(){if(!y){var C=m.elements,P=C.reference,M=C.popper;if(uI(P,M)){m.rects={reference:BU(P,Cc(M),m.options.strategy==="fixed"),popper:B0(M)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(L){return m.modifiersData[L.name]=Object.assign({},L.data)});for(var F=0;F<m.orderedModifiers.length;F++){if(m.reset===!0){m.reset=!1,F=-1;continue}var W=m.orderedModifiers[F],z=W.fn,D=W.options,A=D===void 0?{}:D,x=W.name;typeof z=="function"&&(m=z({state:m,options:A,name:x,instance:E})||m)}}}},update:GU(function(){return new Promise(function(b){E.forceUpdate(),b(m)})}),destroy:function(){S(),y=!0}};if(!uI(u,d))return E;E.setOptions(p).then(function(b){!y&&p.onFirstUpdate&&p.onFirstUpdate(b)});function I(){m.orderedModifiers.forEach(function(b){var C=b.name,P=b.options,M=P===void 0?{}:P,F=b.effect;if(typeof F=="function"){var W=F({state:m,name:C,instance:E,options:M}),z=function(){};v.push(W||z)}})}function S(){v.forEach(function(b){return b()}),v=[]}return E}}var QU=YU({defaultModifiers:[DU,VU,vU,_U,MU,PU,UU,fU]}),cI=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},XU={name:"applyStyles",enabled:!1},JU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,o=r.popper;if("removeAttribute"in i){var l=(i.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==o.id});l.length?i.setAttribute("aria-describedby",l.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,o=i.popper,l=i.reference,u=(t=o.getAttribute("role"))==null?void 0:t.toLowerCase();if(o.id&&u==="tooltip"&&"setAttribute"in l){var d=l.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(o.id)!==-1)return;l.setAttribute("aria-describedby",d?d+","+o.id:o.id)}}},ZU=[];function e9(n,e,t){var r=t===void 0?{}:t,i=r.enabled,o=i===void 0?!0:i,l=r.placement,u=l===void 0?"bottom":l,d=r.strategy,p=d===void 0?"absolute":d,m=r.modifiers,v=m===void 0?ZU:m,y=Vf(r,["enabled","placement","strategy","modifiers"]),E=q.useRef(),I=q.useCallback(function(){var F;(F=E.current)==null||F.update()},[]),S=q.useCallback(function(){var F;(F=E.current)==null||F.forceUpdate()},[]),b=K5(q.useState({placement:u,update:I,forceUpdate:S,attributes:{},styles:{popper:cI(p),arrow:{}}})),C=b[0],P=b[1],M=q.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(W){var z=W.state,D={},A={};Object.keys(z.elements).forEach(function(x){D[x]=z.styles[x],A[x]=z.attributes[x]}),P({state:z,styles:D,attributes:A,update:I,forceUpdate:S,placement:z.placement})}}},[I,S,P]);return q.useEffect(function(){!E.current||!o||E.current.setOptions({placement:u,strategy:p,modifiers:[].concat(v,[M,XU])})},[p,u,M,o]),q.useEffect(function(){if(!(!o||n==null||e==null))return E.current=QU(n,e,vt({},y,{placement:u,strategy:p,modifiers:[].concat(v,[JU,M])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,P(function(F){return vt({},F,{attributes:{},styles:{popper:cI(p)}})}))}},[o,n,e]),C}function t9(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function bu(n,e,t,r){return W5(n,e,t,r),function(){t9(n,e,t,r)}}var bg,dI;function n9(){if(dI)return bg;dI=1;var n=function(){};return bg=n,bg}var r9=n9();const i9=On(r9);function s9(n){return n&&"setState"in n?ux.findDOMNode(n):n??null}const o9=(function(n){return Rc(s9(n))});var a9=27,hI=function(){};function l9(n){return n.button===0}function u9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var fI=function(e){return e&&("current"in e?e.current:e)};function c9(n,e,t){var r=t===void 0?{}:t,i=r.disabled,o=r.clickTrigger,l=o===void 0?"click":o,u=q.useRef(!1),d=e||hI,p=q.useCallback(function(y){var E,I=fI(n);i9(!!I,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!I||u9(y)||!l9(y)||!!nc(I,(E=y.composedPath==null?void 0:y.composedPath()[0])!=null?E:y.target)},[n]),m=Zb(function(y){u.current||d(y)}),v=Zb(function(y){y.keyCode===a9&&d(y)});q.useEffect(function(){if(!(i||n==null)){var y=window.event,E=o9(fI(n)),I=bu(E,l,p,!0),S=bu(E,l,function(P){if(P===y){y=void 0;return}m(P)}),b=bu(E,"keyup",function(P){if(P===y){y=void 0;return}v(P)}),C=[];return"ontouchstart"in E.documentElement&&(C=[].slice.call(E.body.children).map(function(P){return bu(P,"mousemove",hI)})),function(){I(),S(),b(),C.forEach(function(P){return P()})}}},[n,i,l,p,m,v])}function d9(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function h9(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function f9(n){var e,t,r,i,o=n.enabled,l=n.enableEvents,u=n.placement,d=n.flip,p=n.offset,m=n.fixed,v=n.containerPadding,y=n.arrowElement,E=n.popperConfig,I=E===void 0?{}:E,S=d9(I.modifiers);return vt({},I,{placement:u,enabled:o,strategy:m?"fixed":I.strategy,modifiers:h9(vt({},S,{eventListeners:{enabled:l},preventOverflow:vt({},S.preventOverflow,{options:v?vt({padding:v},(e=S.preventOverflow)==null?void 0:e.options):(t=S.preventOverflow)==null?void 0:t.options}),offset:{options:vt({offset:p},(r=S.offset)==null?void 0:r.options)},arrow:vt({},S.arrow,{enabled:!!y,options:vt({},(i=S.arrow)==null?void 0:i.options,{element:y})}),flip:vt({enabled:!!d},S.flip)}))})}function p9(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function m9(n,e){n.classList?n.classList.add(e):p9(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function pI(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function g9(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=pI(n.className,e):n.setAttribute("class",pI(n.className&&n.className.baseVal||"",e))}var ih;function Y0(n){if((!ih&&ih!==0||n)&&U0){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ih=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ih}var Ig=function(e){var t;return typeof document>"u"?null:e==null?Rc().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function mI(n,e){var t=q.useState(function(){return Ig(n)}),r=t[0],i=t[1];if(!r){var o=Ig(n);o&&i(o)}return q.useEffect(function(){},[e,r]),q.useEffect(function(){var l=Ig(n);l!==r&&i(l)},[n,r]),r}const gI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function v9(n,e){const t=gI(n),r=gI(e);return i=>{t&&t(i),r&&r(i)}}function y9(n,e){return q.useMemo(()=>v9(n,e),[n,e])}var Q0=G.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,o=n.containerPadding,l=o===void 0?5:o,u=n.popperConfig,d=u===void 0?{}:u,p=n.transition,m=eI(),v=m[0],y=m[1],E=eI(),I=E[0],S=E[1],b=y9(y,e),C=mI(n.container),P=mI(n.target),M=q.useState(!n.show),F=M[0],W=M[1],z=e9(P,v,f9({placement:i,enableEvents:!!n.show,containerPadding:l||5,flip:t,offset:r,arrowElement:I,popperConfig:d})),D=z.styles,A=z.attributes,x=Vf(z,["styles","attributes"]);n.show?F&&W(!1):!n.transition&&!F&&W(!0);var L=function(){W(!0),n.onExited&&n.onExited.apply(n,arguments)},V=n.show||p&&!F;if(c9(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!V)return null;var U=n.children(vt({},x,{show:!!n.show,props:vt({},A.popper,{style:D.popper,ref:b}),arrowProps:vt({},A.arrow,{style:D.arrow,ref:S})}));if(p){var O=n.onExit,ce=n.onExiting,Te=n.onEnter,_e=n.onEntering,ye=n.onEntered;U=G.createElement(p,{in:n.show,appear:!0,onExit:O,onExiting:ce,onExited:L,onEnter:Te,onEntering:_e,onEntered:ye},U)}return C?ux.createPortal(U,C):null});Q0.displayName="Overlay";Q0.propTypes={show:ae.bool,placement:ae.oneOf($0),target:ae.any,container:ae.any,flip:ae.bool,children:ae.func.isRequired,containerPadding:ae.number,popperConfig:ae.object,rootClose:ae.bool,rootCloseEvent:ae.oneOf(["click","mousedown"]),rootCloseDisabled:ae.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var o;return(o=ae.func).isRequired.apply(o,[e].concat(r))}return ae.func.apply(ae,[e].concat(r))},transition:ae.elementType,onEnter:ae.func,onEntering:ae.func,onEntered:ae.func,onExit:ae.func,onExiting:ae.func,onExited:ae.func};var Rg,vI;function _9(){if(vI)return Rg;vI=1;function n(){this.__data__=[],this.size=0}return Rg=n,Rg}var Ag,yI;function qf(){if(yI)return Ag;yI=1;var n=Sc();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return Ag=e,Ag}var Cg,_I;function w9(){if(_I)return Cg;_I=1;var n=qf(),e=Array.prototype,t=e.splice;function r(i){var o=this.__data__,l=n(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():t.call(o,l,1),--this.size,!0}return Cg=r,Cg}var xg,wI;function E9(){if(wI)return xg;wI=1;var n=qf();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return xg=e,xg}var Pg,EI;function T9(){if(EI)return Pg;EI=1;var n=qf();function e(t){return n(this.__data__,t)>-1}return Pg=e,Pg}var kg,TI;function S9(){if(TI)return kg;TI=1;var n=qf();function e(t,r){var i=this.__data__,o=n(i,t);return o<0?(++this.size,i.push([t,r])):i[o][1]=r,this}return kg=e,kg}var Dg,SI;function $f(){if(SI)return Dg;SI=1;var n=_9(),e=w9(),t=E9(),r=T9(),i=S9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Dg=o,Dg}var Ng,bI;function b9(){if(bI)return Ng;bI=1;var n=$f();function e(){this.__data__=new n,this.size=0}return Ng=e,Ng}var Og,II;function I9(){if(II)return Og;II=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Og=n,Og}var Mg,RI;function R9(){if(RI)return Mg;RI=1;function n(e){return this.__data__.get(e)}return Mg=n,Mg}var Lg,AI;function A9(){if(AI)return Lg;AI=1;function n(e){return this.__data__.has(e)}return Lg=n,Lg}var Vg,CI;function C9(){if(CI)return Vg;CI=1;var n=fi(),e=n["__core-js_shared__"];return Vg=e,Vg}var Fg,xI;function x9(){if(xI)return Fg;xI=1;var n=C9(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return Fg=t,Fg}var jg,PI;function A2(){if(PI)return jg;PI=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return jg=t,jg}var Ug,kI;function P9(){if(kI)return Ug;kI=1;var n=L0(),e=x9(),t=Bi(),r=A2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,p=u.hasOwnProperty,m=RegExp("^"+d.call(p).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!t(y)||e(y))return!1;var E=n(y)?m:o;return E.test(r(y))}return Ug=v,Ug}var qg,DI;function k9(){if(DI)return qg;DI=1;function n(e,t){return e==null?void 0:e[t]}return qg=n,qg}var $g,NI;function Yo(){if(NI)return $g;NI=1;var n=P9(),e=k9();function t(r,i){var o=e(r,i);return n(o)?o:void 0}return $g=t,$g}var zg,OI;function X0(){if(OI)return zg;OI=1;var n=Yo(),e=fi(),t=n(e,"Map");return zg=t,zg}var Bg,MI;function zf(){if(MI)return Bg;MI=1;var n=Yo(),e=n(Object,"create");return Bg=e,Bg}var Wg,LI;function D9(){if(LI)return Wg;LI=1;var n=zf();function e(){this.__data__=n?n(null):{},this.size=0}return Wg=e,Wg}var Hg,VI;function N9(){if(VI)return Hg;VI=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Hg=n,Hg}var Gg,FI;function O9(){if(FI)return Gg;FI=1;var n=zf(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(o){var l=this.__data__;if(n){var u=l[o];return u===e?void 0:u}return r.call(l,o)?l[o]:void 0}return Gg=i,Gg}var Kg,jI;function M9(){if(jI)return Kg;jI=1;var n=zf(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var o=this.__data__;return n?o[i]!==void 0:t.call(o,i)}return Kg=r,Kg}var Yg,UI;function L9(){if(UI)return Yg;UI=1;var n=zf(),e="__lodash_hash_undefined__";function t(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=n&&i===void 0?e:i,this}return Yg=t,Yg}var Qg,qI;function V9(){if(qI)return Qg;qI=1;var n=D9(),e=N9(),t=O9(),r=M9(),i=L9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Qg=o,Qg}var Xg,$I;function F9(){if($I)return Xg;$I=1;var n=V9(),e=$f(),t=X0();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Xg=r,Xg}var Jg,zI;function j9(){if(zI)return Jg;zI=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Jg=n,Jg}var Zg,BI;function Bf(){if(BI)return Zg;BI=1;var n=j9();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Zg=e,Zg}var ev,WI;function U9(){if(WI)return ev;WI=1;var n=Bf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return ev=e,ev}var tv,HI;function q9(){if(HI)return tv;HI=1;var n=Bf();function e(t){return n(this,t).get(t)}return tv=e,tv}var nv,GI;function $9(){if(GI)return nv;GI=1;var n=Bf();function e(t){return n(this,t).has(t)}return nv=e,nv}var rv,KI;function z9(){if(KI)return rv;KI=1;var n=Bf();function e(t,r){var i=n(this,t),o=i.size;return i.set(t,r),this.size+=i.size==o?0:1,this}return rv=e,rv}var iv,YI;function J0(){if(YI)return iv;YI=1;var n=F9(),e=U9(),t=q9(),r=$9(),i=z9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,iv=o,iv}var sv,QI;function B9(){if(QI)return sv;QI=1;var n=$f(),e=X0(),t=J0(),r=200;function i(o,l){var u=this.__data__;if(u instanceof n){var d=u.__data__;if(!e||d.length<r-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new t(d)}return u.set(o,l),this.size=u.size,this}return sv=i,sv}var ov,XI;function Z0(){if(XI)return ov;XI=1;var n=$f(),e=b9(),t=I9(),r=R9(),i=A9(),o=B9();function l(u){var d=this.__data__=new n(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,ov=l,ov}var av,JI;function W9(){if(JI)return av;JI=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return av=e,av}var lv,ZI;function H9(){if(ZI)return lv;ZI=1;function n(e){return this.__data__.has(e)}return lv=n,lv}var uv,eR;function G9(){if(eR)return uv;eR=1;var n=J0(),e=W9(),t=H9();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new n;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,uv=r,uv}var cv,tR;function K9(){if(tR)return cv;tR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return cv=n,cv}var dv,nR;function Y9(){if(nR)return dv;nR=1;function n(e,t){return e.has(t)}return dv=n,dv}var hv,rR;function C2(){if(rR)return hv;rR=1;var n=G9(),e=K9(),t=Y9(),r=1,i=2;function o(l,u,d,p,m,v){var y=d&r,E=l.length,I=u.length;if(E!=I&&!(y&&I>E))return!1;var S=v.get(l),b=v.get(u);if(S&&b)return S==u&&b==l;var C=-1,P=!0,M=d&i?new n:void 0;for(v.set(l,u),v.set(u,l);++C<E;){var F=l[C],W=u[C];if(p)var z=y?p(W,F,C,u,l,v):p(F,W,C,l,u,v);if(z!==void 0){if(z)continue;P=!1;break}if(M){if(!e(u,function(D,A){if(!t(M,A)&&(F===D||m(F,D,d,p,v)))return M.push(A)})){P=!1;break}}else if(!(F===W||m(F,W,d,p,v))){P=!1;break}}return v.delete(l),v.delete(u),P}return hv=o,hv}var fv,iR;function x2(){if(iR)return fv;iR=1;var n=fi(),e=n.Uint8Array;return fv=e,fv}var pv,sR;function Q9(){if(sR)return pv;sR=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,o){r[++t]=[o,i]}),r}return pv=n,pv}var mv,oR;function X9(){if(oR)return mv;oR=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return mv=n,mv}var gv,aR;function J9(){if(aR)return gv;aR=1;var n=El(),e=x2(),t=Sc(),r=C2(),i=Q9(),o=X9(),l=1,u=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",y="[object Number]",E="[object RegExp]",I="[object Set]",S="[object String]",b="[object Symbol]",C="[object ArrayBuffer]",P="[object DataView]",M=n?n.prototype:void 0,F=M?M.valueOf:void 0;function W(z,D,A,x,L,V,U){switch(A){case P:if(z.byteLength!=D.byteLength||z.byteOffset!=D.byteOffset)return!1;z=z.buffer,D=D.buffer;case C:return!(z.byteLength!=D.byteLength||!V(new e(z),new e(D)));case d:case p:case y:return t(+z,+D);case m:return z.name==D.name&&z.message==D.message;case E:case S:return z==D+"";case v:var O=i;case I:var ce=x&l;if(O||(O=o),z.size!=D.size&&!ce)return!1;var Te=U.get(z);if(Te)return Te==D;x|=u,U.set(z,D);var _e=r(O(z),O(D),x,L,V,U);return U.delete(z),_e;case b:if(F)return F.call(z)==F.call(D)}return!1}return gv=W,gv}var vv,lR;function eE(){if(lR)return vv;lR=1;function n(e,t){for(var r=-1,i=t.length,o=e.length;++r<i;)e[o+r]=t[r];return e}return vv=n,vv}var yv,uR;function gr(){if(uR)return yv;uR=1;var n=Array.isArray;return yv=n,yv}var _v,cR;function P2(){if(cR)return _v;cR=1;var n=eE(),e=gr();function t(r,i,o){var l=i(r);return e(r)?l:n(l,o(r))}return _v=t,_v}var wv,dR;function Z9(){if(dR)return wv;dR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var u=e[r];t(u,r,e)&&(l[o++]=u)}return l}return wv=n,wv}var Ev,hR;function k2(){if(hR)return Ev;hR=1;function n(){return[]}return Ev=n,Ev}var Tv,fR;function tE(){if(fR)return Tv;fR=1;var n=Z9(),e=k2(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),n(i(l),function(u){return r.call(l,u)}))}:e;return Tv=o,Tv}var Sv,pR;function eq(){if(pR)return Sv;pR=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return Sv=n,Sv}var bv,mR;function tq(){if(mR)return bv;mR=1;var n=Tl(),e=Bs(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return bv=r,bv}var Iv,gR;function nE(){if(gR)return Iv;gR=1;var n=tq(),e=Bs(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,o=n((function(){return arguments})())?n:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return Iv=o,Iv}var Iu={exports:{}},Rv,vR;function nq(){if(vR)return Rv;vR=1;function n(){return!1}return Rv=n,Rv}Iu.exports;var yR;function Wf(){return yR||(yR=1,(function(n,e){var t=fi(),r=nq(),i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,l=o&&o.exports===i,u=l?t.Buffer:void 0,d=u?u.isBuffer:void 0,p=d||r;n.exports=p})(Iu,Iu.exports)),Iu.exports}var Av,_R;function rq(){if(_R)return Av;_R=1;var n=Tl(),e=V0(),t=Bs(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",E="[object Set]",I="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",P="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",W="[object Int16Array]",z="[object Int32Array]",D="[object Uint8Array]",A="[object Uint8ClampedArray]",x="[object Uint16Array]",L="[object Uint32Array]",V={};V[P]=V[M]=V[F]=V[W]=V[z]=V[D]=V[A]=V[x]=V[L]=!0,V[r]=V[i]=V[b]=V[o]=V[C]=V[l]=V[u]=V[d]=V[p]=V[m]=V[v]=V[y]=V[E]=V[I]=V[S]=!1;function U(O){return t(O)&&e(O.length)&&!!V[n(O)]}return Av=U,Av}var Cv,wR;function Hf(){if(wR)return Cv;wR=1;function n(e){return function(t){return e(t)}}return Cv=n,Cv}var Ru={exports:{}};Ru.exports;var ER;function rE(){return ER||(ER=1,(function(n,e){var t=d2(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,l=o&&t.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();n.exports=u})(Ru,Ru.exports)),Ru.exports}var xv,TR;function iE(){if(TR)return xv;TR=1;var n=rq(),e=Hf(),t=rE(),r=t&&t.isTypedArray,i=r?e(r):n;return xv=i,xv}var Pv,SR;function D2(){if(SR)return Pv;SR=1;var n=eq(),e=nE(),t=gr(),r=Wf(),i=F0(),o=iE(),l=Object.prototype,u=l.hasOwnProperty;function d(p,m){var v=t(p),y=!v&&e(p),E=!v&&!y&&r(p),I=!v&&!y&&!E&&o(p),S=v||y||E||I,b=S?n(p.length,String):[],C=b.length;for(var P in p)(m||u.call(p,P))&&!(S&&(P=="length"||E&&(P=="offset"||P=="parent")||I&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,C)))&&b.push(P);return b}return Pv=d,Pv}var kv,bR;function sE(){if(bR)return kv;bR=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return kv=e,kv}var Dv,IR;function N2(){if(IR)return Dv;IR=1;function n(e,t){return function(r){return e(t(r))}}return Dv=n,Dv}var Nv,RR;function iq(){if(RR)return Nv;RR=1;var n=N2(),e=n(Object.keys,Object);return Nv=e,Nv}var Ov,AR;function sq(){if(AR)return Ov;AR=1;var n=sE(),e=iq(),t=Object.prototype,r=t.hasOwnProperty;function i(o){if(!n(o))return e(o);var l=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&l.push(u);return l}return Ov=i,Ov}var Mv,CR;function xc(){if(CR)return Mv;CR=1;var n=D2(),e=sq(),t=bc();function r(i){return t(i)?n(i):e(i)}return Mv=r,Mv}var Lv,xR;function O2(){if(xR)return Lv;xR=1;var n=P2(),e=tE(),t=xc();function r(i){return n(i,t,e)}return Lv=r,Lv}var Vv,PR;function oq(){if(PR)return Vv;PR=1;var n=O2(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(o,l,u,d,p,m){var v=u&e,y=n(o),E=y.length,I=n(l),S=I.length;if(E!=S&&!v)return!1;for(var b=E;b--;){var C=y[b];if(!(v?C in l:r.call(l,C)))return!1}var P=m.get(o),M=m.get(l);if(P&&M)return P==l&&M==o;var F=!0;m.set(o,l),m.set(l,o);for(var W=v;++b<E;){C=y[b];var z=o[C],D=l[C];if(d)var A=v?d(D,z,C,l,o,m):d(z,D,C,o,l,m);if(!(A===void 0?z===D||p(z,D,u,d,m):A)){F=!1;break}W||(W=C=="constructor")}if(F&&!W){var x=o.constructor,L=l.constructor;x!=L&&"constructor"in o&&"constructor"in l&&!(typeof x=="function"&&x instanceof x&&typeof L=="function"&&L instanceof L)&&(F=!1)}return m.delete(o),m.delete(l),F}return Vv=i,Vv}var Fv,kR;function aq(){if(kR)return Fv;kR=1;var n=Yo(),e=fi(),t=n(e,"DataView");return Fv=t,Fv}var jv,DR;function lq(){if(DR)return jv;DR=1;var n=Yo(),e=fi(),t=n(e,"Promise");return jv=t,jv}var Uv,NR;function uq(){if(NR)return Uv;NR=1;var n=Yo(),e=fi(),t=n(e,"Set");return Uv=t,Uv}var qv,OR;function cq(){if(OR)return qv;OR=1;var n=Yo(),e=fi(),t=n(e,"WeakMap");return qv=t,qv}var $v,MR;function Gf(){if(MR)return $v;MR=1;var n=aq(),e=X0(),t=lq(),r=uq(),i=cq(),o=Tl(),l=A2(),u="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",y="[object DataView]",E=l(n),I=l(e),S=l(t),b=l(r),C=l(i),P=o;return(n&&P(new n(new ArrayBuffer(1)))!=y||e&&P(new e)!=u||t&&P(t.resolve())!=p||r&&P(new r)!=m||i&&P(new i)!=v)&&(P=function(M){var F=o(M),W=F==d?M.constructor:void 0,z=W?l(W):"";if(z)switch(z){case E:return y;case I:return u;case S:return p;case b:return m;case C:return v}return F}),$v=P,$v}var zv,LR;function dq(){if(LR)return zv;LR=1;var n=Z0(),e=C2(),t=J9(),r=oq(),i=Gf(),o=gr(),l=Wf(),u=iE(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",y=Object.prototype,E=y.hasOwnProperty;function I(S,b,C,P,M,F){var W=o(S),z=o(b),D=W?m:i(S),A=z?m:i(b);D=D==p?v:D,A=A==p?v:A;var x=D==v,L=A==v,V=D==A;if(V&&l(S)){if(!l(b))return!1;W=!0,x=!1}if(V&&!x)return F||(F=new n),W||u(S)?e(S,b,C,P,M,F):t(S,b,D,C,P,M,F);if(!(C&d)){var U=x&&E.call(S,"__wrapped__"),O=L&&E.call(b,"__wrapped__");if(U||O){var ce=U?S.value():S,Te=O?b.value():b;return F||(F=new n),M(ce,Te,C,P,F)}}return V?(F||(F=new n),r(S,b,C,P,M,F)):!1}return zv=I,zv}var Bv,VR;function oE(){if(VR)return Bv;VR=1;var n=dq(),e=Bs();function t(r,i,o,l,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,o,l,t,u)}return Bv=t,Bv}var Wv,FR;function hq(){if(FR)return Wv;FR=1;var n=oE();function e(t,r){return n(t,r)}return Wv=e,Wv}var fq=hq();const pq=On(fq);function Hv(n,e){var t=j0(n);return t?t.innerHeight:Ro(n).height}function M2(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if($5(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var Gv,jR;function mq(){if(jR)return Gv;jR=1;function n(e,t,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(t(e[l],l,e))return l;return-1}return Gv=n,Gv}var Kv,UR;function gq(){if(UR)return Kv;UR=1;var n=Z0(),e=oE(),t=1,r=2;function i(o,l,u,d){var p=u.length,m=p,v=!d;if(o==null)return!m;for(o=Object(o);p--;){var y=u[p];if(v&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++p<m;){y=u[p];var E=y[0],I=o[E],S=y[1];if(v&&y[2]){if(I===void 0&&!(E in o))return!1}else{var b=new n;if(d)var C=d(I,S,E,o,l,b);if(!(C===void 0?e(S,I,t|r,d,b):C))return!1}}return!0}return Kv=i,Kv}var Yv,qR;function L2(){if(qR)return Yv;qR=1;var n=Bi();function e(t){return t===t&&!n(t)}return Yv=e,Yv}var Qv,$R;function vq(){if($R)return Qv;$R=1;var n=L2(),e=xc();function t(r){for(var i=e(r),o=i.length;o--;){var l=i[o],u=r[l];i[o]=[l,u,n(u)]}return i}return Qv=t,Qv}var Xv,zR;function V2(){if(zR)return Xv;zR=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return Xv=n,Xv}var Jv,BR;function yq(){if(BR)return Jv;BR=1;var n=gq(),e=vq(),t=V2();function r(i){var o=e(i);return o.length==1&&o[0][2]?t(o[0][0],o[0][1]):function(l){return l===i||n(l,i,o)}}return Jv=r,Jv}var Zv,WR;function aE(){if(WR)return Zv;WR=1;var n=gr(),e=Ic(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(n(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!t.test(o)||l!=null&&o in Object(l)}return Zv=i,Zv}var ey,HR;function _q(){if(HR)return ey;HR=1;var n=J0(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var p=r.apply(this,l);return o.cache=d.set(u,p)||d,p};return o.cache=new(t.Cache||n),o}return t.Cache=n,ey=t,ey}var ty,GR;function wq(){if(GR)return ty;GR=1;var n=_q(),e=500;function t(r){var i=n(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return ty=t,ty}var ny,KR;function Eq(){if(KR)return ny;KR=1;var n=wq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,d,p){o.push(d?p.replace(t,"$1"):u||l)}),o});return ny=r,ny}var ry,YR;function lE(){if(YR)return ry;YR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=t(e[r],r,e);return o}return ry=n,ry}var iy,QR;function Tq(){if(QR)return iy;QR=1;var n=El(),e=lE(),t=gr(),r=Ic(),i=n?n.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(t(u))return e(u,l)+"";if(r(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return iy=l,iy}var sy,XR;function Sq(){if(XR)return sy;XR=1;var n=Tq();function e(t){return t==null?"":n(t)}return sy=e,sy}var oy,JR;function Kf(){if(JR)return oy;JR=1;var n=gr(),e=aE(),t=Eq(),r=Sq();function i(o,l){return n(o)?o:e(o,l)?[o]:t(r(o))}return oy=i,oy}var ay,ZR;function Pc(){if(ZR)return ay;ZR=1;var n=Ic();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return ay=e,ay}var ly,eA;function Yf(){if(eA)return ly;eA=1;var n=Kf(),e=Pc();function t(r,i){i=n(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return ly=t,ly}var uy,tA;function bq(){if(tA)return uy;tA=1;var n=Yf();function e(t,r,i){var o=t==null?void 0:n(t,r);return o===void 0?i:o}return uy=e,uy}var cy,nA;function Iq(){if(nA)return cy;nA=1;function n(e,t){return e!=null&&t in Object(e)}return cy=n,cy}var dy,rA;function Rq(){if(rA)return dy;rA=1;var n=Kf(),e=nE(),t=gr(),r=F0(),i=V0(),o=Pc();function l(u,d,p){d=n(d,u);for(var m=-1,v=d.length,y=!1;++m<v;){var E=o(d[m]);if(!(y=u!=null&&p(u,E)))break;u=u[E]}return y||++m!=v?y:(v=u==null?0:u.length,!!v&&i(v)&&r(E,v)&&(t(u)||e(u)))}return dy=l,dy}var hy,iA;function Aq(){if(iA)return hy;iA=1;var n=Iq(),e=Rq();function t(r,i){return r!=null&&e(r,i,n)}return hy=t,hy}var fy,sA;function Cq(){if(sA)return fy;sA=1;var n=oE(),e=bq(),t=Aq(),r=aE(),i=L2(),o=V2(),l=Pc(),u=1,d=2;function p(m,v){return r(m)&&i(v)?o(l(m),v):function(y){var E=e(y,m);return E===void 0&&E===v?t(y,m):n(v,E,u|d)}}return fy=p,fy}var py,oA;function Qf(){if(oA)return py;oA=1;function n(e){return e}return py=n,py}var my,aA;function xq(){if(aA)return my;aA=1;function n(e){return function(t){return t==null?void 0:t[e]}}return my=n,my}var gy,lA;function Pq(){if(lA)return gy;lA=1;var n=Yf();function e(t){return function(r){return n(r,t)}}return gy=e,gy}var vy,uA;function kq(){if(uA)return vy;uA=1;var n=xq(),e=Pq(),t=aE(),r=Pc();function i(o){return t(o)?n(r(o)):e(o)}return vy=i,vy}var yy,cA;function Xf(){if(cA)return yy;cA=1;var n=yq(),e=Cq(),t=Qf(),r=gr(),i=kq();function o(l){return typeof l=="function"?l:l==null?t:typeof l=="object"?r(l)?e(l[0],l[1]):n(l):i(l)}return yy=o,yy}var _y,dA;function Dq(){if(dA)return _y;dA=1;var n=mq(),e=Xf(),t=f2(),r=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var p=u==null?0:t(u);return p<0&&(p=r(d+p,0)),n(o,e(l,3),p)}return _y=i,_y}var Nq=Dq();const Oq=On(Nq);var wy,hA;function Mq(){if(hA)return wy;hA=1;var n=Math.ceil,e=Math.max;function t(r,i,o,l){for(var u=-1,d=e(n((i-r)/(o||1)),0),p=Array(d);d--;)p[l?d:++u]=r,r+=o;return p}return wy=t,wy}var Ey,fA;function Lq(){if(fA)return Ey;fA=1;var n=Mq(),e=jf(),t=h2();function r(i){return function(o,l,u){return u&&typeof u!="number"&&e(o,l,u)&&(l=u=void 0),o=t(o),l===void 0?(l=o,o=0):l=t(l),u=u===void 0?o<l?1:-1:t(u),n(o,l,u,i)}}return Ey=r,Ey}var Ty,pA;function Vq(){if(pA)return Ty;pA=1;var n=Lq(),e=n();return Ty=e,Ty}var Fq=Vq();const jq=On(Fq);var mA=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Uq(n,e){return!!(n===e||mA(n)&&mA(e))}function qq(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Uq(n[t],e[t]))return!1;return!0}function F2(n,e){e===void 0&&(e=qq);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var l=n.apply(this,i);return t={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){t=null},r}function _w(n,e){var t=j0(n);return t?t.innerWidth:Ro(n).width}var Sy,gA;function $q(){if(gA)return Sy;gA=1;var n=El(),e=nE(),t=gr(),r=n?n.isConcatSpreadable:void 0;function i(o){return t(o)||e(o)||!!(r&&o&&o[r])}return Sy=i,Sy}var by,vA;function j2(){if(vA)return by;vA=1;var n=eE(),e=$q();function t(r,i,o,l,u){var d=-1,p=r.length;for(o||(o=e),u||(u=[]);++d<p;){var m=r[d];i>0&&o(m)?i>1?t(m,i-1,o,l,u):n(u,m):l||(u[u.length]=m)}return u}return by=t,by}var Iy,yA;function zq(){if(yA)return Iy;yA=1;function n(e){return function(t,r,i){for(var o=-1,l=Object(t),u=i(t),d=u.length;d--;){var p=u[e?d:++o];if(r(l[p],p,l)===!1)break}return t}}return Iy=n,Iy}var Ry,_A;function Bq(){if(_A)return Ry;_A=1;var n=zq(),e=n();return Ry=e,Ry}var Ay,wA;function uE(){if(wA)return Ay;wA=1;var n=Bq(),e=xc();function t(r,i){return r&&n(r,i,e)}return Ay=t,Ay}var Cy,EA;function Wq(){if(EA)return Cy;EA=1;var n=bc();function e(t,r){return function(i,o){if(i==null)return i;if(!n(i))return t(i,o);for(var l=i.length,u=r?l:-1,d=Object(i);(r?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Cy=e,Cy}var xy,TA;function Hq(){if(TA)return xy;TA=1;var n=uE(),e=Wq(),t=e(n);return xy=t,xy}var Py,SA;function Gq(){if(SA)return Py;SA=1;var n=Hq(),e=bc();function t(r,i){var o=-1,l=e(r)?Array(r.length):[];return n(r,function(u,d,p){l[++o]=i(u,d,p)}),l}return Py=t,Py}var ky,bA;function Kq(){if(bA)return ky;bA=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return ky=n,ky}var Dy,IA;function Yq(){if(IA)return Dy;IA=1;var n=Ic();function e(t,r){if(t!==r){var i=t!==void 0,o=t===null,l=t===t,u=n(t),d=r!==void 0,p=r===null,m=r===r,v=n(r);if(!p&&!v&&!u&&t>r||u&&d&&m&&!p&&!v||o&&d&&m||!i&&m||!l)return 1;if(!o&&!u&&!v&&t<r||v&&i&&l&&!o&&!u||p&&i&&l||!d&&l||!m)return-1}return 0}return Dy=e,Dy}var Ny,RA;function Qq(){if(RA)return Ny;RA=1;var n=Yq();function e(t,r,i){for(var o=-1,l=t.criteria,u=r.criteria,d=l.length,p=i.length;++o<d;){var m=n(l[o],u[o]);if(m){if(o>=p)return m;var v=i[o];return m*(v=="desc"?-1:1)}}return t.index-r.index}return Ny=e,Ny}var Oy,AA;function Xq(){if(AA)return Oy;AA=1;var n=lE(),e=Yf(),t=Xf(),r=Gq(),i=Kq(),o=Hf(),l=Qq(),u=Qf(),d=gr();function p(m,v,y){v.length?v=n(v,function(S){return d(S)?function(b){return e(b,S.length===1?S[0]:S)}:S}):v=[u];var E=-1;v=n(v,o(t));var I=r(m,function(S,b,C){var P=n(v,function(M){return M(S)});return{criteria:P,index:++E,value:S}});return i(I,function(S,b){return l(S,b,y)})}return Oy=p,Oy}var My,CA;function Jq(){if(CA)return My;CA=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return My=n,My}var Ly,xA;function U2(){if(xA)return Ly;xA=1;var n=Jq(),e=Math.max;function t(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,u=-1,d=e(l.length-i,0),p=Array(d);++u<d;)p[u]=l[i+u];u=-1;for(var m=Array(i+1);++u<i;)m[u]=l[u];return m[i]=o(p),n(r,this,m)}}return Ly=t,Ly}var Vy,PA;function Zq(){if(PA)return Vy;PA=1;function n(e){return function(){return e}}return Vy=n,Vy}var Fy,kA;function q2(){if(kA)return Fy;kA=1;var n=Yo(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Fy=e,Fy}var jy,DA;function e$(){if(DA)return jy;DA=1;var n=Zq(),e=q2(),t=Qf(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t;return jy=r,jy}var Uy,NA;function t$(){if(NA)return Uy;NA=1;var n=800,e=16,t=Date.now;function r(i){var o=0,l=0;return function(){var u=t(),d=e-(u-l);if(l=u,d>0){if(++o>=n)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Uy=r,Uy}var qy,OA;function $2(){if(OA)return qy;OA=1;var n=e$(),e=t$(),t=e(n);return qy=t,qy}var $y,MA;function z2(){if(MA)return $y;MA=1;var n=Qf(),e=U2(),t=$2();function r(i,o){return t(e(i,o,n),i+"")}return $y=r,$y}var zy,LA;function n$(){if(LA)return zy;LA=1;var n=j2(),e=Xq(),t=z2(),r=jf(),i=t(function(o,l){if(o==null)return[];var u=l.length;return u>1&&r(o,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,n(l,1),[])});return zy=i,zy}var r$=n$();const i$=On(r$);function B2(n){return Yk(n)||u2(n)||N0(n)||Qk()}var By,VA;function s$(){if(VA)return By;VA=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return By=n,By}var Wy,FA;function o$(){if(FA)return Wy;FA=1;var n=Bi(),e=sE(),t=s$(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!n(l))return t(l);var u=e(l),d=[];for(var p in l)p=="constructor"&&(u||!i.call(l,p))||d.push(p);return d}return Wy=o,Wy}var Hy,jA;function Jf(){if(jA)return Hy;jA=1;var n=D2(),e=o$(),t=bc();function r(i){return t(i)?n(i,!0):e(i)}return Hy=r,Hy}var Gy,UA;function a$(){if(UA)return Gy;UA=1;var n=z2(),e=Sc(),t=jf(),r=Jf(),i=Object.prototype,o=i.hasOwnProperty,l=n(function(u,d){u=Object(u);var p=-1,m=d.length,v=m>2?d[2]:void 0;for(v&&t(d[0],d[1],v)&&(m=1);++p<m;)for(var y=d[p],E=r(y),I=-1,S=E.length;++I<S;){var b=E[I],C=u[b];(C===void 0||e(C,i[b])&&!o.call(u,b))&&(u[b]=y[b])}return u});return Gy=l,Gy}var l$=a$();const u$=On(l$);var Ky,qA;function cE(){if(qA)return Ky;qA=1;var n=q2();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return Ky=e,Ky}var Yy,$A;function c$(){if($A)return Yy;$A=1;var n=cE(),e=uE(),t=Xf();function r(i,o){var l={};return o=t(o,3),e(i,function(u,d,p){n(l,d,o(u,d,p))}),l}return Yy=r,Yy}var d$=c$();const h$=On(d$);var Qy,zA;function W2(){if(zA)return Qy;zA=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return Qy=n,Qy}var Xy,BA;function H2(){if(BA)return Xy;BA=1;var n=cE(),e=Sc(),t=Object.prototype,r=t.hasOwnProperty;function i(o,l,u){var d=o[l];(!(r.call(o,l)&&e(d,u))||u===void 0&&!(l in o))&&n(o,l,u)}return Xy=i,Xy}var Jy,WA;function kc(){if(WA)return Jy;WA=1;var n=H2(),e=cE();function t(r,i,o,l){var u=!o;o||(o={});for(var d=-1,p=i.length;++d<p;){var m=i[d],v=l?l(o[m],r[m],m,o,r):void 0;v===void 0&&(v=r[m]),u?e(o,m,v):n(o,m,v)}return o}return Jy=t,Jy}var Zy,HA;function f$(){if(HA)return Zy;HA=1;var n=kc(),e=xc();function t(r,i){return r&&n(i,e(i),r)}return Zy=t,Zy}var e_,GA;function p$(){if(GA)return e_;GA=1;var n=kc(),e=Jf();function t(r,i){return r&&n(i,e(i),r)}return e_=t,e_}var Au={exports:{}};Au.exports;var KA;function m$(){return KA||(KA=1,(function(n,e){var t=fi(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,l=o?t.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(p,m){if(m)return p.slice();var v=p.length,y=u?u(v):new p.constructor(v);return p.copy(y),y}n.exports=d})(Au,Au.exports)),Au.exports}var t_,YA;function g$(){if(YA)return t_;YA=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return t_=n,t_}var n_,QA;function v$(){if(QA)return n_;QA=1;var n=kc(),e=tE();function t(r,i){return n(r,e(r),i)}return n_=t,n_}var r_,XA;function Zf(){if(XA)return r_;XA=1;var n=N2(),e=n(Object.getPrototypeOf,Object);return r_=e,r_}var i_,JA;function G2(){if(JA)return i_;JA=1;var n=eE(),e=Zf(),t=tE(),r=k2(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var u=[];l;)n(u,t(l)),l=e(l);return u}:r;return i_=o,i_}var s_,ZA;function y$(){if(ZA)return s_;ZA=1;var n=kc(),e=G2();function t(r,i){return n(r,e(r),i)}return s_=t,s_}var o_,eC;function K2(){if(eC)return o_;eC=1;var n=P2(),e=G2(),t=Jf();function r(i){return n(i,t,e)}return o_=r,o_}var a_,tC;function _$(){if(tC)return a_;tC=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return a_=t,a_}var l_,nC;function dE(){if(nC)return l_;nC=1;var n=x2();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return l_=e,l_}var u_,rC;function w$(){if(rC)return u_;rC=1;var n=dE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return u_=e,u_}var c_,iC;function E$(){if(iC)return c_;iC=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return c_=e,c_}var d_,sC;function T$(){if(sC)return d_;sC=1;var n=El(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return d_=r,d_}var h_,oC;function S$(){if(oC)return h_;oC=1;var n=dE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return h_=e,h_}var f_,aC;function b$(){if(aC)return f_;aC=1;var n=dE(),e=w$(),t=E$(),r=T$(),i=S$(),o="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",I="[object DataView]",S="[object Float32Array]",b="[object Float64Array]",C="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",F="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",D="[object Uint32Array]";function A(x,L,V){var U=x.constructor;switch(L){case E:return n(x);case o:case l:return new U(+x);case I:return e(x,V);case S:case b:case C:case P:case M:case F:case W:case z:case D:return i(x,V);case u:return new U;case d:case v:return new U(x);case p:return t(x);case m:return new U;case y:return r(x)}}return f_=A,f_}var p_,lC;function Y2(){if(lC)return p_;lC=1;var n=Bi(),e=Object.create,t=(function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return p_=t,p_}var m_,uC;function I$(){if(uC)return m_;uC=1;var n=Y2(),e=Zf(),t=sE();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return m_=r,m_}var g_,cC;function R$(){if(cC)return g_;cC=1;var n=Gf(),e=Bs(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return g_=r,g_}var v_,dC;function A$(){if(dC)return v_;dC=1;var n=R$(),e=Hf(),t=rE(),r=t&&t.isMap,i=r?e(r):n;return v_=i,v_}var y_,hC;function C$(){if(hC)return y_;hC=1;var n=Gf(),e=Bs(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return y_=r,y_}var __,fC;function x$(){if(fC)return __;fC=1;var n=C$(),e=Hf(),t=rE(),r=t&&t.isSet,i=r?e(r):n;return __=i,__}var w_,pC;function P$(){if(pC)return w_;pC=1;var n=Z0(),e=W2(),t=H2(),r=f$(),i=p$(),o=m$(),l=g$(),u=v$(),d=y$(),p=O2(),m=K2(),v=Gf(),y=_$(),E=b$(),I=I$(),S=gr(),b=Wf(),C=A$(),P=Bi(),M=x$(),F=xc(),W=Jf(),z=1,D=2,A=4,x="[object Arguments]",L="[object Array]",V="[object Boolean]",U="[object Date]",O="[object Error]",ce="[object Function]",Te="[object GeneratorFunction]",_e="[object Map]",ye="[object Number]",ne="[object Object]",de="[object RegExp]",le="[object Set]",H="[object String]",Z="[object Symbol]",he="[object WeakMap]",xe="[object ArrayBuffer]",Re="[object DataView]",Ne="[object Float32Array]",Le="[object Float64Array]",Oe="[object Int8Array]",He="[object Int16Array]",mt="[object Int32Array]",fn="[object Uint8Array]",$r="[object Uint8ClampedArray]",Mn="[object Uint16Array]",vr="[object Uint32Array]",qe={};qe[x]=qe[L]=qe[xe]=qe[Re]=qe[V]=qe[U]=qe[Ne]=qe[Le]=qe[Oe]=qe[He]=qe[mt]=qe[_e]=qe[ye]=qe[ne]=qe[de]=qe[le]=qe[H]=qe[Z]=qe[fn]=qe[$r]=qe[Mn]=qe[vr]=!0,qe[O]=qe[ce]=qe[he]=!1;function Ln(Ve,Vn,pn,xt,Pt,Bt){var at,mn=Vn&z,Fn=Vn&D,lt=Vn&A;if(pn&&(at=Pt?pn(Ve,xt,Pt,Bt):pn(Ve)),at!==void 0)return at;if(!P(Ve))return Ve;var rt=S(Ve);if(rt){if(at=y(Ve),!mn)return l(Ve,at)}else{var kt=v(Ve),Wi=kt==ce||kt==Te;if(b(Ve))return o(Ve,mn);if(kt==ne||kt==x||Wi&&!Pt){if(at=Fn||Wi?{}:I(Ve),!mn)return Fn?d(Ve,i(at,Ve)):u(Ve,r(at,Ve))}else{if(!qe[kt])return Pt?Ve:{};at=E(Ve,kt,mn)}}Bt||(Bt=new n);var yr=Bt.get(Ve);if(yr)return yr;Bt.set(Ve,at),M(Ve)?Ve.forEach(function(wn){at.add(Ln(wn,Vn,pn,wn,Ve,Bt))}):C(Ve)&&Ve.forEach(function(wn,jn){at.set(jn,Ln(wn,Vn,pn,jn,Ve,Bt))});var pi=lt?Fn?m:p:Fn?W:F,zr=rt?void 0:pi(Ve);return e(zr||Ve,function(wn,jn){zr&&(jn=wn,wn=Ve[jn]),t(at,jn,Ln(wn,Vn,pn,jn,Ve,Bt))}),at}return w_=Ln,w_}var E_,mC;function k$(){if(mC)return E_;mC=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return E_=n,E_}var T_,gC;function D$(){if(gC)return T_;gC=1;var n=Yf(),e=c2();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return T_=t,T_}var S_,vC;function N$(){if(vC)return S_;vC=1;var n=Kf(),e=k$(),t=D$(),r=Pc();function i(o,l){return l=n(l,o),o=t(o,l),o==null||delete o[r(e(l))]}return S_=i,S_}var b_,yC;function O$(){if(yC)return b_;yC=1;var n=Tl(),e=Zf(),t=Bs(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function p(m){if(!t(m)||n(m)!=r)return!1;var v=e(m);if(v===null)return!0;var y=u.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return b_=p,b_}var I_,_C;function M$(){if(_C)return I_;_C=1;var n=O$();function e(t){return n(t)?void 0:t}return I_=e,I_}var R_,wC;function L$(){if(wC)return R_;wC=1;var n=j2();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return R_=e,R_}var A_,EC;function V$(){if(EC)return A_;EC=1;var n=L$(),e=U2(),t=$2();function r(i){return t(e(i,void 0,n),i+"")}return A_=r,A_}var C_,TC;function F$(){if(TC)return C_;TC=1;var n=lE(),e=P$(),t=N$(),r=Kf(),i=kc(),o=M$(),l=V$(),u=K2(),d=1,p=2,m=4,v=l(function(y,E){var I={};if(y==null)return I;var S=!1;E=n(E,function(C){return C=r(C,y),S||(S=C.length>1),C}),i(y,u(y),I),S&&(I=e(I,d|p|m,o));for(var b=E.length;b--;)t(I,E[b]);return I});return C_=v,C_}var j$=F$();const U$=On(j$);var x_,SC;function q$(){if(SC)return x_;SC=1;var n=W2(),e=Y2(),t=uE(),r=Xf(),i=Zf(),o=gr(),l=Wf(),u=L0(),d=Bi(),p=iE();function m(v,y,E){var I=o(v),S=I||l(v)||p(v);if(y=r(y,4),E==null){var b=v&&v.constructor;S?E=I?new b:[]:d(v)?E=u(b)?e(i(v)):{}:E={}}return(S?n:t)(v,function(C,P,M){return y(E,C,P,M)}),E}return x_=m,x_}var $$=q$();const z$=On($$);var Eh={exports:{}},B$=Eh.exports,bC;function W$(){return bC||(bC=1,(function(n,e){(function(t,r){n.exports=r()})(B$,(function(){return function(t,r,i){r.prototype.isBetween=function(o,l,u,d){var p=i(o),m=i(l),v=(d=d||"()")[0]==="(",y=d[1]===")";return(v?this.isAfter(p,u):!this.isBefore(p,u))&&(y?this.isBefore(m,u):!this.isAfter(m,u))||(v?this.isBefore(p,u):!this.isAfter(p,u))&&(y?this.isAfter(m,u):!this.isBefore(m,u))}}}))})(Eh)),Eh.exports}W$();var Th={exports:{}},H$=Th.exports,IC;function G$(){return IC||(IC=1,(function(n,e){(function(t,r){n.exports=r()})(H$,(function(){return function(t,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}}))})(Th)),Th.exports}G$();var Sh={exports:{}},K$=Sh.exports,RC;function Y$(){return RC||(RC=1,(function(n,e){(function(t,r){n.exports=r()})(K$,(function(){return function(t,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}}))})(Sh)),Sh.exports}Y$();var bh={exports:{}},Q$=bh.exports,AC;function X$(){return AC||(AC=1,(function(n,e){(function(t,r){n.exports=r()})(Q$,(function(){return function(t,r,i){var o=r.prototype,l=function(v){return v&&(v.indexOf?v:v.s)},u=function(v,y,E,I,S){var b=v.name?v:v.$locale(),C=l(b[y]),P=l(b[E]),M=C||P.map((function(W){return W.slice(0,I)}));if(!S)return M;var F=b.weekStart;return M.map((function(W,z){return M[(z+(F||0))%7]}))},d=function(){return i.Ls[i.locale()]},p=function(v,y){return v.formats[y]||(function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(I,S,b){return S||b.slice(1)}))})(v.formats[y.toUpperCase()])},m=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):u(v,"months")},monthsShort:function(y){return y?y.format("MMM"):u(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):u(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):u(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):u(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return p(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(y){return p(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return u(d(),"months")},i.monthsShort=function(){return u(d(),"monthsShort","months",3)},i.weekdays=function(v){return u(d(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return u(d(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return u(d(),"weekdaysMin","weekdays",2,v)}}}))})(bh)),bh.exports}X$();var Ih={exports:{}},J$=Ih.exports,CC;function Z$(){return CC||(CC=1,(function(n,e){(function(t,r){n.exports=r()})(J$,(function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var l=i.prototype,u=l.format;o.en.formats=t,l.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,m=(function(v,y){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(E,I,S){var b=S&&S.toUpperCase();return I||y[S]||t[S]||y[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,P,M){return P||M.slice(1)}))}))})(d,p===void 0?{}:p);return u.call(this,m)}}}))})(Ih)),Ih.exports}Z$();var Rh={exports:{}},ez=Rh.exports,xC;function tz(){return xC||(xC=1,(function(n,e){(function(t,r){n.exports=r()})(ez,(function(){return function(t,r,i){var o=function(l,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter((function(m){return m})))[0];for(var p=1;p<u.length;p+=1)u[p].isValid()&&!u[p][l](d)||(d=u[p]);return d};i.max=function(){var l=[].slice.call(arguments,0);return o("isAfter",l)},i.min=function(){var l=[].slice.call(arguments,0);return o("isBefore",l)}}}))})(Rh)),Rh.exports}tz();var Ah={exports:{}},nz=Ah.exports,PC;function rz(){return PC||(PC=1,(function(n,e){(function(t,r){n.exports=r()})(nz,(function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,l,u){var d=l.prototype;u.utc=function(S){var b={date:S,utc:!0,args:arguments};return new l(b)},d.utc=function(S){var b=u(this.toDate(),{locale:this.$L,utc:!0});return S?b.add(this.utcOffset(),t):b},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var p=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var m=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var v=d.utcOffset;d.utcOffset=function(S,b){var C=this.$utils().u;if(C(S))return this.$u?0:C(this.$offset)?v.call(this):this.$offset;if(typeof S=="string"&&(S=(function(W){W===void 0&&(W="");var z=W.match(r);if(!z)return null;var D=(""+z[0]).match(i)||["-",0,0],A=D[0],x=60*+D[1]+ +D[2];return x===0?0:A==="+"?x:-x})(S),S===null))return this;var P=Math.abs(S)<=16?60*S:S;if(P===0)return this.utc(b);var M=this.clone();if(b)return M.$offset=P,M.$u=!1,M;var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(M=this.local().add(P+F,t)).$offset=P,M.$x.$localOffset=F,M};var y=d.format;d.format=function(S){var b=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,b)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var E=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var I=d.diff;d.diff=function(S,b,C){if(S&&this.$u===S.$u)return I.call(this,S,b,C);var P=this.local(),M=u(S).local();return I.call(P,M,b,C)}}}))})(Ah)),Ah.exports}rz();var Ch={exports:{}},iz=Ch.exports,kC;function sz(){return kC||(kC=1,(function(n,e){(function(t,r){n.exports=r()})(iz,(function(){return function(t,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Ch)),Ch.exports}sz();function ti(n){return n.children}var Nn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},un={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},DC=Object.keys(un).map(function(n){return un[n]});ae.oneOfType([ae.string,ae.func]);ae.any;ae.func;ae.oneOfType([ae.arrayOf(ae.oneOf(DC)),ae.objectOf(function(n,e){var t=DC.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return ae.elementType.apply(ae,[n,e].concat(i))})]);ae.oneOfType([ae.oneOf(["overlap","no-overlap"]),ae.func]);var NC={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Q2(n,e){var t=Jt(n,"month");return Jt(t,"week",e.startOfWeek())}function X2(n,e){var t=rf(n,"month");return rf(t,"week",e.startOfWeek())}function oz(n,e){for(var t=Q2(n,e),r=X2(n,e),i=[];_l(t,r,"day");)i.push(t),t=jr(t,1,"day");return i}function az(n,e){var t=Jt(n,e);return yl(t,n)?t:jr(t,1,e)}function lz(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];_l(r,e,t);)i.push(r),r=jr(r,1,t);return i}function uz(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=Jt(n,"day"),n=tc(n,tc(e)),n=rl(n,rl(e)),n=ec(n,ec(e)),Zu(n,Zu(e)))}function OC(n){return tc(n)===0&&rl(n)===0&&ec(n)===0&&Zu(n)===0}function cz(n,e,t,r){return t==="day"&&(t="date"),Math.abs(Ab[t](n,void 0,r)-Ab[t](e,void 0,r))}function hE(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+Jt(n,t)/NC[t]-+Jt(e,t)/NC[t]))}var dz=ae.oneOfType([ae.string,ae.func]);function hz(n,e,t,r,i){var o=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return Gu(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function fz(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function fE(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function pz(n,e){return hE(n,e,"minutes")+fE(n,e)}function mz(n){var e=Jt(n,"day");return hE(e,n,"minutes")+fE(e,n)}function gz(n,e){return M0(n,e,"day")}function vz(n,e,t){var r=yl(n,e,"minutes");return r?Tc(e,t,"minutes"):Ff(e,t,"minutes")}function ww(n,e){return cz(n,e,"day")}function yz(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,o=n.evtB,l=o.start,u=o.end,d=o.allDay,p=+Jt(t,"day")-+Jt(l,"day"),m=ww(t,r),v=ww(l,u);return p||v-m||!!d-!!i||+t-+l||+r-+u}function _z(n){var e=n.event,t=e.start,r=e.end,i=n.range,o=i.start,l=i.end,u=Jt(t,"day"),d=_l(u,l,"day"),p=O0(u,r,"minutes"),m=p?Ff(r,o,"minutes"):Tc(r,o,"minutes");return d&&m}function wz(n,e){return yl(n,e,"day")}function Ez(n,e){return OC(n)&&OC(e)}var Tz=Ft(function n(e){var t=this;Vt(this,n),Gu(typeof e.format=="function","date localizer `format(..)` must be a function"),Gu(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||dz,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return hz.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||uz,this.inRange=e.inRange||s2,this.lt=e.lt||M0,this.lte=e.lte||_l,this.gt=e.gt||Ff,this.gte=e.gte||Tc,this.eq=e.eq||yl,this.neq=e.neq||O0,this.startOf=e.startOf||Jt,this.endOf=e.endOf||rf,this.add=e.add||jr,this.range=e.range||lz,this.diff=e.diff||hE,this.ceil=e.ceil||az,this.min=e.min||r2,this.max=e.max||i2,this.minutes=e.minutes||rl,this.daySpan=e.daySpan||ww,this.firstVisibleDay=e.firstVisibleDay||Q2,this.lastVisibleDay=e.lastVisibleDay||X2,this.visibleDays=e.visibleDays||oz,this.getSlotDate=e.getSlotDate||fz,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||fE,this.getTotalMin=e.getTotalMin||pz,this.getMinutesFromMidnight=e.getMinutesFromMidnight||mz,this.continuesPrior=e.continuesPrior||gz,this.continuesAfter=e.continuesAfter||vz,this.sortEvents=e.sortEvents||yz,this.inEventRange=e.inEventRange||_z,this.isSameDate=e.isSameDate||wz,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Ez,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Sz(n,e,t,r){var i=Je(Je({},n.formats),t);return Je(Je({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(l,u){return n.format(l,i[u]||u,e)}})}var bz=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.navigate=function(l){t.props.onNavigate(l)},t.view=function(l){t.props.onView(l)},t}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,o=r.label;return G.createElement("div",{className:"rbc-toolbar"},G.createElement("span",{className:"rbc-btn-group"},G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Nn.TODAY)},i.today),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Nn.PREVIOUS)},i.previous),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Nn.NEXT)},i.next)),G.createElement("span",{className:"rbc-toolbar-label"},o),G.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,o=this.props.views,l=this.props.view;if(o.length>1)return o.map(function(u){return G.createElement("button",{type:"button",key:u,className:yt({"rbc-active":l===u}),onClick:i.view.bind(null,u)},r[u])})}}])})(G.Component);function ot(n,e){n&&n.apply(null,[].concat(e))}var Iz={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function Rz(n){return Je(Je({},Iz),n)}function Az(n){var e=n.ref,t=n.callback;q.useEffect(function(){var r=function(o){e.current&&!e.current.contains(o.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var Cz=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],J2=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.style,o=r.className,l=r.event,u=r.selected,d=r.isAllDay,p=r.onSelect,m=r.onDoubleClick,v=r.onKeyPress,y=r.localizer,E=r.continuesPrior,I=r.continuesAfter,S=r.accessors,b=r.getters,C=r.children,P=r.components,M=P.event,F=P.eventWrapper,W=r.slotStart,z=r.slotEnd,D=hi(r,Cz);delete D.resizable;var A=S.title(l),x=S.tooltip(l),L=S.end(l),V=S.start(l),U=S.allDay(l),O=d||U||y.diff(V,y.ceil(L,"day"),"day")>1,ce=b.eventProp(l,V,L,u),Te=G.createElement("div",{className:"rbc-event-content",title:x||void 0},M?G.createElement(M,{event:l,continuesPrior:E,continuesAfter:I,title:A,isAllDay:U,localizer:y,slotStart:W,slotEnd:z}):A);return G.createElement(F,Object.assign({},this.props,{type:"date"}),G.createElement("div",Object.assign({},D,{style:Je(Je({},ce.style),i),className:yt("rbc-event",o,ce.className,{"rbc-selected":u,"rbc-event-allday":O,"rbc-event-continues-prior":E,"rbc-event-continues-after":I}),onClick:function(ye){return p&&p(l,ye)},onDoubleClick:function(ye){return m&&m(l,ye)},onKeyDown:function(ye){return v&&v(l,ye)}}),typeof C=="function"?C(Te):Te))}}])})(G.Component);function ep(n,e){return!n||e==null?!1:pq(n,e)}function Z2(n,e){var t=n.right-n.left,r=t/e;return r}function eD(n,e,t,r){var i=Z2(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function xz(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function Pz(n,e,t,r,i){var o=-1,l=-1,u=r-1,d=Z2(e,r),p=eD(e,t.x,i,r),m=e.top<t.y&&e.bottom>t.y,v=e.top<n.y&&e.bottom>n.y,y=n.y>e.bottom,E=e.top>n.y,I=t.top<e.top&&t.bottom>e.bottom;return I&&(o=0,l=u),m&&(E?(o=0,l=p):y&&(o=p,l=u)),v&&(o=l=i?u-Math.floor((n.x-e.left)/d):Math.floor((n.x-e.left)/d),m?p<o?o=p:l=p:n.y<t.y?l=u:o=0),{startIdx:o,endIdx:l}}function kz(n){var e=n.target,t=n.offset,r=n.container,i=n.box,o=Ro(e),l=o.top,u=o.left,d=o.width,p=o.height,m=Ro(r),v=m.top,y=m.left,E=m.width,I=m.height,S=Ro(i),b=S.width,C=S.height,P=v+I,M=y+E,F=l+C,W=u+b,z=t.x,D=t.y,A=F>P?l-C-D:l+D+p,x=W>M?u+z-b+d:u+z;return{topOffset:A,leftOffset:x}}function Dz(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,o=n.components,l=n.localizer,u=n.position,d=n.show,p=n.events,m=n.slotStart,v=n.slotEnd,y=n.onSelect,E=n.onDoubleClick,I=n.onKeyPress,S=n.handleDragStart,b=n.popperRef,C=n.target,P=n.offset;Az({ref:b,callback:d}),q.useLayoutEffect(function(){var W=kz({target:C,offset:P,container:e.current,box:b.current}),z=W.topOffset,D=W.leftOffset;b.current.style.top="".concat(z,"px"),b.current.style.left="".concat(D,"px")},[P.x,P.y,C]);var M=u.width,F={minWidth:M+M/2};return G.createElement("div",{style:F,className:"rbc-overlay",ref:b},G.createElement("div",{className:"rbc-overlay-header"},l.format(m,"dayHeaderFormat")),p.map(function(W,z){return G.createElement(J2,{key:z,type:"popup",localizer:l,event:W,getters:r,onSelect:y,accessors:t,components:o,onDoubleClick:E,onKeyPress:I,continuesPrior:l.lt(t.end(W),m,"day"),continuesAfter:l.gte(t.start(W),v,"day"),slotStart:m,slotEnd:v,selected:ep(W,i),draggable:!0,onDragStart:function(){return S(W)},onDragEnd:function(){return d()}})}))}var tD=G.forwardRef(function(n,e){return G.createElement(Dz,Object.assign({},n,{popperRef:e}))});tD.propTypes={accessors:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,components:ae.object.isRequired,localizer:ae.object.isRequired,position:ae.object.isRequired,show:ae.func.isRequired,events:ae.array.isRequired,slotStart:ae.instanceOf(Date).isRequired,slotEnd:ae.instanceOf(Date),onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func,handleDragStart:ae.func,style:ae.object,offset:ae.shape({x:ae.number,y:ae.number})};function Nz(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,o=n.accessors,l=n.localizer,u=n.components,d=n.getters,p=n.selected,m=n.handleSelectEvent,v=n.handleDoubleClickEvent,y=n.handleKeyPressEvent,E=n.handleDragStart,I=n.onHide,S=n.overlayDisplay,b=q.useRef(null);if(!i.position)return null;var C=r;isNaN(r)||(C={x:r,y:r});var P=i.position,M=i.events,F=i.date,W=i.end;return G.createElement(Q0,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:I,target:i.target},function(z){var D=z.props;return G.createElement(tD,Object.assign({},D,{containerRef:e,ref:b,target:i.target,offset:C,accessors:o,getters:d,selected:p,components:u,localizer:l,position:P,show:S,events:M,slotStart:F,slotEnd:W,onSelect:m,onDoubleClick:v,onKeyPress:y,handleDragStart:E}))})}var pE=G.forwardRef(function(n,e){return G.createElement(Nz,Object.assign({},n,{containerRef:e}))});pE.propTypes={popupOffset:ae.oneOfType([ae.number,ae.shape({x:ae.number,y:ae.number})]),overlay:ae.shape({position:ae.object,events:ae.array,date:ae.instanceOf(Date),end:ae.instanceOf(Date)}),accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,handleSelectEvent:ae.func,handleDoubleClickEvent:ae.func,handleKeyPressEvent:ae.func,handleDragStart:ae.func,onHide:ae.func,overlayDisplay:ae.func};function on(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return bu(t,n,e,{passive:!1})}function Oz(n,e,t){return!n||nc(n,document.elementFromPoint(e,t))}function Mz(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return M2(i,".rbc-event",n)}function Lz(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return M2(i,".rbc-show-more",n)}function af(n,e){return!!Mz(n,e)}function Vz(n,e){return!!Lz(n,e)}function pu(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var MC=5,Fz=250,nD=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,o=t.longPressThreshold,l=o===void 0?250:o,u=t.validContainers,d=u===void 0?[]:u;Vt(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=l,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=on("touchmove",function(){},window),this._removeKeyDownListener=on("keydown",this._keyListener),this._removeKeyUpListener=on("keyup",this._keyListener),this._removeDropFromOutsideListener=on("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=on("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ft(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var l=i.indexOf(r);l!==-1&&i.splice(l,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var l,u=this._listeners[t]||[];return u.forEach(function(d){l===void 0&&(l=d.apply(void 0,i))}),l}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:LC(r,zo(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,o=null,l=null,u=null,d=function(y){o=setTimeout(function(){m(),t(y)},i.longPressThreshold),l=on("touchmove",function(){return m()}),u=on("touchend",function(){return m()})},p=on("touchstart",d),m=function(){o&&clearTimeout(o),l&&l(),u&&u(),o=null,l=null,u=null};return r&&d(r),function(){m(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=on("mousedown",function(o){t._removeInitialEventListener(),t._handleInitialEvent(o),t._removeInitialEventListener=on("mousedown",t._handleInitialEvent)}),i=on("touchstart",function(o){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=pu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:l,clientY:u}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=pu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:l,clientY:u}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=pu(t),i=r.clientX,o=r.clientY,l=r.pageX,u=r.pageY,d=this.container(),p,m;if(!(t.which===3||t.button===2||!Oz(d,i,o))){if(!this.globalMouse&&d&&!nc(d,t.target)){var v=jz(0),y=v.top,E=v.left,I=v.bottom,S=v.right;if(m=zo(d),p=LC({top:m.top-y,left:m.left-E,bottom:m.bottom+I,right:m.right+S},{top:u,left:l}),!p)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:l,y:u,clientX:i,clientY:o});if(b!==!1)switch(t.type){case"mousedown":this._removeEndListener=on("mouseup",this._handleTerminatingEvent),this._onEscListener=on("keydown",this._handleTerminatingEvent),this._removeMoveListener=on("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=on("touchend",this._handleTerminatingEvent),this._removeMoveListener=on("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var o=!this.container||nc(this.container(),t.target),l=this._isWithinValidContainer(t);return t.key==="Escape"||!l?this.emit("reset"):!r&&o?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=pu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Fz?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:l,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:o,clientX:l,clientY:u}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,o=r.y,l=pu(t),u=l.pageX,d=l.pageY,p=Math.abs(i-u),m=Math.abs(o-d),v=Math.min(u,i),y=Math.min(d,o),E=this.selecting,I=this.isClick(u,d);I&&!E&&!(p||m)||(!E&&!I&&this.emit("selectStart",this._initialEventData),I||(this.selecting=!0,this._selectRect={top:y,left:v,x:u,y:d,right:v+p,bottom:y+m},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,o=i.x,l=i.y,u=i.isTouch;return!u&&Math.abs(t-o)<=MC&&Math.abs(r-l)<=MC}}])})();function jz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qi(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function LC(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=zo(n),i=r.top,o=r.left,l=r.right,u=l===void 0?o:l,d=r.bottom,p=d===void 0?i:d,m=zo(e),v=m.top,y=m.left,E=m.right,I=E===void 0?y:E,S=m.bottom,b=S===void 0?v:S;return!(p-t<v||i+t>b||u-t<y||o+t>I)}function zo(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+VC("left"),r=e.top+VC("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function VC(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var Uz=(function(n){function e(t,r){var i;return Vt(this,e),i=dn(this,e,[t,r]),i.state={selecting:!1},i.containerRef=q.createRef(),i}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,o=r.getNow,l=r.getters,u=r.date,d=r.components.dateCellWrapper,p=r.localizer,m=this.state,v=m.selecting,y=m.startIdx,E=m.endIdx,I=o();return G.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(S,b){var C=v&&b>=y&&b<=E,P=l.dayProp(S),M=P.className,F=P.style;return G.createElement(d,{key:b,value:S,range:i},G.createElement("div",{style:F,className:yt("rbc-day-bg",M,C&&"rbc-selected-cell",p.isSameDate(S,I)&&"rbc-today",u&&p.neq(u,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,o=this._selector=new nD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),l=function(d,p){if(!af(i,d)&&!Vz(i,d)){var m=zo(i),v=r.props,y=v.range,E=v.rtl;if(xz(m,d)){var I=eD(m,d.x,E,y.length);r._selectSlot({startIdx:I,endIdx:I,action:p,box:d})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(u){var d=r.props,p=d.range,m=d.rtl,v=-1,y=-1;if(r.state.selecting||(ot(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),o.isSelected(i)){var E=zo(i),I=Pz(r._initial,E,u,p.length,m);v=I.startIdx,y=I.endIdx}r.setState({selecting:!0,startIdx:v,endIdx:y})}),o.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!af(r.containerRef.current,u)}),o.on("click",function(u){return l(u,"click")}),o.on("doubleClick",function(u){return l(u,"doubleClick")}),o.on("select",function(u){r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),ot(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,o=r.startIdx,l=r.action,u=r.bounds,d=r.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:l,bounds:u,box:d,resourceId:this.props.resourceId})}}])})(G.Component),lr={propTypes:{slotMetrics:ae.object.isRequired,selected:ae.object,isAllDay:ae.bool,accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,o=e.getters,l=e.onSelect,u=e.onDoubleClick,d=e.onKeyPress,p=e.localizer,m=e.slotMetrics,v=e.components,y=e.resizable,E=m.continuesPrior(t),I=m.continuesAfter(t);return G.createElement(J2,{event:t,getters:o,localizer:p,accessors:i,components:v,onSelect:l,onDoubleClick:u,onKeyPress:d,continuesPrior:E,continuesAfter:I,slotStart:m.first,slotEnd:m.last,selected:ep(t,r),resizable:y})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(t)/e*100+"%";return G.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},rD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.segments,l=i.slotMetrics.slots,u=i.className,d=1;return G.createElement("div",{className:yt(u,"rbc-row")},o.reduce(function(p,m,v){var y=m.event,E=m.left,I=m.right,S=m.span,b="_lvl_"+v,C=E-d,P=lr.renderEvent(r.props,y);return C&&p.push(lr.renderSpan(l,C,"".concat(b,"_gap"))),p.push(lr.renderSpan(l,S,b,P)),d=I+1,p},[]))}}])})(G.Component);rD.defaultProps=Je({},lr.defaultProps);function iD(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function qz(n,e,t,r){var i=iD({dateRange:e,localizer:r}),o=i.first,l=i.last,u=r.diff(o,l,"day"),d=r.max(r.startOf(t.start(n),"day"),o),p=r.min(r.ceil(t.end(n),"day"),l),m=Oq(e,function(y){return r.isSameDate(y,d)}),v=r.diff(d,p,"day");return v=Math.min(v,u),v=Math.max(v-r.segmentOffset,1),{event:n,span:v,left:m+1,right:Math.max(m+v,1)}}function Ew(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,o=[],l=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<o.length&&$z(i,o[r]);r++);r>=e?l.push(i):(o[r]||(o[r]=[])).push(i)}for(t=0;t<o.length;t++)o[t].sort(function(u,d){return u.left-d.left});return{levels:o,extra:l}}function sc(n,e,t,r,i){var o={start:r.start(n),end:r.end(n)},l={start:e,end:t};return i.inEventRange({event:o,range:l})}function $z(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function zz(n,e,t){var r=_h(n),i=[],o=[];r.forEach(function(d){var p=e.start(d),m=e.end(d);t.daySpan(p,m)>1?i.push(d):o.push(d)});var l=i.sort(function(d,p){return Tw(d,p,e,t)}),u=o.sort(function(d,p){return Tw(d,p,e,t)});return[].concat(_h(l),_h(u))}function Tw(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},o={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:o})}var Sw=function(e,t){return e.left<=t&&e.right>=t},P_=function(e,t){return e.filter(function(r){return Sw(r,t)}).map(function(r){return r.event})},sD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,o=r.slotMetrics.slots,l=Ew(i).levels[0],u=1,d=1,p=[];u<=o;){var m="_lvl_"+u,v=l.filter(function(F){return Sw(F,u)})[0]||{},y=v.event,E=v.left,I=v.right,S=v.span;if(!y){var b=this.getHiddenEventsForSlot(i,u);if(b.length>0){var C=u-d;C&&p.push(lr.renderSpan(o,C,m+"_gap")),p.push(lr.renderSpan(o,1,m,this.renderShowMore(i,u))),d=u=u+1;continue}u++;continue}var P=Math.max(0,E-d);if(this.canRenderSlotEvent(E,S)){var M=lr.renderEvent(this.props,y);P&&p.push(lr.renderSpan(o,P,m+"_gap")),p.push(lr.renderSpan(o,S,m,M)),d=u=I+1}else P&&p.push(lr.renderSpan(o,P,m+"_gap")),p.push(lr.renderSpan(o,1,m,this.renderShowMore(i,u))),d=u=u+1}return G.createElement("div",{className:"rbc-row"},p)}},{key:"getHiddenEventsForSlot",value:function(r,i){var o=P_(r,i),l=Ew(r).levels[0],u=l.filter(function(d){return Sw(d,i)}).map(function(d){return d.event});return o.filter(function(d){return!u.some(function(p){return p===d})})}},{key:"canRenderSlotEvent",value:function(r,i){var o=this.props.segments;return jq(r,r+i).every(function(l){var u=P_(o,l).length;return u===1})}},{key:"renderShowMore",value:function(r,i){var o=this,l=this.props,u=l.localizer,d=l.slotMetrics,p=l.components,m=d.getEventsForSlot(i),v=P_(r,i),y=v.length;if(p!=null&&p.showMore){var E=p.showMore,I=d.getDateForSlot(i-1);return y?G.createElement(E,{localizer:u,slotDate:I,slot:i,count:y,events:m,remainingEvents:v}):!1}return y?G.createElement("button",{type:"button",key:"sm_"+i,className:yt("rbc-button-link","rbc-show-more"),onClick:function(b){return o.showMore(i,b)}},u.messages.showMore(y,v,m)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])})(G.Component);sD.defaultProps=Je({},lr.defaultProps);var Bz=function(e){var t=e.children;return G.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Wz=function(e,t){return e.left<=t&&e.right>=t},Hz=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function oD(){return F2(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,o=n.accessors,l=n.localizer,u=iD({dateRange:e,localizer:l}),d=u.first,p=u.last,m=t.map(function(S){return qz(S,e,o,l)}),v=Ew(m,Math.max(r-1,1)),y=v.levels,E=v.extra,I=E.length>0?i-1:i;y.length<I;)y.push([]);return{first:d,last:p,levels:y,extra:E,range:e,slots:e.length,clone:function(b){var C=oD();return C(Je(Je({},n),b))},getDateForSlot:function(b){return e[b]},getSlotForDate:function(b){return e.find(function(C){return l.isSameDate(C,b)})},getEventsForSlot:function(b){return m.filter(function(C){return Wz(C,b)}).map(function(C){return C.event})},continuesPrior:function(b){return l.continuesPrior(o.start(b),d)},continuesAfter:function(b){var C=o.start(b),P=o.end(b);return l.continuesAfter(C,P,p)}}},Hz)}var oc=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleSelectSlot=function(l){var u=t.props,d=u.range,p=u.onSelectSlot;p(d.slice(l.start,l.end+1),l)},t.handleShowMore=function(l,u){var d=t.props,p=d.range,m=d.onShowMore,v=t.slotMetrics(t.props),y=B5(t.containerRef.current,".rbc-row-bg")[0],E;y&&(E=y.children[l-1]);var I=v.getEventsForSlot(l);m(I,p[l-1],E,l,u)},t.getContainer=function(){var l=t.props.container;return l?l():t.containerRef.current},t.renderHeadingCell=function(l,u){var d=t.props,p=d.renderHeader,m=d.getNow,v=d.localizer;return p({date:l,key:"header_".concat(u),className:yt("rbc-date-cell",v.isSameDate(l,m())&&"rbc-now")})},t.renderDummy=function(){var l=t.props,u=l.className,d=l.range,p=l.renderHeader,m=l.showAllEvents;return G.createElement("div",{className:u,ref:t.containerRef},G.createElement("div",{className:yt("rbc-row-content",m&&"rbc-row-content-scrollable")},p&&G.createElement("div",{className:"rbc-row",ref:t.headingRowRef},d.map(t.renderHeadingCell)),G.createElement("div",{className:"rbc-row",ref:t.eventRowRef},G.createElement("div",{className:"rbc-row-segment"},G.createElement("div",{className:"rbc-event"},G.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=q.createRef(),t.headingRowRef=q.createRef(),t.eventRowRef=q.createRef(),t.slotMetrics=oD(),t}return hn(e,n),Ft(e,[{key:"getRowLimit",value:function(){var r,i=Hv(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Hv(this.headingRowRef.current):0,l=Hv(this.containerRef.current)-o;return Math.max(Math.floor(l/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.rtl,l=r.range,u=r.className,d=r.selected,p=r.selectable,m=r.renderForMeasure,v=r.accessors,y=r.getters,E=r.components,I=r.getNow,S=r.renderHeader,b=r.onSelect,C=r.localizer,P=r.onSelectStart,M=r.onSelectEnd,F=r.onDoubleClick,W=r.onKeyPress,z=r.resourceId,D=r.longPressThreshold,A=r.isAllDay,x=r.resizable,L=r.showAllEvents;if(m)return this.renderDummy();var V=this.slotMetrics(this.props),U=V.levels,O=V.extra,ce=L?Bz:ti,Te=E.weekWrapper,_e={selected:d,accessors:v,getters:y,localizer:C,components:E,onSelect:b,onDoubleClick:F,onKeyPress:W,resourceId:z,slotMetrics:V,resizable:x};return G.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},G.createElement(Uz,{localizer:C,date:i,getNow:I,rtl:o,range:l,selectable:p,container:this.getContainer,getters:y,onSelectStart:P,onSelectEnd:M,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:D,resourceId:z}),G.createElement("div",{className:yt("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},S&&G.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},l.map(this.renderHeadingCell)),G.createElement(ce,null,G.createElement(Te,Object.assign({isAllDay:A},_e,{rtl:this.props.rtl}),U.map(function(ye,ne){return G.createElement(rD,Object.assign({key:ne,segments:ye},_e))}),!!O.length&&G.createElement(sD,Object.assign({segments:O,onShowMore:this.handleShowMore},_e))))))}}])})(G.Component);oc.defaultProps={minRows:0,maxRows:1/0};var mE=function(e){var t=e.label;return G.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Gz=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):G.createElement("span",null,t)},Kz=["date","className"],Yz=function(e,t,r,i,o){return e.filter(function(l){return sc(l,t,r,i,o)})},tp=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(l,u){var d=t.props,p=d.events,m=d.components,v=d.selectable,y=d.getNow,E=d.selected,I=d.date,S=d.localizer,b=d.longPressThreshold,C=d.accessors,P=d.getters,M=d.showAllEvents,F=t.state,W=F.needLimitMeasure,z=F.rowLimit,D=Yz(_h(p),l[0],l[l.length-1],C,S),A=zz(D,C,S);return G.createElement(oc,{key:u,ref:u===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:y,date:I,range:l,events:A,maxRows:M?1/0:z,selected:E,selectable:v,components:m,accessors:C,getters:P,localizer:S,renderHeader:t.readerDateHeading,renderForMeasure:W,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:b,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:M})},t.readerDateHeading=function(l){var u=l.date,d=l.className,p=hi(l,Kz),m=t.props,v=m.date,y=m.getDrilldownView,E=m.localizer,I=E.neq(v,u,"month"),S=E.isSameDate(u,v),b=y(u),C=E.format(u,"dateFormat"),P=t.props.components.dateHeader||Gz;return G.createElement("div",Object.assign({},p,{className:yt(d,I&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),G.createElement(P,{label:C,date:u,drilldownView:b,isOffRange:I,onDrillDown:function(F){return t.handleHeadingClick(u,b,F)}}))},t.handleSelectSlot=function(l,u){t._pendingSelection=t._pendingSelection.concat(l),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(u)})},t.handleHeadingClick=function(l,u,d){d.preventDefault(),t.clearSelection(),ot(t.props.onDrillDown,[l,u])},t.handleSelectEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t.handleKeyPressEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.handleShowMore=function(l,u,d,p,m){var v=t.props,y=v.popup,E=v.onDrillDown,I=v.onShowMore,S=v.getDrilldownView,b=v.doShowMoreDrillDown;if(t.clearSelection(),y){var C=v2(d,t.containerRef.current);t.setState({overlay:{date:u,events:l,position:C,target:m}})}else b&&ot(E,[u,S(u)||un.DAY]);ot(I,[l,u,p])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=q.createRef(),t.slotRowRef=q.createRef(),t._bgRows=[],t._pendingSelection=[],t}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||y2(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.className,u=o.visibleDays(i,o),d=C5(u,7);return this._weekCount=d.length,G.createElement("div",{className:yt("rbc-month-view",l),role:"table","aria-label":"Month View",ref:this.containerRef},G.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,o=i.localizer,l=i.components,u=r[0],d=r[r.length-1],p=l.header||mE;return o.range(u,d,"day").map(function(m,v){return G.createElement("div",{key:"header_"+v,className:"rbc-header"},G.createElement(p,{date:m,localizer:o,label:o.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,o=this,l=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,p=u.localizer,m=u.components,v=u.getters,y=u.selected,E=u.popupOffset,I=u.handleDragStart,S=function(){return o.setState({overlay:null})};return G.createElement(pE,{overlay:l,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:I,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(u,d){return+u-+d});var o=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),ot(this.props.onSelectSlot,{slots:i,start:o,end:l,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var o=r.date,l=r.localizer;return{date:o,needLimitMeasure:l.neq(o,i.date,"month")}}}])})(G.Component);tp.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};tp.navigate=function(n,e,t){var r=t.localizer;switch(e){case Nn.PREVIOUS:return r.add(n,-1,"month");case Nn.NEXT:return r.add(n,1,"month");default:return n}};tp.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var FC=function(e){var t=e.min,r=e.max,i=e.step,o=e.slots,l=e.localizer;return"".concat(+l.startOf(t,"minutes"))+"".concat(+l.startOf(r,"minutes"))+"".concat(i,"-").concat(o)};function gE(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,o=n.localizer,l=FC({step:r,localizer:o}),u=1+o.getTotalMin(e,t),d=o.getMinutesFromMidnight(e),p=Math.ceil((u-1)/(r*i)),m=p*i,v=new Array(p),y=new Array(m),E=0;E<p;E++){v[E]=new Array(i);for(var I=0;I<i;I++){var S=E*i+I,b=S*r;y[S]=v[E][I]=o.getSlotDate(e,d,b)}}var C=y.length*r;y.push(o.getSlotDate(e,d,C));function P(M){var F=o.diff(e,M,"minutes")+o.getDstOffset(e,M);return Math.min(F,u)}return{groups:v,update:function(F){return FC(F)!==l?gE(F):this},dateIsInGroup:function(F,W){var z=v[W+1];return o.inRange(F,v[W][0],z?z[0]:t,"minutes")},nextSlot:function(F){var W=y[Math.min(y.findIndex(function(z){return z===F||o.eq(z,F)})+1,y.length-1)];return o.eq(W,F)&&(W=o.add(F,r,"minutes")),W},closestSlotToPosition:function(F){var W=Math.min(y.length-1,Math.max(0,Math.floor(F*m)));return y[W]},closestSlotFromPoint:function(F,W){var z=Math.abs(W.top-W.bottom);return this.closestSlotToPosition((F.y-W.top)/z)},closestSlotFromDate:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(F,e,"minutes"))return y[0];if(o.gt(F,t,"minutes"))return y[y.length-1];var z=o.diff(e,F,"minutes");return y[(z-z%r)/r+W]},startsBeforeDay:function(F){return o.lt(F,e,"day")},startsAfterDay:function(F){return o.gt(F,t,"day")},startsBefore:function(F){return o.lt(o.merge(e,F),e,"minutes")},startsAfter:function(F){return o.gt(o.merge(t,F),t,"minutes")},getRange:function(F,W,z,D){z||(F=o.min(t,o.max(e,F))),D||(W=o.min(t,o.max(e,W)));var A=P(F),x=P(W),L=x>r*m&&!o.eq(t,W)?(A-r)/(r*m)*100:A/(r*m)*100;return{top:L,height:x/(r*m)*100-L,start:P(F),startDate:F,end:P(W),endDate:W}},getCurrentTimePosition:function(F){var W=P(F),z=W/(r*m)*100;return z}}}var Qz=(function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;Vt(this,n);var o=i.getRange(r.start(e),r.end(e)),l=o.start,u=o.startDate,d=o.end,p=o.endDate,m=o.top,v=o.height;this.start=l,this.end=d,this.startMs=+u,this.endMs=+p,this.top=m,this.height=v,this.data=e}return Ft(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,o=t._width,l=r.indexOf(this)+1;return i+l*o}}])})();function Xz(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function Jz(n){for(var e=i$(n,["startMs",function(u){return-u.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var o=e[i];if(!(r.endMs>o.startMs)){if(i>0){var l=e.splice(i,1)[0];t.push(l)}break}}}return t}function aD(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=e.map(function(m){return new Qz(m,{slotMetrics:r,accessors:i})}),l=Jz(o),u=[],d=function(){var v=l[p],y=u.find(function(S){return S.end>v.start||Math.abs(v.start-S.start)<t});if(!y)return v.rows=[],u.push(v),1;v.container=y;for(var E=null,I=y.rows.length-1;!E&&I>=0;I--)Xz(y.rows[I],v,t)&&(E=y.rows[I]);E?(E.leaves.push(v),v.row=E):(v.leaves=[],y.rows.push(v))},p=0;p<l.length;p++)d();return l.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function lD(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=lD(n.friends[r],e,t);e=e>i?e:i}return e}function Zz(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=aD({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});o.sort(function(Te,_e){return Te=Te.style,_e=_e.style,Te.top!==_e.top?Te.top>_e.top?1:-1:Te.height!==_e.height?Te.top+Te.height<_e.top+_e.height?1:-1:0});for(var l=0;l<o.length;++l)o[l].friends=[],delete o[l].style.left,delete o[l].style.left,delete o[l].idx,delete o[l].size;for(var u=0;u<o.length-1;++u)for(var d=o[u],p=d.style.top,m=d.style.top+d.style.height,v=u+1;v<o.length;++v){var y=o[v],E=y.style.top,I=y.style.top+y.style.height;(E>=p&&I<=m||I>p&&I<=m||E>=p&&E<m)&&(d.friends.push(y),y.friends.push(d))}for(var S=0;S<o.length;++S){for(var b=o[S],C=[],P=0;P<100;++P)C.push(1);for(var M=0;M<b.friends.length;++M)b.friends[M].idx!==void 0&&(C[b.friends[M].idx]=0);b.idx=C.indexOf(1)}for(var F=0;F<o.length;++F){var W=0;if(!o[F].size){var z=[],D=lD(o[F],0,z);W=100/(D+1),o[F].size=W;for(var A=0;A<z.length;++A)z[A].size=W}}for(var x=0;x<o.length;++x){var L=o[x];L.style.left=L.idx*L.size;for(var V=0,U=0;U<L.friends.length;++U){var O=L.friends[U].idx;V=V>O?V:O}V<=L.idx&&(L.size=100-L.idx*L.size);var ce=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(ce,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(ce,"px)")}return o}var jC={overlap:aD,"no-overlap":Zz};function e8(n){return!!(n&&n.constructor&&n.call&&n.apply)}function t8(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in jC&&(t=jC[e]),e8(t)?t.apply(this,arguments):[]}var uD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,o=r.resource,l=r.group,u=r.getters,d=r.components,p=d===void 0?{}:d,m=p.timeSlotWrapper,v=m===void 0?ti:m,y=u?u.slotGroupProp(l):{};return G.createElement("div",Object.assign({className:"rbc-timeslot-group"},y),l.map(function(E,I){var S=u?u.slotProp(E,o):{};return G.createElement(v,{key:I,value:E,resource:o},G.createElement("div",Object.assign({},S,{className:yt("rbc-time-slot",S.className)}),i&&i(E,I)))}))}}])})(q.Component);function sh(n){return typeof n=="string"?n:n+"%"}function n8(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,o=n.rtl,l=n.selected,u=n.label,d=n.continuesPrior,p=n.continuesAfter,m=n.getters,v=n.onClick,y=n.onDoubleClick,E=n.isBackgroundEvent,I=n.onKeyPress,S=n.components,b=S.event,C=S.eventWrapper,P=i.title(r),M=i.tooltip(r),F=i.end(r),W=i.start(r),z=m.eventProp(r,W,F,l),D=[G.createElement("div",{key:"1",className:"rbc-event-label"},u),G.createElement("div",{key:"2",className:"rbc-event-content"},b?G.createElement(b,{event:r,title:P}):P)],A=e.height,x=e.top,L=e.width,V=e.xOffset,U=Je(Je({},z.style),{},Eo({top:sh(x),height:sh(A),width:sh(L)},o?"right":"left",sh(V)));return G.createElement(C,Object.assign({type:"time"},n),G.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:y,style:U,onKeyDown:I,title:M?(typeof u=="string"?u+": ":"")+M:void 0,className:yt(E?"rbc-background-event":"rbc-event",t,z.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},D))}var r8=function(e){var t=e.children,r=e.className,i=e.style,o=e.innerRef;return G.createElement("div",{className:r,style:i,ref:o},t)},i8=G.forwardRef(function(n,e){return G.createElement(r8,Object.assign({},n,{innerRef:e}))}),s8=["dayProp"],o8=["eventContainerWrapper","timeIndicatorWrapper"],cD=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(l){var u=l.events,d=l.isBackgroundEvent,p=t.props,m=p.rtl,v=p.selected,y=p.accessors,E=p.localizer,I=p.getters,S=p.components,b=p.step,C=p.timeslots,P=p.dayLayoutAlgorithm,M=p.resizable,F=t,W=F.slotMetrics,z=E.messages,D=t8({events:u,accessors:y,slotMetrics:W,minimumStartDifference:Math.ceil(b*C/2),dayLayoutAlgorithm:P});return D.map(function(A,x){var L,V=A.event,U=A.style,O=y.end(V),ce=y.start(V),Te=(L=y.eventId(V))!==null&&L!==void 0?L:"evt_"+x,_e="eventTimeRangeFormat",ye,ne=W.startsBeforeDay(ce),de=W.startsAfterDay(O);ne?_e="eventTimeRangeEndFormat":de&&(_e="eventTimeRangeStartFormat"),ne&&de?ye=z.allDay:ye=E.format({start:ce,end:O},_e);var le=ne||W.startsBefore(ce),H=de||W.startsAfter(O);return G.createElement(n8,{style:U,event:V,label:ye,key:Te,getters:I,rtl:m,components:S,continuesPrior:le,continuesAfter:H,accessors:y,resource:t.props.resource,selected:ep(V,v),onClick:function(he){return t._select(Je(Je(Je({},V),t.props.resource&&{sourceResource:t.props.resource}),d&&{isBackgroundEvent:!0}),he)},onDoubleClick:function(he){return t._doubleClick(V,he)},isBackgroundEvent:d,onKeyPress:function(he){return t._keyPress(V,he)},resizable:M})})},t._selectable=function(){var l=t.containerRef.current,u=t.props,d=u.longPressThreshold,p=u.localizer,m=t._selector=new nD(function(){return l},{longPressThreshold:d}),v=function(S){var b=t.props.onSelecting,C=t.state||{},P=y(S),M=P.startDate,F=P.endDate;b&&(p.eq(C.startDate,M,"minutes")&&p.eq(C.endDate,F,"minutes")||b({start:M,end:F,resourceId:t.props.resource})===!1)||(t.state.start!==P.start||t.state.end!==P.end||t.state.selecting!==P.selecting)&&t.setState(P)},y=function(S){var b=t.slotMetrics.closestSlotFromPoint(S,zo(l));t.state.selecting||(t._initialSlot=b);var C=t._initialSlot;p.lte(C,b)?b=t.slotMetrics.nextSlot(b):p.gt(C,b)&&(C=t.slotMetrics.nextSlot(C));var P=t.slotMetrics.getRange(p.min(C,b),p.max(C,b));return Je(Je({},P),{},{selecting:!0,top:"".concat(P.top,"%"),height:"".concat(P.height,"%")})},E=function(S,b){if(!af(t.containerRef.current,S)){var C=y(S),P=C.startDate,M=C.endDate;t._selectSlot({startDate:P,endDate:M,action:b,box:S})}t.setState({selecting:!1})};m.on("selecting",v),m.on("selectStart",v),m.on("beforeSelect",function(I){if(t.props.selectable==="ignoreEvents")return!af(t.containerRef.current,I)}),m.on("click",function(I){return E(I,"click")}),m.on("doubleClick",function(I){return E(I,"doubleClick")}),m.on("select",function(I){t.state.selecting&&(t._selectSlot(Je(Je({},t.state),{},{action:"select",bounds:I})),t.setState({selecting:!1}))}),m.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(l){for(var u=l.startDate,d=l.endDate,p=l.action,m=l.bounds,v=l.box,y=u,E=[];t.props.localizer.lte(y,d);)E.push(y),y=new Date(+y+t.props.step*60*1e3);ot(t.props.onSelectSlot,{slots:E,start:u,end:d,resourceId:t.props.resource,action:p,bounds:m,box:v})},t._select=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t._doubleClick=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t._keyPress=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.slotMetrics=gE(t.props),t.containerRef=q.createRef(),t}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var o=this.props,l=o.getNow,u=o.isNow,d=o.localizer,p=o.date,m=o.min,v=o.max,y=d.neq(r.getNow(),l(),"minutes");if(r.isNow!==u||y){if(this.clearTimeIndicatorInterval(),u){var E=!y&&d.eq(r.date,p,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else u&&(d.neq(r.min,m,"minutes")||d.neq(r.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,o=r.max,l=r.getNow,u=l();if(u>=i&&u<=o){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.max,l=r.rtl,u=r.isNow,d=r.resource,p=r.accessors,m=r.localizer,v=r.getters,y=v.dayProp,E=hi(v,s8),I=r.components,S=I.eventContainerWrapper,b=I.timeIndicatorWrapper,C=hi(I,o8);this.slotMetrics=this.slotMetrics.update(this.props);var P=this.slotMetrics,M=this.state,F=M.selecting,W=M.top,z=M.height,D=M.startDate,A=M.endDate,x={start:D,end:A},L=y(o,d),V=L.className,U=L.style,O={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},ce=C.dayColumnWrapper||i8;return G.createElement(ce,{ref:this.containerRef,date:i,style:U,className:yt(V,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:P,resource:d},P.groups.map(function(Te,_e){return G.createElement(uD,{key:_e,group:Te,resource:d,getters:E,components:C})}),G.createElement(S,{localizer:m,resource:d,accessors:p,getters:E,components:C,slotMetrics:P},G.createElement("div",{className:yt("rbc-events-container",l&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&G.createElement("div",{className:"rbc-slot-selection",style:{top:W,height:z}},G.createElement("span",null,m.format(x,"selectRangeFormat"))),u&&this.intervalTriggered&&G.createElement(b,O,G.createElement("div",O)))}}])})(G.Component);cD.defaultProps={dragThroughEvents:!0,timeslots:2};var dD=function(e){var t=e.label;return G.createElement(G.Fragment,null,t)},a8=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleHeaderClick=function(l,u,d){d.preventDefault(),ot(t.props.onDrillDown,[l,u])},t.renderRow=function(l){var u=t.props,d=u.events,p=u.rtl,m=u.selectable,v=u.getNow,y=u.range,E=u.getters,I=u.localizer,S=u.accessors,b=u.components,C=u.resizable,P=S.resourceId(l),M=l?d.filter(function(F){return S.resource(F)===P}):d;return G.createElement(oc,{isAllDay:!0,rtl:p,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:y,events:M,resourceId:P,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:b,accessors:S,getters:E,localizer:I,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:C})},t}return hn(e,n),Ft(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,l=o.localizer,u=o.getDrilldownView,d=o.getNow,p=o.getters.dayProp,m=o.components.header,v=m===void 0?mE:m,y=d();return r.map(function(E,I){var S=u(E),b=l.format(E,"dayFormat"),C=p(E),P=C.className,M=C.style,F=G.createElement(v,{date:E,label:b,localizer:l});return G.createElement("div",{key:I,style:M,className:yt("rbc-header",P,l.isSameDate(E,y)&&"rbc-today")},S?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(E,S,z)}},F):G.createElement("span",null,F))})}},{key:"render",value:function(){var r=this,i=this.props,o=i.width,l=i.rtl,u=i.resources,d=i.range,p=i.events,m=i.getNow,v=i.accessors,y=i.selectable,E=i.components,I=i.getters,S=i.scrollRef,b=i.localizer,C=i.isOverflowing,P=i.components,M=P.timeGutterHeader,F=P.resourceHeader,W=F===void 0?dD:F,z=i.resizable,D={};C&&(D[l?"marginLeft":"marginRight"]="".concat(Y0()-1,"px"));var A=u.groupEvents(p);return G.createElement("div",{style:D,ref:S,className:yt("rbc-time-header",C&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},M&&G.createElement(M,null)),u.map(function(x,L){var V=Lo(x,2),U=V[0],O=V[1];return G.createElement("div",{className:"rbc-time-header-content",key:U||L},O&&G.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},G.createElement("div",{className:"rbc-header"},G.createElement(W,{index:L,label:v.resourceTitle(O),resource:O}))),G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),G.createElement(oc,{isAllDay:!0,rtl:l,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:A.get(U)||[],resourceId:O&&U,className:"rbc-allday-cell",selectable:y,selected:r.props.selected,components:E,accessors:v,getters:I,localizer:b,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])})(G.Component),l8=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleHeaderClick=function(l,u,d){d.preventDefault(),ot(t.props.onDrillDown,[l,u])},t}return hn(e,n),Ft(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,l=o.localizer,u=o.getDrilldownView,d=o.getNow,p=o.getters.dayProp,m=o.components,v=m.header,y=v===void 0?mE:v,E=m.resourceHeader,I=E===void 0?dD:E,S=o.resources,b=o.accessors,C=o.events,P=o.rtl,M=o.selectable,F=o.components,W=o.getters,z=o.resizable,D=d(),A=S.groupEvents(C);return r.map(function(x,L){var V=u(x),U=l.format(x,"dayFormat"),O=p(x),ce=O.className,Te=O.style,_e=G.createElement(y,{date:x,label:U,localizer:l});return G.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},G.createElement("div",{style:Te,className:yt("rbc-header",ce,l.isSameDate(x,D)&&"rbc-today")},V?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ne){return i.handleHeaderClick(x,V,ne)}},_e):G.createElement("span",null,_e))),G.createElement("div",{className:"rbc-row"},S.map(function(ye,ne){var de=Lo(ye,2),le=de[0],H=de[1];return G.createElement("div",{key:"resource_".concat(le,"_").concat(ne),className:yt("rbc-header",ce,l.isSameDate(x,D)&&"rbc-today")},G.createElement(I,{index:ne,label:b.resourceTitle(H),resource:H}))})),G.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},S.map(function(ye,ne){var de=Lo(ye,2),le=de[0],H=de[1],Z=(A.get(le)||[]).filter(function(he){return l.isSameDate(he.start,x)||l.isSameDate(he.end,x)});return G.createElement(oc,{key:"resource_".concat(le,"_").concat(ne),isAllDay:!0,rtl:P,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[x],events:Z,resourceId:H&&le,className:"rbc-allday-cell",selectable:M,selected:i.props.selected,components:F,accessors:b,getters:W,localizer:l,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,o=r.rtl,l=r.range,u=r.scrollRef,d=r.isOverflowing,p=r.components.timeGutterHeader,m={};return d&&(m[o?"marginLeft":"marginRight"]="".concat(Y0()-1,"px")),G.createElement("div",{style:m,ref:u,className:yt("rbc-time-header",d&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},p&&G.createElement(p,null)),this.renderHeaderCells(l))}}])})(G.Component);function u8(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var c8=function(e){var t=e.min,r=e.max,i=e.timeslots,o=e.step,l=e.localizer,u=e.getNow,d=e.resource,p=e.components,m=e.getters,v=e.gutterRef,y=p.timeGutterWrapper,E=q.useMemo(function(){return u8({min:t,max:r,localizer:l})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),l]),I=E.start,S=E.end,b=q.useState(gE({min:I,max:S,timeslots:i,step:o,localizer:l})),C=Lo(b,2),P=C[0],M=C[1];q.useEffect(function(){P&&M(P.update({min:I,max:S,timeslots:i,step:o,localizer:l}))},[I==null?void 0:I.toISOString(),S==null?void 0:S.toISOString(),i,o]);var F=q.useCallback(function(W,z){if(z)return null;var D=P.dateIsInGroup(u(),z);return G.createElement("span",{className:yt("rbc-label",D&&"rbc-now")},l.format(W,"timeGutterFormat"))},[P,l,u]);return G.createElement(y,{slotMetrics:P},G.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},P.groups.map(function(W,z){return G.createElement(uD,{key:z,group:W,resource:d,components:p,renderSlot:F,getters:m})})))},d8=G.forwardRef(function(n,e){return G.createElement(c8,Object.assign({gutterRef:e},n))}),k_={};function h8(n,e){return{map:function(r){return n?n.map(function(i,o){return r([e.resourceId(i),i],o)}):[r([k_,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(o){var l=e.resource(o)||k_;if(Array.isArray(l))l.forEach(function(d){var p=i.get(d)||[];p.push(o),i.set(d,p)});else{var u=i.get(l)||[];u.push(o),i.set(l,u)}}),i):(i.set(k_,r),i)}}}var Sl=(function(n){function e(t){var r;return Vt(this,e),r=dn(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){Jb(r.rafHandle),r.rafHandle=y2(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(i,o,l,u,d){var p=r.props,m=p.popup,v=p.onDrillDown,y=p.onShowMore,E=p.getDrilldownView,I=p.doShowMoreDrillDown;if(r.clearSelection(),m){var S=v2(l,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:Je(Je({},S),{},{width:"200px"}),target:d}})}else I&&ot(v,[o,E(o)||un.DAY]);ot(y,[i,o,u])},r.handleSelectAllDaySlot=function(i,o){var l=r.props.onSelectSlot,u=new Date(i[0]),d=new Date(i[i.length-1]);d.setDate(i[i.length-1].getDate()+1),ot(l,{slots:i,start:u,end:d,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=F2(function(i,o){return h8(i,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=G.createRef(),r.contentRef=G.createRef(),r.containerRef=G.createRef(),r._scrollRatio=null,r.gutterRef=q.createRef(),r}return hn(e,n),Ft(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Jb(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,o,l,u,d,p,m,v,y){var E=this.props,I=E.min,S=E.max,b=(l.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")}),C=(u.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")});return G.createElement(cD,Object.assign({},this.props,{localizer:d,min:d.merge(r,I),max:d.merge(r,S),resource:o&&i,components:m,isNow:d.isSameDate(r,y),key:"".concat(i,"-").concat(r),date:r,events:b,backgroundEvents:C,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(r,i,o,l,u,d,p,m,v){var y=this;return i.map(function(E){var I=Lo(E,2),S=I[0],b=I[1];return r.map(function(C){return y.renderDayColumn(C,S,b,o,l,u,d,m,v,p)})})}},{key:"renderRangeFirst",value:function(r,i,o,l,u,d,p,m,v){var y=this;return r.map(function(E){return G.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},i.map(function(I){var S=Lo(I,2),b=S[0],C=S[1];return G.createElement("div",{style:{flex:1},key:d.resourceId(C)},y.renderDayColumn(E,b,C,o,l,u,d,m,v,p))}))})}},{key:"renderEvents",value:function(r,i,o,l){var u=this.props,d=u.accessors,p=u.localizer,m=u.resourceGroupingLayout,v=u.components,y=u.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,d),I=E.groupEvents(i),S=E.groupEvents(o);return m?this.renderRangeFirst(r,E,I,S,p,d,l,v,y):this.renderResourcesFirst(r,E,I,S,p,d,l,v,y)}},{key:"render",value:function(){var r,i=this.props,o=i.events,l=i.backgroundEvents,u=i.range,d=i.width,p=i.rtl,m=i.selected,v=i.getNow,y=i.resources,E=i.components,I=i.accessors,S=i.getters,b=i.localizer,C=i.min,P=i.max,M=i.showMultiDayTimes,F=i.longPressThreshold,W=i.resizable,z=i.resourceGroupingLayout;d=d||this.state.gutterWidth;var D=u[0],A=u[u.length-1];this.slots=u.length;var x=[],L=[],V=[];o.forEach(function(O){if(sc(O,D,A,I,b)){var ce=I.start(O),Te=I.end(O);I.allDay(O)||b.startAndEndAreDateOnly(ce,Te)||!M&&!b.isSameDate(ce,Te)?x.push(O):L.push(O)}}),l.forEach(function(O){sc(O,D,A,I,b)&&V.push(O)}),x.sort(function(O,ce){return Tw(O,ce,I,b)});var U={range:u,events:x,width:d,rtl:p,getNow:v,localizer:b,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(y,I),selectable:this.props.selectable,accessors:I,getters:S,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:W};return G.createElement("div",{className:yt("rbc-time-view",y&&"rbc-time-view-resources"),ref:this.containerRef},y&&y.length>1&&z?G.createElement(l8,U):G.createElement(a8,U),this.props.popup&&this.renderOverlay(),G.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},G.createElement(d8,{date:D,ref:this.gutterRef,localizer:b,min:b.merge(D,C),max:b.merge(D,P),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:S}),this.renderEvents(u,L,V,v())))}},{key:"renderOverlay",value:function(){var r,i,o=this,l=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,p=u.localizer,m=u.components,v=u.getters,y=u.selected,E=u.popupOffset,I=u.handleDragStart,S=function(){return o.setState({overlay:null})};return G.createElement(pE,{overlay:l,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:I,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=r.gutterRef)!==null&&i!==void 0&&i.current?_w(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,o=r.max,l=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(l,i),l,"milliseconds"),p=u.diff(i,o,"milliseconds");this._scrollRatio=d/p}}])})(q.Component);Sl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var f8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],np=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,f8),S=e.range(i,{localizer:o});return G.createElement(Sl,Object.assign({},I,{range:S,eventOffset:10,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);np.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};np.navigate=function(n,e,t){var r=t.localizer;switch(e){case Nn.PREVIOUS:return r.add(n,-1,"day");case Nn.NEXT:return r.add(n,1,"day");default:return n}};np.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var p8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ls=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,p8),S=e.range(i,this.props);return G.createElement(Sl,Object.assign({},I,{range:S,eventOffset:15,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);Ls.defaultProps=Sl.defaultProps;Ls.navigate=function(n,e,t){var r=t.localizer;switch(e){case Nn.PREVIOUS:return r.add(n,-1,"week");case Nn.NEXT:return r.add(n,1,"week");default:return n}};Ls.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),o=t.endOf(n,"week",r);return t.range(i,o)};Ls.title=function(n,e){var t=e.localizer,r=Ls.range(n,{localizer:t}),i=B2(r),o=i[0],l=i.slice(1);return t.format({start:o,end:l.pop()},"dayRangeHeaderFormat")};var m8=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function vE(n,e){return Ls.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var Dc=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,m8),S=vE(i,this.props);return G.createElement(Sl,Object.assign({},I,{range:S,eventOffset:15,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);Dc.defaultProps=Sl.defaultProps;Dc.range=vE;Dc.navigate=Ls.navigate;Dc.title=function(n,e){var t=e.localizer,r=vE(n,{localizer:t}),i=B2(r),o=i[0],l=i.slice(1);return t.format({start:o,end:l.pop()},"dayRangeHeaderFormat")};var rp=30;function ip(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,o=n.getters,l=n.length,u=l===void 0?rp:l,d=n.localizer,p=n.onDoubleClickEvent,m=n.onSelectEvent,v=n.selected,y=q.useRef(null),E=q.useRef(null),I=q.useRef(null),S=q.useRef(null),b=q.useRef(null);q.useEffect(function(){M()});var C=function(A,x,L){var V=t.event,U=t.date;return x=x.filter(function(O){return sc(O,d.startOf(A,"day"),d.endOf(A,"day"),e,d)}),x.map(function(O,ce){var Te=e.title(O),_e=e.end(O),ye=e.start(O),ne=o.eventProp(O,ye,_e,ep(O,v)),de=ce===0&&d.format(A,"agendaDateFormat"),le=ce===0?G.createElement("td",{rowSpan:x.length,className:"rbc-agenda-date-cell"},U?G.createElement(U,{day:A,label:de}):de):!1;return G.createElement("tr",{key:L+"_"+ce,className:ne.className,style:ne.style},le,G.createElement("td",{className:"rbc-agenda-time-cell"},P(A,O)),G.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return m&&m(O,Z)},onDoubleClick:function(Z){return p&&p(O,Z)}},V?G.createElement(V,{event:O,title:Te}):Te))},[])},P=function(A,x){var L="",V=t.time,U=d.messages.allDay,O=e.end(x),ce=e.start(x);return e.allDay(x)||(d.eq(ce,O)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(ce,O)?U=d.format({start:ce,end:O},"agendaTimeRangeFormat"):d.isSameDate(A,ce)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(A,O)&&(U=d.format(O,"agendaTimeFormat"))),d.gt(A,ce,"day")&&(L="rbc-continues-prior"),d.lt(A,O,"day")&&(L+=" rbc-continues-after"),G.createElement("span",{className:L.trim()},V?G.createElement(V,{event:x,day:A,label:U}):U)},M=function(){if(b.current){var A=y.current,x=b.current.firstChild;if(x){var L=S.current.scrollHeight>S.current.clientHeight,V=[],U=V;V=[_w(x.children[0]),_w(x.children[1])],(U[0]!==V[0]||U[1]!==V[1])&&(E.current.style.width=V[0]+"px",I.current.style.width=V[1]+"px"),L?(m9(A,"rbc-header-overflowing"),A.style.marginRight=Y0()+"px"):g9(A,"rbc-header-overflowing")}}},F=d.messages,W=d.add(r,u,"day"),z=d.range(r,W,"day");return i=i.filter(function(D){return sc(D,d.startOf(r,"day"),d.endOf(W,"day"),e,d)}),i.sort(function(D,A){return+e.start(D)-+e.start(A)}),G.createElement("div",{className:"rbc-agenda-view"},i.length!==0?G.createElement(G.Fragment,null,G.createElement("table",{ref:y,className:"rbc-agenda-table"},G.createElement("thead",null,G.createElement("tr",null,G.createElement("th",{className:"rbc-header",ref:E},F.date),G.createElement("th",{className:"rbc-header",ref:I},F.time),G.createElement("th",{className:"rbc-header"},F.event)))),G.createElement("div",{className:"rbc-agenda-content",ref:S},G.createElement("table",{className:"rbc-agenda-table"},G.createElement("tbody",{ref:b},z.map(function(D,A){return C(D,i,A)}))))):G.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}ip.range=function(n,e){var t=e.length,r=t===void 0?rp:t,i=e.localizer,o=i.add(n,r,"day");return{start:n,end:o}};ip.navigate=function(n,e,t){var r=t.length,i=r===void 0?rp:r,o=t.localizer;switch(e){case Nn.PREVIOUS:return o.add(n,-i,"day");case Nn.NEXT:return o.add(n,i,"day");default:return n}};ip.title=function(n,e){var t=e.length,r=t===void 0?rp:t,i=e.localizer,o=i.add(n,r,"day");return i.format({start:n,end:o},"agendaHeaderFormat")};var xh=Eo(Eo(Eo(Eo(Eo({},un.MONTH,tp),un.WEEK,Ls),un.WORK_WEEK,Dc),un.DAY,np),un.AGENDA,ip),g8=["action","date","today"];function v8(n,e){var t=e.action,r=e.date,i=e.today,o=hi(e,g8);switch(n=typeof n=="string"?xh[n]:n,t){case Nn.TODAY:r=i||new Date;break;case Nn.DATE:break;default:Gu(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,o)}return r}function y8(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&qi(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var xi=function(e){return function(t){return y8(t,e)}},_8=["view","date","getNow","onNavigate"],w8=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function hD(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=Lo(r[t],2),o=i[0],l=i[1];l&&e.push(o)}return e}function E8(n,e){var t=e.views,r=hD(t);return r.indexOf(n)!==-1}var fD=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.getViews=function(){var l=t.props.views;return Array.isArray(l)?z$(l,function(u,d){return u[d]=xh[d]},{}):qi(l)==="object"?h$(l,function(u,d){return u===!0?xh[d]:u}):xh},t.getView=function(){var l=t.getViews();return l[t.props.view]},t.getDrilldownView=function(l){var u=t.props,d=u.view,p=u.drilldownView,m=u.getDrilldownView;return m?m(l,d,Object.keys(t.getViews())):p},t.handleRangeChange=function(l,u,d){var p=t.props,m=p.onRangeChange,v=p.localizer;m&&u.range&&m(u.range(l,{localizer:v}),d)},t.handleNavigate=function(l,u){var d=t.props,p=d.view,m=d.date,v=d.getNow,y=d.onNavigate,E=hi(d,_8),I=t.getView(),S=v();m=v8(I,Je(Je({},E),{},{action:l,date:u||m||S,today:S})),y(m,p,l),t.handleRangeChange(m,I)},t.handleViewChange=function(l){l!==t.props.view&&E8(l,t.props)&&t.props.onView(l);var u=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),u[l],l)},t.handleSelectEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t.handleDoubleClickEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t.handleKeyPressEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.handleSelectSlot=function(l){ot(t.props.onSelectSlot,l)},t.handleDrillDown=function(l,u){var d=t.props.onDrillDown;if(d){d(l,u,t.drilldownView);return}u&&t.handleViewChange(u),t.handleNavigate(Nn.DATE,l)},t.state={context:e.getContext(t.props)},t}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.view,o=r.toolbar,l=r.events,u=r.backgroundEvents,d=r.resourceGroupingLayout,p=r.style,m=r.className,v=r.elementProps,y=r.date,E=r.getNow,I=r.length,S=r.showMultiDayTimes,b=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var P=hi(r,w8);y=y||E();var M=this.getView(),F=this.state.context,W=F.accessors,z=F.components,D=F.getters,A=F.localizer,x=F.viewNames,L=z.toolbar||bz,V=M.title(y,{localizer:A,length:I});return G.createElement("div",Object.assign({},v,{className:yt(m,"rbc-calendar",P.rtl&&"rbc-rtl"),style:p}),o&&G.createElement(L,{date:y,view:i,views:x,label:V,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),G.createElement(M,Object.assign({},P,{events:l,backgroundEvents:u,date:y,getNow:E,length:I,localizer:A,getters:D,components:z,accessors:W,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:C,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,o=r.endAccessor,l=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,p=r.resourceAccessor,m=r.resourceIdAccessor,v=r.resourceTitleAccessor,y=r.eventIdAccessor,E=r.eventPropGetter,I=r.backgroundEventPropGetter,S=r.slotPropGetter,b=r.slotGroupPropGetter,C=r.dayPropGetter,P=r.view,M=r.views,F=r.localizer,W=r.culture,z=r.messages,D=z===void 0?{}:z,A=r.components,x=A===void 0?{}:A,L=r.formats,V=L===void 0?{}:L,U=hD(M),O=Rz(D);return{viewNames:U,localizer:Sz(F,W,V,O),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return I&&I.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:u$(x[P]||{},U$(x,U),{eventWrapper:ti,backgroundEventWrapper:ti,eventContainerWrapper:ti,dateCellWrapper:ti,weekWrapper:ti,timeSlotWrapper:ti,timeGutterWrapper:ti,timeIndicatorWrapper:ti}),accessors:{start:xi(i),end:xi(o),allDay:xi(l),tooltip:xi(u),title:xi(d),resource:xi(p),resourceId:xi(m),resourceTitle:xi(v),eventId:xi(y)}}}}])})(G.Component);fD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:un.MONTH,views:[un.MONTH,un.WEEK,un.DAY,un.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:un.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var T8=t2(fD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),S8=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"P",t),"  ").concat(r.format(o,"P",t))},D_=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"p",t),"  ").concat(r.format(o,"p",t))},b8=function(e,t,r){var i=e.start;return"".concat(r.format(i,"h:mma",t),"  ")},I8=function(e,t,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",t))},R8=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"MMMM dd",t),"  ").concat(r.format(o,yl(i,o,"month")?"dd":"MMMM dd",t))},A8={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:D_,eventTimeRangeFormat:D_,eventTimeRangeStartFormat:b8,eventTimeRangeEndFormat:I8,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:R8,agendaHeaderFormat:S8,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:D_},C8=function(e){var t=e.startOfWeek,r=e.getDay,i=e.format,o=e.locales;return new Tz({formats:A8,firstOfWeek:function(u){return r(t(new Date,{locale:o[u]}))},format:function(u,d,p){return i(new Date(u),d,{locale:o[p]})}})};const pD=6048e5,x8=864e5,P8=6e4,UC=Symbol.for("constructDateFrom");function pr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&UC in n?n[UC](e):n instanceof Date?new n.constructor(e):new Date(e)}function Zt(n,e){return pr(e||n,n)}function mD(n,e,t){const r=Zt(n,t==null?void 0:t.in);return isNaN(e)?pr(n,NaN):(e&&r.setDate(r.getDate()+e),r)}let k8={};function sp(){return k8}function Bo(n,e){var u,d,p,m;const t=sp(),r=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Zt(n,e==null?void 0:e.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function lf(n,e){return Bo(n,{...e,weekStartsOn:1})}function gD(n,e){const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=pr(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=lf(i),l=pr(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=lf(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function qC(n){const e=Zt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function D8(n,...e){const t=pr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function $C(n,e){const t=Zt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function N8(n,e,t){const[r,i]=D8(t==null?void 0:t.in,n,e),o=$C(r),l=$C(i),u=+o-qC(o),d=+l-qC(l);return Math.round((u-d)/x8)}function O8(n,e){const t=gD(n,e),r=pr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lf(r)}function M8(n,e,t){const r=Zt(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*P8),r}function L8(n,e,t){return mD(n,e*7,t)}function V8(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function F8(n){return!(!V8(n)&&typeof n!="number"||isNaN(+Zt(n)))}function j8(n,e){const t=Zt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const U8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vD=(n,e,t)=>{let r;const i=U8[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Ga(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const q8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B8={date:Ga({formats:q8,defaultWidth:"full"}),time:Ga({formats:$8,defaultWidth:"full"}),dateTime:Ga({formats:z8,defaultWidth:"full"})},W8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yD=(n,e,t,r)=>W8[n];function mu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const H8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J8=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},_D={ordinalNumber:J8,era:mu({values:H8,defaultWidth:"wide"}),quarter:mu({values:G8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:mu({values:K8,defaultWidth:"wide"}),day:mu({values:Y8,defaultWidth:"wide"}),dayPeriod:mu({values:Q8,defaultWidth:"wide",formattingValues:X8,defaultFormattingWidth:"wide"})};function gu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?eB(u,v=>v.test(l)):Z8(u,v=>v.test(l));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function Z8(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function eB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function tB(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const nB=/^(\d+)(th|st|nd|rd)?/i,rB=/\d+/i,iB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sB={any:[/^b/i,/^(a|c)/i]},oB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aB={any:[/1/i,/2/i,/3/i,/4/i]},lB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wD={ordinalNumber:tB({matchPattern:nB,parsePattern:rB,valueCallback:n=>parseInt(n,10)}),era:gu({matchPatterns:iB,defaultMatchWidth:"wide",parsePatterns:sB,defaultParseWidth:"any"}),quarter:gu({matchPatterns:oB,defaultMatchWidth:"wide",parsePatterns:aB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:gu({matchPatterns:lB,defaultMatchWidth:"wide",parsePatterns:uB,defaultParseWidth:"any"}),day:gu({matchPatterns:cB,defaultMatchWidth:"wide",parsePatterns:dB,defaultParseWidth:"any"}),dayPeriod:gu({matchPatterns:hB,defaultMatchWidth:"any",parsePatterns:fB,defaultParseWidth:"any"})},pB={code:"en-US",formatDistance:vD,formatLong:B8,formatRelative:yD,localize:_D,match:wD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mB(n,e){const t=Zt(n,e==null?void 0:e.in);return N8(t,j8(t))+1}function gB(n,e){const t=Zt(n,e==null?void 0:e.in),r=+lf(t)-+O8(t);return Math.round(r/pD)+1}function ED(n,e){var m,v,y,E;const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=sp(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=pr((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Bo(l,e),d=pr((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const p=Bo(d,e);return+t>=+u?r+1:+t>=+p?r:r-1}function vB(n,e){var u,d,p,m;const t=sp(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=ED(n,e),o=pr((e==null?void 0:e.in)||n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Bo(o,e)}function yB(n,e){const t=Zt(n,e==null?void 0:e.in),r=+Bo(t,e)-+vB(t,e);return Math.round(r/pD)+1}function Qe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const gs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Qe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Qe(t+1,2)},d(n,e){return Qe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Qe(n.getHours()%12||12,e.length)},H(n,e){return Qe(n.getHours(),e.length)},m(n,e){return Qe(n.getMinutes(),e.length)},s(n,e){return Qe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Qe(i,e.length)}},Va={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zC={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return gs.y(n,e)},Y:function(n,e,t,r){const i=ED(n,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Qe(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Qe(o,e.length)},R:function(n,e){const t=gD(n);return Qe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Qe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return gs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=yB(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(n,e,t){const r=gB(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Qe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):gs.d(n,e)},D:function(n,e,t){const r=mB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Qe(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Qe(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Va.noon:r===0?i=Va.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Va.evening:r>=12?i=Va.afternoon:r>=4?i=Va.morning:i=Va.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return gs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):gs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):gs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):gs.s(n,e)},S:function(n,e){return gs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return WC(r);case"XXXX":case"XX":return wo(r);case"XXXXX":case"XXX":default:return wo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return WC(r);case"xxxx":case"xx":return wo(r);case"xxxxx":case"xxx":default:return wo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BC(r,":");case"OOOO":default:return"GMT"+wo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BC(r,":");case"zzzz":default:return"GMT"+wo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Qe(r,e.length)},T:function(n,e,t){return Qe(+n,e.length)}};function BC(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+Qe(o,2)}function WC(n,e){return n%60===0?(n>0?"-":"+")+Qe(Math.abs(n)/60,2):wo(n,e)}function wo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Qe(Math.trunc(r/60),2),o=Qe(r%60,2);return t+i+e+o}const HC=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_B=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return HC(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",HC(r,e)).replace("{{time}}",TD(i,e))},wB={p:TD,P:_B},EB=/^D+$/,TB=/^Y+$/,SB=["D","DD","YY","YYYY"];function bB(n){return EB.test(n)}function IB(n){return TB.test(n)}function RB(n,e,t){const r=AB(n,e,t);if(console.warn(r),SB.includes(n))throw new RangeError(r)}function AB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PB=/^'([^]*?)'?$/,kB=/''/g,DB=/[a-zA-Z]/;function NB(n,e,t){var m,v,y,E,I,S,b,C;const r=sp(),i=(t==null?void 0:t.locale)??r.locale??pB,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((S=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.weekStartsOn)??0,u=Zt(n,t==null?void 0:t.in);if(!F8(u))throw new RangeError("Invalid time value");let d=e.match(xB).map(P=>{const M=P[0];if(M==="p"||M==="P"){const F=wB[M];return F(P,i.formatLong)}return P}).join("").match(CB).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const M=P[0];if(M==="'")return{isToken:!1,value:OB(P)};if(zC[M])return{isToken:!0,value:P};if(M.match(DB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const M=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&IB(M)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&bB(M))&&RB(M,e,String(n));const F=zC[M[0]];return F(u,M,i.localize,p)}).join("")}function OB(n){const e=n.match(PB);return e?e[1].replace(kB,"'"):n}function MB(n,e){return Zt(n,e==null?void 0:e.in).getDay()}function LB(n,e){const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),o=pr(t,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function VB(n,e,t){const r=Zt(n,t==null?void 0:t.in),i=r.getFullYear(),o=r.getDate(),l=pr(n,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=LB(l);return r.setMonth(e,Math.min(o,u)),r}function FB(n,e,t){let r=Zt(n,t==null?void 0:t.in);return isNaN(+r)?pr(n,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=VB(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}const jB={full:"EEEE, dd MMMM yyyy",long:"dd MMMM yyyy",medium:"dd MMM yyyy",short:"yyyy/MM/dd"},UB={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},qB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$B={date:Ga({formats:jB,defaultWidth:"full"}),time:Ga({formats:UB,defaultWidth:"full"}),dateTime:Ga({formats:qB,defaultWidth:"full"})},zB={code:"en-ZA",formatDistance:vD,formatLong:$B,formatRelative:yD,localize:_D,match:wD,options:{weekStartsOn:0,firstWeekContainsDate:1}},BB={"en-ZA":zB},WB=C8({format:NB,startOfWeek:Bo,getDay:MB,locales:BB}),HB={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6};function GB(n,e=12){const t=[],r=Bo(new Date,{weekStartsOn:1});for(let i=0;i<e;i++){const o=L8(r,i);n.forEach(l=>{if(!l.day||!l.visitTime)return;const u=HB[l.day];if(u==null)return;const[d,p]=(l.visitTime||"").split(":").map(Number),m=mD(o,u),v=FB(m,{hours:d||0,minutes:p||0,seconds:0,milliseconds:0}),y=Number(l.duration)||60,E=M8(v,y);t.push({title:l.instrument?`${l.name||"Lesson"}  ${l.instrument}`:l.name||"Lesson",start:v,end:E})})}return t}const KB=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(un.DAY),[i,o]=q.useState(null),[l,u]=q.useState(!1),[d,p]=q.useState(!1);return q.useEffect(()=>{const m=ko();return Ya(m,y=>{y?(console.log(" Auth confirmed in Schedule:",y.uid),o(y.uid),u(!0)):(console.warn(" No user in Schedule"),o(null),u(!1))})},[]),q.useEffect(()=>{if(!l||!i){console.log(" Waiting for auth in Schedule...");return}const m=Oo(Yn,"students"),v=Of(m,Hu("ownerId","==",i));return Nk(v,E=>{console.log(" Schedule snapshot:",E.docs.length,"students");const I=E.docs.map(b=>{const C=b.data();return{id:b.id,name:C.name||"Unnamed student",instrument:C.instrument||"",day:C.day||"",visitTime:C.visitTime||"",duration:Number(C.duration)||60}}),S=GB(I,12);e(S)},E=>console.error(" Firestore Schedule error:",E))},[l,i]),k.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8 px-4 sm:px-6",children:k.jsxs("div",{className:"shadow-lg rounded-xl p-4 sm:p-8 max-w-full mx-auto lg:ml-16 ml-0 bg-white dark:bg-gray-800",children:[!l&&k.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Checking your account..."}),l&&n.length===0&&k.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"No scheduled lessons yet. Add students with times on the Students page to see them here."}),k.jsxs("div",{className:"mt-2 h-[calc(100vh -180px)] sm:h-[100vh] mb-4 overflow-y-auto overflow-x-auto",children:[" ",k.jsx(T8,{localizer:WB,events:Array.isArray(n)?n.filter(m=>(m==null?void 0:m.title)&&(m==null?void 0:m.start)&&(m==null?void 0:m.end)):[],startAccessor:"start",endAccessor:"end",views:{day:!0},defaultView:t,style:{height:"80vh",width:"100%"},showMultiDayTimes:!0,min:new Date(1970,0,1,9,0),max:new Date(1970,0,1,20,0)})]})]})})},YB=()=>{const n=Vs(),e=async()=>{try{await W4(ri),alert("You have been successfully signed out!"),n("/")}catch(t){console.error("Logout Failed:",t.message)}};return k.jsxs("div",{className:"px-4 sm:px-6 py-6 md:ml-16 max-w-2xl mx-auto space-y-6",children:[k.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),k.jsx("div",{className:"border-t pt-6",children:k.jsx("button",{onClick:e,className:"bg-red text-white py-2 px-4 rounded hover:bg-red-700 transition",children:"Log Out"})})]})},QB=()=>{const{studentId:n}=tx(),[e,t]=q.useState(null),[r,i]=q.useState(!0),[o,l]=q.useState(null);q.useEffect(()=>{(async()=>{try{const m=Mo(Yn,"students",n),v=await pj(m);if(!v.exists()){l("Student not found."),i(!1);return}const y=v.data();t({id:v.id,...y,attendanceHistory:y.attendanceHistory||[]}),l(null)}catch(m){console.error("Error fetching student:",m),l("Failed to load attendance history.")}finally{i(!1)}})()},[n]);const u=p=>p!=null&&p.seconds?new Date(p.seconds*1e3).toLocaleDateString():new Date(p).toLocaleDateString(),d=p=>p!=null&&p.seconds?new Date(p.seconds*1e3).toLocaleTimeString():new Date(p).toLocaleTimeString();return r?k.jsx("div",{className:"flex items-center justify-center min-h-screen",children:k.jsx(Bk,{className:"h-8 w-8 animate-spin"})}):o?k.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4",children:[k.jsxs(Vu,{to:"/studentList",className:"inline-flex items-center gap-2 text-sm text-blue-600 mb-4",children:[k.jsx(uw,{className:"h-4 w-4"}),"Back to students"]}),k.jsx("p",{className:"text-red-600",children:o})]}):k.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(D0,{className:"h-6 w-6 text-gray-500"}),k.jsxs("div",{children:[k.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"Student"}),k.jsx("p",{className:"text-sm text-gray-500",children:"Attendance History"})]})]}),k.jsxs(Vu,{to:"/studentList",className:"inline-flex items-center gap-1 text-sm px-3 py-2 border rounded-md hover:bg-gray-50",children:[k.jsx(uw,{className:"h-4 w-4"}),"Back"]})]}),e.attendanceHistory.length===0?k.jsx("p",{className:"text-gray-500",children:"No attendance records yet."}):k.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:[...e.attendanceHistory].sort((p,m)=>m.timestamp.seconds-p.timestamp.seconds).map((p,m)=>k.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-sm",children:[k.jsxs("span",{className:`inline-flex items-center gap-1 ${p.status==="Present"?"text-green-600":"text-red-600"}`,children:[p.status==="Present"?k.jsx(cw,{className:"h-4 w-4"}):k.jsx(dw,{className:"h-4 w-4"}),p.status]}),k.jsxs("div",{className:"flex items-center gap-4 text-gray-500",children:[k.jsxs("span",{className:"inline-flex items-center gap-1",children:[k.jsx(k0,{className:"h-4 w-4"}),u(p.timestamp)]}),k.jsxs("span",{className:"inline-flex items-center gap-1",children:[k.jsx(qk,{className:"h-4 w-4"}),d(p.timestamp)]})]})]},m))})]})};function XB(n){return Ec({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function JB(n){return Ec({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(n)}function ZB(n){return Ec({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(n)}function e7(n){return Ec({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"},child:[]}]})(n)}const N_=()=>{const[n,e]=q.useState(!1),t=qr();Vs(),q.useEffect(()=>{e(!1)},[t]),q.useEffect(()=>{const o=l=>{l.key==="Escape"&&e(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]);const r=()=>{e(!n)},i=[{path:"#home",icon:k.jsx(XB,{className:"h-6 w-6"}),label:"Home"},{path:"#students",icon:k.jsx(JB,{className:"h-6 w-6"}),label:"Students"},{path:"#studentList",icon:k.jsx(ZB,{className:"h-6 w-6"}),label:"Attendance"},{path:"#schedule",icon:k.jsx(e7,{className:"h-6 w-6"}),label:"Schedule"}];return k.jsxs("div",{className:"relative",children:[k.jsxs("nav",{className:`fixed top-0 left-0 h-full bg-black text-white hidden md:flex flex-col ${n?"md:w-64":"md:w-16"} transition-all duration-300 ease-in-out z-40 shadow-lg`,"aria-expanded":n,role:"navigation",children:[k.jsxs("div",{className:"relative h-16 flex items-center border-b border-white/10",children:[k.jsx("button",{onClick:r,className:`p-2 text-white hover:bg-white/10 focus:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 rounded-md transition-all duration-300 ${n?"ml-52":"ml-3"}`,"aria-label":n?"Close navigation":"Open navigation",children:n?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),n&&k.jsx("h1",{className:"text-xl font-semibold absolute left-4",children:"Attendio"})]}),k.jsx("div",{className:"flex flex-col space-y-2 mt-6 px-3",children:i.map(o=>{const l=t.pathname===o.path;return k.jsxs("a",{href:o.path,onClick:o.action||void 0,className:`flex items-center px-3 py-3 rounded-md transition-all duration-200 ${n?"":"justify-center"} ${l?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"}`,"aria-current":l?"page":void 0,children:[k.jsx("span",{className:"flex items-center justify-center w-6",children:o.icon}),n&&k.jsx("span",{className:"ml-4 font-medium",children:o.label})]},o.path)})}),n&&k.jsx("div",{className:"mt-auto p-4 border-t border-white/10",children:k.jsx("div",{className:"text-sm text-white/60",children:" 2025 Fretnot Music School"})})]}),k.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black text-white z-40 shadow-lg mt-16",children:k.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(o=>{const l=t.pathname===o.path;return k.jsxs("a",{href:o.path,onClick:o.action||void 0,className:`flex flex-col items-center justify-center w-full h-full ${l?"bg-white/20 text-white":"text-white/80 hover:text-white active:bg-white/10"}`,"aria-current":l?"page":void 0,children:[k.jsx("span",{className:"flex items-center justify-center",children:o.icon}),k.jsx("span",{className:"text-xs mt-1",children:o.label})]},o.path)})})}),n&&k.jsx("div",{onClick:r,className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur-sm transition-all duration-300 z-30 hidden md:block","aria-hidden":"true"})]})},yo=({children:n})=>{const e=qr(),[t,r]=q.useState(localStorage.getItem("isAuthenticated")==="true"),[i,o]=q.useState(!0);return q.useEffect(()=>{const l=ri.onAuthStateChanged(d=>{d?(r(!0),localStorage.setItem("isAuthenticated","true")):(r(!1),localStorage.removeItem("isAuthenticated")),o(!1)});return localStorage.getItem("isAuthenticated")==="true"&&r(!0),()=>l()},[]),i?localStorage.getItem("isAuthenticated")==="true"?k.jsxs("div",{children:[k.jsx(N_,{}),k.jsx("main",{children:n})]}):k.jsxs("div",{children:[k.jsx(N_,{}),"Loading..."]}):t?k.jsxs("div",{children:[k.jsx(N_,{}),k.jsx("main",{children:n})]}):k.jsx(vu,{to:"/login",state:{from:e},replace:!0})},t7="/attendio/assets/Calendar-bro-ByK5CIeR.svg",n7=()=>{const n=Vs();return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-200 flex flex-col justify-between",children:[k.jsxs("section",{className:"px-6 py-20 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[k.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-center md:text-left",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:"Attendance, Simplified."}),k.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"A clean, intuitive way to track and manage student presence."}),k.jsx("button",{onClick:()=>n("/login"),className:"mt-8 px-6 py-3 bg-black text-white text-lg rounded-lg hover:bg-blue-700 transition",children:"Get Started / Login"})]}),k.jsx("div",{className:"w-full flex justify-center",children:k.jsx("img",{src:t7,alt:"Calendar illustration",className:"w-full max-w-md"})})]}),k.jsx("footer",{className:"bg-black text-white text-center py-4 text-sm",children:" 2025 Attendio by Waldo Oosthuizen"})]})},r7=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[i,o]=q.useState(!1);return q.useEffect(()=>{const l=Ya(ri,u=>{o(!!u),r(!0)});return()=>l()},[]),t?k.jsx(KO,{children:k.jsxs(IO,{children:[k.jsx(Or,{path:"/",element:i?k.jsx(vu,{to:"/home"}):k.jsx(n7,{})}),k.jsx(Or,{path:"/login",element:i?k.jsx(vu,{to:"/home"}):n?k.jsx(Vj,{setShowSignUp:e}):k.jsx(Fj,{setShowSignUp:e})}),k.jsx(Or,{path:"/home",element:k.jsx(yo,{children:k.jsx(qj,{})})}),k.jsx(Or,{path:"/students",element:k.jsx(yo,{children:k.jsx(Wj,{})})}),k.jsx(Or,{path:"/studentList",element:k.jsx(yo,{children:k.jsx(Hj,{})})}),k.jsx(Or,{path:"/attendance/:studentId",element:k.jsx(yo,{children:k.jsx(QB,{})})}),k.jsx(Or,{path:"/homework/:studentId",element:k.jsx(yo,{children:k.jsx(Gj,{})})}),k.jsx(Or,{path:"/schedule",element:k.jsx(yo,{children:k.jsx(KB,{})})}),k.jsx(Or,{path:"/settings",element:k.jsx(yo,{children:k.jsx(YB,{})})}),k.jsx(Or,{path:"*",element:i?k.jsx(vu,{to:"/home"}):k.jsx(vu,{to:"/login"})})]})}):null};NN.createRoot(document.getElementById("root")).render(k.jsx(q.StrictMode,{children:k.jsx(r7,{})}));
