var QO=Object.defineProperty;var XO=(n,e,t)=>e in n?QO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>XO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Em={exports:{}},al={},Tm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function JO(){if(u1)return Fe;u1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function I(H,Z,fe){this.props=H,this.context=Z,this.refs=S,this.updater=fe||E}I.prototype.isReactComponent={},I.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=I.prototype;function P(H,Z,fe){this.props=H,this.context=Z,this.refs=S,this.updater=fe||E}var V=P.prototype=new C;V.constructor=P,T(V,I.prototype),V.isPureReactComponent=!0;var L=Array.isArray,W=Object.prototype.hasOwnProperty,z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(H,Z,fe){var xe,Ae={},Ne=null,Le=null;if(Z!=null)for(xe in Z.ref!==void 0&&(Le=Z.ref),Z.key!==void 0&&(Ne=""+Z.key),Z)W.call(Z,xe)&&!k.hasOwnProperty(xe)&&(Ae[xe]=Z[xe]);var Me=arguments.length-2;if(Me===1)Ae.children=fe;else if(1<Me){for(var Ge=Array(Me),vt=0;vt<Me;vt++)Ge[vt]=arguments[vt+2];Ae.children=Ge}if(H&&H.defaultProps)for(xe in Me=H.defaultProps,Me)Ae[xe]===void 0&&(Ae[xe]=Me[xe]);return{$$typeof:n,type:H,key:Ne,ref:Le,props:Ae,_owner:z.current}}function x(H,Z){return{$$typeof:n,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function M(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(fe){return Z[fe]})}var q=/\/+/g;function D(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):Z.toString(36)}function ce(H,Z,fe,xe,Ae){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Le=!1;if(H===null)Le=!0;else switch(Ne){case"string":case"number":Le=!0;break;case"object":switch(H.$$typeof){case n:case e:Le=!0}}if(Le)return Le=H,Ae=Ae(Le),H=xe===""?"."+D(Le,0):xe,L(Ae)?(fe="",H!=null&&(fe=H.replace(q,"$&/")+"/"),ce(Ae,Z,fe,"",function(vt){return vt})):Ae!=null&&(N(Ae)&&(Ae=x(Ae,fe+(!Ae.key||Le&&Le.key===Ae.key?"":(""+Ae.key).replace(q,"$&/")+"/")+H)),Z.push(Ae)),1;if(Le=0,xe=xe===""?".":xe+":",L(H))for(var Me=0;Me<H.length;Me++){Ne=H[Me];var Ge=xe+D(Ne,Me);Le+=ce(Ne,Z,fe,Ge,Ae)}else if(Ge=y(H),typeof Ge=="function")for(H=Ge.call(H),Me=0;!(Ne=H.next()).done;)Ne=Ne.value,Ge=xe+D(Ne,Me++),Le+=ce(Ne,Z,fe,Ge,Ae);else if(Ne==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Le}function be(H,Z,fe){if(H==null)return H;var xe=[],Ae=0;return ce(H,xe,"","",function(Ne){return Z.call(fe,Ne,Ae++)}),xe}function Ee(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(fe){(H._status===0||H._status===-1)&&(H._status=1,H._result=fe)},function(fe){(H._status===0||H._status===-1)&&(H._status=2,H._result=fe)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var _e={current:null},ne={transition:null},de={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ne,ReactCurrentOwner:z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:be,forEach:function(H,Z,fe){be(H,function(){Z.apply(this,arguments)},fe)},count:function(H){var Z=0;return be(H,function(){Z++}),Z},toArray:function(H){return be(H,function(Z){return Z})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fe.Component=I,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=P,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=ue,Fe.cloneElement=function(H,Z,fe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var xe=T({},H.props),Ae=H.key,Ne=H.ref,Le=H._owner;if(Z!=null){if(Z.ref!==void 0&&(Ne=Z.ref,Le=z.current),Z.key!==void 0&&(Ae=""+Z.key),H.type&&H.type.defaultProps)var Me=H.type.defaultProps;for(Ge in Z)W.call(Z,Ge)&&!k.hasOwnProperty(Ge)&&(xe[Ge]=Z[Ge]===void 0&&Me!==void 0?Me[Ge]:Z[Ge])}var Ge=arguments.length-2;if(Ge===1)xe.children=fe;else if(1<Ge){Me=Array(Ge);for(var vt=0;vt<Ge;vt++)Me[vt]=arguments[vt+2];xe.children=Me}return{$$typeof:n,type:H.type,key:Ae,ref:Ne,props:xe,_owner:Le}},Fe.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Fe.createElement=R,Fe.createFactory=function(H){var Z=R.bind(null,H);return Z.type=H,Z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(H){return{$$typeof:l,render:H}},Fe.isValidElement=N,Fe.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:Ee}},Fe.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},Fe.startTransition=function(H){var Z=ne.transition;ne.transition={};try{H()}finally{ne.transition=Z}},Fe.unstable_act=ue,Fe.useCallback=function(H,Z){return _e.current.useCallback(H,Z)},Fe.useContext=function(H){return _e.current.useContext(H)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(H){return _e.current.useDeferredValue(H)},Fe.useEffect=function(H,Z){return _e.current.useEffect(H,Z)},Fe.useId=function(){return _e.current.useId()},Fe.useImperativeHandle=function(H,Z,fe){return _e.current.useImperativeHandle(H,Z,fe)},Fe.useInsertionEffect=function(H,Z){return _e.current.useInsertionEffect(H,Z)},Fe.useLayoutEffect=function(H,Z){return _e.current.useLayoutEffect(H,Z)},Fe.useMemo=function(H,Z){return _e.current.useMemo(H,Z)},Fe.useReducer=function(H,Z,fe){return _e.current.useReducer(H,Z,fe)},Fe.useRef=function(H){return _e.current.useRef(H)},Fe.useState=function(H){return _e.current.useState(H)},Fe.useSyncExternalStore=function(H,Z,fe){return _e.current.useSyncExternalStore(H,Z,fe)},Fe.useTransition=function(){return _e.current.useTransition()},Fe.version="18.3.1",Fe}var l1;function dw(){return l1||(l1=1,Tm.exports=JO()),Tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function ZO(){if(c1)return al;c1=1;var n=dw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(l,d,p){var m,v={},y=null,E=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:l,key:y,ref:E,props:v,_owner:i.current}}return al.Fragment=t,al.jsx=u,al.jsxs=u,al}var d1;function e2(){return d1||(d1=1,Em.exports=ZO()),Em.exports}var F=e2(),$=dw();const G=qn($);var Wd={},bm={exports:{}},On={},Sm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function t2(){return f1||(f1=1,function(n){function e(ne,de){var ue=ne.length;ne.push(de);e:for(;0<ue;){var H=ue-1>>>1,Z=ne[H];if(0<i(Z,de))ne[H]=de,ne[ue]=Z,ue=H;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],ue=ne.pop();if(ue!==de){ne[0]=ue;e:for(var H=0,Z=ne.length,fe=Z>>>1;H<fe;){var xe=2*(H+1)-1,Ae=ne[xe],Ne=xe+1,Le=ne[Ne];if(0>i(Ae,ue))Ne<Z&&0>i(Le,Ae)?(ne[H]=Le,ne[Ne]=ue,H=Ne):(ne[H]=Ae,ne[xe]=ue,H=xe);else if(Ne<Z&&0>i(Le,ue))ne[H]=Le,ne[Ne]=ue,H=Ne;else break e}}return de}function i(ne,de){var ue=ne.sortIndex-de.sortIndex;return ue!==0?ue:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();n.unstable_now=function(){return u.now()-l}}var d=[],p=[],m=1,v=null,y=3,E=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(ne){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(p)}}function L(ne){if(S=!1,V(ne),!T)if(t(d)!==null)T=!0,Ee(W);else{var de=t(p);de!==null&&_e(L,de.startTime-ne)}}function W(ne,de){T=!1,S&&(S=!1,C(R),R=-1),E=!0;var ue=y;try{for(V(de),v=t(d);v!==null&&(!(v.expirationTime>de)||ne&&!M());){var H=v.callback;if(typeof H=="function"){v.callback=null,y=v.priorityLevel;var Z=H(v.expirationTime<=de);de=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),V(de)}else r(d);v=t(d)}if(v!==null)var fe=!0;else{var xe=t(p);xe!==null&&_e(L,xe.startTime-de),fe=!1}return fe}finally{v=null,y=ue,E=!1}}var z=!1,k=null,R=-1,x=5,N=-1;function M(){return!(n.unstable_now()-N<x)}function q(){if(k!==null){var ne=n.unstable_now();N=ne;var de=!0;try{de=k(!0,ne)}finally{de?D():(z=!1,k=null)}}else z=!1}var D;if(typeof P=="function")D=function(){P(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,be=ce.port2;ce.port1.onmessage=q,D=function(){be.postMessage(null)}}else D=function(){I(q,0)};function Ee(ne){k=ne,z||(z=!0,D())}function _e(ne,de){R=I(function(){ne(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){T||E||(T=!0,Ee(W))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var ue=y;y=de;try{return ne()}finally{y=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=y;y=ne;try{return de()}finally{y=ue}},n.unstable_scheduleCallback=function(ne,de,ue){var H=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?H+ue:H):ue=H,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,ne={id:m++,callback:de,priorityLevel:ne,startTime:ue,expirationTime:Z,sortIndex:-1},ue>H?(ne.sortIndex=ue,e(p,ne),t(d)===null&&ne===t(p)&&(S?(C(R),R=-1):S=!0,_e(L,ue-H))):(ne.sortIndex=Z,e(d,ne),T||E||(T=!0,Ee(W))),ne},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ne){var de=y;return function(){var ue=y;y=de;try{return ne.apply(this,arguments)}finally{y=ue}}}}(Im)),Im}var h1;function n2(){return h1||(h1=1,Sm.exports=t2()),Sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function r2(){if(p1)return On;p1=1;var n=dw(),e=n2();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function E(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,o,c,h){if(o===null||typeof o>"u"||E(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,h,g,w,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=A}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(C,P);I[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(C,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(C,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,c,h){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,c,g,h)&&(c=null),h||g===null?y(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,H;function Z(s){if(H===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var fe=!1;function xe(s,o){if(!s||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=h.stack.split(`
`),A=g.length-1,j=w.length-1;1<=A&&0<=j&&g[A]!==w[j];)j--;for(;1<=A&&0<=j;A--,j--)if(g[A]!==w[j]){if(A!==1||j!==1)do if(A--,j--,0>j||g[A]!==w[j]){var U=`
`+g[A].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=A&&0<=j);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ae(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case z:return"Portal";case x:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case q:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case Ee:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(s){var o=Ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,w.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yn(s){s._valueTracker||(s._valueTracker=vt(s))}function jr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gr(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ue(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Me(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $n(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function Ve(s,o){$n(s,o);var c=Me(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?_n(s,o.type,c):o.hasOwnProperty("defaultValue")&&_n(s,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function zn(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function _n(s,o,c){(o!=="number"||Un(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Nt=Array.isArray;function Mt(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Xt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ut(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Nt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Me(c)}}function wn(s,o){var c=Me(o.value),h=Me(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Bn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Lt,Hi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Lt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function vr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(s){qr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),hi[o]=hi[s]})});function In(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||hi.hasOwnProperty(s)&&hi[s]?(""+o).trim():o+"px"}function Wn(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=In(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var _u=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wu(s,o){if(o){if(_u[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Eu(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bs=null;function $a(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var za=null,tr=null,Ur=null;function Ba(s){if(s=Wu(s)){if(typeof za!="function")throw Error(t(280));var o=s.stateNode;o&&(o=sd(o),za(s.stateNode,s.type,o))}}function $r(s){tr?Ur?Ur.push(s):Ur=[s]:tr=s}function Tu(){if(tr){var s=tr,o=Ur;if(Ur=tr=null,Ba(s),o)for(s=0;s<o.length;s++)Ba(o[s])}}function Ws(s,o){return s(o)}function bu(){}var pi=!1;function Su(s,o,c){if(pi)return s(o,c);pi=!0;try{return Ws(s,o,c)}finally{pi=!1,(tr!==null||Ur!==null)&&(bu(),Tu())}}function Tt(s,o){var c=s.stateNode;if(c===null)return null;var h=sd(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Wa=!1;if(l)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Wa=!1}function Hs(s,o,c,h,g,w,A,j,U){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ie){this.onError(ie)}}var Gs=!1,Ha=null,_r=!1,Iu=null,Yh={onError:function(s){Gs=!0,Ha=s}};function Ga(s,o,c,h,g,w,A,j,U){Gs=!1,Ha=null,Hs.apply(Yh,arguments)}function Pc(s,o,c,h,g,w,A,j,U){if(Ga.apply(this,arguments),Gs){if(Gs){var X=Ha;Gs=!1,Ha=null}else throw Error(t(198));_r||(_r=!0,Iu=X)}}function wr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Ks(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Er(s){if(wr(s)!==s)throw Error(t(188))}function kc(s){var o=s.alternate;if(!o){if(o=wr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Er(g),s;if(w===h)return Er(g),o;w=w.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=w;else{for(var A=!1,j=g.child;j;){if(j===c){A=!0,c=g,h=w;break}if(j===h){A=!0,h=g,c=w;break}j=j.sibling}if(!A){for(j=w.child;j;){if(j===c){A=!0,c=w,h=g;break}if(j===h){A=!0,h=w,c=g;break}j=j.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Ru(s){return s=kc(s),s!==null?Ka(s):null}function Ka(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ka(s);if(o!==null)return o;s=s.sibling}return null}var Ya=e.unstable_scheduleCallback,Au=e.unstable_cancelCallback,Dc=e.unstable_shouldYield,Qh=e.unstable_requestPaint,tt=e.unstable_now,Oc=e.unstable_getCurrentPriorityLevel,Ys=e.unstable_ImmediatePriority,Gi=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,xu=e.unstable_LowPriority,Nc=e.unstable_IdlePriority,Qs=null,Hn=null;function Mc(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Qs,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Vc,Cu=Math.log,Lc=Math.LN2;function Vc(s){return s>>>=0,s===0?32:31-(Cu(s)/Lc|0)|0}var Qa=64,Xa=4194304;function Ki(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xs(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,A=c&268435455;if(A!==0){var j=A&~g;j!==0?h=Ki(j):(w&=A,w!==0&&(h=Ki(w)))}else A=c&~g,A!==0?h=Ki(A):w!==0&&(h=Ki(w));if(h===0)return 0;if(o!==0&&o!==h&&!(o&g)&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if(h&4&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-En(o),g=1<<c,h|=s[c],o&=~g;return h}function Xh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var A=31-En(w),j=1<<A,U=g[A];U===-1?(!(j&c)||j&h)&&(g[A]=Xh(j,o)):U<=o&&(s.expiredLanes|=j),w&=~j}}function Gn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Js(){var s=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),s}function Yi(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Qi(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-En(o),s[o]=c}function Ze(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-En(c),w=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~w}}function Xi(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-En(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var $e=0;function Ji(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Fc,Ja,jc,qc,Uc,Pu=!1,zr=[],Jt=null,Tr=null,br=null,Zi=new Map,rr=new Map,Br=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $c(s,o){switch(s){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Zi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(o.pointerId)}}function Rn(s,o,c,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Wu(o),o!==null&&Ja(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Zh(s,o,c,h,g){switch(o){case"focusin":return Jt=Rn(Jt,s,o,c,h,g),!0;case"dragenter":return Tr=Rn(Tr,s,o,c,h,g),!0;case"mouseover":return br=Rn(br,s,o,c,h,g),!0;case"pointerover":var w=g.pointerId;return Zi.set(w,Rn(Zi.get(w)||null,s,o,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,rr.set(w,Rn(rr.get(w)||null,s,o,c,h,g)),!0}return!1}function zc(s){var o=ra(s.target);if(o!==null){var c=wr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ks(c),o!==null){s.blockedOn=o,Uc(s.priority,function(){jc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Za(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Bs=h,c.target.dispatchEvent(h),Bs=null}else return o=Wu(c),o!==null&&Ja(o),s.blockedOn=c,!1;o.shift()}return!0}function Zs(s,o,c){gi(s)&&c.delete(o)}function Bc(){Pu=!1,Jt!==null&&gi(Jt)&&(Jt=null),Tr!==null&&gi(Tr)&&(Tr=null),br!==null&&gi(br)&&(br=null),Zi.forEach(Zs),rr.forEach(Zs)}function Sr(s,o){s.blockedOn===o&&(s.blockedOn=null,Pu||(Pu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bc)))}function Ir(s){function o(g){return Sr(g,s)}if(0<zr.length){Sr(zr[0],s);for(var c=1;c<zr.length;c++){var h=zr[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Jt!==null&&Sr(Jt,s),Tr!==null&&Sr(Tr,s),br!==null&&Sr(br,s),Zi.forEach(o),rr.forEach(o),c=0;c<Br.length;c++)h=Br[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Br.length&&(c=Br[0],c.blockedOn===null);)zc(c),c.blockedOn===null&&Br.shift()}var vi=L.ReactCurrentBatchConfig,es=!0;function ct(s,o,c,h){var g=$e,w=vi.transition;vi.transition=null;try{$e=1,ku(s,o,c,h)}finally{$e=g,vi.transition=w}}function ep(s,o,c,h){var g=$e,w=vi.transition;vi.transition=null;try{$e=4,ku(s,o,c,h)}finally{$e=g,vi.transition=w}}function ku(s,o,c,h){if(es){var g=Za(s,o,c,h);if(g===null)dp(s,o,h,ea,c),$c(s,h);else if(Zh(g,s,o,c,h))h.stopPropagation();else if($c(s,h),o&4&&-1<Jh.indexOf(s)){for(;g!==null;){var w=Wu(g);if(w!==null&&Fc(w),w=Za(s,o,c,h),w===null&&dp(s,o,h,ea,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else dp(s,o,h,null,c)}}var ea=null;function Za(s,o,c,h){if(ea=null,s=$a(h),s=ra(s),s!==null)if(o=wr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Ks(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ea=s,null}function Du(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oc()){case Ys:return 1;case Gi:return 4;case nr:case xu:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var Kn=null,eo=null,An=null;function Ou(){if(An)return An;var s,o=eo,c=o.length,h,g="value"in Kn?Kn.value:Kn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&o[c-h]===g[w-h];h++);return An=g.slice(s,1<h?1-h:void 0)}function to(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Wr(){return!0}function Nu(){return!1}function Zt(s){function o(c,h,g,w,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Wr:Nu,this.isPropagationStopped=Nu,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),o}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Zt(Rr),Hr=ue({},Rr,{view:0,detail:0}),tp=Zt(Hr),ro,yi,ts,ta=ue({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(ro=s.screenX-ts.screenX,yi=s.screenY-ts.screenY):yi=ro=0,ts=s),ro)},movementY:function(s){return"movementY"in s?s.movementY:yi}}),io=Zt(ta),Mu=ue({},ta,{dataTransfer:0}),Wc=Zt(Mu),so=ue({},Hr,{relatedTarget:0}),ao=Zt(so),Hc=ue({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Zt(Hc),Gc=ue({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kc=Zt(Gc),Yc=ue({},Rr,{data:0}),Lu=Zt(Yc),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Qc[s])?!!o[s]:!1}function Gr(){return Xc}var f=ue({},Hr,{key:function(s){if(s.key){var o=oo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=to(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(s){return s.type==="keypress"?to(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?to(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Zt(f),b=ue({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Zt(b),K=ue({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),J=Zt(K),le=ue({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Zt(le),Vt=ue({},ta,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Zt(Vt),Bt=[9,13,27,32],xt=l&&"CompositionEvent"in window,ir=null;l&&"documentMode"in document&&(ir=document.documentMode);var Yn=l&&"TextEvent"in window&&!ir,na=l&&(!xt||ir&&8<ir&&11>=ir),uo=" ",n0=!1;function r0(s,o){switch(s){case"keyup":return Bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var lo=!1;function KD(s,o){switch(s){case"compositionend":return i0(o);case"keypress":return o.which!==32?null:(n0=!0,uo);case"textInput":return s=o.data,s===uo&&n0?null:s;default:return null}}function YD(s,o){if(lo)return s==="compositionend"||!xt&&r0(s,o)?(s=Ou(),An=eo=Kn=null,lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return na&&o.locale!=="ko"?null:o.data;default:return null}}var QD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!QD[s.type]:o==="textarea"}function a0(s,o,c,h){$r(h),o=nd(o,"onChange"),0<o.length&&(c=new no("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Vu=null,Fu=null;function XD(s){S0(s,0)}function Jc(s){var o=mo(s);if(jr(o))return s}function JD(s,o){if(s==="change")return o}var o0=!1;if(l){var np;if(l){var rp="oninput"in document;if(!rp){var u0=document.createElement("div");u0.setAttribute("oninput","return;"),rp=typeof u0.oninput=="function"}np=rp}else np=!1;o0=np&&(!document.documentMode||9<document.documentMode)}function l0(){Vu&&(Vu.detachEvent("onpropertychange",c0),Fu=Vu=null)}function c0(s){if(s.propertyName==="value"&&Jc(Fu)){var o=[];a0(o,Fu,s,$a(s)),Su(XD,o)}}function ZD(s,o,c){s==="focusin"?(l0(),Vu=o,Fu=c,Vu.attachEvent("onpropertychange",c0)):s==="focusout"&&l0()}function eO(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jc(Fu)}function tO(s,o){if(s==="click")return Jc(o)}function nO(s,o){if(s==="input"||s==="change")return Jc(o)}function rO(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ar=typeof Object.is=="function"?Object.is:rO;function ju(s,o){if(Ar(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(o,g)||!Ar(s[g],o[g]))return!1}return!0}function d0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function f0(s,o){var c=d0(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=d0(c)}}function h0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?h0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function p0(){for(var s=window,o=Un();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Un(s.document)}return o}function ip(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function iO(s){var o=p0(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&h0(c.ownerDocument.documentElement,c)){if(h!==null&&ip(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=f0(c,w);var A=f0(c,h);g&&A&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sO=l&&"documentMode"in document&&11>=document.documentMode,co=null,sp=null,qu=null,ap=!1;function m0(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ap||co==null||co!==Un(h)||(h=co,"selectionStart"in h&&ip(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),qu&&ju(qu,h)||(qu=h,h=nd(sp,"onSelect"),0<h.length&&(o=new no("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=co)))}function Zc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var fo={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},op={},g0={};l&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ed(s){if(op[s])return op[s];if(!fo[s])return s;var o=fo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in g0)return op[s]=o[c];return s}var v0=ed("animationend"),y0=ed("animationiteration"),_0=ed("animationstart"),w0=ed("transitionend"),E0=new Map,T0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(s,o){E0.set(s,o),a(o,[s])}for(var up=0;up<T0.length;up++){var lp=T0[up],aO=lp.toLowerCase(),oO=lp[0].toUpperCase()+lp.slice(1);ns(aO,"on"+oO)}ns(v0,"onAnimationEnd"),ns(y0,"onAnimationIteration"),ns(_0,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(w0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function b0(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Pc(h,o,void 0,s),s.currentTarget=null}function S0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var A=h.length-1;0<=A;A--){var j=h[A],U=j.instance,X=j.currentTarget;if(j=j.listener,U!==w&&g.isPropagationStopped())break e;b0(g,j,X),w=U}else for(A=0;A<h.length;A++){if(j=h[A],U=j.instance,X=j.currentTarget,j=j.listener,U!==w&&g.isPropagationStopped())break e;b0(g,j,X),w=U}}}if(_r)throw s=Iu,_r=!1,Iu=null,s}function it(s,o){var c=o[vp];c===void 0&&(c=o[vp]=new Set);var h=s+"__bubble";c.has(h)||(I0(o,s,2,!1),c.add(h))}function cp(s,o,c){var h=0;o&&(h|=4),I0(c,s,h,o)}var td="_reactListening"+Math.random().toString(36).slice(2);function $u(s){if(!s[td]){s[td]=!0,r.forEach(function(c){c!=="selectionchange"&&(uO.has(c)||cp(c,!1,s),cp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[td]||(o[td]=!0,cp("selectionchange",!1,o))}}function I0(s,o,c,h){switch(Du(o)){case 1:var g=ct;break;case 4:g=ep;break;default:g=ku}c=g.bind(null,o,c,s),g=void 0,!Wa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function dp(s,o,c,h,g){var w=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(A===4)for(A=h.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;A=A.return}for(;j!==null;){if(A=ra(j),A===null)return;if(U=A.tag,U===5||U===6){h=w=A;continue e}j=j.parentNode}}h=h.return}Su(function(){var X=w,ie=$a(c),se=[];e:{var re=E0.get(s);if(re!==void 0){var he=no,ve=s;switch(s){case"keypress":if(to(c)===0)break e;case"keydown":case"keyup":he=_;break;case"focusin":ve="focus",he=ao;break;case"focusout":ve="blur",he=ao;break;case"beforeblur":case"afterblur":he=ao;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=J;break;case v0:case y0:case _0:he=_i;break;case w0:he=Xe;break;case"scroll":he=tp;break;case"wheel":he=Be;break;case"copy":case"cut":case"paste":he=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=O}var we=(o&4)!==0,bt=!we&&s==="scroll",Y=we?re!==null?re+"Capture":null:re;we=[];for(var B=X,Q;B!==null;){Q=B;var ae=Q.stateNode;if(Q.tag===5&&ae!==null&&(Q=ae,Y!==null&&(ae=Tt(B,Y),ae!=null&&we.push(zu(B,ae,Q)))),bt)break;B=B.return}0<we.length&&(re=new he(re,ve,null,c,ie),se.push({event:re,listeners:we}))}}if(!(o&7)){e:{if(re=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",re&&c!==Bs&&(ve=c.relatedTarget||c.fromElement)&&(ra(ve)||ve[wi]))break e;if((he||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,he?(ve=c.relatedTarget||c.toElement,he=X,ve=ve?ra(ve):null,ve!==null&&(bt=wr(ve),ve!==bt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(he=null,ve=X),he!==ve)){if(we=io,ae="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=O,ae="onPointerLeave",Y="onPointerEnter",B="pointer"),bt=he==null?re:mo(he),Q=ve==null?re:mo(ve),re=new we(ae,B+"leave",he,c,ie),re.target=bt,re.relatedTarget=Q,ae=null,ra(ie)===X&&(we=new we(Y,B+"enter",ve,c,ie),we.target=Q,we.relatedTarget=bt,ae=we),bt=ae,he&&ve)t:{for(we=he,Y=ve,B=0,Q=we;Q;Q=ho(Q))B++;for(Q=0,ae=Y;ae;ae=ho(ae))Q++;for(;0<B-Q;)we=ho(we),B--;for(;0<Q-B;)Y=ho(Y),Q--;for(;B--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=ho(we),Y=ho(Y)}we=null}else we=null;he!==null&&R0(se,re,he,we,!1),ve!==null&&bt!==null&&R0(se,bt,ve,we,!0)}}e:{if(re=X?mo(X):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var Te=JD;else if(s0(re))if(o0)Te=nO;else{Te=eO;var Ie=ZD}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Te=tO);if(Te&&(Te=Te(s,X))){a0(se,Te,c,ie);break e}Ie&&Ie(s,re,X),s==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&_n(re,"number",re.value)}switch(Ie=X?mo(X):window,s){case"focusin":(s0(Ie)||Ie.contentEditable==="true")&&(co=Ie,sp=X,qu=null);break;case"focusout":qu=sp=co=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,m0(se,c,ie);break;case"selectionchange":if(sO)break;case"keydown":case"keyup":m0(se,c,ie)}var Re;if(xt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else lo?r0(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(na&&c.locale!=="ko"&&(lo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&lo&&(Re=Ou()):(Kn=ie,eo="value"in Kn?Kn.value:Kn.textContent,lo=!0)),Ie=nd(X,Pe),0<Ie.length&&(Pe=new Lu(Pe,s,null,c,ie),se.push({event:Pe,listeners:Ie}),Re?Pe.data=Re:(Re=i0(c),Re!==null&&(Pe.data=Re)))),(Re=Yn?KD(s,c):YD(s,c))&&(X=nd(X,"onBeforeInput"),0<X.length&&(ie=new Lu("onBeforeInput","beforeinput",null,c,ie),se.push({event:ie,listeners:X}),ie.data=Re))}S0(se,o)})}function zu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function nd(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Tt(s,c),w!=null&&h.unshift(zu(s,w,g)),w=Tt(s,o),w!=null&&h.push(zu(s,w,g))),s=s.return}return h}function ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function R0(s,o,c,h,g){for(var w=o._reactName,A=[];c!==null&&c!==h;){var j=c,U=j.alternate,X=j.stateNode;if(U!==null&&U===h)break;j.tag===5&&X!==null&&(j=X,g?(U=Tt(c,w),U!=null&&A.unshift(zu(c,U,j))):g||(U=Tt(c,w),U!=null&&A.push(zu(c,U,j)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var lO=/\r\n?/g,cO=/\u0000|\uFFFD/g;function A0(s){return(typeof s=="string"?s:""+s).replace(lO,`
`).replace(cO,"")}function rd(s,o,c){if(o=A0(o),A0(s)!==o&&c)throw Error(t(425))}function id(){}var fp=null,hp=null;function pp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(s){return x0.resolve(null).then(s).catch(hO)}:mp;function hO(s){setTimeout(function(){throw s})}function gp(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),Ir(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Ir(o)}function rs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function C0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var po=Math.random().toString(36).slice(2),Kr="__reactFiber$"+po,Bu="__reactProps$"+po,wi="__reactContainer$"+po,vp="__reactEvents$"+po,pO="__reactListeners$"+po,mO="__reactHandles$"+po;function ra(s){var o=s[Kr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[wi]||c[Kr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=C0(s);s!==null;){if(c=s[Kr])return c;s=C0(s)}return o}s=c,c=s.parentNode}return null}function Wu(s){return s=s[Kr]||s[wi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function mo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function sd(s){return s[Bu]||null}var yp=[],go=-1;function is(s){return{current:s}}function st(s){0>go||(s.current=yp[go],yp[go]=null,go--)}function nt(s,o){go++,yp[go]=s.current,s.current=o}var ss={},on=is(ss),xn=is(!1),ia=ss;function vo(s,o){var c=s.type.contextTypes;if(!c)return ss;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function Cn(s){return s=s.childContextTypes,s!=null}function ad(){st(xn),st(on)}function P0(s,o,c){if(on.current!==ss)throw Error(t(168));nt(on,o),nt(xn,c)}function k0(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Le(s)||"Unknown",g));return ue({},c,h)}function od(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ss,ia=on.current,nt(on,s),nt(xn,xn.current),!0}function D0(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=k0(s,o,ia),h.__reactInternalMemoizedMergedChildContext=s,st(xn),st(on),nt(on,s)):st(xn),nt(xn,c)}var Ei=null,ud=!1,_p=!1;function O0(s){Ei===null?Ei=[s]:Ei.push(s)}function gO(s){ud=!0,O0(s)}function as(){if(!_p&&Ei!==null){_p=!0;var s=0,o=$e;try{var c=Ei;for($e=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}Ei=null,ud=!1}catch(g){throw Ei!==null&&(Ei=Ei.slice(s+1)),Ya(Ys,as),g}finally{$e=o,_p=!1}}return null}var yo=[],_o=0,ld=null,cd=0,sr=[],ar=0,sa=null,Ti=1,bi="";function aa(s,o){yo[_o++]=cd,yo[_o++]=ld,ld=s,cd=o}function N0(s,o,c){sr[ar++]=Ti,sr[ar++]=bi,sr[ar++]=sa,sa=s;var h=Ti;s=bi;var g=32-En(h)-1;h&=~(1<<g),c+=1;var w=32-En(o)+g;if(30<w){var A=g-g%5;w=(h&(1<<A)-1).toString(32),h>>=A,g-=A,Ti=1<<32-En(o)+g|c<<g|h,bi=w+s}else Ti=1<<w|c<<g|h,bi=s}function wp(s){s.return!==null&&(aa(s,1),N0(s,1,0))}function Ep(s){for(;s===ld;)ld=yo[--_o],yo[_o]=null,cd=yo[--_o],yo[_o]=null;for(;s===sa;)sa=sr[--ar],sr[ar]=null,bi=sr[--ar],sr[ar]=null,Ti=sr[--ar],sr[ar]=null}var Qn=null,Xn=null,dt=!1,xr=null;function M0(s,o){var c=cr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function L0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Qn=s,Xn=rs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Qn=s,Xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=sa!==null?{id:Ti,overflow:bi}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=cr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Qn=s,Xn=null,!0):!1;default:return!1}}function Tp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bp(s){if(dt){var o=Xn;if(o){var c=o;if(!L0(s,o)){if(Tp(s))throw Error(t(418));o=rs(c.nextSibling);var h=Qn;o&&L0(s,o)?M0(h,c):(s.flags=s.flags&-4097|2,dt=!1,Qn=s)}}else{if(Tp(s))throw Error(t(418));s.flags=s.flags&-4097|2,dt=!1,Qn=s}}}function V0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qn=s}function dd(s){if(s!==Qn)return!1;if(!dt)return V0(s),dt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!pp(s.type,s.memoizedProps)),o&&(o=Xn)){if(Tp(s))throw F0(),Error(t(418));for(;o;)M0(s,o),o=rs(o.nextSibling)}if(V0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Xn=rs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Xn=null}}else Xn=Qn?rs(s.stateNode.nextSibling):null;return!0}function F0(){for(var s=Xn;s;)s=rs(s.nextSibling)}function wo(){Xn=Qn=null,dt=!1}function Sp(s){xr===null?xr=[s]:xr.push(s)}var vO=L.ReactCurrentBatchConfig;function Hu(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(A){var j=g.refs;A===null?delete j[w]:j[w]=A},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function fd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function j0(s){var o=s._init;return o(s._payload)}function q0(s){function o(Y,B){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function c(Y,B){if(!s)return null;for(;B!==null;)o(Y,B),B=B.sibling;return null}function h(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=ps(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=2,B):Q):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,Q,ae){return B===null||B.tag!==6?(B=mm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function U(Y,B,Q,ae){var Te=Q.type;return Te===k?ie(Y,B,Q.props.children,ae,Q.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&j0(Te)===B.type)?(ae=g(B,Q.props),ae.ref=Hu(Y,B,Q),ae.return=Y,ae):(ae=Ld(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Hu(Y,B,Q),ae.return=Y,ae)}function X(Y,B,Q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=gm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q.children||[]),B.return=Y,B)}function ie(Y,B,Q,ae,Te){return B===null||B.tag!==7?(B=pa(Q,Y.mode,ae,Te),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function se(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=mm(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return Q=Ld(B.type,B.key,B.props,null,Y.mode,Q),Q.ref=Hu(Y,null,B),Q.return=Y,Q;case z:return B=gm(B,Y.mode,Q),B.return=Y,B;case Ee:var ae=B._init;return se(Y,ae(B._payload),Q)}if(Nt(B)||de(B))return B=pa(B,Y.mode,Q,null),B.return=Y,B;fd(Y,B)}return null}function re(Y,B,Q,ae){var Te=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:j(Y,B,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Te?U(Y,B,Q,ae):null;case z:return Q.key===Te?X(Y,B,Q,ae):null;case Ee:return Te=Q._init,re(Y,B,Te(Q._payload),ae)}if(Nt(Q)||de(Q))return Te!==null?null:ie(Y,B,Q,ae,null);fd(Y,Q)}return null}function he(Y,B,Q,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Y=Y.get(Q)||null,j(B,Y,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case W:return Y=Y.get(ae.key===null?Q:ae.key)||null,U(B,Y,ae,Te);case z:return Y=Y.get(ae.key===null?Q:ae.key)||null,X(B,Y,ae,Te);case Ee:var Ie=ae._init;return he(Y,B,Q,Ie(ae._payload),Te)}if(Nt(ae)||de(ae))return Y=Y.get(Q)||null,ie(B,Y,ae,Te,null);fd(B,ae)}return null}function ve(Y,B,Q,ae){for(var Te=null,Ie=null,Re=B,Pe=B=0,Gt=null;Re!==null&&Pe<Q.length;Pe++){Re.index>Pe?(Gt=Re,Re=null):Gt=Re.sibling;var Ke=re(Y,Re,Q[Pe],ae);if(Ke===null){Re===null&&(Re=Gt);break}s&&Re&&Ke.alternate===null&&o(Y,Re),B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke,Re=Gt}if(Pe===Q.length)return c(Y,Re),dt&&aa(Y,Pe),Te;if(Re===null){for(;Pe<Q.length;Pe++)Re=se(Y,Q[Pe],ae),Re!==null&&(B=w(Re,B,Pe),Ie===null?Te=Re:Ie.sibling=Re,Ie=Re);return dt&&aa(Y,Pe),Te}for(Re=h(Y,Re);Pe<Q.length;Pe++)Gt=he(Re,Y,Pe,Q[Pe],ae),Gt!==null&&(s&&Gt.alternate!==null&&Re.delete(Gt.key===null?Pe:Gt.key),B=w(Gt,B,Pe),Ie===null?Te=Gt:Ie.sibling=Gt,Ie=Gt);return s&&Re.forEach(function(ms){return o(Y,ms)}),dt&&aa(Y,Pe),Te}function we(Y,B,Q,ae){var Te=de(Q);if(typeof Te!="function")throw Error(t(150));if(Q=Te.call(Q),Q==null)throw Error(t(151));for(var Ie=Te=null,Re=B,Pe=B=0,Gt=null,Ke=Q.next();Re!==null&&!Ke.done;Pe++,Ke=Q.next()){Re.index>Pe?(Gt=Re,Re=null):Gt=Re.sibling;var ms=re(Y,Re,Ke.value,ae);if(ms===null){Re===null&&(Re=Gt);break}s&&Re&&ms.alternate===null&&o(Y,Re),B=w(ms,B,Pe),Ie===null?Te=ms:Ie.sibling=ms,Ie=ms,Re=Gt}if(Ke.done)return c(Y,Re),dt&&aa(Y,Pe),Te;if(Re===null){for(;!Ke.done;Pe++,Ke=Q.next())Ke=se(Y,Ke.value,ae),Ke!==null&&(B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke);return dt&&aa(Y,Pe),Te}for(Re=h(Y,Re);!Ke.done;Pe++,Ke=Q.next())Ke=he(Re,Y,Pe,Ke.value,ae),Ke!==null&&(s&&Ke.alternate!==null&&Re.delete(Ke.key===null?Pe:Ke.key),B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke);return s&&Re.forEach(function(YO){return o(Y,YO)}),dt&&aa(Y,Pe),Te}function bt(Y,B,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Te=Q.key,Ie=B;Ie!==null;){if(Ie.key===Te){if(Te=Q.type,Te===k){if(Ie.tag===7){c(Y,Ie.sibling),B=g(Ie,Q.props.children),B.return=Y,Y=B;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&j0(Te)===Ie.type){c(Y,Ie.sibling),B=g(Ie,Q.props),B.ref=Hu(Y,Ie,Q),B.return=Y,Y=B;break e}c(Y,Ie);break}else o(Y,Ie);Ie=Ie.sibling}Q.type===k?(B=pa(Q.props.children,Y.mode,ae,Q.key),B.return=Y,Y=B):(ae=Ld(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Hu(Y,B,Q),ae.return=Y,Y=ae)}return A(Y);case z:e:{for(Ie=Q.key;B!==null;){if(B.key===Ie)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(Y,B.sibling),B=g(B,Q.children||[]),B.return=Y,Y=B;break e}else{c(Y,B);break}else o(Y,B);B=B.sibling}B=gm(Q,Y.mode,ae),B.return=Y,Y=B}return A(Y);case Ee:return Ie=Q._init,bt(Y,B,Ie(Q._payload),ae)}if(Nt(Q))return ve(Y,B,Q,ae);if(de(Q))return we(Y,B,Q,ae);fd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(Y,B.sibling),B=g(B,Q),B.return=Y,Y=B):(c(Y,B),B=mm(Q,Y.mode,ae),B.return=Y,Y=B),A(Y)):c(Y,B)}return bt}var Eo=q0(!0),U0=q0(!1),hd=is(null),pd=null,To=null,Ip=null;function Rp(){Ip=To=pd=null}function Ap(s){var o=hd.current;st(hd),s._currentValue=o}function xp(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function bo(s,o){pd=s,Ip=To=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Pn=!0),s.firstContext=null)}function or(s){var o=s._currentValue;if(Ip!==s)if(s={context:s,memoizedValue:o,next:null},To===null){if(pd===null)throw Error(t(308));To=s,pd.dependencies={lanes:0,firstContext:s}}else To=To.next=s;return o}var oa=null;function Cp(s){oa===null?oa=[s]:oa.push(s)}function $0(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,Cp(o)):(c.next=g.next,g.next=c),o.interleaved=c,Si(s,h)}function Si(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var os=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ii(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function us(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,He&2){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,Si(s,c)}return g=h.interleaved,g===null?(o.next=o,Cp(h)):(o.next=g.next,g.next=o),h.interleaved=o,Si(s,c)}function md(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Xi(s,c)}}function B0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function gd(s,o,c,h){var g=s.updateQueue;os=!1;var w=g.firstBaseUpdate,A=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var U=j,X=U.next;U.next=null,A===null?w=X:A.next=X,A=U;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==A&&(j===null?ie.firstBaseUpdate=X:j.next=X,ie.lastBaseUpdate=U))}if(w!==null){var se=g.baseState;A=0,ie=X=U=null,j=w;do{var re=j.lane,he=j.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,we=j;switch(re=o,he=c,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){se=ve.call(he,se,re);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(he,se,re):ve,re==null)break e;se=ue({},se,re);break e;case 2:os=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[j]:re.push(j))}else he={eventTime:he,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(X=ie=he,U=se):ie=ie.next=he,A|=re;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(U=se),g.baseState=U,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,o=g.shared.interleaved,o!==null){g=o;do A|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);ca|=A,s.lanes=A,s.memoizedState=se}}function W0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Gu={},Yr=is(Gu),Ku=is(Gu),Yu=is(Gu);function ua(s){if(s===Gu)throw Error(t(174));return s}function kp(s,o){switch(nt(Yu,o),nt(Ku,s),nt(Yr,Gu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=rt(o,s)}st(Yr),nt(Yr,o)}function So(){st(Yr),st(Ku),st(Yu)}function H0(s){ua(Yu.current);var o=ua(Yr.current),c=rt(o,s.type);o!==c&&(nt(Ku,s),nt(Yr,c))}function Dp(s){Ku.current===s&&(st(Yr),st(Ku))}var ht=is(0);function vd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Op=[];function Np(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var yd=L.ReactCurrentDispatcher,Mp=L.ReactCurrentBatchConfig,la=0,pt=null,Ft=null,Wt=null,_d=!1,Qu=!1,Xu=0,yO=0;function un(){throw Error(t(321))}function Lp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Ar(s[c],o[c]))return!1;return!0}function Vp(s,o,c,h,g,w){if(la=w,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yd.current=s===null||s.memoizedState===null?TO:bO,s=c(h,g),Qu){w=0;do{if(Qu=!1,Xu=0,25<=w)throw Error(t(301));w+=1,Wt=Ft=null,o.updateQueue=null,yd.current=SO,s=c(h,g)}while(Qu)}if(yd.current=Td,o=Ft!==null&&Ft.next!==null,la=0,Wt=Ft=pt=null,_d=!1,o)throw Error(t(300));return s}function Fp(){var s=Xu!==0;return Xu=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?pt.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function ur(){if(Ft===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Ft.next;var o=Wt===null?pt.memoizedState:Wt.next;if(o!==null)Wt=o,Ft=s;else{if(s===null)throw Error(t(310));Ft=s,s={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?pt.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function Ju(s,o){return typeof o=="function"?o(s):o}function jp(s){var o=ur(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Ft,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var A=g.next;g.next=w.next,w.next=A}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var j=A=null,U=null,X=w;do{var ie=X.lane;if((la&ie)===ie)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var se={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(j=U=se,A=h):U=U.next=se,pt.lanes|=ie,ca|=ie}X=X.next}while(X!==null&&X!==w);U===null?A=h:U.next=j,Ar(h,o.memoizedState)||(Pn=!0),o.memoizedState=h,o.baseState=A,o.baseQueue=U,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do w=g.lane,pt.lanes|=w,ca|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function qp(s){var o=ur(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do w=s(w,A.action),A=A.next;while(A!==g);Ar(w,o.memoizedState)||(Pn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function G0(){}function K0(s,o){var c=pt,h=ur(),g=o(),w=!Ar(h.memoizedState,g);if(w&&(h.memoizedState=g,Pn=!0),h=h.queue,Up(X0.bind(null,c,h,s),[s]),h.getSnapshot!==o||w||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,Zu(9,Q0.bind(null,c,h,g,o),void 0,null),Ht===null)throw Error(t(349));la&30||Y0(c,o,g)}return g}function Y0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Q0(s,o,c,h){o.value=c,o.getSnapshot=h,J0(o)&&Z0(s)}function X0(s,o,c){return c(function(){J0(o)&&Z0(s)})}function J0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Ar(s,c)}catch{return!0}}function Z0(s){var o=Si(s,1);o!==null&&Dr(o,s,1,-1)}function eT(s){var o=Qr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:s},o.queue=s,s=s.dispatch=EO.bind(null,pt,s),[o.memoizedState,s]}function Zu(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function tT(){return ur().memoizedState}function wd(s,o,c,h){var g=Qr();pt.flags|=s,g.memoizedState=Zu(1|o,c,void 0,h===void 0?null:h)}function Ed(s,o,c,h){var g=ur();h=h===void 0?null:h;var w=void 0;if(Ft!==null){var A=Ft.memoizedState;if(w=A.destroy,h!==null&&Lp(h,A.deps)){g.memoizedState=Zu(o,c,w,h);return}}pt.flags|=s,g.memoizedState=Zu(1|o,c,w,h)}function nT(s,o){return wd(8390656,8,s,o)}function Up(s,o){return Ed(2048,8,s,o)}function rT(s,o){return Ed(4,2,s,o)}function iT(s,o){return Ed(4,4,s,o)}function sT(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function aT(s,o,c){return c=c!=null?c.concat([s]):null,Ed(4,4,sT.bind(null,o,s),c)}function $p(){}function oT(s,o){var c=ur();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Lp(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function uT(s,o){var c=ur();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Lp(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function lT(s,o,c){return la&21?(Ar(c,o)||(c=Js(),pt.lanes|=c,ca|=c,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=c)}function _O(s,o){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var h=Mp.transition;Mp.transition={};try{s(!1),o()}finally{$e=c,Mp.transition=h}}function cT(){return ur().memoizedState}function wO(s,o,c){var h=fs(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},dT(s))fT(o,c);else if(c=$0(s,o,c,h),c!==null){var g=Sn();Dr(c,s,h,g),hT(c,o,h)}}function EO(s,o,c){var h=fs(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(dT(s))fT(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var A=o.lastRenderedState,j=w(A,c);if(g.hasEagerState=!0,g.eagerState=j,Ar(j,A)){var U=o.interleaved;U===null?(g.next=g,Cp(o)):(g.next=U.next,U.next=g),o.interleaved=g;return}}catch{}finally{}c=$0(s,o,g,h),c!==null&&(g=Sn(),Dr(c,s,h,g),hT(c,o,h))}}function dT(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function fT(s,o){Qu=_d=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function hT(s,o,c){if(c&4194240){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Xi(s,c)}}var Td={readContext:or,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},TO={readContext:or,useCallback:function(s,o){return Qr().memoizedState=[s,o===void 0?null:o],s},useContext:or,useEffect:nT,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,wd(4194308,4,sT.bind(null,o,s),c)},useLayoutEffect:function(s,o){return wd(4194308,4,s,o)},useInsertionEffect:function(s,o){return wd(4,2,s,o)},useMemo:function(s,o){var c=Qr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Qr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=wO.bind(null,pt,s),[h.memoizedState,s]},useRef:function(s){var o=Qr();return s={current:s},o.memoizedState=s},useState:eT,useDebugValue:$p,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=eT(!1),o=s[0];return s=_O.bind(null,s[1]),Qr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=pt,g=Qr();if(dt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ht===null)throw Error(t(349));la&30||Y0(h,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,nT(X0.bind(null,h,w,s),[s]),h.flags|=2048,Zu(9,Q0.bind(null,h,w,c,o),void 0,null),c},useId:function(){var s=Qr(),o=Ht.identifierPrefix;if(dt){var c=bi,h=Ti;c=(h&~(1<<32-En(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Xu++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=yO++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},bO={readContext:or,useCallback:oT,useContext:or,useEffect:Up,useImperativeHandle:aT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:uT,useReducer:jp,useRef:tT,useState:function(){return jp(Ju)},useDebugValue:$p,useDeferredValue:function(s){var o=ur();return lT(o,Ft.memoizedState,s)},useTransition:function(){var s=jp(Ju)[0],o=ur().memoizedState;return[s,o]},useMutableSource:G0,useSyncExternalStore:K0,useId:cT,unstable_isNewReconciler:!1},SO={readContext:or,useCallback:oT,useContext:or,useEffect:Up,useImperativeHandle:aT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:uT,useReducer:qp,useRef:tT,useState:function(){return qp(Ju)},useDebugValue:$p,useDeferredValue:function(s){var o=ur();return Ft===null?o.memoizedState=s:lT(o,Ft.memoizedState,s)},useTransition:function(){var s=qp(Ju)[0],o=ur().memoizedState;return[s,o]},useMutableSource:G0,useSyncExternalStore:K0,useId:cT,unstable_isNewReconciler:!1};function Cr(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function zp(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var bd={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=fs(s),w=Ii(h,g);w.payload=o,c!=null&&(w.callback=c),o=us(s,w,g),o!==null&&(Dr(o,s,g,h),md(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=fs(s),w=Ii(h,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=us(s,w,g),o!==null&&(Dr(o,s,g,h),md(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Sn(),h=fs(s),g=Ii(c,h);g.tag=2,o!=null&&(g.callback=o),o=us(s,g,h),o!==null&&(Dr(o,s,h,c),md(o,s,h))}};function pT(s,o,c,h,g,w,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,A):o.prototype&&o.prototype.isPureReactComponent?!ju(c,h)||!ju(g,w):!0}function mT(s,o,c){var h=!1,g=ss,w=o.contextType;return typeof w=="object"&&w!==null?w=or(w):(g=Cn(o)?ia:on.current,h=o.contextTypes,w=(h=h!=null)?vo(s,g):ss),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function gT(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&bd.enqueueReplaceState(o,o.state,null)}function Bp(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Pp(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=or(w):(w=Cn(o)?ia:on.current,g.context=vo(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(zp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&bd.enqueueReplaceState(g,g.state,null),gd(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Io(s,o){try{var c="",h=o;do c+=Ae(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function Wp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Hp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var IO=typeof WeakMap=="function"?WeakMap:Map;function vT(s,o,c){c=Ii(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Pd||(Pd=!0,om=h),Hp(s,o)},c}function yT(s,o,c){c=Ii(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){Hp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Hp(s,o),typeof h!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function _T(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new IO;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=jO.bind(null,s,o,c),o.then(s,s))}function wT(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function ET(s,o,c,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ii(-1,1),o.tag=2,us(c,o,1))),c.lanes|=1),s)}var RO=L.ReactCurrentOwner,Pn=!1;function bn(s,o,c,h){o.child=s===null?U0(o,null,c,h):Eo(o,s.child,c,h)}function TT(s,o,c,h,g){c=c.render;var w=o.ref;return bo(o,g),h=Vp(s,o,c,h,w,g),c=Fp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ri(s,o,g)):(dt&&c&&wp(o),o.flags|=1,bn(s,o,h,g),o.child)}function bT(s,o,c,h,g){if(s===null){var w=c.type;return typeof w=="function"&&!pm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,ST(s,o,w,h,g)):(s=Ld(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!(s.lanes&g)){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:ju,c(A,h)&&s.ref===o.ref)return Ri(s,o,g)}return o.flags|=1,s=ps(w,h),s.ref=o.ref,s.return=o,o.child=s}function ST(s,o,c,h,g){if(s!==null){var w=s.memoizedProps;if(ju(w,h)&&s.ref===o.ref)if(Pn=!1,o.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Pn=!0);else return o.lanes=s.lanes,Ri(s,o,g)}return Gp(s,o,c,h,g)}function IT(s,o,c){var h=o.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ao,Jn),Jn|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(Ao,Jn),Jn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,nt(Ao,Jn),Jn|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,nt(Ao,Jn),Jn|=h;return bn(s,o,g,c),o.child}function RT(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Gp(s,o,c,h,g){var w=Cn(c)?ia:on.current;return w=vo(o,w),bo(o,g),c=Vp(s,o,c,h,w,g),h=Fp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ri(s,o,g)):(dt&&h&&wp(o),o.flags|=1,bn(s,o,c,g),o.child)}function AT(s,o,c,h,g){if(Cn(c)){var w=!0;od(o)}else w=!1;if(bo(o,g),o.stateNode===null)Id(s,o),mT(o,c,h),Bp(o,c,h,g),h=!0;else if(s===null){var A=o.stateNode,j=o.memoizedProps;A.props=j;var U=A.context,X=c.contextType;typeof X=="object"&&X!==null?X=or(X):(X=Cn(c)?ia:on.current,X=vo(o,X));var ie=c.getDerivedStateFromProps,se=typeof ie=="function"||typeof A.getSnapshotBeforeUpdate=="function";se||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==h||U!==X)&&gT(o,A,h,X),os=!1;var re=o.memoizedState;A.state=re,gd(o,h,A,g),U=o.memoizedState,j!==h||re!==U||xn.current||os?(typeof ie=="function"&&(zp(o,c,ie,h),U=o.memoizedState),(j=os||pT(o,c,j,h,re,U,X))?(se||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=U),A.props=h,A.state=U,A.context=X,h=j):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{A=o.stateNode,z0(s,o),j=o.memoizedProps,X=o.type===o.elementType?j:Cr(o.type,j),A.props=X,se=o.pendingProps,re=A.context,U=c.contextType,typeof U=="object"&&U!==null?U=or(U):(U=Cn(c)?ia:on.current,U=vo(o,U));var he=c.getDerivedStateFromProps;(ie=typeof he=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==se||re!==U)&&gT(o,A,h,U),os=!1,re=o.memoizedState,A.state=re,gd(o,h,A,g);var ve=o.memoizedState;j!==se||re!==ve||xn.current||os?(typeof he=="function"&&(zp(o,c,he,h),ve=o.memoizedState),(X=os||pT(o,c,X,h,re,ve,U)||!1)?(ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,ve,U),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,ve,U)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ve),A.props=h,A.state=ve,A.context=U,h=X):(typeof A.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),h=!1)}return Kp(s,o,c,h,w,g)}function Kp(s,o,c,h,g,w){RT(s,o);var A=(o.flags&128)!==0;if(!h&&!A)return g&&D0(o,c,!1),Ri(s,o,w);h=o.stateNode,RO.current=o;var j=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&A?(o.child=Eo(o,s.child,null,w),o.child=Eo(o,null,j,w)):bn(s,o,j,w),o.memoizedState=h.state,g&&D0(o,c,!0),o.child}function xT(s){var o=s.stateNode;o.pendingContext?P0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&P0(s,o.context,!1),kp(s,o.containerInfo)}function CT(s,o,c,h,g){return wo(),Sp(g),o.flags|=256,bn(s,o,c,h),o.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Qp(s){return{baseLanes:s,cachePool:null,transitions:null}}function PT(s,o,c){var h=o.pendingProps,g=ht.current,w=!1,A=(o.flags&128)!==0,j;if((j=A)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),nt(ht,g&1),s===null)return bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(A=h.children,s=h.fallback,w?(h=o.mode,w=o.child,A={mode:"hidden",children:A},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Vd(A,h,0,null),s=pa(s,h,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Qp(c),o.memoizedState=Yp,s):Xp(o,A));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return AO(s,o,A,h,j,g,c);if(w){w=h.fallback,A=o.mode,g=s.child,j=g.sibling;var U={mode:"hidden",children:h.children};return!(A&1)&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=U,o.deletions=null):(h=ps(g,U),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=ps(j,w):(w=pa(w,A,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,A=s.child.memoizedState,A=A===null?Qp(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=s.childLanes&~c,o.memoizedState=Yp,h}return w=s.child,s=w.sibling,h=ps(w,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function Xp(s,o){return o=Vd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Sd(s,o,c,h){return h!==null&&Sp(h),Eo(o,s.child,null,c),s=Xp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function AO(s,o,c,h,g,w,A){if(c)return o.flags&256?(o.flags&=-257,h=Wp(Error(t(422))),Sd(s,o,A,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=Vd({mode:"visible",children:h.children},g,0,null),w=pa(w,g,A,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,o.mode&1&&Eo(o,s.child,null,A),o.child.memoizedState=Qp(A),o.memoizedState=Yp,w);if(!(o.mode&1))return Sd(s,o,A,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,w=Error(t(419)),h=Wp(w,h,void 0),Sd(s,o,A,h)}if(j=(A&s.childLanes)!==0,Pn||j){if(h=Ht,h!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|A)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Si(s,g),Dr(h,s,g,-1))}return hm(),h=Wp(Error(t(421))),Sd(s,o,A,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=qO.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Xn=rs(g.nextSibling),Qn=o,dt=!0,xr=null,s!==null&&(sr[ar++]=Ti,sr[ar++]=bi,sr[ar++]=sa,Ti=s.id,bi=s.overflow,sa=o),o=Xp(o,h.children),o.flags|=4096,o)}function kT(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),xp(s.return,o,c)}function Jp(s,o,c,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function DT(s,o,c){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(bn(s,o,h.children,c),h=ht.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&kT(s,c,o);else if(s.tag===19)kT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&vd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Jp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&vd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Jp(o,!0,c,null,w);break;case"together":Jp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Id(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ri(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ca|=o.lanes,!(c&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=ps(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ps(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function xO(s,o,c){switch(o.tag){case 3:xT(o),wo();break;case 5:H0(o);break;case 1:Cn(o.type)&&od(o);break;case 4:kp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;nt(hd,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):c&o.child.childLanes?PT(s,o,c):(nt(ht,ht.current&1),s=Ri(s,o,c),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(c&o.childLanes)!==0,s.flags&128){if(h)return DT(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,IT(s,o,c)}return Ri(s,o,c)}var OT,Zp,NT,MT;OT=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zp=function(){},NT=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,ua(Yr.current);var w=null;switch(c){case"input":g=gr(s,g),h=gr(s,h),w=[];break;case"select":g=ue({},g,{value:void 0}),h=ue({},h,{value:void 0}),w=[];break;case"textarea":g=Xt(s,g),h=Xt(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=id)}wu(c,h);var A;c=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(A in j)j.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in h){var U=h[X];if(j=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&U!==j&&(U!=null||j!=null))if(X==="style")if(j){for(A in j)!j.hasOwnProperty(A)||U&&U.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in U)U.hasOwnProperty(A)&&j[A]!==U[A]&&(c||(c={}),c[A]=U[A])}else c||(w||(w=[]),w.push(X,c)),c=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,j=j?j.__html:void 0,U!=null&&j!==U&&(w=w||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&it("scroll",s),w||j===U||(w=[])):(w=w||[]).push(X,U))}c&&(w=w||[]).push("style",c);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},MT=function(s,o,c,h){c!==h&&(o.flags|=4)};function el(s,o){if(!dt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function CO(s,o,c){var h=o.pendingProps;switch(Ep(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return Cn(o.type)&&ad(),ln(o),null;case 3:return h=o.stateNode,So(),st(xn),st(on),Np(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(dd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,xr!==null&&(cm(xr),xr=null))),Zp(s,o),ln(o),null;case 5:Dp(o);var g=ua(Yu.current);if(c=o.type,s!==null&&o.stateNode!=null)NT(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return ln(o),null}if(s=ua(Yr.current),dd(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[Kr]=o,h[Bu]=w,s=(o.mode&1)!==0,c){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(g=0;g<Uu.length;g++)it(Uu[g],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":Ue(h,w),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},it("invalid",h);break;case"textarea":ut(h,w),it("invalid",h)}wu(c,w),g=null;for(var A in w)if(w.hasOwnProperty(A)){var j=w[A];A==="children"?typeof j=="string"?h.textContent!==j&&(w.suppressHydrationWarning!==!0&&rd(h.textContent,j,s),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&rd(h.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(A)&&j!=null&&A==="onScroll"&&it("scroll",h)}switch(c){case"input":yn(h),zn(h,w,!0);break;case"textarea":yn(h),Bn(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=id)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(c,{is:h.is}):(s=A.createElement(c),c==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,c),s[Kr]=o,s[Bu]=h,OT(s,o,!1,!1),o.stateNode=s;e:{switch(A=Eu(c,h),c){case"dialog":it("cancel",s),it("close",s),g=h;break;case"iframe":case"object":case"embed":it("load",s),g=h;break;case"video":case"audio":for(g=0;g<Uu.length;g++)it(Uu[g],s);g=h;break;case"source":it("error",s),g=h;break;case"img":case"image":case"link":it("error",s),it("load",s),g=h;break;case"details":it("toggle",s),g=h;break;case"input":Ue(s,h),g=gr(s,h),it("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ue({},h,{value:void 0}),it("invalid",s);break;case"textarea":ut(s,h),g=Xt(s,h),it("invalid",s);break;default:g=h}wu(c,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var U=j[w];w==="style"?Wn(s,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Hi(s,U)):w==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&vr(s,U):typeof U=="number"&&vr(s,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?U!=null&&w==="onScroll"&&it("scroll",s):U!=null&&V(s,w,U,A))}switch(c){case"input":yn(s),zn(s,h,!1);break;case"textarea":yn(s),Bn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Mt(s,!!h.multiple,w,!1):h.defaultValue!=null&&Mt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=id)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(s&&o.stateNode!=null)MT(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=ua(Yu.current),ua(Yr.current),dd(o)){if(h=o.stateNode,c=o.memoizedProps,h[Kr]=o,(w=h.nodeValue!==c)&&(s=Qn,s!==null))switch(s.tag){case 3:rd(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rd(h.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Kr]=o,o.stateNode=h}return ln(o),null;case 13:if(st(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(dt&&Xn!==null&&o.mode&1&&!(o.flags&128))F0(),wo(),o.flags|=98560,w=!1;else if(w=dd(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Kr]=o}else wo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ln(o),w=!1}else xr!==null&&(cm(xr),xr=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?jt===0&&(jt=3):hm())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return So(),Zp(s,o),s===null&&$u(o.stateNode.containerInfo),ln(o),null;case 10:return Ap(o.type._context),ln(o),null;case 17:return Cn(o.type)&&ad(),ln(o),null;case 19:if(st(ht),w=o.memoizedState,w===null)return ln(o),null;if(h=(o.flags&128)!==0,A=w.rendering,A===null)if(h)el(w,!1);else{if(jt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(A=vd(s),A!==null){for(o.flags|=128,el(w,!1),h=A.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,s=h,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,s=A.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}w.tail!==null&&tt()>xo&&(o.flags|=128,h=!0,el(w,!1),o.lanes=4194304)}else{if(!h)if(s=vd(A),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),el(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!dt)return ln(o),null}else 2*tt()-w.renderingStartTime>xo&&c!==1073741824&&(o.flags|=128,h=!0,el(w,!1),o.lanes=4194304);w.isBackwards?(A.sibling=o.child,o.child=A):(c=w.last,c!==null?c.sibling=A:o.child=A,w.last=A)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=tt(),o.sibling=null,c=ht.current,nt(ht,h?c&1|2:c&1),o):(ln(o),null);case 22:case 23:return fm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Jn&1073741824&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function PO(s,o){switch(Ep(o),o.tag){case 1:return Cn(o.type)&&ad(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return So(),st(xn),st(on),Np(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Dp(o),null;case 13:if(st(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));wo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return st(ht),null;case 4:return So(),null;case 10:return Ap(o.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Rd=!1,cn=!1,kO=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ro(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){yt(s,o,h)}else c.current=null}function em(s,o,c){try{c()}catch(h){yt(s,o,h)}}var LT=!1;function DO(s,o){if(fp=es,s=p0(),ip(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,j=-1,U=-1,X=0,ie=0,se=s,re=null;t:for(;;){for(var he;se!==c||g!==0&&se.nodeType!==3||(j=A+g),se!==w||h!==0&&se.nodeType!==3||(U=A+h),se.nodeType===3&&(A+=se.nodeValue.length),(he=se.firstChild)!==null;)re=se,se=he;for(;;){if(se===s)break t;if(re===c&&++X===g&&(j=A),re===w&&++ie===h&&(U=A),(he=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=he}c=j===-1||U===-1?null:{start:j,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(hp={focusedElem:s,selectionRange:c},es=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,bt=ve.memoizedState,Y=o.stateNode,B=Y.getSnapshotBeforeUpdate(o.elementType===o.type?we:Cr(o.type,we),bt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){yt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=LT,LT=!1,ve}function tl(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&em(o,c,w)}g=g.next}while(g!==h)}}function Ad(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function tm(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function VT(s){var o=s.alternate;o!==null&&(s.alternate=null,VT(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Kr],delete o[Bu],delete o[vp],delete o[pO],delete o[mO])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function FT(s){return s.tag===5||s.tag===3||s.tag===4}function jT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||FT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nm(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=id));else if(h!==4&&(s=s.child,s!==null))for(nm(s,o,c),s=s.sibling;s!==null;)nm(s,o,c),s=s.sibling}function rm(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(rm(s,o,c),s=s.sibling;s!==null;)rm(s,o,c),s=s.sibling}var en=null,Pr=!1;function ls(s,o,c){for(c=c.child;c!==null;)qT(s,o,c),c=c.sibling}function qT(s,o,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Qs,c)}catch{}switch(c.tag){case 5:cn||Ro(c,o);case 6:var h=en,g=Pr;en=null,ls(s,o,c),en=h,Pr=g,en!==null&&(Pr?(s=en,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):en.removeChild(c.stateNode));break;case 18:en!==null&&(Pr?(s=en,c=c.stateNode,s.nodeType===8?gp(s.parentNode,c):s.nodeType===1&&gp(s,c),Ir(s)):gp(en,c.stateNode));break;case 4:h=en,g=Pr,en=c.stateNode.containerInfo,Pr=!0,ls(s,o,c),en=h,Pr=g;break;case 0:case 11:case 14:case 15:if(!cn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,A=w.destroy;w=w.tag,A!==void 0&&(w&2||w&4)&&em(c,o,A),g=g.next}while(g!==h)}ls(s,o,c);break;case 1:if(!cn&&(Ro(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){yt(c,o,j)}ls(s,o,c);break;case 21:ls(s,o,c);break;case 22:c.mode&1?(cn=(h=cn)||c.memoizedState!==null,ls(s,o,c),cn=h):ls(s,o,c);break;default:ls(s,o,c)}}function UT(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new kO),o.forEach(function(h){var g=UO.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function kr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=s,A=o,j=A;e:for(;j!==null;){switch(j.tag){case 5:en=j.stateNode,Pr=!1;break e;case 3:en=j.stateNode.containerInfo,Pr=!0;break e;case 4:en=j.stateNode.containerInfo,Pr=!0;break e}j=j.return}if(en===null)throw Error(t(160));qT(w,A,g),en=null,Pr=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(X){yt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$T(o,s),o=o.sibling}function $T(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(o,s),Xr(s),h&4){try{tl(3,s,s.return),Ad(3,s)}catch(we){yt(s,s.return,we)}try{tl(5,s,s.return)}catch(we){yt(s,s.return,we)}}break;case 1:kr(o,s),Xr(s),h&512&&c!==null&&Ro(c,c.return);break;case 5:if(kr(o,s),Xr(s),h&512&&c!==null&&Ro(c,c.return),s.flags&32){var g=s.stateNode;try{vr(g,"")}catch(we){yt(s,s.return,we)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,A=c!==null?c.memoizedProps:w,j=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&$n(g,w),Eu(j,A);var X=Eu(j,w);for(A=0;A<U.length;A+=2){var ie=U[A],se=U[A+1];ie==="style"?Wn(g,se):ie==="dangerouslySetInnerHTML"?Hi(g,se):ie==="children"?vr(g,se):V(g,ie,se,X)}switch(j){case"input":Ve(g,w);break;case"textarea":wn(g,w);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var he=w.value;he!=null?Mt(g,!!w.multiple,he,!1):re!==!!w.multiple&&(w.defaultValue!=null?Mt(g,!!w.multiple,w.defaultValue,!0):Mt(g,!!w.multiple,w.multiple?[]:"",!1))}g[Bu]=w}catch(we){yt(s,s.return,we)}}break;case 6:if(kr(o,s),Xr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(we){yt(s,s.return,we)}}break;case 3:if(kr(o,s),Xr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(we){yt(s,s.return,we)}break;case 4:kr(o,s),Xr(s);break;case 13:kr(o,s),Xr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(am=tt())),h&4&&UT(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(cn=(X=cn)||ie,kr(o,s),cn=X):kr(o,s),Xr(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&s.mode&1)for(ge=s,ie=s.child;ie!==null;){for(se=ge=ie;ge!==null;){switch(re=ge,he=re.child,re.tag){case 0:case 11:case 14:case 15:tl(4,re,re.return);break;case 1:Ro(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){h=re,c=re.return;try{o=h,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){yt(h,c,we)}}break;case 5:Ro(re,re.return);break;case 22:if(re.memoizedState!==null){WT(se);continue}}he!==null?(he.return=re,ge=he):WT(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{g=se.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=se.stateNode,U=se.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null,j.style.display=In("display",A))}catch(we){yt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(we){yt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:kr(o,s),Xr(s),h&4&&UT(s);break;case 21:break;default:kr(o,s),Xr(s)}}function Xr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(FT(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(vr(g,""),h.flags&=-33);var w=jT(s);rm(s,w,g);break;case 3:case 4:var A=h.stateNode.containerInfo,j=jT(s);nm(s,j,A);break;default:throw Error(t(161))}}catch(U){yt(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function OO(s,o,c){ge=s,zT(s)}function zT(s,o,c){for(var h=(s.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&h){var A=g.memoizedState!==null||Rd;if(!A){var j=g.alternate,U=j!==null&&j.memoizedState!==null||cn;j=Rd;var X=cn;if(Rd=A,(cn=U)&&!X)for(ge=g;ge!==null;)A=ge,U=A.child,A.tag===22&&A.memoizedState!==null?HT(g):U!==null?(U.return=A,ge=U):HT(g);for(;w!==null;)ge=w,zT(w),w=w.sibling;ge=g,Rd=j,cn=X}BT(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ge=w):BT(s)}}function BT(s){for(;ge!==null;){var o=ge;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:cn||Ad(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!cn)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Cr(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&W0(o,w,h);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}W0(o,A,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Ir(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&tm(o)}catch(re){yt(o,o.return,re)}}if(o===s){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function WT(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function HT(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Ad(4,o)}catch(U){yt(o,c,U)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(U){yt(o,g,U)}}var w=o.return;try{tm(o)}catch(U){yt(o,w,U)}break;case 5:var A=o.return;try{tm(o)}catch(U){yt(o,A,U)}}}catch(U){yt(o,o.return,U)}if(o===s){ge=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ge=j;break}ge=o.return}}var NO=Math.ceil,xd=L.ReactCurrentDispatcher,im=L.ReactCurrentOwner,lr=L.ReactCurrentBatchConfig,He=0,Ht=null,Ct=null,tn=0,Jn=0,Ao=is(0),jt=0,nl=null,ca=0,Cd=0,sm=0,rl=null,kn=null,am=0,xo=1/0,Ai=null,Pd=!1,om=null,cs=null,kd=!1,ds=null,Dd=0,il=0,um=null,Od=-1,Nd=0;function Sn(){return He&6?tt():Od!==-1?Od:Od=tt()}function fs(s){return s.mode&1?He&2&&tn!==0?tn&-tn:vO.transition!==null?(Nd===0&&(Nd=Js()),Nd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Du(s.type)),s):1}function Dr(s,o,c,h){if(50<il)throw il=0,um=null,Error(t(185));Qi(s,c,h),(!(He&2)||s!==Ht)&&(s===Ht&&(!(He&2)&&(Cd|=c),jt===4&&hs(s,tn)),Dn(s,h),c===1&&He===0&&!(o.mode&1)&&(xo=tt()+500,ud&&as()))}function Dn(s,o){var c=s.callbackNode;mi(s,o);var h=Xs(s,s===Ht?tn:0);if(h===0)c!==null&&Au(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Au(c),o===1)s.tag===0?gO(KT.bind(null,s)):O0(KT.bind(null,s)),fO(function(){!(He&6)&&as()}),c=null;else{switch(Ji(h)){case 1:c=Ys;break;case 4:c=Gi;break;case 16:c=nr;break;case 536870912:c=Nc;break;default:c=nr}c=n1(c,GT.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function GT(s,o){if(Od=-1,Nd=0,He&6)throw Error(t(327));var c=s.callbackNode;if(Co()&&s.callbackNode!==c)return null;var h=Xs(s,s===Ht?tn:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=Md(s,h);else{o=h;var g=He;He|=2;var w=QT();(Ht!==s||tn!==o)&&(Ai=null,xo=tt()+500,fa(s,o));do try{VO();break}catch(j){YT(s,j)}while(!0);Rp(),xd.current=w,He=g,Ct!==null?o=0:(Ht=null,tn=0,o=jt)}if(o!==0){if(o===2&&(g=Gn(s),g!==0&&(h=g,o=lm(s,g))),o===1)throw c=nl,fa(s,0),hs(s,h),Dn(s,tt()),c;if(o===6)hs(s,h);else{if(g=s.current.alternate,!(h&30)&&!MO(g)&&(o=Md(s,h),o===2&&(w=Gn(s),w!==0&&(h=w,o=lm(s,w))),o===1))throw c=nl,fa(s,0),hs(s,h),Dn(s,tt()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ha(s,kn,Ai);break;case 3:if(hs(s,h),(h&130023424)===h&&(o=am+500-tt(),10<o)){if(Xs(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Sn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=mp(ha.bind(null,s,kn,Ai),o);break}ha(s,kn,Ai);break;case 4:if(hs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var A=31-En(h);w=1<<A,A=o[A],A>g&&(g=A),h&=~w}if(h=g,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*NO(h/1960))-h,10<h){s.timeoutHandle=mp(ha.bind(null,s,kn,Ai),h);break}ha(s,kn,Ai);break;case 5:ha(s,kn,Ai);break;default:throw Error(t(329))}}}return Dn(s,tt()),s.callbackNode===c?GT.bind(null,s):null}function lm(s,o){var c=rl;return s.current.memoizedState.isDehydrated&&(fa(s,o).flags|=256),s=Md(s,o),s!==2&&(o=kn,kn=c,o!==null&&cm(o)),s}function cm(s){kn===null?kn=s:kn.push.apply(kn,s)}function MO(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!Ar(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(s,o){for(o&=~sm,o&=~Cd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-En(o),h=1<<c;s[c]=-1,o&=~h}}function KT(s){if(He&6)throw Error(t(327));Co();var o=Xs(s,0);if(!(o&1))return Dn(s,tt()),null;var c=Md(s,o);if(s.tag!==0&&c===2){var h=Gn(s);h!==0&&(o=h,c=lm(s,h))}if(c===1)throw c=nl,fa(s,0),hs(s,o),Dn(s,tt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ha(s,kn,Ai),Dn(s,tt()),null}function dm(s,o){var c=He;He|=1;try{return s(o)}finally{He=c,He===0&&(xo=tt()+500,ud&&as())}}function da(s){ds!==null&&ds.tag===0&&!(He&6)&&Co();var o=He;He|=1;var c=lr.transition,h=$e;try{if(lr.transition=null,$e=1,s)return s()}finally{$e=h,lr.transition=c,He=o,!(He&6)&&as()}}function fm(){Jn=Ao.current,st(Ao)}function fa(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,dO(c)),Ct!==null)for(c=Ct.return;c!==null;){var h=c;switch(Ep(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ad();break;case 3:So(),st(xn),st(on),Np();break;case 5:Dp(h);break;case 4:So();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Ap(h.type._context);break;case 22:case 23:fm()}c=c.return}if(Ht=s,Ct=s=ps(s.current,null),tn=Jn=o,jt=0,nl=null,sm=Cd=ca=0,kn=rl=null,oa!==null){for(o=0;o<oa.length;o++)if(c=oa[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var A=w.next;w.next=g,h.next=A}c.pending=h}oa=null}return s}function YT(s,o){do{var c=Ct;try{if(Rp(),yd.current=Td,_d){for(var h=pt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}_d=!1}if(la=0,Wt=Ft=pt=null,Qu=!1,Xu=0,im.current=null,c===null||c.return===null){jt=1,nl=o,Ct=null;break}e:{var w=s,A=c.return,j=c,U=o;if(o=tn,j.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,ie=j,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=wT(A);if(he!==null){he.flags&=-257,ET(he,A,j,w,o),he.mode&1&&_T(w,X,o),o=he,U=X;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(U),o.updateQueue=we}else ve.add(U);break e}else{if(!(o&1)){_T(w,X,o),hm();break e}U=Error(t(426))}}else if(dt&&j.mode&1){var bt=wT(A);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),ET(bt,A,j,w,o),Sp(Io(U,j));break e}}w=U=Io(U,j),jt!==4&&(jt=2),rl===null?rl=[w]:rl.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var Y=vT(w,U,o);B0(w,Y);break e;case 1:j=U;var B=w.type,Q=w.stateNode;if(!(w.flags&128)&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(cs===null||!cs.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=yT(w,j,o);B0(w,ae);break e}}w=w.return}while(w!==null)}JT(c)}catch(Te){o=Te,Ct===c&&c!==null&&(Ct=c=c.return);continue}break}while(!0)}function QT(){var s=xd.current;return xd.current=Td,s===null?Td:s}function hm(){(jt===0||jt===3||jt===2)&&(jt=4),Ht===null||!(ca&268435455)&&!(Cd&268435455)||hs(Ht,tn)}function Md(s,o){var c=He;He|=2;var h=QT();(Ht!==s||tn!==o)&&(Ai=null,fa(s,o));do try{LO();break}catch(g){YT(s,g)}while(!0);if(Rp(),He=c,xd.current=h,Ct!==null)throw Error(t(261));return Ht=null,tn=0,jt}function LO(){for(;Ct!==null;)XT(Ct)}function VO(){for(;Ct!==null&&!Dc();)XT(Ct)}function XT(s){var o=t1(s.alternate,s,Jn);s.memoizedProps=s.pendingProps,o===null?JT(s):Ct=o,im.current=null}function JT(s){var o=s;do{var c=o.alternate;if(s=o.return,o.flags&32768){if(c=PO(c,o),c!==null){c.flags&=32767,Ct=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,Ct=null;return}}else if(c=CO(c,o,Jn),c!==null){Ct=c;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=s}while(o!==null);jt===0&&(jt=5)}function ha(s,o,c){var h=$e,g=lr.transition;try{lr.transition=null,$e=1,FO(s,o,c,h)}finally{lr.transition=g,$e=h}return null}function FO(s,o,c,h){do Co();while(ds!==null);if(He&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ze(s,w),s===Ht&&(Ct=Ht=null,tn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||kd||(kd=!0,n1(nr,function(){return Co(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=lr.transition,lr.transition=null;var A=$e;$e=1;var j=He;He|=4,im.current=null,DO(s,c),$T(c,s),iO(hp),es=!!fp,hp=fp=null,s.current=c,OO(c),Qh(),He=j,$e=A,lr.transition=w}else s.current=c;if(kd&&(kd=!1,ds=s,Dd=g),w=s.pendingLanes,w===0&&(cs=null),Mc(c.stateNode),Dn(s,tt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Pd)throw Pd=!1,s=om,om=null,s;return Dd&1&&s.tag!==0&&Co(),w=s.pendingLanes,w&1?s===um?il++:(il=0,um=s):il=0,as(),null}function Co(){if(ds!==null){var s=Ji(Dd),o=lr.transition,c=$e;try{if(lr.transition=null,$e=16>s?16:s,ds===null)var h=!1;else{if(s=ds,ds=null,Dd=0,He&6)throw Error(t(331));var g=He;for(He|=4,ge=s.current;ge!==null;){var w=ge,A=w.child;if(ge.flags&16){var j=w.deletions;if(j!==null){for(var U=0;U<j.length;U++){var X=j[U];for(ge=X;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:tl(8,ie,w)}var se=ie.child;if(se!==null)se.return=ie,ge=se;else for(;ge!==null;){ie=ge;var re=ie.sibling,he=ie.return;if(VT(ie),ie===X){ge=null;break}if(re!==null){re.return=he,ge=re;break}ge=he}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var bt=we.sibling;we.sibling=null,we=bt}while(we!==null)}}ge=w}}if(w.subtreeFlags&2064&&A!==null)A.return=w,ge=A;else e:for(;ge!==null;){if(w=ge,w.flags&2048)switch(w.tag){case 0:case 11:case 15:tl(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var B=s.current;for(ge=B;ge!==null;){A=ge;var Q=A.child;if(A.subtreeFlags&2064&&Q!==null)Q.return=A,ge=Q;else e:for(A=B;ge!==null;){if(j=ge,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Ad(9,j)}}catch(Te){yt(j,j.return,Te)}if(j===A){ge=null;break e}var ae=j.sibling;if(ae!==null){ae.return=j.return,ge=ae;break e}ge=j.return}}if(He=g,as(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Qs,s)}catch{}h=!0}return h}finally{$e=c,lr.transition=o}}return!1}function ZT(s,o,c){o=Io(c,o),o=vT(s,o,1),s=us(s,o,1),o=Sn(),s!==null&&(Qi(s,1,o),Dn(s,o))}function yt(s,o,c){if(s.tag===3)ZT(s,s,c);else for(;o!==null;){if(o.tag===3){ZT(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(cs===null||!cs.has(h))){s=Io(c,s),s=yT(o,s,1),o=us(o,s,1),s=Sn(),o!==null&&(Qi(o,1,s),Dn(o,s));break}}o=o.return}}function jO(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Sn(),s.pingedLanes|=s.suspendedLanes&c,Ht===s&&(tn&c)===c&&(jt===4||jt===3&&(tn&130023424)===tn&&500>tt()-am?fa(s,0):sm|=c),Dn(s,o)}function e1(s,o){o===0&&(s.mode&1?(o=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):o=1);var c=Sn();s=Si(s,o),s!==null&&(Qi(s,o,c),Dn(s,c))}function qO(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),e1(s,c)}function UO(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),e1(s,c)}var t1;t1=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||xn.current)Pn=!0;else{if(!(s.lanes&c)&&!(o.flags&128))return Pn=!1,xO(s,o,c);Pn=!!(s.flags&131072)}else Pn=!1,dt&&o.flags&1048576&&N0(o,cd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Id(s,o),s=o.pendingProps;var g=vo(o,on.current);bo(o,c),g=Vp(null,o,h,s,g,c);var w=Fp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Cn(h)?(w=!0,od(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Pp(o),g.updater=bd,o.stateNode=g,g._reactInternals=o,Bp(o,h,s,c),o=Kp(null,o,h,!0,w,c)):(o.tag=0,dt&&w&&wp(o),bn(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Id(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=zO(h),s=Cr(h,s),g){case 0:o=Gp(null,o,h,s,c);break e;case 1:o=AT(null,o,h,s,c);break e;case 11:o=TT(null,o,h,s,c);break e;case 14:o=bT(null,o,h,Cr(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Cr(h,g),Gp(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Cr(h,g),AT(s,o,h,g,c);case 3:e:{if(xT(o),s===null)throw Error(t(387));h=o.pendingProps,w=o.memoizedState,g=w.element,z0(s,o),gd(o,h,null,c);var A=o.memoizedState;if(h=A.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Io(Error(t(423)),o),o=CT(s,o,h,c,g);break e}else if(h!==g){g=Io(Error(t(424)),o),o=CT(s,o,h,c,g);break e}else for(Xn=rs(o.stateNode.containerInfo.firstChild),Qn=o,dt=!0,xr=null,c=U0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(wo(),h===g){o=Ri(s,o,c);break e}bn(s,o,h,c)}o=o.child}return o;case 5:return H0(o),s===null&&bp(o),h=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,A=g.children,pp(h,g)?A=null:w!==null&&pp(h,w)&&(o.flags|=32),RT(s,o),bn(s,o,A,c),o.child;case 6:return s===null&&bp(o),null;case 13:return PT(s,o,c);case 4:return kp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Eo(o,null,h,c):bn(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Cr(h,g),TT(s,o,h,g,c);case 7:return bn(s,o,o.pendingProps,c),o.child;case 8:return bn(s,o,o.pendingProps.children,c),o.child;case 12:return bn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,A=g.value,nt(hd,h._currentValue),h._currentValue=A,w!==null)if(Ar(w.value,A)){if(w.children===g.children&&!xn.current){o=Ri(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var j=w.dependencies;if(j!==null){A=w.child;for(var U=j.firstContext;U!==null;){if(U.context===h){if(w.tag===1){U=Ii(-1,c&-c),U.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),X.pending=U}}w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),xp(w.return,c,o),j.lanes|=c;break}U=U.next}}else if(w.tag===10)A=w.type===o.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(t(341));A.lanes|=c,j=A.alternate,j!==null&&(j.lanes|=c),xp(A,c,o),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===o){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}bn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,bo(o,c),g=or(g),h=h(g),o.flags|=1,bn(s,o,h,c),o.child;case 14:return h=o.type,g=Cr(h,o.pendingProps),g=Cr(h.type,g),bT(s,o,h,g,c);case 15:return ST(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Cr(h,g),Id(s,o),o.tag=1,Cn(h)?(s=!0,od(o)):s=!1,bo(o,c),mT(o,h,g),Bp(o,h,g,c),Kp(null,o,h,!0,s,c);case 19:return DT(s,o,c);case 22:return IT(s,o,c)}throw Error(t(156,o.tag))};function n1(s,o){return Ya(s,o)}function $O(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(s,o,c,h){return new $O(s,o,c,h)}function pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zO(s){if(typeof s=="function")return pm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===be)return 14}return 2}function ps(s,o){var c=s.alternate;return c===null?(c=cr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ld(s,o,c,h,g,w){var A=2;if(h=s,typeof s=="function")pm(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case k:return pa(c.children,g,w,o);case R:A=8,g|=8;break;case x:return s=cr(12,c,o,g|2),s.elementType=x,s.lanes=w,s;case D:return s=cr(13,c,o,g),s.elementType=D,s.lanes=w,s;case ce:return s=cr(19,c,o,g),s.elementType=ce,s.lanes=w,s;case _e:return Vd(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:A=10;break e;case M:A=9;break e;case q:A=11;break e;case be:A=14;break e;case Ee:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=cr(A,c,o,g),o.elementType=s,o.type=h,o.lanes=w,o}function pa(s,o,c,h){return s=cr(7,s,h,o),s.lanes=c,s}function Vd(s,o,c,h){return s=cr(22,s,h,o),s.elementType=_e,s.lanes=c,s.stateNode={isHidden:!1},s}function mm(s,o,c){return s=cr(6,s,null,o),s.lanes=c,s}function gm(s,o,c){return o=cr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function BO(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vm(s,o,c,h,g,w,A,j,U){return s=new BO(s,o,c,j,U),o===1?(o=1,w===!0&&(o|=8)):o=0,w=cr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(w),s}function WO(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function r1(s){if(!s)return ss;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Cn(c))return k0(s,c,o)}return o}function i1(s,o,c,h,g,w,A,j,U){return s=vm(c,h,!0,s,g,w,A,j,U),s.context=r1(null),c=s.current,h=Sn(),g=fs(c),w=Ii(h,g),w.callback=o??null,us(c,w,g),s.current.lanes=g,Qi(s,g,h),Dn(s,h),s}function Fd(s,o,c,h){var g=o.current,w=Sn(),A=fs(g);return c=r1(c),o.context===null?o.context=c:o.pendingContext=c,o=Ii(w,A),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=us(g,o,A),s!==null&&(Dr(s,g,A,w),md(s,g,A)),A}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function s1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ym(s,o){s1(s,o),(s=s.alternate)&&s1(s,o)}var a1=typeof reportError=="function"?reportError:function(s){console.error(s)};function _m(s){this._internalRoot=s}qd.prototype.render=_m.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Fd(s,o,null,null)},qd.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;da(function(){Fd(null,s,null,null)}),o[wi]=null}};function qd(s){this._internalRoot=s}qd.prototype.unstable_scheduleHydration=function(s){if(s){var o=qc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Br.length&&o!==0&&o<Br[c].priority;c++);Br.splice(c,0,s),c===0&&zc(s)}};function wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ud(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function o1(){}function HO(s,o,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var X=jd(A);w.call(X)}}var A=i1(o,h,s,0,null,!1,!1,"",o1);return s._reactRootContainer=A,s[wi]=A.current,$u(s.nodeType===8?s.parentNode:s),da(),A}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var X=jd(U);j.call(X)}}var U=vm(s,0,!1,null,null,!1,!1,"",o1);return s._reactRootContainer=U,s[wi]=U.current,$u(s.nodeType===8?s.parentNode:s),da(function(){Fd(o,U,c,h)}),U}function $d(s,o,c,h,g){var w=c._reactRootContainer;if(w){var A=w;if(typeof g=="function"){var j=g;g=function(){var U=jd(A);j.call(U)}}Fd(o,A,s,g)}else A=HO(c,o,s,g,h);return jd(A)}Fc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ki(o.pendingLanes);c!==0&&(Xi(o,c|1),Dn(o,tt()),!(He&6)&&(xo=tt()+500,as()))}break;case 13:da(function(){var h=Si(s,1);if(h!==null){var g=Sn();Dr(h,s,1,g)}}),ym(s,1)}},Ja=function(s){if(s.tag===13){var o=Si(s,134217728);if(o!==null){var c=Sn();Dr(o,s,134217728,c)}ym(s,134217728)}},jc=function(s){if(s.tag===13){var o=fs(s),c=Si(s,o);if(c!==null){var h=Sn();Dr(c,s,o,h)}ym(s,o)}},qc=function(){return $e},Uc=function(s,o){var c=$e;try{return $e=s,o()}finally{$e=c}},za=function(s,o,c){switch(o){case"input":if(Ve(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=sd(h);if(!g)throw Error(t(90));jr(h),Ve(h,g)}}}break;case"textarea":wn(s,c);break;case"select":o=c.value,o!=null&&Mt(s,!!c.multiple,o,!1)}},Ws=dm,bu=da;var GO={usingClientEntryPoint:!1,Events:[Wu,mo,sd,$r,Tu,dm]},sl={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KO={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ru(s),s===null?null:s.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Qs=zd.inject(KO),Hn=zd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO,On.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(o))throw Error(t(200));return WO(s,o,null,c)},On.createRoot=function(s,o){if(!wm(s))throw Error(t(299));var c=!1,h="",g=a1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=vm(s,1,!1,null,null,c,!1,h,g),s[wi]=o.current,$u(s.nodeType===8?s.parentNode:s),new _m(o)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ru(o),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return da(s)},On.hydrate=function(s,o,c){if(!Ud(o))throw Error(t(200));return $d(null,s,o,!0,c)},On.hydrateRoot=function(s,o,c){if(!wm(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",A=a1;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=i1(o,null,s,1,c??null,g,!1,w,A),s[wi]=o.current,$u(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new qd(o)},On.render=function(s,o,c){if(!Ud(o))throw Error(t(200));return $d(null,s,o,!1,c)},On.unmountComponentAtNode=function(s){if(!Ud(s))throw Error(t(40));return s._reactRootContainer?(da(function(){$d(null,null,s,!1,function(){s._reactRootContainer=null,s[wi]=null})}),!0):!1},On.unstable_batchedUpdates=dm,On.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!Ud(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return $d(s,o,c,!1,h)},On.version="18.3.1-next-f1338f8080-20240426",On}var m1;function mx(){if(m1)return bm.exports;m1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bm.exports=r2(),bm.exports}var g1;function i2(){if(g1)return Wd;g1=1;var n=mx();return Wd.createRoot=n.createRoot,Wd.hydrateRoot=n.hydrateRoot,Wd}var s2=i2(),ol={},v1;function a2(){if(v1)return ol;v1=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=u,ol.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,E){const T=new a,S=y.length;if(S<2)return T;const I=(E==null?void 0:E.decode)||m;let C=0;do{const P=y.indexOf("=",C);if(P===-1)break;const V=y.indexOf(";",C),L=V===-1?S:V;if(P>L){C=y.lastIndexOf(";",P-1)+1;continue}const W=l(y,C,P),z=d(y,P,W),k=y.slice(W,z);if(T[k]===void 0){let R=l(y,P+1,L),x=d(y,L,R);const N=I(y.slice(R,x));T[k]=N}C=L+1}while(C<S);return T}function l(y,E,T){do{const S=y.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<T);return T}function d(y,E,T){for(;E>T;){const S=y.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return T}function p(y,E,T){const S=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const I=S(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let C=y+"="+I;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return i.call(y)==="[object Date]"}return ol}a2();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y1="popstate";function o2(n={}){function e(i,a){let{pathname:u="/",search:l="",hash:d=""}=La(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),I_("",{pathname:u,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let u=i.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");l=p===-1?d:d.slice(0,p)}return l+"#"+(typeof a=="string"?a:Dl(a))}function r(i,a){dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return l2(e,t,r,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u2(){return Math.random().toString(36).substring(2,10)}function _1(n,e){return{usr:n.state,key:n.key,idx:e}}function I_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||r||u2()}}function Dl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function l2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,l="POP",d=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){l="POP";let I=m(),C=I==null?null:I-p;p=I,d&&d({action:l,location:S.location,delta:C})}function y(I,C){l="PUSH";let P=I_(S.location,I,C);t(P,I),p=m()+1;let V=_1(P,p),L=S.createHref(P);try{u.pushState(V,"",L)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(L)}a&&d&&d({action:l,location:S.location,delta:1})}function E(I,C){l="REPLACE";let P=I_(S.location,I,C);t(P,I),p=m();let V=_1(P,p),L=S.createHref(P);u.replaceState(V,"",L),a&&d&&d({action:l,location:S.location,delta:0})}function T(I){let C=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof I=="string"?I:Dl(I);return P=P.replace(/ $/,"%20"),ft(C,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,C)}let S={get action(){return l},get location(){return n(i,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(y1,v),d=I,()=>{i.removeEventListener(y1,v),d=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:E,go(I){return u.go(I)}};return S}function gx(n,e,t="/"){return c2(n,e,t,!1)}function c2(n,e,t,r){let i=typeof e=="string"?La(e):e,a=xs(i.pathname||"/",t);if(a==null)return null;let u=vx(n);d2(u);let l=null;for(let d=0;l==null&&d<u.length;++d){let p=T2(a);l=w2(u[d],p,r)}return l}function vx(n,e=[],t=[],r=""){let i=(a,u,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(ft(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Mi([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),vx(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:y2(p,a.index),routesMeta:m})};return n.forEach((a,u)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,u);else for(let d of yx(a.path))i(a,u,d)}),e}function yx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=yx(r.join("/")),l=[];return l.push(...u.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...u),l.map(d=>n.startsWith("/")&&d===""?"/":d)}function d2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var f2=/^:[\w-]+$/,h2=3,p2=2,m2=1,g2=10,v2=-2,w1=n=>n==="*";function y2(n,e){let t=n.split("/"),r=t.length;return t.some(w1)&&(r+=v2),e&&(r+=p2),t.filter(i=>!w1(i)).reduce((i,a)=>i+(f2.test(a)?h2:a===""?m2:g2),r)}function _2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function w2(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",u=[];for(let l=0;l<r.length;++l){let d=r[l],p=l===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),y=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Mi([a,v.pathname]),pathnameBase:R2(Mi([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Mi([a,v.pathnameBase]))}return u}function Af(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=E2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},y)=>{if(m==="*"){let T=l[y]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const E=l[y];return v&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function E2(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function T2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function b2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?La(n):n;return{pathname:t?t.startsWith("/")?t:S2(t,e):e,search:A2(r),hash:x2(i)}}function S2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fw(n){let e=I2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hw(n,e,t,r=!1){let i;typeof n=="string"?i=La(n):(i={...n},ft(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,l;if(u==null)l=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}l=v>=0?e[v]:"/"}let d=b2(i,l),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Mi=n=>n.join("/").replace(/\/\/+/g,"/"),R2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,x2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _x=["POST","PUT","PATCH","DELETE"];new Set(_x);var P2=["GET",..._x];new Set(P2);var ru=$.createContext(null);ru.displayName="DataRouter";var rh=$.createContext(null);rh.displayName="DataRouterState";var wx=$.createContext({isTransitioning:!1});wx.displayName="ViewTransition";var k2=$.createContext(new Map);k2.displayName="Fetchers";var D2=$.createContext(null);D2.displayName="Await";var Fr=$.createContext(null);Fr.displayName="Navigation";var sc=$.createContext(null);sc.displayName="Location";var ci=$.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var pw=$.createContext(null);pw.displayName="RouteError";function O2(n,{relative:e}={}){ft(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Fr),{hash:i,pathname:a,search:u}=ac(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Mi([t,a])),r.createHref({pathname:l,search:u,hash:i})}function iu(){return $.useContext(sc)!=null}function di(){return ft(iu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(sc).location}var Ex="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tx(n){$.useContext(Fr).static||$.useLayoutEffect(n)}function Va(){let{isDataRoute:n}=$.useContext(ci);return n?H2():N2()}function N2(){ft(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(ru),{basename:e,navigator:t}=$.useContext(Fr),{matches:r}=$.useContext(ci),{pathname:i}=di(),a=JSON.stringify(fw(r)),u=$.useRef(!1);return Tx(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(dr(u.current,Ex),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=hw(d,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,i,n])}$.createContext(null);function ac(n,{relative:e}={}){let{matches:t}=$.useContext(ci),{pathname:r}=di(),i=JSON.stringify(fw(t));return $.useMemo(()=>hw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function M2(n,e){return bx(n,e)}function bx(n,e,t,r){var C;ft(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(Fr),{matches:a}=$.useContext(ci),u=a[a.length-1],l=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let P=m&&m.path||"";Sx(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=di(),y;if(e){let P=typeof e=="string"?La(e):e;ft(p==="/"||((C=P.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),y=P}else y=v;let E=y.pathname||"/",T=E;if(p!=="/"){let P=p.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=gx(n,{pathname:T});dr(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),dr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=q2(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Mi([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Mi([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&I?$.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},I):I}function L2(){let n=W2(),e=C2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,u)}var V2=$.createElement(L2,null),F2=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ci.Provider,{value:this.props.routeContext},$.createElement(pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j2({routeContext:n,match:e,children:t}){let r=$.useContext(ru);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ci.Provider,{value:n},t)}function q2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,l=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:m,errors:v}=t,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){u=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let v,y=!1,E=null,T=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,E=p.route.errorElement||V2,u&&(l<0&&m===0?(Sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):l===m&&(y=!0,T=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),I=()=>{let C;return v?C=E:y?C=T:p.route.Component?C=$.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,$.createElement(j2,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?$.createElement(F2,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function mw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(n){let e=$.useContext(ru);return ft(e,mw(n)),e}function $2(n){let e=$.useContext(rh);return ft(e,mw(n)),e}function z2(n){let e=$.useContext(ci);return ft(e,mw(n)),e}function gw(n){let e=z2(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function B2(){return gw("useRouteId")}function W2(){var r;let n=$.useContext(pw),e=$2("useRouteError"),t=gw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function H2(){let{router:n}=U2("useNavigate"),e=gw("useNavigate"),t=$.useRef(!1);return Tx(()=>{t.current=!0}),$.useCallback(async(i,a={})=>{dr(t.current,Ex),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var E1={};function Sx(n,e,t){!e&&!E1[n]&&(E1[n]=!0,dr(!1,t))}$.memo(G2);function G2({routes:n,future:e,state:t}){return bx(n,void 0,t,e)}function pl({to:n,replace:e,state:t,relative:r}){ft(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=$.useContext(Fr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(ci),{pathname:u}=di(),l=Va(),d=hw(n,fw(a),u,r==="path"),p=JSON.stringify(d);return $.useEffect(()=>{l(JSON.parse(p),{replace:e,state:t,relative:r})},[l,p,r,e,t]),null}function Ci(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ft(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=La(t));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:y="default"}=t,E=$.useMemo(()=>{let T=xs(d,u);return T==null?null:{location:{pathname:T,search:p,hash:m,state:v,key:y},navigationType:r}},[u,d,p,m,v,y,r]);return dr(E!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:$.createElement(Fr.Provider,{value:l},$.createElement(sc.Provider,{children:e,value:E}))}function Y2({children:n,location:e}){return M2(R_(n),e)}function R_(n,e=[]){let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){t.push.apply(t,R_(r.props.children,a));return}ft(r.type===Ci,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=R_(r.props.children,a)),t.push(u)}),t}var rf="get",sf="application/x-www-form-urlencoded";function ih(n){return n!=null&&typeof n.tagName=="string"}function Q2(n){return ih(n)&&n.tagName.toLowerCase()==="button"}function X2(n){return ih(n)&&n.tagName.toLowerCase()==="form"}function J2(n){return ih(n)&&n.tagName.toLowerCase()==="input"}function Z2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eN(n,e){return n.button===0&&(!e||e==="_self")&&!Z2(n)}var Hd=null;function tN(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var nN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(n){return n!=null&&!nN.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):n}function rN(n,e){let t,r,i,a,u;if(X2(n)){let l=n.getAttribute("action");r=l?xs(l,e):null,t=n.getAttribute("method")||rf,i=Am(n.getAttribute("enctype"))||sf,a=new FormData(n)}else if(Q2(n)||J2(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||l.getAttribute("action");if(r=d?xs(d,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||rf,i=Am(n.getAttribute("formenctype"))||Am(l.getAttribute("enctype"))||sf,a=new FormData(l,n),!tN()){let{name:p,type:m,value:v}=n;if(m==="image"){let y=p?`${p}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else p&&a.append(p,v)}}else{if(ih(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rf,r=null,i=sf,u=n}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:u}}function vw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function iN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aN(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await iN(a,t);return u.links?u.links():[]}return[]}));return cN(r.flat(1).filter(sN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T1(n,e,t,r,i,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,l=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||l(d,p)):a==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,p)||l(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function oN(n,e){return uN(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function uN(n){return[...new Set(n)]}function lN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function cN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(lN(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function dN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fN(){let n=$.useContext(ru);return vw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hN(){let n=$.useContext(rh);return vw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yw=$.createContext(void 0);yw.displayName="FrameworkContext";function Ix(){let n=$.useContext(yw);return vw(n,"You must render this element inside a <HydratedRouter> element"),n}function pN(n,e){let t=$.useContext(yw),[r,i]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,y=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=C=>{C.forEach(P=>{u(P.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return y.current&&I.observe(y.current),()=>{I.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},T=()=>{i(!1),u(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:ul(l,E),onBlur:ul(d,T),onMouseEnter:ul(p,E),onMouseLeave:ul(m,T),onTouchStart:ul(v,E)}]:[!1,y,{}]}function ul(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mN({page:n,...e}){let{router:t}=fN(),r=$.useMemo(()=>gx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(vN,{page:n,matches:r,...e}):null}function gN(n){let{manifest:e,routeModules:t}=Ix(),[r,i]=$.useState([]);return $.useEffect(()=>{let a=!1;return aN(n,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[n,e,t]),r}function vN({page:n,matches:e,...t}){let r=di(),{manifest:i,routeModules:a}=Ix(),{loaderData:u,matches:l}=hN(),d=$.useMemo(()=>T1(n,e,l,i,r,"data"),[n,e,l,i,r]),p=$.useMemo(()=>T1(n,e,l,i,r,"assets"),[n,e,l,i,r]),m=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(I=>{var P;let C=i.routes[I.route.id];!C||!C.hasLoader||(!d.some(V=>V.route.id===I.route.id)&&I.route.id in u&&((P=a[I.route.id])!=null&&P.shouldRevalidate)||C.hasClientLoader?T=!0:E.add(I.route.id))}),E.size===0)return[];let S=dN(n);return T&&E.size>0&&S.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[u,r,i,d,e,n,a]),v=$.useMemo(()=>oN(p,i),[p,i]),y=gN(p);return $.createElement($.Fragment,null,m.map(E=>$.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>$.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),y.map(({key:E,link:T})=>$.createElement("link",{key:E,...T})))}function yN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rx&&(window.__reactRouterVersion="7.1.1")}catch{}function _N({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=o2({window:t,v5Compat:!0}));let i=r.current,[a,u]=$.useState({action:i.action,location:i.location}),l=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>i.listen(l),[i,l]),$.createElement(K2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var Ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:l,target:d,to:p,preventScrollReset:m,viewTransition:v,...y},E){let{basename:T}=$.useContext(Fr),S=typeof p=="string"&&Ax.test(p),I,C=!1;if(typeof p=="string"&&S&&(I=p,Rx))try{let x=new URL(window.location.href),N=p.startsWith("//")?new URL(x.protocol+p):new URL(p),M=xs(N.pathname,T);N.origin===x.origin&&M!=null?p=M+N.search+N.hash:C=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=O2(p,{relative:i}),[V,L,W]=pN(r,y),z=bN(p,{replace:u,state:l,target:d,preventScrollReset:m,relative:i,viewTransition:v});function k(x){e&&e(x),x.defaultPrevented||z(x)}let R=$.createElement("a",{...y,...W,href:I||P,onClick:C||a?e:k,ref:yN(E,L),target:d,"data-discover":!S&&t==="render"?"true":void 0});return V&&!S?$.createElement($.Fragment,null,R,$.createElement(mN,{page:P})):R});xx.displayName="Link";var wN=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:l,children:d,...p},m){let v=ac(u,{relative:p.relative}),y=di(),E=$.useContext(rh),{navigator:T,basename:S}=$.useContext(Fr),I=E!=null&&xN(v)&&l===!0,C=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,P=y.pathname,V=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(P=P.toLowerCase(),V=V?V.toLowerCase():null,C=C.toLowerCase()),V&&S&&(V=xs(V,S)||V);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let W=P===C||!i&&P.startsWith(C)&&P.charAt(L)==="/",z=V!=null&&(V===C||!i&&V.startsWith(C)&&V.charAt(C.length)==="/"),k={isActive:W,isPending:z,isTransitioning:I},R=W?e:void 0,x;typeof r=="function"?x=r(k):x=[r,W?"active":null,z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return $.createElement(xx,{...p,"aria-current":R,className:x,ref:m,style:N,to:u,viewTransition:l},typeof d=="function"?d(k):d)});wN.displayName="NavLink";var EN=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:u=rf,action:l,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...y},E)=>{let T=RN(),S=AN(l,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&Ax.test(l),P=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let L=V.nativeEvent.submitter,W=(L==null?void 0:L.getAttribute("formmethod"))||u;T(L||V.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:i,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return $.createElement("form",{ref:E,method:I,action:S,onSubmit:r?d:P,...y,"data-discover":!C&&n==="render"?"true":void 0})});EN.displayName="Form";function TN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cx(n){let e=$.useContext(ru);return ft(e,TN(n)),e}function bN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let l=Va(),d=di(),p=ac(n,{relative:a});return $.useCallback(m=>{if(eN(m,e)){m.preventDefault();let v=t!==void 0?t:Dl(d)===Dl(p);l(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[d,l,p,t,r,e,n,i,a,u])}var SN=0,IN=()=>`__${String(++SN)}__`;function RN(){let{router:n}=Cx("useSubmit"),{basename:e}=$.useContext(Fr),t=B2();return $.useCallback(async(r,i={})=>{let{action:a,method:u,encType:l,formData:d,body:p}=rN(r,e);if(i.navigate===!1){let m=i.fetcherKey||IN();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function AN(n,{relative:e}={}){let{basename:t}=$.useContext(Fr),r=$.useContext(ci);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ac(n||".",{relative:e})},u=di();if(n==null){a.search=u.search;let l=new URLSearchParams(a.search),d=l.getAll("index");if(d.some(m=>m==="")){l.delete("index"),d.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Mi([t,a.pathname])),Dl(a)}function xN(n,e={}){let t=$.useContext(wx);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cx("useViewTransitionState"),i=ac(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=xs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=xs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Af(i.pathname,u)!=null||Af(i.pathname,a)!=null}new TextEncoder;var CN=mx();const Px=qn(CN);var b1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},PN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],l=n[t++],d=((i&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,l=u?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=a>>2,v=(a&3)<<4|l>>4;let y=(l&15)<<2|p>>6,E=p&63;d||(E=64,u||(y=64)),r.push(t[m],t[v],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):PN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||l==null||p==null||v==null)throw new kN;const y=a<<2|l>>4;if(r.push(y),p!==64){const E=l<<4&240|p>>2;if(r.push(E),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DN=function(n){const e=kx(n);return Dx.encodeByteArray(e,!0)},xf=function(n){return DN(n).replace(/\./g,"")},Ox=function(n){try{return Dx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=()=>ON().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof b1>"u")return;const n=b1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ox(n[1]);return e&&JSON.parse(e)},sh=()=>{try{return NN()||MN()||LN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nx=n=>{var e,t;return(t=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VN=n=>{const e=Nx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mx=()=>{var n;return(n=sh())===null||n===void 0?void 0:n.config},Lx=n=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xf(JSON.stringify(t)),xf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function UN(){var n;const e=(n=sh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WN(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HN(){return!UN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){try{return typeof indexedDB=="object"}catch{return!1}}function KN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class Bi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?QN(a,r):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new Bi(i,l,r)}}function QN(n,e){return n.replace(XN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XN=/\{\$([^}]+)}/g;function JN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ol(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(S1(a)&&S1(u)){if(!Ol(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function S1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZN(n,e){const t=new eM(n,e);return t.subscribe.bind(t)}class eM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xm),i.error===void 0&&(i.error=xm),i.complete===void 0&&(i.complete=xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n){return n&&n._delegate?n._delegate:n}class ba{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iM(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rM(n){return n===ma?void 0:n}function iM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const aM={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},oM=je.INFO,uM={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},lM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=uM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _w{constructor(e){this.name=e,this._logLevel=oM,this._logHandler=lM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const cM=(n,e)=>e.some(t=>n instanceof t);let I1,R1;function dM(){return I1||(I1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fM(){return R1||(R1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vx=new WeakMap,A_=new WeakMap,Fx=new WeakMap,Cm=new WeakMap,ww=new WeakMap;function hM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bs(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Vx.set(t,n)}).catch(()=>{}),ww.set(e,n),e}function pM(n){if(A_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});A_.set(n,e)}let x_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mM(n){x_=n(x_)}function gM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pm(this),e,...t);return Fx.set(r,e.sort?e.sort():[e]),bs(r)}:fM().includes(n)?function(...e){return n.apply(Pm(this),e),bs(Vx.get(this))}:function(...e){return bs(n.apply(Pm(this),e))}}function vM(n){return typeof n=="function"?gM(n):(n instanceof IDBTransaction&&pM(n),cM(n,dM())?new Proxy(n,x_):n)}function bs(n){if(n instanceof IDBRequest)return hM(n);if(Cm.has(n))return Cm.get(n);const e=vM(n);return e!==n&&(Cm.set(n,e),ww.set(e,n)),e}const Pm=n=>ww.get(n);function yM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),l=bs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(bs(u.result),d.oldVersion,d.newVersion,bs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const _M=["get","getKey","getAll","getAllKeys","count"],wM=["put","add","delete","clear"],km=new Map;function A1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=wM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_M.includes(t)))return;const a=async function(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[t](...l),i&&d.done]))[0]};return km.set(e,a),a}mM(n=>({...n,get:(e,t,r)=>A1(e,t)||n.get(e,t,r),has:(e,t)=>!!A1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function TM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C_="@firebase/app",x1="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new _w("@firebase/app"),bM="@firebase/app-compat",SM="@firebase/analytics-compat",IM="@firebase/analytics",RM="@firebase/app-check-compat",AM="@firebase/app-check",xM="@firebase/auth",CM="@firebase/auth-compat",PM="@firebase/database",kM="@firebase/data-connect",DM="@firebase/database-compat",OM="@firebase/functions",NM="@firebase/functions-compat",MM="@firebase/installations",LM="@firebase/installations-compat",VM="@firebase/messaging",FM="@firebase/messaging-compat",jM="@firebase/performance",qM="@firebase/performance-compat",UM="@firebase/remote-config",$M="@firebase/remote-config-compat",zM="@firebase/storage",BM="@firebase/storage-compat",WM="@firebase/firestore",HM="@firebase/vertexai",GM="@firebase/firestore-compat",KM="firebase",YM="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="[DEFAULT]",QM={[C_]:"fire-core",[bM]:"fire-core-compat",[IM]:"fire-analytics",[SM]:"fire-analytics-compat",[AM]:"fire-app-check",[RM]:"fire-app-check-compat",[xM]:"fire-auth",[CM]:"fire-auth-compat",[PM]:"fire-rtdb",[kM]:"fire-data-connect",[DM]:"fire-rtdb-compat",[OM]:"fire-fn",[NM]:"fire-fn-compat",[MM]:"fire-iid",[LM]:"fire-iid-compat",[VM]:"fire-fcm",[FM]:"fire-fcm-compat",[jM]:"fire-perf",[qM]:"fire-perf-compat",[UM]:"fire-rc",[$M]:"fire-rc-compat",[zM]:"fire-gcs",[BM]:"fire-gcs-compat",[WM]:"fire-fst",[GM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[KM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,XM=new Map,k_=new Map;function C1(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uo(n){const e=n.name;if(k_.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;k_.set(e,n);for(const t of Cf.values())C1(t,n);for(const t of XM.values())C1(t,n);return!0}function Ew(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Or(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new oc("app","Firebase",JM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=YM;function jx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(t||(t=Mx()),!t)throw Ss.create("no-options");const a=Cf.get(i);if(a){if(Ol(t,a.options)&&Ol(r,a.config))return a;throw Ss.create("duplicate-app",{appName:i})}const u=new sM(i);for(const d of k_.values())u.addComponent(d);const l=new ZM(t,r,u);return Cf.set(i,l),l}function qx(n=P_){const e=Cf.get(n);if(!e&&n===P_&&Mx())return jx();if(!e)throw Ss.create("no-app",{appName:n});return e}function Is(n,e,t){var r;let i=(r=QM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&l.push("and"),u&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(l.join(" "));return}Uo(new ba(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-heartbeat-database",tL=1,Nl="firebase-heartbeat-store";let Dm=null;function Ux(){return Dm||(Dm=yM(eL,tL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ss.create("idb-open",{originalErrorMessage:n.message})})),Dm}async function nL(n){try{const t=(await Ux()).transaction(Nl),r=await t.objectStore(Nl).get($x(n));return await t.done,r}catch(e){if(e instanceof Bi)Vi.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(t.message)}}}async function P1(n,e){try{const r=(await Ux()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,$x(n)),await r.done}catch(t){if(t instanceof Bi)Vi.warn(t.message);else{const r=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(r.message)}}}function $x(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,iL=30*24*60*60*1e3;class sL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=k1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=iL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k1(),{heartbeatsToSend:r,unsentEntries:i}=aL(this._heartbeatsCache.heartbeats),a=xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vi.warn(t),""}}}function k1(){return new Date().toISOString().substring(0,10)}function aL(n,e=rL){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),D1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),D1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class oL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GN()?KN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D1(n){return xf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){Uo(new ba("platform-logger",e=>new EM(e),"PRIVATE")),Uo(new ba("heartbeat",e=>new sL(e),"PRIVATE")),Is(C_,x1,n),Is(C_,x1,"esm2017"),Is("fire-js","")}uL("");function Tw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lL=zx,Bx=new oc("auth","Firebase",zx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new _w("@firebase/auth");function cL(n,...e){Pf.logLevel<=je.WARN&&Pf.warn(`Auth (${su}): ${n}`,...e)}function af(n,...e){Pf.logLevel<=je.ERROR&&Pf.error(`Auth (${su}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n,...e){throw Sw(n,...e)}function Nr(n,...e){return Sw(n,...e)}function bw(n,e,t){const r=Object.assign(Object.assign({},lL()),{[e]:t});return new oc("auth","Firebase",r).create(e,{appName:n.name})}function Li(n){return bw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fr(n,"argument-error"),bw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Bx.create(n,...e)}function Ce(n,e,...t){if(!n)throw Sw(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw af(e),new Error(e)}function Fi(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fL(){return O1()==="http:"||O1()==="https:"}function O1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||zN()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=qN()||BN()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new lc(3e4,6e4);function Ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Vs(n,e,t,r,i={}){return Hx(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const l=uc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return $N()||(p.referrerPolicy="no-referrer"),Wx.fetch()(Gx(n,n.config.apiHost,t,l),p)})}async function Hx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},mL),e);try{const i=new yL(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Gd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const l=a.ok?u.errorMessage:u.error.message,[d,p]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Gd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Gd(n,"user-disabled",u);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bw(n,m,p);fr(n,m)}}catch(i){if(i instanceof Bi)throw i;fr(n,"network-request-failed",{message:String(i)})}}async function cc(n,e,t,r,i={}){const a=await Vs(n,e,t,r,i);return"mfaPendingCredential"in a&&fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Gx(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Iw(n.config,i):`${n.config.apiScheme}://${i}`}function vL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),gL.get())})}}function Gd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Nr(n,e,r);return i.customData._tokenResponse=t,i}function N1(n){return n!==void 0&&n.enterprise!==void 0}class _L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wL(n,e){return Vs(n,"GET","/v2/recaptchaConfig",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(n,e){return Vs(n,"POST","/v1/accounts:delete",e)}async function Kx(n,e){return Vs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TL(n,e=!1){const t=Ot(n),r=await t.getIdToken(e),i=Rw(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Il(Om(i.auth_time)),issuedAtTime:Il(Om(i.iat)),expirationTime:Il(Om(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Om(n){return Number(n)*1e3}function Rw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ox(t);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M1(n){const e=Rw(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bi&&bL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ml(n,Kx(t,{idToken:r}));Ce(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Yx(a.providerUserInfo):[],l=RL(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(l!=null&&l.length),m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new O_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function IL(n){const e=Ot(n);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yx(n){return n.map(e=>{var{providerId:t}=e,r=Tw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(n,e){const t=await Hx(n,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=Gx(n,i,"/v1/token",`key=${a}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Wx.fetch()(u,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xL(n,e){return Vs(n,"POST","/v2/accounts:revokeToken",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=M1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await AL(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Lo;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Tw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new O_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TL(this,e)}reload(){return IL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Ml(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,u,l,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,E=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(l=t.tenantId)!==null&&l!==void 0?l:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,P=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:L,isAnonymous:W,providerData:z,stsTokenManager:k}=t;Ce(V&&k,e,"internal-error");const R=Lo.fromJSON(this.name,k);Ce(typeof V=="string",e,"internal-error"),gs(v,e.name),gs(y,e.name),Ce(typeof L=="boolean",e,"internal-error"),Ce(typeof W=="boolean",e,"internal-error"),gs(E,e.name),gs(T,e.name),gs(S,e.name),gs(I,e.name),gs(C,e.name),gs(P,e.name);const x=new Oi({uid:V,auth:e,email:y,emailVerified:L,displayName:v,isAnonymous:W,photoURL:T,phoneNumber:E,tenantId:S,stsTokenManager:R,createdAt:C,lastLoginAt:P});return z&&Array.isArray(z)&&(x.providerData=z.map(N=>Object.assign({},N))),I&&(x._redirectEventId=I),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new Lo;i.updateFromServerResponse(t);const a=new Oi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Yx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Lo;l.updateFromIdToken(r);const d=new Oi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new O_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;function Ni(n){Fi(n instanceof Function,"Expected a class definition");let e=L1.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,L1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qx.type="NONE";const V1=Qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=of(this.userKey,i.apiKey,a),this.fullPersistenceKey=of("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vo(Ni(V1),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Ni(V1);const u=of(r,e.config.apiKey,e.name);let l=null;for(const p of t)try{const m=await p._get(u);if(m){const v=Oi._fromJSON(e,m);p!==a&&(l=v),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Vo(a,e,r):(a=d[0],l&&await a._set(u,l.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Vo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nC(e))return"Blackberry";if(rC(e))return"Webos";if(Jx(e))return"Safari";if((e.includes("chrome/")||Zx(e))&&!e.includes("edge/"))return"Chrome";if(tC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xx(n=mn()){return/firefox\//i.test(n)}function Jx(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zx(n=mn()){return/crios\//i.test(n)}function eC(n=mn()){return/iemobile/i.test(n)}function tC(n=mn()){return/android/i.test(n)}function nC(n=mn()){return/blackberry/i.test(n)}function rC(n=mn()){return/webos/i.test(n)}function Aw(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CL(n=mn()){var e;return Aw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PL(){return WN()&&document.documentMode===10}function iC(n=mn()){return Aw(n)||tC(n)||rC(n)||nC(n)||/windows phone/i.test(n)||eC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n,e=[]){let t;switch(n){case"Browser":t=F1(mn());break;case"Worker":t=`${F1(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,l)=>{try{const d=e(a);u(d)}catch(d){l(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(n,e={}){return Vs(n,"GET","/v2/passwordPolicy",Ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=6;class NL{constructor(e){var t,r,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:OL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,u,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new kL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kx(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===l)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Li(this));const t=e?Ot(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DL(this),t=new NL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fs(n){return Ot(n)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZN(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(n){ah=n}function aC(n){return ah.loadJS(n)}function VL(){return ah.recaptchaEnterpriseScript}function FL(){return ah.gapiScript}function jL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qL{constructor(){this.enterprise=new UL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $L="recaptcha-enterprise",oC="NO_RECAPTCHA";class zL{constructor(e){this.type=$L,this.auth=Fs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,l)=>{wL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const p=new _L(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{l(d)})})}function i(a,u,l){const d=window.grecaptcha;N1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(oC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qL().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(l=>{if(!t&&N1(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=VL();d.length!==0&&(d+=l),aC(d).then(()=>{i(l,a,u)}).catch(p=>{u(p)})}}).catch(l=>{u(l)})})}}async function q1(n,e,t,r=!1,i=!1){const a=new zL(n);let u;if(i)u=oC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const d=l.phoneEnrollmentInfo.phoneNumber,p=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:u}):Object.assign(l,{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function N_(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await q1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await q1(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n,e){const t=Ew(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ol(a,e??{}))return i;fr(i,"already-initialized")}return t.initialize({options:e})}function WL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HL(n,e,t){const r=Fs(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=uC(e),{host:u,port:l}=GL(e),d=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),KL()}function uC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GL(n){const e=uC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:U1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:U1(u)}}}function U1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function YL(n,e){return Vs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e){return cc(n,"POST","/v1/accounts:signInWithPassword",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e){return cc(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}async function JL(n,e){return cc(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends xw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ll(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ll(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,t,"signInWithPassword",QL);case"emailLink":return XL(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,r,"signUpPassword",YL);case"emailLink":return JL(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e){return cc(n,"POST","/v1/accounts:signInWithIdp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="http://localhost";class Sa extends xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Tw(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Sa(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:ZL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,r=ml(gl(n)).deep_link_id;return(r?ml(gl(r)).link:null)||r||t||e||n}class Cw{constructor(e){var t,r,i,a,u,l;const d=ml(gl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=eV((i=d.mode)!==null&&i!==void 0?i:null);Ce(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=tV(e);try{return new Cw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,t){return Ll._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cw.parseLink(t);return Ce(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends dc{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sa._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends dc{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends dc{constructor(){super("twitter.com")}static credential(e,t){return Sa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ws.credential(t,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(n,e){return cc(n,"POST","/v1/accounts:signUp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Oi._fromIdTokenResponse(e,r,i),u=$1(r);return new Ia({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=$1(r);return new Ia({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function $1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Bi{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Df(e,t,r,i)}}function lC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(n,a,e,r):a})}async function rV(n,e,t=!1){const r=await Ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ia._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(n,e,t=!1){const{auth:r}=n;if(Or(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const a=await Ml(n,lC(r,i,e,n),t);Ce(a.idToken,r,"internal-error");const u=Rw(a.idToken);Ce(u,r,"internal-error");const{sub:l}=u;return Ce(n.uid===l,r,"user-mismatch"),Ia._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(n,e,t=!1){if(Or(n.app))return Promise.reject(Li(n));const r="signIn",i=await lC(n,r,e),a=await Ia._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function sV(n,e){return cC(Fs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n){const e=Fs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aV(n,e,t){if(Or(n.app))return Promise.reject(Li(n));const r=Fs(n),u=await N_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dC(n),d}),l=await Ia._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(l.user),l}function oV(n,e,t){return Or(n.app)?Promise.reject(Li(n)):sV(Ot(n),au.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n,e){return Ot(n).setPersistence(e)}function lV(n,e,t,r){return Ot(n).onIdTokenChanged(e,t,r)}function cV(n,e,t){return Ot(n).beforeAuthStateChanged(e,t)}function Vl(n,e,t,r){return Ot(n).onAuthStateChanged(e,t,r)}function dV(n){return Ot(n).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=1e3,hV=10;class hC extends fC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,l,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);PL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hV):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const pC=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends fC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mC.type="SESSION";const gC=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(u).map(async p=>p(t.origin,a)),d=await pV(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((l,d)=>{const p=kw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function gV(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function vV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _V(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",wV=1,Nf="firebaseLocalStorage",_C="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uh(n,e){return n.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function EV(){const n=indexedDB.deleteDatabase(yC);return new fc(n).toPromise()}function M_(){const n=indexedDB.open(yC,wV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nf,{keyPath:_C})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nf)?e(r):(r.close(),await EV(),e(await M_()))})})}async function z1(n,e,t){const r=uh(n,!0).put({[_C]:e,value:t});return new fc(r).toPromise()}async function TV(n,e){const t=uh(n,!1).get(e),r=await new fc(t).toPromise();return r===void 0?null:r.value}function B1(n,e){const t=uh(n,!0).delete(e);return new fc(t).toPromise()}const bV=800,SV=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(_V()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await vV(),!this.activeServiceWorker)return;this.sender=new mV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await z1(e,Of,"1"),await B1(e,Of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uh(i,!1).getAll();return new fc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const IV=wC;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n,e){return e?Ni(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RV(n){return cC(n.auth,new Dw(n),n.bypassAuthState)}function AV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),iV(t,new Dw(n),n.bypassAuthState)}async function xV(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),rV(t,new Dw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:l}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RV;case"linkViaPopup":case"linkViaRedirect":return xV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:fr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new lc(2e3,1e4);async function bC(n,e,t){if(Or(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const r=Fs(n);dL(n,e,Pw);const i=EC(r,t);return new ya(r,"signInViaPopup",e,i).executeNotNull()}class ya extends TC{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CV.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="pendingRedirect",uf=new Map;class kV extends TC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await DV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DV(n,e){const t=MV(e),r=NV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function OV(n,e){uf.set(n._key(),e)}function NV(n){return Ni(n._redirectPersistence)}function MV(n){return of(PV,n.config.apiKey,n.name)}async function LV(n,e,t=!1){if(Or(n.app))return Promise.reject(Li(n));const r=Fs(n),i=EC(r,e),u=await new kV(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=10*60*1e3;class FV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VV&&this.cachedEventUids.clear(),this.cachedEventUids.has(W1(e))}saveEventToCache(e){this.cachedEventUids.add(W1(e)),this.lastProcessedEventTime=Date.now()}}function W1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e={}){return Vs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function zV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qV(n);for(const t of e)try{if(BV(t))return}catch{}fr(n,"unauthorized-domain")}function BV(n){const e=D_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!$V.test(t))return!1;if(UV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new lc(3e4,6e4);function H1(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HV(n){return new Promise((e,t)=>{var r,i,a;function u(){H1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H1(),t(Nr(n,"network-request-failed"))},timeout:WV.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ni().gapi)===null||a===void 0)&&a.load)u();else{const l=jL("iframefcb");return ni()[l]=()=>{gapi.load?u():t(Nr(n,"network-request-failed"))},aC(`${FL()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw lf=null,e})}let lf=null;function GV(n){return lf=lf||HV(n),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new lc(5e3,15e3),YV="__/auth/iframe",QV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Iw(e,QV):`https://${n.config.authDomain}/${YV}`,r={apiKey:e.apiKey,appName:n.name,v:su},i=JV.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${uc(r).slice(1)}`}async function e4(n){const e=await GV(n),t=ni().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:ZV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Nr(n,"network-request-failed"),l=ni().setTimeout(()=>{a(u)},KV.get());function d(){ni().clearTimeout(l),i(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,r4=600,i4="_blank",s4="http://localhost";class G1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(n,e,t,r=n4,i=r4){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const d=Object.assign(Object.assign({},t4),{width:r.toString(),height:i.toString(),top:a,left:u}),p=mn().toLowerCase();t&&(l=Zx(p)?i4:t),Xx(p)&&(e=e||s4,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[E,T])=>`${y}${E}=${T},`,"");if(CL(p)&&l!=="_self")return o4(e||"",l),new G1(null);const v=window.open(e||"",l,m);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new G1(v)}function o4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__/auth/handler",l4="emulator/auth/handler",c4=encodeURIComponent("fac");async function K1(n,e,t,r,i,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:su,eventId:i};if(e instanceof Pw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(e instanceof dc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const l=u;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const d=await n._getAppCheckToken(),p=d?`#${c4}=${encodeURIComponent(d)}`:"";return`${d4(n)}?${uc(l).slice(1)}${p}`}function d4({config:n}){return n.emulator?Iw(n,l4):`https://${n.authDomain}/${u4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class f4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=LV,this._overrideRedirectResult=OV}async _openPopup(e,t,r,i){var a;Fi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await K1(e,t,r,D_(),i);return a4(e,u,kw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await K1(e,t,r,D_(),i);return gV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Fi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await e4(e),r=new FV(e);return t.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Nm];u!==void 0&&t(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iC()||Jx()||Aw()}}const h4=f4;var Y1="@firebase/auth",Q1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g4(n){Uo(new ba("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sC(n)},p=new ML(r,i,a,d);return WL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new ba("auth-internal",e=>{const t=Fs(e.getProvider("auth").getImmediate());return(r=>new p4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Y1,Q1,m4(n)),Is(Y1,Q1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=5*60,y4=Lx("authIdTokenMaxAge")||v4;let X1=null;const _4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>y4)return;const i=t==null?void 0:t.token;X1!==i&&(X1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fl(n=qx()){const e=Ew(n,"auth");if(e.isInitialized())return e.getImmediate();const t=BL(n,{popupRedirectResolver:h4,persistence:[IV,pC,gC]}),r=Lx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=_4(a.toString());cV(t,u,()=>u(t.currentUser)),lV(t,l=>u(l))}}const i=Nx("auth");return i&&HL(t,`http://${i}`),t}function w4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Nr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",w4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g4("Browser");var E4="firebase",T4="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(E4,T4,"app");var J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,IC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function x(){}x.prototype=R.prototype,k.D=R.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(N,M,q){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return R.prototype[M].apply(N,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,x){x||(x=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(M=0;16>M;++M)N[M]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=k.g[0],x=k.g[1],M=k.g[2];var q=k.g[3],D=R+(q^x&(M^q))+N[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=q+(M^R&(x^M))+N[1]+3905402710&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(x^q&(R^x))+N[2]+606105819&4294967295,M=q+(D<<17&4294967295|D>>>15),D=x+(R^M&(q^R))+N[3]+3250441966&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(q^x&(M^q))+N[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=q+(M^R&(x^M))+N[5]+1200080426&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(x^q&(R^x))+N[6]+2821735955&4294967295,M=q+(D<<17&4294967295|D>>>15),D=x+(R^M&(q^R))+N[7]+4249261313&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(q^x&(M^q))+N[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=q+(M^R&(x^M))+N[9]+2336552879&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(x^q&(R^x))+N[10]+4294925233&4294967295,M=q+(D<<17&4294967295|D>>>15),D=x+(R^M&(q^R))+N[11]+2304563134&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(q^x&(M^q))+N[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=q+(M^R&(x^M))+N[13]+4254626195&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(x^q&(R^x))+N[14]+2792965006&4294967295,M=q+(D<<17&4294967295|D>>>15),D=x+(R^M&(q^R))+N[15]+1236535329&4294967295,x=M+(D<<22&4294967295|D>>>10),D=R+(M^q&(x^M))+N[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=q+(x^M&(R^x))+N[6]+3225465664&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(q^R))+N[11]+643717713&4294967295,M=q+(D<<14&4294967295|D>>>18),D=x+(q^R&(M^q))+N[0]+3921069994&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(x^M))+N[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=q+(x^M&(R^x))+N[10]+38016083&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(q^R))+N[15]+3634488961&4294967295,M=q+(D<<14&4294967295|D>>>18),D=x+(q^R&(M^q))+N[4]+3889429448&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(x^M))+N[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=q+(x^M&(R^x))+N[14]+3275163606&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(q^R))+N[3]+4107603335&4294967295,M=q+(D<<14&4294967295|D>>>18),D=x+(q^R&(M^q))+N[8]+1163531501&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(x^M))+N[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=q+(x^M&(R^x))+N[2]+4243563512&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^x&(q^R))+N[7]+1735328473&4294967295,M=q+(D<<14&4294967295|D>>>18),D=x+(q^R&(M^q))+N[12]+2368359562&4294967295,x=M+(D<<20&4294967295|D>>>12),D=R+(x^M^q)+N[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=q+(R^x^M)+N[8]+2272392833&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^x)+N[11]+1839030562&4294967295,M=q+(D<<16&4294967295|D>>>16),D=x+(M^q^R)+N[14]+4259657740&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^q)+N[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=q+(R^x^M)+N[4]+1272893353&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^x)+N[7]+4139469664&4294967295,M=q+(D<<16&4294967295|D>>>16),D=x+(M^q^R)+N[10]+3200236656&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^q)+N[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=q+(R^x^M)+N[0]+3936430074&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^x)+N[3]+3572445317&4294967295,M=q+(D<<16&4294967295|D>>>16),D=x+(M^q^R)+N[6]+76029189&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(x^M^q)+N[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=q+(R^x^M)+N[12]+3873151461&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^x)+N[15]+530742520&4294967295,M=q+(D<<16&4294967295|D>>>16),D=x+(M^q^R)+N[2]+3299628645&4294967295,x=M+(D<<23&4294967295|D>>>9),D=R+(M^(x|~q))+N[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=q+(x^(R|~M))+N[7]+1126891415&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~x))+N[14]+2878612391&4294967295,M=q+(D<<15&4294967295|D>>>17),D=x+(q^(M|~R))+N[5]+4237533241&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~q))+N[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=q+(x^(R|~M))+N[3]+2399980690&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~x))+N[10]+4293915773&4294967295,M=q+(D<<15&4294967295|D>>>17),D=x+(q^(M|~R))+N[1]+2240044497&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~q))+N[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=q+(x^(R|~M))+N[15]+4264355552&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~x))+N[6]+2734768916&4294967295,M=q+(D<<15&4294967295|D>>>17),D=x+(q^(M|~R))+N[13]+1309151649&4294967295,x=M+(D<<21&4294967295|D>>>11),D=R+(M^(x|~q))+N[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=q+(x^(R|~M))+N[11]+3174756917&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~x))+N[2]+718787259&4294967295,M=q+(D<<15&4294967295|D>>>17),D=x+(q^(M|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var x=R-this.blockSize,N=this.B,M=this.h,q=0;q<R;){if(M==0)for(;q<=x;)i(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<R;)if(N[M++]=k.charCodeAt(q++),M==this.blockSize){i(this,N),M=0;break}}else for(;q<R;)if(N[M++]=k[q++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var x=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=x&255,x/=256;for(this.u(k),k=Array(16),R=x=0;4>R;++R)for(var N=0;32>N;N+=8)k[x++]=this.g[R]>>>N&255;return k};function a(k,R){var x=l;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=R(k)}function u(k,R){this.h=R;for(var x=[],N=!0,M=k.length-1;0<=M;M--){var q=k[M]|0;N&&q==R||(x[M]=q,N=!1)}this.g=x}var l={};function d(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return I(p(-k));for(var R=[],x=1,N=0;k>=x;N++)R[N]=k/x|0,x*=4294967296;return new u(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return I(m(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(R,8)),N=v,M=0;M<k.length;M+=8){var q=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+q),R);8>q?(q=p(Math.pow(R,q)),N=N.j(q).add(p(D))):(N=N.j(x),N=N.add(p(D)))}return N}var v=d(0),y=d(1),E=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-I(this).m();for(var k=0,R=1,x=0;x<this.g.length;x++){var N=this.i(x);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+I(this).toString(k);for(var R=p(Math.pow(k,6)),x=this,N="";;){var M=L(x,R).g;x=C(x,M.j(R));var q=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=M,T(x))return q+N;for(;6>q.length;)q="0"+q;N=q+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}n.l=function(k){return k=C(this,k),S(k)?-1:T(k)?0:1};function I(k){for(var R=k.g.length,x=[],N=0;N<R;N++)x[N]=~k.g[N];return new u(x,~k.h).add(y)}n.abs=function(){return S(this)?I(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],N=0,M=0;M<=R;M++){var q=N+(this.i(M)&65535)+(k.i(M)&65535),D=(q>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);N=D>>>16,q&=65535,D&=65535,x[M]=D<<16|q}return new u(x,x[x.length-1]&-2147483648?-1:0)};function C(k,R){return k.add(I(R))}n.j=function(k){if(T(this)||T(k))return v;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,x=[],N=0;N<2*R;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<k.g.length;M++){var q=this.i(N)>>>16,D=this.i(N)&65535,ce=k.i(M)>>>16,be=k.i(M)&65535;x[2*N+2*M]+=D*be,P(x,2*N+2*M),x[2*N+2*M+1]+=q*be,P(x,2*N+2*M+1),x[2*N+2*M+1]+=D*ce,P(x,2*N+2*M+1),x[2*N+2*M+2]+=q*ce,P(x,2*N+2*M+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new u(x,0)};function P(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function V(k,R){this.g=k,this.h=R}function L(k,R){if(T(R))throw Error("division by zero");if(T(k))return new V(v,v);if(S(k))return R=L(I(k),R),new V(I(R.g),I(R.h));if(S(R))return R=L(k,I(R)),new V(I(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var x=y,N=R;0>=N.l(k);)x=W(x),N=W(N);var M=z(x,1),q=z(N,1);for(N=z(N,2),x=z(x,2);!T(N);){var D=q.add(N);0>=D.l(k)&&(M=M.add(x),q=D),N=z(N,1),x=z(x,1)}return R=C(k,M.j(R)),new V(M,R)}for(M=v;0<=k.l(R);){for(x=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),q=p(x),D=q.j(R);S(D)||0<D.l(k);)x-=N,q=p(x),D=q.j(R);T(q)&&(q=y),M=M.add(q),k=C(k,D)}return new V(M,k)}n.A=function(k){return L(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)&k.i(N);return new u(x,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)|k.i(N);return new u(x,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)^k.i(N);return new u(x,this.h^k.h)};function W(k){for(var R=k.g.length+1,x=[],N=0;N<R;N++)x[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(x,k.h)}function z(k,R){var x=R>>5;R%=32;for(var N=k.g.length-x,M=[],q=0;q<N;q++)M[q]=0<R?k.i(q+x)>>>R|k.i(q+x+1)<<32-R:k.i(q+x);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,wa=u}).apply(typeof J1<"u"?J1:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RC,vl,AC,cf,L_,xC,CC,PC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,b){return f==Array.prototype||f==Object.prototype||(f[_]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(f,_){if(_)e:{var b=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var K=f[O];if(!(K in b))break e;b=b[K]}f=f[f.length-1],O=b[f],_=_(O),_!=O&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}function a(f,_){f instanceof String&&(f+="");var b=0,O=!1,K={next:function(){if(!O&&b<f.length){var J=b++;return{value:_(J,f[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(f){return f||function(){return a(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},l=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,b){return f.call.apply(f.bind,arguments)}function v(f,_,b){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),f.apply(_,K)}}return function(){return f.apply(_,arguments)}}function y(f,_,b){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function E(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var O=b.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function T(f,_){function b(){}b.prototype=_.prototype,f.aa=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(O,K,J){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return _.prototype[K].apply(O,le)}}function S(f){const _=f.length;if(0<_){const b=Array(_);for(let O=0;O<_;O++)b[O]=f[O];return b}return[]}function I(f,_){for(let b=1;b<arguments.length;b++){const O=arguments[b];if(d(O)){const K=f.length||0,J=O.length||0;f.length=K+J;for(let le=0;le<J;le++)f[K+le]=O[le]}else f.push(O)}}class C{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var W=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function z(f,_,b){for(const O in f)_.call(b,f[O],O,f)}function k(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function R(f){const _={};for(const b in f)_[b]=f[b];return _}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,_){let b,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(b in O)f[b]=O[b];for(let J=0;J<x.length;J++)b=x[J],Object.prototype.hasOwnProperty.call(O,b)&&(f[b]=O[b])}}function M(f){var _=1;f=f.split(":");const b=[];for(;0<_&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function q(f){l.setTimeout(()=>{throw f},0)}function D(){var f=de;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,b){const O=be.get();O.set(_,b),this.h?this.h.next=O:this.g=O,this.h=O}}var be=new C(()=>new Ee,f=>f.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ne=!1,de=new ce,ue=()=>{const f=l.Promise.resolve(void 0);_e=()=>{f.then(H)}};var H=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(b){q(b)}var _=be;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};l.addEventListener("test",b,_),l.removeEventListener("test",b,_)}catch{}return f}();function Ae(f,_){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(W){e:{try{L(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}T(Ae,fe);var Ne={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ge(f,_,b,O,K){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!O,this.ha=K,this.key=++Me,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function yn(f){this.src=f,this.g={},this.h=0}yn.prototype.add=function(f,_,b,O,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var le=Un(f,_,O,K);return-1<le?(_=f[le],b||(_.fa=!1)):(_=new Ge(_,this.src,J,!!O,K),_.fa=b,f.push(_)),_};function jr(f,_){var b=_.type;if(b in f.g){var O=f.g[b],K=Array.prototype.indexOf.call(O,_,void 0),J;(J=0<=K)&&Array.prototype.splice.call(O,K,1),J&&(vt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Un(f,_,b,O){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==_&&J.capture==!!b&&J.ha==O)return K}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Ue={};function $n(f,_,b,O,K){if(Array.isArray(_)){for(var J=0;J<_.length;J++)$n(f,_[J],b,O,K);return null}return b=Bn(b),f&&f[Le]?f.K(_,b,p(O)?!!O.capture:!1,K):Ve(f,_,b,!1,O,K)}function Ve(f,_,b,O,K,J){if(!_)throw Error("Invalid event type");var le=p(K)?!!K.capture:!!K,Xe=ut(f);if(Xe||(f[gr]=Xe=new yn(f)),b=Xe.add(_,b,O,le,J),b.proxy)return b;if(O=zn(),b.proxy=O,O.src=f,O.listener=b,f.addEventListener)xe||(K=le),K===void 0&&(K=!1),f.addEventListener(_.toString(),O,K);else if(f.attachEvent)f.attachEvent(Mt(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return b}function zn(){function f(b){return _.call(f.src,f.listener,b)}const _=Xt;return f}function _n(f,_,b,O,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)_n(f,_[J],b,O,K);else O=p(O)?!!O.capture:!!O,b=Bn(b),f&&f[Le]?(f=f.i,_=String(_).toString(),_ in f.g&&(J=f.g[_],b=Un(J,b,O,K),-1<b&&(vt(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[_],f.h--)))):f&&(f=ut(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Un(_,b,O,K)),(b=-1<f?_[f]:null)&&Nt(b))}function Nt(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])jr(_.i,f);else{var b=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(b,O,f.capture):_.detachEvent?_.detachEvent(Mt(b),O):_.addListener&&_.removeListener&&_.removeListener(O),(b=ut(_))?(jr(b,f),b.h==0&&(b.src=null,_[gr]=null)):vt(f)}}}function Mt(f){return f in Ue?Ue[f]:Ue[f]="on"+f}function Xt(f,_){if(f.da)f=!0;else{_=new Ae(_,this);var b=f.listener,O=f.ha||f.src;f.fa&&Nt(f),f=b.call(O,_)}return f}function ut(f){return f=f[gr],f instanceof yn?f:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(f){return typeof f=="function"?f:(f[wn]||(f[wn]=function(_){return f.handleEvent(_)}),f[wn])}function lt(){Z.call(this),this.i=new yn(this),this.M=this,this.F=null}T(lt,Z),lt.prototype[Le]=!0,lt.prototype.removeEventListener=function(f,_,b,O){_n(this,f,_,b,O)};function rt(f,_){var b,O=f.F;if(O)for(b=[];O;O=O.F)b.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new fe(_,f);else if(_ instanceof fe)_.target=_.target||f;else{var K=_;_=new fe(O,f),N(_,K)}if(K=!0,b)for(var J=b.length-1;0<=J;J--){var le=_.g=b[J];K=Lt(le,O,!0,_)&&K}if(le=_.g=f,K=Lt(le,O,!0,_)&&K,K=Lt(le,O,!1,_)&&K,b)for(J=0;J<b.length;J++)le=_.g=b[J],K=Lt(le,O,!1,_)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var b=f.g[_],O=0;O<b.length;O++)vt(b[O]);delete f.g[_],f.h--}}this.F=null},lt.prototype.K=function(f,_,b,O){return this.i.add(String(f),_,!1,b,O)},lt.prototype.L=function(f,_,b,O){return this.i.add(String(f),_,!0,b,O)};function Lt(f,_,b,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,J=0;J<_.length;++J){var le=_[J];if(le&&!le.da&&le.capture==b){var Xe=le.listener,Vt=le.ha||le.src;le.fa&&jr(f.i,le),K=Xe.call(Vt,O)!==!1&&K}}return K&&!O.defaultPrevented}function Hi(f,_,b){if(typeof f=="function")b&&(f=y(f,b));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(f,_||0)}function vr(f){f.g=Hi(()=>{f.g=null,f.i&&(f.i=!1,vr(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class hi extends Z{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(f){Z.call(this),this.h=f,this.g={}}T(qr,Z);var In=[];function Wn(f){z(f.g,function(_,b){this.g.hasOwnProperty(b)&&Nt(_)},f),f.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Wn(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _u=l.JSON.stringify,wu=l.JSON.parse,Eu=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function Bs(){}Bs.prototype.h=null;function $a(f){return f.h||(f.h=f.i())}function za(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){fe.call(this,"d")}T(Ur,fe);function Ba(){fe.call(this,"c")}T(Ba,fe);var $r={},Tu=null;function Ws(){return Tu=Tu||new lt}$r.La="serverreachability";function bu(f){fe.call(this,$r.La,f)}T(bu,fe);function pi(f){const _=Ws();rt(_,new bu(_))}$r.STAT_EVENT="statevent";function Su(f,_){fe.call(this,$r.STAT_EVENT,f),this.stat=_}T(Su,fe);function Tt(f){const _=Ws();rt(_,new Su(_,f))}$r.Ma="timingevent";function Wa(f,_){fe.call(this,$r.Ma,f),this.size=_}T(Wa,fe);function yr(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function Gs(f,_,b,O,K,J){f.info(function(){if(f.g)if(J)for(var le="",Xe=J.split("&"),Vt=0;Vt<Xe.length;Vt++){var Be=Xe[Vt].split("=");if(1<Be.length){var Bt=Be[0];Be=Be[1];var xt=Bt.split("_");le=2<=xt.length&&xt[1]=="type"?le+(Bt+"="+Be+"&"):le+(Bt+"=redacted&")}}else le=null;else le=J;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+_+`
`+b+`
`+le})}function Ha(f,_,b,O,K,J,le){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+_+`
`+b+`
`+J+" "+le})}function _r(f,_,b,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Yh(f,b)+(O?" "+O:"")})}function Iu(f,_){f.info(function(){return"TIMEOUT: "+_})}Hs.prototype.info=function(){};function Yh(f,_){if(!f.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var O=b[f];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var le=1;le<K.length;le++)K[le]=""}}}}return _u(b)}catch{return _}}var Ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Ks(){}T(Ks,Bs),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},wr=new Ks;function Er(f,_,b,O){this.j=f,this.i=_,this.l=b,this.R=O||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kc}function kc(){this.i=null,this.g="",this.h=!1}var Ru={},Ka={};function Ya(f,_,b){f.L=1,f.v=Xi(Gn(_)),f.m=b,f.P=!0,Au(f,null)}function Au(f,_){f.F=Date.now(),tt(f),f.A=Gn(f.v);var b=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Zi(b.i,"t",O),f.C=0,b=f.j.J,f.h=new kc,f.g=Yc(f.j,b?_:null,!f.m),0<f.O&&(f.M=new hi(y(f.Y,f,f.g),f.O)),_=f.U,b=f.g,O=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(In[0]=K.toString()),K=In);for(var J=0;J<K.length;J++){var le=$n(b,K[J],O||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),pi(),Gs(f.i,f.u,f.A,f.l,f.R,f.m)}Er.prototype.ca=function(f){f=f.target;const _=this.M;_&&An(f)==3?_.j():this.Y(f)},Er.prototype.Y=function(f){try{if(f==this.g)e:{const xt=An(this.g);var _=this.g.Ba();const ir=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||xt!=4||_==7||(_==8||0>=ir?pi(3):pi(2)),Ys(this);var b=this.g.Z();this.X=b;t:if(Dc(this)){var O=Ou(this.g);f="";var K=O.length,J=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Gi(this);var le="";break t}this.h.i=new l.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!(J&&_==K-1)});O.length=0,this.h.g+=f,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=b==200,Ha(this.i,this.u,this.A,this.l,this.R,xt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Vt=this.g;if((Xe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Xe)){var Be=Xe;break t}}Be=null}if(b=Be)_r(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xu(this,b);else{this.o=!1,this.s=3,Tt(12),nr(this),Gi(this);break e}}if(this.P){b=!0;let Yn;for(;!this.J&&this.C<le.length;)if(Yn=Qh(this,le),Yn==Ka){xt==4&&(this.s=4,Tt(14),b=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Ru){this.s=4,Tt(15),_r(this.i,this.l,le,"[Invalid Chunk]"),b=!1;break}else _r(this.i,this.l,Yn,null),xu(this,Yn);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||le.length!=0||this.h.h||(this.s=1,Tt(16),b=!1),this.o=this.o&&b,!b)_r(this.i,this.l,le,"[Invalid Chunked Response]"),nr(this),Gi(this);else if(0<le.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Mu(Bt),Bt.M=!0,Tt(11))}}else _r(this.i,this.l,le,null),xu(this,le);xt==4&&nr(this),this.o&&!this.J&&(xt==4?ao(this.j,this):(this.o=!1,tt(this)))}else to(this.g),b==400&&0<le.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),nr(this),Gi(this)}}}catch{}finally{}};function Dc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Qh(f,_){var b=f.C,O=_.indexOf(`
`,b);return O==-1?Ka:(b=Number(_.substring(b,O)),isNaN(b)?Ru:(O+=1,O+b>_.length?Ka:(_=_.slice(O,O+b),f.C=O+b,_)))}Er.prototype.cancel=function(){this.J=!0,nr(this)};function tt(f){f.S=Date.now()+f.I,Oc(f,f.I)}function Oc(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yr(y(f.ba,f),_)}function Ys(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Er.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Iu(this.i,this.A),this.L!=2&&(pi(),Tt(17)),nr(this),this.s=2,Gi(this)):Oc(this,this.S-f)};function Gi(f){f.j.G==0||f.J||ao(f.j,f)}function nr(f){Ys(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Wn(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function xu(f,_){try{var b=f.j;if(b.G!=0&&(b.g==f||En(b.h,f))){if(!f.K&&En(b.h,f)&&b.G==3){try{var O=b.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)so(b),Rr(b);else break e;io(b),Tt(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=yr(y(b.Za,b),6e3));if(1>=Mc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else _i(b,11)}else if((f.K||b.g==f)&&so(b),!P(_))for(K=b.Da.g.parse(_),_=0;_<K.length;_++){let Be=K[_];if(b.T=Be[0],Be=Be[1],b.G==2)if(Be[0]=="c"){b.K=Be[1],b.ia=Be[2];const Bt=Be[3];Bt!=null&&(b.la=Bt,b.j.info("VER="+b.la));const xt=Be[4];xt!=null&&(b.Aa=xt,b.j.info("SVER="+b.Aa));const ir=Be[5];ir!=null&&typeof ir=="number"&&0<ir&&(O=1.5*ir,b.L=O,b.j.info("backChannelRequestTimeoutMs_="+O)),O=b;const Yn=f.g;if(Yn){const na=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var J=O.h;J.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Cu(J,J.h),J.h=null))}if(O.D){const uo=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(O.ya=uo,Ze(O.I,O.D,uo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),O=b;var le=f;if(O.qa=Kc(O,O.J?O.ia:null,O.W),le.K){Lc(O.h,le);var Xe=le,Vt=O.L;Vt&&(Xe.I=Vt),Xe.B&&(Ys(Xe),tt(Xe)),O.g=le}else ta(O);0<b.i.length&&Hr(b)}else Be[0]!="stop"&&Be[0]!="close"||_i(b,7);else b.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?_i(b,7):Zt(b):Be[0]!="noop"&&b.l&&b.l.ta(Be),b.v=0)}}pi(4)}catch{}}var Nc=class{constructor(f,_){this.g=f,this.map=_}};function Qs(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mc(f){return f.h?1:f.g?f.g.size:0}function En(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Cu(f,_){f.g?f.g.add(_):f.h=_}function Lc(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Qs.prototype.cancel=function(){if(this.i=Vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Vc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.D);return _}return S(f.i)}function Qa(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],b=f.length,O=0;O<b;O++)_.push(f[O]);return _}_=[],b=0;for(O in f)_[b++]=f[O];return _}function Xa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var b=0;b<f;b++)_.push(b);return _}_=[],b=0;for(const O in f)_[b++]=O;return _}}}function Ki(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var b=Xa(f),O=Qa(f),K=O.length,J=0;J<K;J++)_.call(void 0,O[J],b&&b[J],f)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(f,_){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var O=f[b].indexOf("="),K=null;if(0<=O){var J=f[b].substring(0,O);K=f[b].substring(O+1)}else J=f[b];_(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function mi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mi){this.h=f.h,Js(this,f.j),this.o=f.o,this.g=f.g,Yi(this,f.s),this.l=f.l;var _=f.i,b=new zr;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),Qi(this,b),this.m=f.m}else f&&(_=String(f).match(Xs))?(this.h=!1,Js(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),Yi(this,_[4]),this.l=$e(_[5]||"",!0),Qi(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}mi.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Ji(_,Ja,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ji(_,Ja,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Ji(b,b.charAt(0)=="/"?qc:jc,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Ji(b,Pu)),f.join("")};function Gn(f){return new mi(f)}function Js(f,_,b){f.j=b?$e(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Yi(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Qi(f,_,b){_ instanceof zr?(f.i=_,Br(f.i,f.h)):(b||(_=Ji(_,Uc)),f.i=new zr(_,f.h))}function Ze(f,_,b){f.i.set(_,b)}function Xi(f){return Ze(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $e(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ji(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Fc),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ja=/[#\/\?@]/g,jc=/[#\?:]/g,qc=/[#\?]/g,Uc=/[#\?@]/g,Pu=/#/g;function zr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Jt(f){f.g||(f.g=new Map,f.h=0,f.i&&Xh(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=zr.prototype,n.add=function(f,_){Jt(this),this.i=null,f=rr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Tr(f,_){Jt(f),_=rr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function br(f,_){return Jt(f),_=rr(f,_),f.g.has(_)}n.forEach=function(f,_){Jt(this),this.g.forEach(function(b,O){b.forEach(function(K){f.call(_,K,O,this)},this)},this)},n.na=function(){Jt(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let O=0;O<_.length;O++){const K=f[O];for(let J=0;J<K.length;J++)b.push(_[O])}return b},n.V=function(f){Jt(this);let _=[];if(typeof f=="string")br(this,f)&&(_=_.concat(this.g.get(rr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)_=_.concat(f[b])}return _},n.set=function(f,_){return Jt(this),this.i=null,f=rr(this,f),br(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Zi(f,_,b){Tr(f,_),0<b.length&&(f.i=null,f.g.set(rr(f,_),S(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var O=_[b];const J=encodeURIComponent(String(O)),le=this.V(O);for(O=0;O<le.length;O++){var K=J;le[O]!==""&&(K+="="+encodeURIComponent(String(le[O]))),f.push(K)}}return this.i=f.join("&")};function rr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Br(f,_){_&&!f.j&&(Jt(f),f.i=null,f.g.forEach(function(b,O){var K=O.toLowerCase();O!=K&&(Tr(this,O),Zi(this,K,b))},f)),f.j=_}function Jh(f,_){const b=new Hs;if(l.Image){const O=new Image;O.onload=E(Rn,b,"TestLoadImage: loaded",!0,_,O),O.onerror=E(Rn,b,"TestLoadImage: error",!1,_,O),O.onabort=E(Rn,b,"TestLoadImage: abort",!1,_,O),O.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,_,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function $c(f,_){const b=new Hs,O=new AbortController,K=setTimeout(()=>{O.abort(),Rn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then(J=>{clearTimeout(K),J.ok?Rn(b,"TestPingServer: ok",!0,_):Rn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Rn(b,"TestPingServer: error",!1,_)})}function Rn(f,_,b,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(b)}catch{}}function Zh(){this.g=new Eu}function zc(f,_,b){const O=b||"";try{Ki(f,function(K,J){let le=K;p(K)&&(le=_u(K)),_.push(O+J+"="+encodeURIComponent(le))})}catch(K){throw _.push(O+"type="+encodeURIComponent("_badmap")),K}}function gi(f){this.l=f.Ub||null,this.j=f.eb||!1}T(gi,Bs),gi.prototype.g=function(){return new Zs(this.l,this.j)},gi.prototype.i=function(f){return function(){return f}}({});function Zs(f,_){lt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Zs,lt),n=Zs.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Sr(this):Ir(this),this.readyState==3&&Bc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Sr(this))},n.Qa=function(f){this.g&&(this.response=f,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function vi(f){let _="";return z(f,function(b,O){_+=O,_+=":",_+=b,_+=`\r
`}),_}function es(f,_,b){e:{for(O in b){var O=!1;break e}O=!0}O||(b=vi(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Ze(f,_,b))}function ct(f){lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ct,lt);var ep=/^https?$/i,ku=["POST","PUT"];n=ct.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,b,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?$a(this.o):$a(wr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){ea(this,J);return}if(f=b||"",b=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)b.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())b.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ku,_,void 0))||O||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,le]of b)this.g.setRequestHeader(J,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eo(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){ea(this,J)}};function ea(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Za(f),Kn(f)}function Za(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Kn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Du(this):this.bb())},n.bb=function(){Du(this)};function Du(f){if(f.h&&typeof u<"u"&&(!f.v[1]||An(f)!=4||f.Z()!=2)){if(f.u&&An(f)==4)Hi(f.Ea,0,f);else if(rt(f,"readystatechange"),An(f)==4){f.h=!1;try{const le=f.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var O;if(O=le===0){var K=String(f.D).match(Xs)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),O=!ep.test(K?K.toLowerCase():"")}b=O}if(b)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<An(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Za(f)}}finally{Kn(f)}}}}function Kn(f,_){if(f.g){eo(f);const b=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||rt(f,"ready");try{b.onreadystatechange=O}catch{}}}function eo(f){f.I&&(l.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function An(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),wu(_)}};function Ou(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function to(f){const _={};f=(f.g&&2<=An(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(P(f[O]))continue;var b=M(f[O]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=_[K]||[];_[K]=J,J.push(b)}k(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Nu(f){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,f),this.cb=Wr("retryDelaySeedMs",1e4,f),this.Wa=Wr("forwardChannelMaxRetries",2,f),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(f&&f.concurrentRequestLimit),this.Da=new Zh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nu.prototype,n.la=8,n.G=1,n.connect=function(f,_,b,O){Tt(0),this.W=f,this.H=_||{},b&&O!==void 0&&(this.H.OSID=b,this.H.OAID=O),this.F=this.X,this.I=Kc(this,null,this.W),Hr(this)};function Zt(f){if(no(f),f.G==3){var _=f.U++,b=Gn(f.I);if(Ze(b,"SID",f.K),Ze(b,"RID",_),Ze(b,"TYPE","terminate"),yi(f,b),_=new Er(f,f.j,_),_.L=2,_.v=Xi(Gn(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&l.Image&&(new Image().src=_.v,b=!0),b||(_.g=Yc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),tt(_)}Gc(f)}function Rr(f){f.g&&(Mu(f),f.g.cancel(),f.g=null)}function no(f){Rr(f),f.u&&(l.clearTimeout(f.u),f.u=null),so(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Hr(f){if(!Hn(f.h)&&!f.s){f.s=!0;var _=f.Ga;_e||ue(),ne||(_e(),ne=!0),de.add(_,f),f.B=0}}function tp(f,_){return Mc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yr(y(f.Ga,f,_),Hc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Er(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var O=this.i[b];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=ts(this,K,_),b=Gn(this.I),Ze(b,"RID",f),Ze(b,"CVER",22),this.D&&Ze(b,"X-HTTP-Session-Id",this.D),yi(this,b),J&&(this.O?_="headers="+encodeURIComponent(String(vi(J)))+"&"+_:this.m&&es(b,this.m,J)),Cu(this.h,K),this.Ua&&Ze(b,"TYPE","init"),this.P?(Ze(b,"$req",_),Ze(b,"SID","null"),K.T=!0,Ya(K,b,null)):Ya(K,b,_),this.G=2}}else this.G==3&&(f?ro(this,f):this.i.length==0||Hn(this.h)||ro(this))};function ro(f,_){var b;_?b=_.l:b=f.U++;const O=Gn(f.I);Ze(O,"SID",f.K),Ze(O,"RID",b),Ze(O,"AID",f.T),yi(f,O),f.m&&f.o&&es(O,f.m,f.o),b=new Er(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),_&&(f.i=_.D.concat(f.i)),_=ts(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Cu(f.h,b),Ya(b,O,_)}function yi(f,_){f.H&&z(f.H,function(b,O){Ze(_,O,b)}),f.l&&Ki({},function(b,O){Ze(_,O,b)})}function ts(f,_,b){b=Math.min(f.i.length,b);var O=f.l?y(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const le=["count="+b];J==-1?0<b?(J=K[0].g,le.push("ofs="+J)):J=0:le.push("ofs="+J);let Xe=!0;for(let Vt=0;Vt<b;Vt++){let Be=K[Vt].g;const Bt=K[Vt].map;if(Be-=J,0>Be)J=Math.max(0,K[Vt].g-100),Xe=!1;else try{zc(Bt,le,"req"+Be+"_")}catch{O&&O(Bt)}}if(Xe){O=le.join("&");break e}}}return f=f.i.splice(0,b),_.D=f,O}function ta(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;_e||ue(),ne||(_e(),ne=!0),de.add(_,f),f.v=0}}function io(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yr(y(f.Fa,f),Hc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yr(y(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Rr(this),Wc(this))};function Mu(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Wc(f){f.g=new Er(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Gn(f.qa);Ze(_,"RID","rpc"),Ze(_,"SID",f.K),Ze(_,"AID",f.T),Ze(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ze(_,"TO",f.ja),Ze(_,"TYPE","xmlhttp"),yi(f,_),f.m&&f.o&&es(_,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Xi(Gn(_)),b.m=null,b.P=!0,Au(b,f)}n.Za=function(){this.C!=null&&(this.C=null,Rr(this),io(this),Tt(19))};function so(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ao(f,_){var b=null;if(f.g==_){so(f),Mu(f),f.g=null;var O=2}else if(En(f.h,_))b=_.D,Lc(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var K=f.B;O=Ws(),rt(O,new Wa(O,b)),Hr(f)}else ta(f);else if(K=_.s,K==3||K==0&&0<_.X||!(O==1&&tp(f,_)||O==2&&io(f)))switch(b&&0<b.length&&(_=f.h,_.i=_.i.concat(b)),K){case 1:_i(f,5);break;case 4:_i(f,10);break;case 3:_i(f,6);break;default:_i(f,2)}}}function Hc(f,_){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*_}function _i(f,_){if(f.j.info("Error code "+_),_==2){var b=y(f.fb,f),O=f.Xa;const K=!O;O=new mi(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Js(O,"https"),Xi(O),K?Jh(O.toString(),b):$c(O.toString(),b)}else Tt(2);f.G=0,f.l&&f.l.sa(_),Gc(f),no(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Gc(f){if(f.G=0,f.ka=[],f.l){const _=Vc(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ka,_),I(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Kc(f,_,b){var O=b instanceof mi?Gn(b):new mi(b);if(O.g!="")_&&(O.g=_+"."+O.g),Yi(O,O.s);else{var K=l.location;O=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var J=new mi(null);O&&Js(J,O),_&&(J.g=_),K&&Yi(J,K),b&&(J.l=b),O=J}return b=f.D,_=f.ya,b&&_&&Ze(O,b,_),Ze(O,"VER",f.la),yi(f,O),O}function Yc(f,_,b){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new ct(new gi({eb:b})):new ct(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}n=Lu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oo(){}oo.prototype.g=function(f,_){return new Tn(f,_)};function Tn(f,_){lt.call(this),this.g=new Nu(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!P(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Gr(this)}T(Tn,lt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Zt(this.g)},Tn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=_u(f),f=b);_.i.push(new Nc(_.Ya++,f)),_.G==3&&Hr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,Tn.aa.N.call(this)};function Qc(f){Ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}T(Qc,Ur);function Xc(){Ba.call(this),this.status=1}T(Xc,Ba);function Gr(f){this.g=f}T(Gr,Lu),Gr.prototype.ua=function(){rt(this.g,"a")},Gr.prototype.ta=function(f){rt(this.g,new Qc(f))},Gr.prototype.sa=function(f){rt(this.g,new Xc)},Gr.prototype.ra=function(){rt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,PC=function(){return new oo},CC=function(){return Ws()},xC=$r,L_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,cf=Ga,Pc.COMPLETE="complete",AC=Pc,za.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,vl=za,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,RC=ct}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new _w("@firebase/firestore");function ko(){return Ra.logLevel}function me(n,...e){if(Ra.logLevel<=je.DEBUG){const t=e.map(Ow);Ra.debug(`Firestore (${ou}): ${n}`,...t)}}function ji(n,...e){if(Ra.logLevel<=je.ERROR){const t=e.map(Ow);Ra.error(`Firestore (${ou}): ${n}`,...t)}}function $o(n,...e){if(Ra.logLevel<=je.WARN){const t=e.map(Ow);Ra.warn(`Firestore (${ou}): ${n}`,...t)}}function Ow(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function Qe(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class S4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rs,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},l=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new kC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new hn(e)}}class R4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class A4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new R4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new x4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=P4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function zo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Dt(0,0))}static max(){return new De(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends jl{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const k4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends jl{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return k4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(r+=l,i++):(a(),i++)}if(a(),u)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ot.fromString(e))}static fromName(e){return new Se(ot.fromString(e).popFirst(5))}static empty(){return new Se(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ot(e.slice()))}}function D4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new Cs(i,Se.empty(),e)}function O4(n){return new Cs(n.readTime,n.key,-1)}class Cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cs(De.min(),Se.empty(),-1)}static max(){return new Cs(De.max(),Se.empty(),-1)}}function N4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==M4)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,a=0,u=!1;e.forEach(l=>{++i,l.next(()=>{++a,u&&a===i&&t()},d=>r(d))}),u=!0,a===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const a=e.length,u=new Array(a);let l=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(m=>{u[p]=m,++l,l===a&&r(u)},m=>i(m))}})}static doWhile(e,t){return new ee((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function V4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lh.oe=-1;function ch(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function F4(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eb(e)),e=q4(n.get(t),e);return eb(e)}function q4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function eb(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new nn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,i,a){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(e){return new nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new qt(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NC("Invalid base64 string: "+a):a}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const U4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=U4.exec(n);if(Qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function dh(n){const e=n.mapValue.fields.__previous_value__;return Nw(e)?dh(e):e}function ql(n){const e=Ps(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t,r,i,a,u,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=p}}class Ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nw(n)?4:B4(n)?9007199254740991:z4(n)?10:11:ke()}function ui(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ps(i.timestampValue),l=Ps(a.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ks(i.bytesValue).isEqual(ks(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=St(i.doubleValue),l=St(a.doubleValue);return u===l?Mf(u)===Mf(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},l=a.mapValue.fields||{};if(tb(u)!==tb(l))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(l[d]===void 0||!ui(u[d],l[d])))return!1;return!0}(n,e);default:return ke()}}function $l(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const l=St(a.integerValue||a.doubleValue),d=St(u.integerValue||u.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return rb(n.timestampValue,e.timestampValue);case 4:return rb(ql(n),ql(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(a,u){const l=ks(a),d=ks(u);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const l=a.split("/"),d=u.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=ze(l[p],d[p]);if(m!==0)return m}return ze(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const l=ze(St(a.latitude),St(u.latitude));return l!==0?l:ze(St(a.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ib(n.arrayValue,e.arrayValue);case 10:return function(a,u){var l,d,p,m;const v=a.fields||{},y=u.fields||{},E=(l=v.value)===null||l===void 0?void 0:l.arrayValue,T=(d=y.value)===null||d===void 0?void 0:d.arrayValue,S=ze(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:ib(E,T)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qd.mapValue&&u===Qd.mapValue)return 0;if(a===Qd.mapValue)return 1;if(u===Qd.mapValue)return-1;const l=a.fields||{},d=Object.keys(l),p=u.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const y=ze(d[v],m[v]);if(y!==0)return y;const E=Bo(l[d[v]],p[m[v]]);if(E!==0)return E}return ze(d.length,m.length)}(n.mapValue,e.mapValue);default:throw ke()}}function rb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Ps(n),r=Ps(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function ib(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Bo(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function Wo(n){return V_(n)}function V_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ps(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ks(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=V_(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${V_(t.fields[u])}`;return i+"}"}(n.mapValue):ke()}function df(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dh(n);return e?16+df(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+df(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return js(r.fields,(a,u)=>{i+=a.length+df(u)}),i}(n.mapValue);default:throw ke()}}function sb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function F_(n){return!!n&&"integerValue"in n}function Mw(n){return!!n&&"arrayValue"in n}function ab(n){return!!n&&"nullValue"in n}function ob(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function z4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function B4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((u,l)=>{if(!t.isImmediateParentOf(l)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=l.popLast()}u?r[l.lastSegment()]=Rl(u):i.push(l.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){js(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Mn(Rl(this.value))}}function MC(n){const e=[];return js(n.fields,(t,r)=>{const i=new rn([t]);if(ff(r)){const a=MC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,i,a,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=l}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.position=e,this.inclusive=t}}function ub(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=Bo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function lb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t="asc"){this.field=e,this.dir=t}}function W4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class kt extends LC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new G4(e,t,r):t==="array-contains"?new Q4(e,r):t==="in"?new X4(e,r):t==="not-in"?new J4(e,r):t==="array-contains-any"?new Z4(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new K4(e,r):new Y4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends LC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Lr(e,t)}matches(e){return VC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VC(n){return n.op==="and"}function FC(n){return H4(n)&&VC(n)}function H4(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function j_(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(FC(n))return n.filters.map(e=>j_(e)).join(",");{const e=n.filters.map(t=>j_(t)).join(",");return`${n.op}(${e})`}}function jC(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&ui(r.value,i.value)}(n,e):n instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,l)=>a&&jC(u,i.filters[l]),!0):!1}(n,e):void ke()}function qC(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(qC).join(" ,")+"}"}(n):"Filter"}class G4 extends kt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class K4 extends kt{constructor(e,t){super(e,"in",t),this.keys=UC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Y4 extends kt{constructor(e,t){super(e,"not-in",t),this.keys=UC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Q4 extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mw(t)&&$l(t.arrayValue,this.value)}}class X4 extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$l(this.value.arrayValue,t)}}class J4 extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!$l(this.value.arrayValue,t)}}class Z4 extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,t=null,r=[],i=[],a=null,u=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=l,this.ue=null}}function cb(n,e=null,t=[],r=[],i=null,a=null,u=null){return new eF(n,e,t,r,i,a,u)}function Lw(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>j_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wo(r)).join(",")),e.ue=t}return e.ue}function Vw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lb(n.startAt,e.startAt)&&lb(n.endAt,e.endAt)}function q_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t=null,r=[],i=[],a=null,u="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=l,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tF(n,e,t,r,i,a,u,l){return new hc(n,e,t,r,i,a,u,l)}function Fw(n){return new hc(n)}function db(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $C(n){return n.collectionGroup!==null}function Al(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new qt(rn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vf(a,r))}),t.has(rn.keyField().canonicalString())||e.ce.push(new Vf(rn.keyField(),r))}return e.ce}function ri(n){const e=Oe(n);return e.le||(e.le=nF(e,Al(n))),e.le}function nF(n,e){if(n.limitType==="F")return cb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vf(i.field,a)});const t=n.endAt?new Lf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Lf(n.startAt.position,n.startAt.inclusive):null;return cb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function U_(n,e){const t=n.filters.concat([e]);return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $_(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fh(n,e){return Vw(ri(n),ri(e))&&n.limitType===e.limitType}function zC(n){return`${Lw(ri(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qC(i)).join(", ")}]`),ch(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wo(i)).join(",")),`Target(${r})`}(ri(n))}; limitType=${n.limitType})`}function hh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Al(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,l,d){const p=ub(u,l,d);return u.inclusive?p<=0:p<0}(r.startAt,Al(r),i)||r.endAt&&!function(u,l,d){const p=ub(u,l,d);return u.inclusive?p>=0:p>0}(r.endAt,Al(r),i))}(n,e)}function rF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BC(n){return(e,t)=>{let r=!1;for(const i of Al(n)){const a=iF(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function iF(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,u,l){const d=u.data.field(a),p=l.data.field(a);return d!==null&&p!==null?Bo(d,p):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=new gt(Se.comparator);function qi(){return sF}const WC=new gt(Se.comparator);function yl(...n){let e=WC;for(const t of n)e=e.insert(t.key,t);return e}function HC(n){let e=WC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _a(){return xl()}function GC(){return xl()}function xl(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const aF=new gt(Se.comparator),oF=new qt(Se.comparator);function qe(...n){let e=oF;for(const t of n)e=e.add(t);return e}const uF=new qt(ze);function lF(){return uF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function KC(n){return{integerValue:""+n}}function cF(n,e){return F4(e)?KC(e):jw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function dF(n,e,t){return n instanceof Ff?function(i,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Nw(a)&&(a=dh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Ho?QC(n,e):n instanceof zl?XC(n,e):function(i,a){const u=YC(i,a),l=fb(u)+fb(i.Pe);return F_(u)&&F_(i.Pe)?KC(l):jw(i.serializer,l)}(n,e)}function fF(n,e,t){return n instanceof Ho?QC(n,e):n instanceof zl?XC(n,e):t}function YC(n,e){return n instanceof jf?function(r){return F_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ff extends ph{}class Ho extends ph{constructor(e){super(),this.elements=e}}function QC(n,e){const t=JC(e);for(const r of n.elements)t.some(i=>ui(i,r))||t.push(r);return{arrayValue:{values:t}}}class zl extends ph{constructor(e){super(),this.elements=e}}function XC(n,e){let t=JC(e);for(const r of n.elements)t=t.filter(i=>!ui(i,r));return{arrayValue:{values:t}}}class jf extends ph{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function fb(n){return St(n.integerValue||n.doubleValue)}function JC(n){return Mw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,t){this.field=e,this.transform=t}}function pF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ho&&i instanceof Ho||r instanceof zl&&i instanceof zl?zo(r.elements,i.elements,ui):r instanceof jf&&i instanceof jf?ui(r.Pe,i.Pe):r instanceof Ff&&i instanceof Ff}(n.transform,e.transform)}class mF{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function ZC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qw(n.key,Mr.none()):new pc(n.key,n.data,Mr.none());{const t=n.data,r=Mn.empty();let i=new qt(rn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new qs(n.key,r,new Zn(i.toArray()),Mr.none())}}function gF(n,e,t){n instanceof pc?function(i,a,u){const l=i.value.clone(),d=pb(i.fieldTransforms,a,u.transformResults);l.setAll(d),a.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(i,a,u){if(!hf(i.precondition,a))return void a.convertToUnknownDocument(u.version);const l=pb(i.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(eP(i)),d.setAll(l),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cl(n,e,t,r){return n instanceof pc?function(a,u,l,d){if(!hf(a.precondition,u))return l;const p=a.value.clone(),m=mb(a.fieldTransforms,d,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof qs?function(a,u,l,d){if(!hf(a.precondition,u))return l;const p=mb(a.fieldTransforms,d,u),m=u.data;return m.setAll(eP(a)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,l){return hf(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l}(n,e,t)}function vF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=YC(r.transform,i||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function hb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zo(r,i,(a,u)=>pF(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pc extends mh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends mh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pb(n,e,t){const r=new Map;Qe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,l=e.data.field(a.field);r.set(a.field,fF(u,l,t[i]))}return r}function mb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,dF(a,u,e))}return r}class qw extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yF extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gF(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GC();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let l=this.applyToLocalView(u,a.mutatedFields);l=t.has(i.key)?null:l;const d=ZC(u,l);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,r)=>hb(t,r))&&zo(this.baseMutations,e.baseMutations,(t,r)=>hb(t,r))}}class Uw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length);let i=function(){return aF}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Uw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wF=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,We;function TF(n){switch(n){default:return ke();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function tP(n){if(n===void 0)return ji("GRPC error has no .code"),te.UNKNOWN;switch(n){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return ke()}}(We=Pt||(Pt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new wa([4294967295,4294967295],0);function gb(n){const e=bF().encode(n),t=new IC;return t.update(e),new Uint8Array(t.digest())}function vb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new wa([t,r],0),new wa([i,a],0)]}class $w{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=wa.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(wa.fromNumber(r)));return i.compare(SF)===1&&(i=new wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=gb(e),[r,i]=vb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new $w(a,i,t);return r.forEach(l=>u.insert(l)),u}insert(e){if(this.Te===0)return;const t=gb(e),[r,i]=vb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gh(De.min(),i,new gt(ze),qi(),qe())}}class mc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mc(r,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class nP{constructor(e,t){this.targetId=e,this.me=t}}class rP{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yb{constructor(){this.fe=0,this.ge=_b(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),t=qe(),r=qe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new mc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=_b()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IF{constructor(e){this.Le=e,this.Be=new Map,this.ke=qi(),this.qe=Xd(),this.Qe=Xd(),this.Ke=new gt(ze)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const a=i.target;if(q_(a))if(r===0){const u=new Se(a.path);this.We(t,u,pn.newNoDocument(u,De.min()))}else Qe(r===1);else{const u=this.Ze(t);if(u!==r){const l=this.Xe(e),d=l?this.et(l,e,u):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,l;try{u=ks(r).toUint8Array()}catch(d){if(d instanceof NC)return $o("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new $w(u,i,a)}catch(d){return $o(d instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const u=this.Le.nt(),l=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.We(t,a,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((a,u)=>{const l=this.Ye(u);if(l){if(a.current&&q_(l.target)){const d=new Se(l.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,pn.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=qe();this.Qe.forEach((a,u)=>{let l=!0;u.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const i=new gh(e,t,this.Ke,this.ke,r);return this.ke=qi(),this.qe=Xd(),this.Qe=Xd(),this.Ke=new gt(ze),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new yb,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new qt(ze),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new qt(ze),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new yb),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xd(){return new gt(Se.comparator)}function _b(){return new gt(Se.comparator)}const RF={asc:"ASCENDING",desc:"DESCENDING"},AF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xF={and:"AND",or:"OR"};class CF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function z_(n,e){return n.useProto3Json||ch(e)?e:{value:e}}function qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PF(n,e){return qf(n,e.toTimestamp())}function ii(n){return Qe(!!n),De.fromTimestamp(function(t){const r=Ps(t);return new Dt(r.seconds,r.nanos)}(n))}function zw(n,e){return B_(n,e).canonicalString()}function B_(n,e){const t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sP(n){const e=ot.fromString(n);return Qe(cP(e)),e}function W_(n,e){return zw(n.databaseId,e.path)}function Mm(n,e){const t=sP(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(oP(t))}function aP(n,e){return zw(n.databaseId,e)}function kF(n){const e=sP(n);return e.length===4?ot.emptyPath():oP(e)}function H_(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oP(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function wb(n,e,t){return{name:W_(n,e),fields:t.value.mapValue.fields}}function DF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Qe(m===void 0||typeof m=="string"),sn.fromBase64String(m||"")):(Qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&function(p){const m=p.code===void 0?te.UNKNOWN:tP(p.code);return new ye(m,p.message||"")}(u);t=new rP(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mm(n,r.document.name),a=ii(r.document.updateTime),u=r.document.createTime?ii(r.document.createTime):De.min(),l=new Mn({mapValue:{fields:r.document.fields}}),d=pn.newFoundDocument(i,a,u,l),p=r.targetIds||[],m=r.removedTargetIds||[];t=new pf(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mm(n,r.document),a=r.readTime?ii(r.readTime):De.min(),u=pn.newNoDocument(i,a),l=r.removedTargetIds||[];t=new pf([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mm(n,r.document),a=r.removedTargetIds||[];t=new pf([],a,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new EF(i,a),l=r.targetId;t=new nP(l,u)}}return t}function OF(n,e){let t;if(e instanceof pc)t={update:wb(n,e.key,e.value)};else if(e instanceof qw)t={delete:W_(n,e.key)};else if(e instanceof qs)t={update:wb(n,e.key,e.data),updateMask:$F(e.fieldMask)};else{if(!(e instanceof yF))return ke();t={verify:W_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const l=u.transform;if(l instanceof Ff)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ho)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof zl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jf)return{fieldPath:u.field.canonicalString(),increment:l.Pe};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:PF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()}(n,e.precondition)),t}function NF(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(i,a){let u=i.updateTime?ii(i.updateTime):ii(a);return u.isEqual(De.min())&&(u=ii(a)),new mF(u,i.transformResults||[])}(t,e))):[]}function MF(n,e){return{documents:[aP(n,e.path)]}}function LF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aP(n,i);const a=function(p){if(p.length!==0)return lP(Lr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(m=>function(y){return{field:Oo(y.field),direction:jF(y.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=z_(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function VF(n){let e=kF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const y=uP(v);return y instanceof Lr&&FC(y)?y.getFilters():[y]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(y=>function(T){return new Vf(No(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(t.orderBy));let l=null;t.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,ch(y)?null:y}(t.limit));let d=null;t.startAt&&(d=function(v){const y=!!v.before,E=v.values||[];return new Lf(E,y)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const y=!v.before,E=v.values||[];return new Lf(E,y)}(t.endAt)),tF(e,i,u,a,l,"F",d,p)}function FF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=No(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=No(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=No(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(t.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(No(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(r=>uP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function jF(n){return RF[n]}function qF(n){return AF[n]}function UF(n){return xF[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function No(n){return rn.fromServerFormat(n.fieldPath)}function lP(n){return n instanceof kt?function(t){if(t.op==="=="){if(ob(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(ab(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ob(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(ab(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:qF(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const r=t.getFilters().map(i=>lP(i));return r.length===1?r[0]:{compositeFilter:{op:UF(t.op),filters:r}}}(n):ke()}function $F(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,r,i,a=De.min(),u=De.min(),l=sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.ht=e}}function BF(n){const e=VF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.ln=new HF}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Cs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class HF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qt(ot.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Go(0)}static Qn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class GF{constructor(e){this.Gn=e,this.buffer=new qt(Tb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lu(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await uu(t)}await this.Yn(3e5)})}}class YF{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(lh.oe);const r=new GF(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Eb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,a,u,l,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,l=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),ko()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${a} targets in `+(d-l)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function QF(n,e){return new YF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Cl(r.mutation,i,Zn.empty(),Dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qe()){const i=_a();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=yl();return a.forEach((l,d)=>{u=u.insert(l,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=_a();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,l)=>{t.set(u,l)})})}computeViews(e,t,r,i){let a=qi();const u=xl(),l=function(){return xl()}();return t.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof qs)?a=a.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),Cl(m.mutation,p,m.mutation.getFieldMask(),Dt.now())):u.set(p.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>u.set(p,m)),t.forEach((p,m)=>{var v;return l.set(p,new JF(m,(v=u.get(p))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,t){const r=xl();let i=new gt((u,l)=>u-l),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const l of u)l.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Zn.empty();m=l.applyToLocalView(p,m),r.set(d,m);const v=(i.get(l.batchId)||qe()).add(d);i=i.insert(l.batchId,v)})}).next(()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),p=d.key,m=d.value,v=GC();m.forEach(y=>{if(!a.has(y)){const E=ZC(t.get(y),r.get(y));E!==null&&v.set(y,E),a=a.add(y)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$C(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ee.resolve(_a());let l=-1,d=a;return u.next(p=>ee.forEach(p,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),a.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,qe())).next(m=>({batchId:l,changes:HC(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(l=>ee.forEach(l,d=>{const p=function(v,y){return new hc(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,y)=>{u=u.insert(v,y)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(u=>{a.forEach((d,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,pn.newInvalidDocument(m)))});let l=yl();return u.forEach((d,p)=>{const m=a.get(d);m!==void 0&&Cl(m.mutation,p,Zn.empty(),Dt.now()),hh(t,p)&&(l=l.insert(d,p))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:BF(i.bundledQuery),readTime:ii(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.overlays=new gt(Se.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_a();return ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Tt(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=_a(),a=t.length+1,u=new Se(t.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const d=l.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gt((p,m)=>p-m);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=_a(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const l=_a(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>l.set(p,m)),!(l.size()>=i)););return ee.resolve(l)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new wF(t,r));let a=this.Er.get(t);a===void 0&&(a=qe(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.dr=new qt(Kt.Ar),this.Rr=new qt(Kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Kt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Se(new ot([])),r=new Kt(t,e),i=new Kt(t,e+1),a=[];return this.Rr.forEachInRange([r,i],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new ot([])),r=new Kt(t,e),i=new Kt(t,e+1);let a=qe();return this.Rr.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Kt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||ze(e.br,t.br)}static Vr(e,t){return ze(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new qt(Kt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _F(a,t,r,i);this.mutationQueue.push(u);for(const l of i)this.vr=this.vr.add(new Kt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),i=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],u=>{const l=this.Cr(u.br);a.push(l)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(ze);return t.forEach(i=>{const a=new Kt(i,0),u=new Kt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],l=>{r=r.add(l.br)})}),ee.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Kt(new Se(a),0);let l=new qt(ze);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(d.br)),!0)},u),ee.resolve(this.Mr(l))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ee.forEach(t.mutations,i=>{const a=new Kt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Kt(t,0),i=this.vr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.Nr=e,this.docs=function(){return new gt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=qi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=qi();const u=t.path,l=new Se(u.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||N4(O4(m),r)<=0||(i.has(m.key)||hh(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke()}Lr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sj(this)}getSize(e){return ee.resolve(this.size)}}class sj extends XF{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.persistence=e,this.Br=new Fa(t=>Lw(t),Vw),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bw,this.targetCount=0,this.Qr=Go.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Br.forEach((u,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.Kr={},this.overlays={},this.$r=new lh(0),this.Ur=!1,this.Ur=!0,this.Wr=new nj,this.referenceDelegate=e(this),this.Gr=new aj(this),this.indexManager=new WF,this.remoteDocumentCache=function(i){return new ij(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new zF(t),this.jr=new ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new rj(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new oj(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,t){return ee.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class oj extends L4{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.Zr=new Bw,this.Xr=null}static ei(e){return new Ww(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,r=>{const i=Se.fromPath(r);return this.ni(e,i).next(a=>{a||t.removeEntry(i,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.ri=new Fa(r=>j4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=QF(this,t)}static ei(e,t){return new Uf(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,u=>this.ir(e,u,t).next(l=>{l||(r++,a.removeEntry(u,De.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=df(e.data.value)),t}ir(e,t,r){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=qe(),i=qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Hw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return HN()?8:V4(mn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new uj;return this.ts(e,t,u).next(l=>{if(a.result=l,this.Hi)return this.ns(e,t,u,l.size)})}).next(()=>a.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(ko()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(ko()<=je.DEBUG&&me("QueryEngine","Query:",Do(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ko()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ee.resolve())}Xi(e,t){if(db(t))return ee.resolve(null);let r=ri(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$_(t,null,"F"),r=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=qe(...a);return this.Zi.getDocuments(e,u).next(l=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,l);return this.ss(t,p,u,d.readTime)?this.Xi(e,$_(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,i){return db(t)||i.isEqual(De.min())?ee.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,i)?ee.resolve(null):(ko()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Do(t)),this.os(e,u,t,D4(i,-1)).next(l=>l))})}rs(e,t){let r=new qt(BC(e));return t.forEach((i,a)=>{hh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,t,r){return ko()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Do(t)),this.Zi.getDocumentsMatchingQuery(e,t,Cs.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new gt(ze),this.cs=new Fa(a=>Lw(a),Vw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function dj(n,e,t,r){return new cj(n,e,t,r)}async function fP(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],l=[];let d=qe();for(const p of i){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:l}))})})}function fj(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(l,d,p,m){const v=p.batch,y=v.keys();let E=ee.resolve();return y.forEach(T=>{E=E.next(()=>m.getEntry(d,T)).next(S=>{const I=p.docVersions.get(T);Qe(I!==null),S.version.compareTo(I)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let d=qe();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hP(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function hj(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const l=[];e.targetChanges.forEach((m,v)=>{const y=i.get(v);if(!y)return;l.push(t.Gr.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,m.addedDocuments,v)));let E=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),function(S,I,C){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(y,E,m)&&l.push(t.Gr.updateTargetData(a,E))});let d=qi(),p=qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(pj(a,u,e.documentUpdates).next(m=>{d=m.Is,p=m.Es})),!r.isEqual(De.min())){const m=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(m)}return ee.waitFor(l).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.us=i,a))}function pj(n,e,t){let r=qe(),i=qe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=qi();return t.forEach((l,d)=>{const p=a.get(l);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(l,d.readTime),u=u.insert(l,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(l,d)):me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",d.version)}),{Is:u,Es:i}})}function mj(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gj(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):t.Gr.allocateTargetId(r).next(u=>(i=new Es(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function G_(n,e,t){const r=Oe(n),i=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!lu(u))throw u;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function bb(n,e,t){const r=Oe(n);let i=De.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,m){const v=Oe(d),y=v.cs.get(m);return y!==void 0?ee.resolve(v.us.get(y)):v.Gr.getTargetData(p,m)}(r,u,ri(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,l.targetId).next(d=>{a=d})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?i:De.min(),t?a:qe())).next(l=>(vj(r,rF(e),l),{documents:l,ds:a})))}function vj(n,e,t){let r=n.ls.get(e)||De.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class Sb{constructor(){this.activeTargetIds=lF()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this._o=new Sb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Sb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function Lm(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class Tj extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(t,r,i,a,u){const l=Lm(),d=this.No(t,r.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${l}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,d,p,i).then(m=>(me("RestConnection",`Received RPC '${t}' ${l}: `,m),m),m=>{throw $o("RestConnection",`RPC '${t}' ${l} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,a,u,l){return this.Oo(t,r,i,a,u)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),i&&i.headers.forEach((a,u)=>t[u]=a)}No(t,r){const i=wj[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const a=Lm();return new Promise((u,l)=>{const d=new RC;d.setWithCredentials(!0),d.listenOnce(AC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case cf.NO_ERROR:const m=d.getResponseJson();me(dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),u(m);break;case cf.TIMEOUT:me(dn,`RPC '${e}' ${a} timed out`),l(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const v=d.getStatus();if(me(dn,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const T=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(C)>=0?C:te.UNKNOWN}(E.status);l(new ye(T,E.message))}else l(new ye(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new ye(te.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(dn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);me(dn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",p,r,15)})}qo(e,t,r){const i=Lm(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PC(),l=CC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");me(dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=u.createWebChannel(m,d);let y=!1,E=!1;const T=new Ej({Eo:I=>{E?me(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(y||(me(dn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),me(dn,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Ao:()=>v.close()}),S=(I,C,P)=>{I.listen(C,V=>{try{P(V)}catch(L){setTimeout(()=>{throw L},0)}})};return S(v,vl.EventType.OPEN,()=>{E||(me(dn,`RPC '${e}' stream ${i} transport opened.`),T.So())}),S(v,vl.EventType.CLOSE,()=>{E||(E=!0,me(dn,`RPC '${e}' stream ${i} transport closed`),T.Do())}),S(v,vl.EventType.ERROR,I=>{E||(E=!0,$o(dn,`RPC '${e}' stream ${i} transport errored:`,I),T.Do(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),S(v,vl.EventType.MESSAGE,I=>{var C;if(!E){const P=I.data[0];Qe(!!P);const V=P,L=(V==null?void 0:V.error)||((C=V[0])===null||C===void 0?void 0:C.error);if(L){me(dn,`RPC '${e}' stream ${i} received error:`,L);const W=L.status;let z=function(x){const N=Pt[x];if(N!==void 0)return tP(N)}(W),k=L.message;z===void 0&&(z=te.INTERNAL,k="Unknown error status: "+W+" with message "+L.message),E=!0,T.Do(new ye(z,k)),v.close()}else me(dn,`RPC '${e}' stream ${i} received:`,P),T.vo(P)}}),S(l,xC.STAT_EVENT,I=>{I.stat===L_.PROXY?me(dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===L_.NOPROXY&&me(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.bo()},0),T}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n){return new CF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,r,i,a,u,l,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new pP(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ye(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bj extends mP{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=DF(this.serializer,e),r=function(a){if(!("targetChange"in a))return De.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?ii(u.readTime):De.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=H_(this.serializer),t.addTarget=function(a,u){let l;const d=u.target;if(l=q_(d)?{documents:MF(a,d)}:{query:LF(a,d).ct},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=iP(a,u.resumeToken);const p=z_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}else if(u.snapshotVersion.compareTo(De.min())>0){l.readTime=qf(a,u.snapshotVersion.toTimestamp());const p=z_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}return l}(this.serializer,e);const r=FF(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=H_(this.serializer),t.removeTarget=e,this.c_(t)}}class Sj extends mP{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=NF(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=H_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>OF(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,B_(t,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(te.UNKNOWN,a.toString())})}ko(e,t,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.ko(e,B_(t,r),i,u,l,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(te.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Rj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ji(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{ja(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Oe(d);p.k_.add(4),await gc(p),p.K_.set("Unknown"),p.k_.delete(4),await yh(p)}(this))})}),this.K_=new Rj(r,i)}}async function yh(n){if(ja(n))for(const e of n.q_)await e(!0)}async function gc(n){for(const e of n.q_)await e(!1)}function gP(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Qw(t)?Yw(t):cu(t).s_()&&Kw(t,e))}function Gw(n,e){const t=Oe(n),r=cu(t);t.B_.delete(e),r.s_()&&vP(t,e),t.B_.size===0&&(r.s_()?r.a_():ja(t)&&t.K_.set("Unknown"))}function Kw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cu(n).V_(e)}function vP(n,e){n.U_.xe(e),cu(n).m_(e)}function Yw(n){n.U_=new IF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),cu(n).start(),n.K_.F_()}function Qw(n){return ja(n)&&!cu(n).i_()&&n.B_.size>0}function ja(n){return Oe(n).k_.size===0}function yP(n){n.U_=void 0}async function xj(n){n.K_.set("Online")}async function Cj(n){n.B_.forEach((e,t)=>{Kw(n,e)})}async function Pj(n,e){yP(n),Qw(n)?(n.K_.O_(e),Yw(n)):n.K_.set("Unknown")}async function kj(n,e,t){if(n.K_.set("Online"),e instanceof rP&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const l of a.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i.B_.delete(l),i.U_.removeTarget(l))}(n,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(n,r)}else if(e instanceof pf?n.U_.$e(e):e instanceof nP?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const r=await hP(n.localStore);t.compareTo(r)>=0&&await function(a,u){const l=a.U_.it(u);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.B_.get(p);m&&a.B_.set(p,m.withResumeToken(d.resumeToken,u))}}),l.targetMismatches.forEach((d,p)=>{const m=a.B_.get(d);if(!m)return;a.B_.set(d,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),vP(a,d);const v=new Es(m.target,d,p,m.sequenceNumber);Kw(a,v)}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await $f(n,r)}}async function $f(n,e,t){if(!lu(e))throw e;n.k_.add(1),await gc(n),n.K_.set("Offline"),t||(t=()=>hP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await yh(n)})}function _P(n,e){return e().catch(t=>$f(n,t,e))}async function _h(n){const e=Oe(n),t=Os(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Dj(e);)try{const i=await mj(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,Oj(e,i)}catch(i){await $f(e,i)}wP(e)&&EP(e)}function Dj(n){return ja(n)&&n.L_.length<10}function Oj(n,e){n.L_.push(e);const t=Os(n);t.s_()&&t.f_&&t.g_(e.mutations)}function wP(n){return ja(n)&&!Os(n).i_()&&n.L_.length>0}function EP(n){Os(n).start()}async function Nj(n){Os(n).w_()}async function Mj(n){const e=Os(n);for(const t of n.L_)e.g_(t.mutations)}async function Lj(n,e,t){const r=n.L_.shift(),i=Uw.from(r,e,t);await _P(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await _h(n)}async function Vj(n,e){e&&Os(n).f_&&await async function(r,i){if(function(u){return TF(u)&&u!==te.ABORTED}(i.code)){const a=r.L_.shift();Os(r).__(),await _P(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await _h(r)}}(n,e),wP(n)&&EP(n)}async function Rb(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=ja(t);t.k_.add(3),await gc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await yh(t)}async function Fj(n,e){const t=Oe(n);e?(t.k_.delete(2),await yh(t)):e||(t.k_.add(2),await gc(t),t.K_.set("Unknown"))}function cu(n){return n.W_||(n.W_=function(t,r,i){const a=Oe(t);return a.b_(),new bj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:xj.bind(null,n),mo:Cj.bind(null,n),po:Pj.bind(null,n),R_:kj.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Qw(n)?Yw(n):n.K_.set("Unknown")):(await n.W_.stop(),yP(n))})),n.W_}function Os(n){return n.G_||(n.G_=function(t,r,i){const a=Oe(t);return a.b_(),new Sj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Nj.bind(null,n),po:Vj.bind(null,n),p_:Mj.bind(null,n),y_:Lj.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await _h(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,l=new Xw(e,t,u,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jw(n,e){if(ji("AsyncQueue",`${e}: ${n}`),lu(n))return new ye(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=yl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.z_=new gt(Se.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ko{constructor(e,t,r,i,a,u,l,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new Ko(e,t,jo.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class qj{constructor(){this.queries=xb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Oe(t),a=i.queries;i.queries=xb(),a.forEach((u,l)=>{for(const d of l.J_)d.onError(r)})})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function xb(){return new Fa(n=>zC(n),fh)}async function TP(n,e){const t=Oe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new jj,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(i,!0);break;case 1:a.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const l=Jw(u,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Zw(t)}async function bP(n,e){const t=Oe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Uj(n,e){const t=Oe(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const l of u.J_)l.ta(i)&&(r=!0);u.H_=i}}r&&Zw(t)}function $j(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(t);r.queries.delete(e)}function Zw(n){n.X_.forEach(e=>{e.next()})}var K_,Cb;(Cb=K_||(K_={})).na="default",Cb.Cache="cache";class SP{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==K_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.key=e}}class RP{constructor(e){this.key=e}}class zj{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qe(),this.mutatedKeys=qe(),this.Va=BC(e),this.ma=new jo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Ab,i=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const y=i.get(m),E=hh(this.query,v)?v:null,T=!!y&&this.mutatedKeys.has(y.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;y&&E?y.data.isEqual(E.data)?T!==S&&(r.track({type:3,doc:E}),I=!0):this.ya(y,E)||(r.track({type:2,doc:E}),I=!0,(d&&this.Va(E,d)>0||p&&this.Va(E,p)<0)&&(l=!0)):!y&&E?(r.track({type:0,doc:E}),I=!0):y&&!E&&(r.track({type:1,doc:y}),I=!0,(d||p)&&(l=!0)),I&&(E?(u=u.add(E),a=S?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{ma:u,pa:r,ss:l,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((m,v)=>function(E,T){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return S(E)-S(T)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(r),i=i!=null&&i;const l=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,u.length!==0||p?{snapshot:new Ko(this.query,e.ma,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ab,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new RP(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new IP(r))}),t}va(e){this.da=e.ds,this.Ra=qe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Bj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wj{constructor(e){this.key=e,this.Fa=!1}}class Hj{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Fa(l=>zC(l),fh),this.Oa=new Map,this.Na=new Set,this.La=new gt(Se.comparator),this.Ba=new Map,this.ka=new Bw,this.qa={},this.Qa=new Map,this.Ka=Go.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Gj(n,e,t=!0){const r=DP(n);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await AP(r,e,t,!0),i}async function Kj(n,e){const t=DP(n);await AP(t,e,!0,!1)}async function AP(n,e,t,r){const i=await gj(n.localStore,ri(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let l;return r&&(l=await Yj(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&gP(n.remoteStore,i),l}async function Yj(n,e,t,r,i){n.Ua=(v,y,E)=>async function(S,I,C,P){let V=I.view.ga(C);V.ss&&(V=await bb(S.localStore,I.query,!1).then(({documents:k})=>I.view.ga(k,V)));const L=P&&P.targetChanges.get(I.targetId),W=P&&P.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(V,S.isPrimaryClient,L,W);return kb(S,I.targetId,z.ba),z.snapshot}(n,v,y,E);const a=await bb(n.localStore,e,!0),u=new zj(e,a.ds),l=u.ga(a.documents),d=mc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(l,n.isPrimaryClient,d);kb(n,t,p.ba);const m=new Bj(e,t,u);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function Qj(n,e,t){const r=Oe(n),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(u=>!fh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await G_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Gw(r.remoteStore,i.targetId),Y_(r,i.targetId)}).catch(uu)):(Y_(r,i.targetId),await G_(r.localStore,i.targetId,!0))}async function Xj(n,e){const t=Oe(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gw(t.remoteStore,r.targetId))}async function Jj(n,e,t){const r=s3(n);try{const i=await function(u,l){const d=Oe(u),p=Dt.now(),m=l.reduce((E,T)=>E.add(T.key),qe());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=qi(),S=qe();return d.hs.getEntries(E,m).next(I=>{T=I,T.forEach((C,P)=>{P.isValidDocument()||(S=S.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,T)).next(I=>{v=I;const C=[];for(const P of l){const V=vF(P,v.get(P.key).overlayedDocument);V!=null&&C.push(new qs(P.key,V,MC(V.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,C,l)}).next(I=>{y=I;const C=I.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,I.batchId,C)})}).then(()=>({batchId:y.batchId,changes:HC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,d){let p=u.qa[u.currentUser.toKey()];p||(p=new gt(ze)),p=p.insert(l,d),u.qa[u.currentUser.toKey()]=p}(r,i.batchId,t),await vc(r,i.changes),await _h(r.remoteStore)}catch(i){const a=Jw(i,"Failed to persist write");t.reject(a)}}async function xP(n,e){const t=Oe(n);try{const r=await hj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.Ba.get(a);u&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Fa=!0:i.modifiedDocuments.size>0?Qe(u.Fa):i.removedDocuments.size>0&&(Qe(u.Fa),u.Fa=!1))}),await vc(t,r,e)}catch(r){await uu(r)}}function Pb(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((a,u)=>{const l=u.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(u,l){const d=Oe(u);d.onlineState=l;let p=!1;d.queries.forEach((m,v)=>{for(const y of v.J_)y.ea(l)&&(p=!0)}),p&&Zw(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zj(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),a=i&&i.key;if(a){let u=new gt(Se.comparator);u=u.insert(a,pn.newNoDocument(a,De.min()));const l=qe().add(a),d=new gh(De.min(),new Map,new gt(ze),u,l);await xP(r,d),r.La=r.La.remove(a),r.Ba.delete(e),eE(r)}else await G_(r.localStore,e,!1).then(()=>Y_(r,e,t)).catch(uu)}async function e3(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=await fj(t.localStore,e);PP(t,r,null),CP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vc(t,i)}catch(i){await uu(i)}}async function t3(n,e,t){const r=Oe(n);try{const i=await function(u,l){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,l).next(v=>(Qe(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);PP(r,e,t),CP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vc(r,i)}catch(i){await uu(i)}}function CP(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function PP(n,e,t){const r=Oe(n);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Y_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||kP(n,r)})}function kP(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Gw(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),eE(n))}function kb(n,e,t){for(const r of t)r instanceof IP?(n.ka.addReference(r.key,e),n3(n,r)):r instanceof RP?(me("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||kP(n,r.key)):ke()}function n3(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(r),eE(n))}function eE(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(ot.fromString(e)),r=n.Ka.next();n.Ba.set(r,new Wj(t)),n.La=n.La.insert(t,r),gP(n.remoteStore,new Es(ri(Fw(t.path)),r,"TargetPurposeLimboResolution",lh.oe))}}async function vc(n,e,t){const r=Oe(n),i=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((l,d)=>{u.push(r.Ua(d,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Hw.zi(d.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Ma.R_(i),await async function(d,p){const m=Oe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,y=>ee.forEach(y.Wi,E=>m.persistence.referenceDelegate.addReference(v,y.targetId,E)).next(()=>ee.forEach(y.Gi,E=>m.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))}catch(v){if(!lu(v))throw v;me("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const y=v.targetId;if(!v.fromCache){const E=m.us.get(y),T=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(T);m.us=m.us.insert(y,S)}}}(r.localStore,a))}async function r3(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await fP(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(l=>{l.forEach(d=>{d.reject(new ye(te.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(t,r.Ts)}}function i3(n,e){const t=Oe(n),r=t.Ba.get(e);if(r&&r.Fa)return qe().add(r.key);{let i=qe();const a=t.Oa.get(e);if(!a)return i;for(const u of a){const l=t.xa.get(u);i=i.unionWith(l.view.fa)}return i}}function DP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zj.bind(null,e),e.Ma.R_=Uj.bind(null,e.eventManager),e.Ma.Wa=$j.bind(null,e.eventManager),e}function s3(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t3.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return dj(this.persistence,new lj,e.initialUser,this.serializer)}ja(e){return new dP(Ww.ei,this.serializer)}za(e){return new yj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class a3 extends zf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof Uf);const r=this.persistence.referenceDelegate.garbageCollector;return new KF(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new dP(r=>Uf.ei(r,t),this.serializer)}}class Q_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),await Fj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qj}()}createDatastore(e){const t=vh(e.databaseInfo.databaseId),r=function(a){return new Tj(a)}(e.databaseInfo);return function(a,u,l,d){return new Ij(a,u,l,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,u,l){return new Aj(r,i,a,u,l)}(this.localStore,this.datastore,e.asyncQueue,t=>Pb(this.syncEngine,t,0),function(){return Ib.p()?new Ib:new _j}())}createSyncEngine(e,t){return function(i,a,u,l,d,p,m){const v=new Hj(i,a,u,l,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Oe(i);me("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await gc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Q_.provider={build:()=>new Q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=DC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fm(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Db(n,e){n.asyncQueue.verifyOperationInProgress();const t=await u3(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rb(e.remoteStore,i)),n._onlineComponents=e}async function u3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await Fm(n,new zf)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Fm(n,new a3(void 0));return n._offlineComponents}async function NP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Db(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Db(n,new Q_))),n._onlineComponents}function l3(n){return NP(n).then(e=>e.syncEngine)}async function X_(n){const e=await NP(n),t=e.eventManager;return t.onListen=Gj.bind(null,e.syncEngine),t.onUnlisten=Qj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Kj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Xj.bind(null,e.syncEngine),t}function c3(n,e,t={}){const r=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,l,d,p){const m=new OP({next:y=>{m.eu(),u.enqueueAndForget(()=>bP(a,v)),y.fromCache&&d.source==="server"?p.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new SP(l,m,{includeMetadataChanges:!0,ua:!0});return TP(a,v)}(await X_(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e,t){if(!t)throw new ye(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function d3(n,e,t,r){if(e===!0&&r===!0)throw new ye(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nb(n){if(!Se.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mb(n){if(Se.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wh(n);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b4;switch(r.type){case"firstParty":return new A4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ob.get(t);r&&(me("ComponentProvider","Removing Datastore"),Ob.delete(t),r.terminate())}(this),Promise.resolve()}}function f3(n,e,t,r={}){var i;const a=(n=si(n,Eh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let l,d;if(typeof r.mockUserToken=="string")l=r.mockUserToken,d=hn.MOCK_USER;else{l=jN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hn(p)}n._authCredentials=new S4(new kC(l,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class As extends qa{constructor(e,t,r){super(e,t,Fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Se(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Bf(n,e,...t){if(n=Ot(n),LP("collection","path",e),n instanceof Eh){const r=ot.fromString(e,...t);return Mb(r),new As(n,null,r)}{if(!(n instanceof Ln||n instanceof As))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Mb(r),new As(n.firestore,null,r)}}function Bl(n,e,...t){if(n=Ot(n),arguments.length===1&&(e=DC.newId()),LP("doc","path",e),n instanceof Eh){const r=ot.fromString(e,...t);return Nb(r),new Ln(n,null,new Se(r))}{if(!(n instanceof Ln||n instanceof As))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Nb(r),new Ln(n.firestore,n instanceof As?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new pP(this,"async_queue_retry"),this.fu=()=>{const r=Vm();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Rs;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!lu(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),l}(r);throw ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Xw.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Fb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Aa extends Eh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vb(e),this._firestoreClient=void 0,await e}}}function h3(n,e){const t=typeof n=="object"?n:qx(),r=typeof n=="string"?n:"(default)",i=Ew(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=VN("firestore");a&&f3(i,...a)}return i}function tE(n){if(n._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p3(n),n._firestoreClient}function p3(n){var e,t,r;const i=n._freezeSettings(),a=function(l,d,p,m){return new $4(l,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,MP(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new o3(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(sn.fromBase64String(e))}catch(t){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=/^__.*__$/;class g3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new pc(e,this.data,t,this.fieldTransforms)}}class VP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Sh{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(FP(this.Mu)&&m3.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class v3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vh(e)}$u(e,t,r,i=!1){return new Sh({Mu:e,methodName:t,Ku:r,path:rn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iE(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new v3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y3(n,e,t,r,i,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,i);aE("Data must be an object, but it was:",u,r);const l=jP(r,u);let d,p;if(a.merge)d=new Zn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const y=J_(e,v,t);if(!u.contains(y))throw new ye(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UP(m,y)||m.push(y)}d=new Zn(m),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new g3(new Mn(l),d,p)}class Ih extends bh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function _3(n,e,t){return new Sh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sE extends bh{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=_3(this,e,!0),r=this.Uu.map(a=>du(a,t)),i=new Ho(r);return new hF(e.path,i)}isEqual(e){return e instanceof sE&&Ol(this.Uu,e.Uu)}}function w3(n,e,t,r){const i=n.$u(1,e,t);aE("Data must be an object, but it was:",i,r);const a=[],u=Mn.empty();js(r,(d,p)=>{const m=oE(e,d,t);p=Ot(p);const v=i.Bu(m);if(p instanceof Ih)a.push(m);else{const y=du(p,v);y!=null&&(a.push(m),u.set(m,y))}});const l=new Zn(a);return new VP(u,l,i.fieldTransforms)}function E3(n,e,t,r,i,a){const u=n.$u(1,e,t),l=[J_(e,r,t)],d=[i];if(a.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(J_(e,a[y])),d.push(a[y+1]);const p=[],m=Mn.empty();for(let y=l.length-1;y>=0;--y)if(!UP(p,l[y])){const E=l[y];let T=d[y];T=Ot(T);const S=u.Bu(E);if(T instanceof Ih)p.push(E);else{const I=du(T,S);I!=null&&(p.push(E),m.set(E,I))}}const v=new Zn(p);return new VP(m,v,u.fieldTransforms)}function T3(n,e,t,r=!1){return du(t,n.$u(r?4:3,e))}function du(n,e){if(qP(n=Ot(n)))return aE("Unsupported field value:",e,n),jP(n,e);if(n instanceof bh)return function(r,i){if(!FP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const l of r){let d=du(l,i.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:qf(i.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qf(i.serializer,a)}}if(r instanceof nE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:iP(i.serializer,r._byteString)};if(r instanceof Ln){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rE)return function(u,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw l.qu("VectorValues must only contain numeric values.");return jw(l.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${wh(r)}`)}(n,e)}function jP(n,e){const t={};return OC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(r,i)=>{const a=du(i,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function qP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof nE||n instanceof Yo||n instanceof Ln||n instanceof bh||n instanceof rE)}function aE(n,e,t){if(!qP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=wh(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function J_(n,e,t){if((e=Ot(e))instanceof Th)return e._internalPath;if(typeof e=="string")return oE(n,e);throw Wf("Field path arguments must be of type string or ",n,!1,void 0,t)}const b3=new RegExp("[~\\*/\\[\\]]");function oE(n,e,t){if(e.search(b3)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Th(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wf(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new ye(te.INVALID_ARGUMENT,l+n+d)}function UP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S3 extends $P{data(){return super.data()}}function uE(n,e){return typeof e=="string"?oE(n,e):e instanceof Th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lE{}class I3 extends lE{}function BP(n,e,...t){let r=[];e instanceof lE&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof cE).length,l=a.filter(d=>d instanceof Rh).length;if(u>1||u>0&&l>0)throw new ye(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Rh extends I3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rh(e,t,r)}_apply(e){const t=this._parse(e);return HP(e._query,t),new qa(e.firestore,e.converter,U_(e._query,t))}_parse(e){const t=iE(e.firestore);return function(a,u,l,d,p,m,v){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qb(v,m);const E=[];for(const T of v)E.push(jb(d,a,T));y={arrayValue:{values:E}}}else y=jb(d,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qb(v,m),y=T3(l,u,v,m==="in"||m==="not-in");return kt.create(p,m,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function WP(n,e,t){const r=e,i=uE("where",n);return Rh._create(i,r,t)}class cE extends lE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let u=i;const l=a.getFlattenedFilters();for(const d of l)HP(u,d),u=U_(u,d)}(e._query,t),new qa(e.firestore,e.converter,U_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jb(n,e,t){if(typeof(t=Ot(t))=="string"){if(t==="")throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$C(e)&&t.indexOf("/")!==-1)throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!Se.isDocumentKey(r))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sb(n,new Se(r))}if(t instanceof Ln)return sb(n,t._key);throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(t)}.`)}function qb(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HP(n,e){const t=function(i,a){for(const u of i)for(const l of u.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class R3{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return js(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>St(u.doubleValue));return new rE(a)}convertGeoPoint(e){return new nE(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Qe(cP(r));const i=new Ul(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(t)||ji(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GP extends $P{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mf extends GP{data(e={}){return super.data(e)}}class KP{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mf(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(l=>{const d=new mf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const d=new mf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),m=u.indexOf(l.doc.key)),{type:x3(l.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function x3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class dE extends R3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function YP(n){n=si(n,qa);const e=si(n.firestore,Aa),t=tE(e),r=new dE(e);return zP(n._query),c3(t,n._query).then(i=>new KP(e,r,n,i))}function fE(n,e,t,...r){n=si(n,Ln);const i=si(n.firestore,Aa),a=iE(i);let u;return u=typeof(e=Ot(e))=="string"||e instanceof Th?E3(a,"updateDoc",n._key,e,t,r):w3(a,"updateDoc",n._key,e),hE(i,[u.toMutation(n._key,Mr.exists(!0))])}function C3(n){return hE(si(n.firestore,Aa),[new qw(n._key,Mr.none())])}function P3(n,e){const t=si(n.firestore,Aa),r=Bl(n),i=A3(n.converter,e);return hE(t,[y3(iE(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function k3(n,...e){var t,r,i;n=Ot(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Fb(e[u])||(a=e[u],u++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Fb(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let d,p,m;if(n instanceof Ln)p=si(n.firestore,Aa),m=Fw(n._key.path),d={next:v=>{e[u]&&e[u](D3(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=si(n,qa);p=si(v.firestore,Aa),m=v._query;const y=new dE(p);d={next:E=>{e[u]&&e[u](new KP(p,y,v,E))},error:e[u+1],complete:e[u+2]},zP(n._query)}return function(y,E,T,S){const I=new OP(S),C=new SP(E,I,T);return y.asyncQueue.enqueueAndForget(async()=>TP(await X_(y),C)),()=>{I.eu(),y.asyncQueue.enqueueAndForget(async()=>bP(await X_(y),C))}}(tE(p),m,l,d)}function hE(n,e){return function(r,i){const a=new Rs;return r.asyncQueue.enqueueAndForget(async()=>Jj(await l3(r),i,a)),a.promise}(tE(n),e)}function D3(n,e,t){const r=t.docs.get(e._key),i=new dE(n);return new GP(n,i,e._key,r,new wl(t.hasPendingWrites,t.fromCache),e.converter)}function O3(...n){return new sE("arrayUnion",n)}(function(e,t=!0){(function(i){ou=i})(su),Uo(new ba("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),l=new Aa(new I4(r.getProvider("auth-internal")),new C4(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(p.options.projectId,m)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Is(Z1,"4.7.5",e),Is(Z1,"4.7.5","esm2017")})();const N3={apiKey:"AIzaSyC3DZIHW49UVq2uYJt5M8SXbgo3nVfXnjU",authDomain:"fretnot-attendance-b3026.firebaseapp.com",projectId:"fretnot-attendance-b3026",storageBucket:"fretnot-attendance-b3026.appspot.com",messagingSenderId:"1068497148466",appId:"1:1068497148466:web:538e53b89fc500b9ce3a2b"},QP=jx(N3),ti=Fl(QP);uV(ti,pC).then(()=>{console.log("Firebase Auth persistence set to local ")}).catch(n=>{console.error("Error setting persistence:",n)});const XP=new ki,Ts=h3(QP);var JP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ub=G.createContext&&G.createContext(JP),M3=["attr","size","title"];function L3(n,e){if(n==null)return{};var t=V3(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function V3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Hf(){return Hf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hf.apply(this,arguments)}function $b(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(t),!0).forEach(function(r){F3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$b(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function F3(n,e,t){return e=j3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j3(n){var e=q3(n,"string");return typeof e=="symbol"?e:e+""}function q3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZP(n){return n&&n.map((e,t)=>G.createElement(e.tag,Gf({key:t},e.attr),ZP(e.child)))}function yc(n){return e=>G.createElement(U3,Hf({attr:Gf({},n.attr)},e),ZP(n.child))}function U3(n){var e=t=>{var{attr:r,size:i,title:a}=n,u=L3(n,M3),l=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),G.createElement("svg",Hf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Gf(Gf({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),n.children)};return Ub!==void 0?G.createElement(Ub.Consumer,null,t=>e(t)):e(JP)}function ek(n){return yc({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tk=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...l},d)=>$.createElement("svg",{ref:d,...z3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:tk("lucide",i),...l},[...u.map(([p,m])=>$.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(n,e)=>{const t=$.forwardRef(({className:r,...i},a)=>$.createElement(B3,{ref:a,iconNode:e,className:tk(`lucide-${$3(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ut("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Ut("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ut("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ut("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ok="/attendio/assets/bg-BJQISwya.jpeg",n6=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState({}),[a,u]=$.useState(""),[l,d]=$.useState(!1),[p,m]=$.useState(!1);$.useEffect(()=>{a&&u("")},[e]);const v=()=>{const I={},C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?C.test(e.email)||(I.email="Please enter a valid email"):I.email="Email is required",e.password?e.password.length<6&&(I.password="Password must be at least 6 characters"):I.password="Password is required",i(I),Object.keys(I).length===0},y=I=>{const{name:C,value:P}=I.target;t(V=>({...V,[C]:P})),r[C]&&i(V=>({...V,[C]:""}))},E=async I=>{if(I.preventDefault(),!!v()){d(!0);try{await aV(ti,e.email,e.password),t({email:"",password:""})}catch(C){const P=S(C.code);u(P)}finally{d(!1)}}},T=async()=>{d(!0);try{await bC(ti,XP)}catch(I){const C=S(I.code);u(C)}finally{d(!1)}},S=I=>{switch(I){case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password must be at least 6 characters.";default:return"An error occurred. Please try again."}};return F.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${ok})`,backgroundSize:"cover"},children:F.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white  p-8 rounded-xl shadow-2xl",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up"}),F.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign up to continue"})]}),a&&F.jsx("p",{className:"text-red-600 mb-4",children:a}),F.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[F.jsxs("div",{className:"space-y-4",children:[F.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:y,placeholder:"Email address",className:`appearance-none relative block w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),r.email&&F.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),F.jsxs("div",{className:"relative",children:[F.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:y,placeholder:"Password",className:`appearance-none relative block w-full px-3 py-2 border ${r.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),F.jsx("button",{type:"button",onClick:()=>m(I=>!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":p?"Hide password":"Show password",children:p?F.jsx(rk,{size:16}):F.jsx(ik,{size:16})}),r.password&&F.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:r.password})]}),F.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?F.jsx(sk,{className:"animate-spin mx-auto"}):"Sign Up"})]}),F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:"absolute inset-0 flex items-center",children:F.jsx("div",{className:"w-full border-t border-gray-300"})}),F.jsx("div",{className:"relative flex justify-center text-sm",children:F.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),F.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[F.jsx(ek,{className:"h-5 w-5 mr-2"}),"Sign Up with Google"]}),F.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",F.jsx("button",{onClick:()=>n(!1),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Log in"})]})]})})},r6=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState(!1),[a,u]=$.useState(!1),[l,d]=$.useState(""),[p,m]=$.useState({}),v=Va();$.useEffect(()=>{l&&d("")},[e]);const y=()=>{const C={},P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?P.test(e.email)||(C.email="Please enter a valid email"):C.email="Email is required",e.password?e.password.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",m(C),Object.keys(C).length===0},E=C=>{const{name:P,value:V}=C.target;t(L=>({...L,[P]:V})),p[P]&&m(L=>({...L,[P]:""}))},T=async C=>{if(C.preventDefault(),!!y()){u(!0);try{await oV(ti,e.email,e.password),console.log(" Email/password login initiated"),Vl(ti,P=>{P&&(console.log(" Auth confirmed:",P.uid),v("/home"))})}catch(P){const V=I(P.code);d(V)}finally{u(!1)}}},S=async()=>{u(!0);try{await bC(ti,XP),console.log(" Google login initiated"),Vl(ti,C=>{C&&(console.log(" Google Auth confirmed:",C.uid),v("/home"))})}catch(C){const P=I(C.code);d(P)}finally{u(!1)}},I=C=>{switch(C){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};return F.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${ok})`,backgroundSize:"cover"},children:F.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),F.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to continue"})]}),F.jsxs("form",{onSubmit:T,className:"mt-8 space-y-6",children:[F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),F.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Email address"}),p.email&&F.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),F.jsxs("div",{className:"relative",children:[F.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),F.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Password"}),F.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":r?"Hide password":"Show password",children:r?F.jsx(rk,{size:16}):F.jsx(ik,{size:16})}),p.password&&F.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]})]}),l&&F.jsx("div",{className:"rounded-md bg-red-50 p-4",children:F.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})}),F.jsx("div",{children:F.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?F.jsx(sk,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}):"Sign in"})})]}),F.jsxs("div",{className:"relative",children:[F.jsx("div",{className:"absolute inset-0 flex items-center",children:F.jsx("div",{className:"w-full border-t border-gray-300"})}),F.jsx("div",{className:"relative flex justify-center text-sm",children:F.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),F.jsxs("button",{onClick:S,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[F.jsx(ek,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),F.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",F.jsx("button",{onClick:()=>n(!0),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Sign up"})]})]})})},i6=({title:n,description:e,onClick:t,bgColor:r="bg-white"})=>F.jsx("button",{onClick:t,className:`${r} rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-200 w-full text-left hover:scale-105`,children:F.jsxs("div",{className:"flex flex-col space-y-2",children:[F.jsx("h3",{className:"text-xl font-bold",children:n}),F.jsx("p",{className:"text-gray-600 text-sm",children:e})]})}),s6=()=>F.jsxs("div",{className:"bg-zen-gradient rounded-lg shadow-lg p-8 text-white relative overflow-hidden",children:[F.jsx("div",{className:"relative z-10",children:F.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to the Dashboard"})}),F.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 transform rotate-45 -translate-y-8 translate-x-8"})]}),a6=()=>{const n=Va(),e=[{title:"Students",description:"Edit or view all students or add new ones",onClick:()=>n("/students"),bgColor:"bg-blue-50 hover:bg-blue-100"},{title:"Attendance",description:"Mark and view student attendance",onClick:()=>n("/attendance"),bgColor:"bg-purple-50 hover:bg-purple-100"},{title:"Teaching Schedule",description:"View or edit your teaching schedule",onClick:()=>n("/schedule"),bgColor:"bg-green-50 hover:bg-green-100"},{title:"Settings",description:"Manage your preferences and profile settings",onClick:()=>n("/settings"),bgColor:"bg-yellow-50 hover:bg-yellow-100"}];return F.jsxs("div",{className:"px-4 sm:px-6 pb-24 py-6 md:ml-16 max-w-7xl mx-auto space-y-6 transition-all duration-300",children:[F.jsx(s6,{}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>F.jsx(i6,{title:t.title,description:t.description,onClick:t.onClick,bgColor:t.bgColor},r))})]})},o6=({student:n,index:e,handleInputChange:t,toggleEditMode:r,handleRemoveRow:i})=>F.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden ",children:[F.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(ak,{className:"w-5 h-5 text-gray-400"}),F.jsx("h2",{className:"font-semibold text-gray-800",children:n.name||"New Student"})]}),F.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm bg-gray-100 text-gray-600",children:n.day||"No Day Set"})]}),F.jsxs("div",{className:"p-4 space-y-4",children:[n.isEditable?F.jsxs(F.Fragment,{children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),F.jsx("input",{type:"text",value:n.name,onChange:a=>t(a,e,"name"),placeholder:"Enter Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument"}),F.jsx("input",{type:"text",value:n.instrument,onChange:a=>t(a,e,"instrument"),placeholder:"Enter Instrument",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),F.jsxs("select",{value:n.day,onChange:a=>t(a,e,"day"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"",children:"Select Day"}),F.jsx("option",{value:"Monday",children:"Monday"}),F.jsx("option",{value:"Tuesday",children:"Tuesday"}),F.jsx("option",{value:"Wednesday",children:"Wednesday"}),F.jsx("option",{value:"Thursday",children:"Thursday"}),F.jsx("option",{value:"Friday",children:"Friday"})]})]})]}):F.jsxs("div",{className:"space-y-2",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(Q3,{className:"w-4 h-4 text-gray-400"}),F.jsx("span",{className:"text-sm text-gray-600",children:n.instrument||"No Instrument"})]}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(nk,{className:"w-4 h-4 text-gray-400"}),F.jsx("span",{className:"text-sm text-gray-600",children:n.day||"No Day"})]})]}),F.jsxs("div",{className:"flex gap-2 pt-2 border-t mt-4",children:[F.jsx("button",{onClick:()=>r(e),className:`flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n.isEditable?"bg-green text-white":"bg-blue text-white"}`,children:n.isEditable?F.jsxs(F.Fragment,{children:[F.jsx(Z3,{className:"h-4 w-4"}),"Save"]}):F.jsxs(F.Fragment,{children:[F.jsx(X3,{className:"h-4 w-4"}),"Edit"]})}),F.jsxs("button",{onClick:()=>i(e),className:"flex-1 bg-red text-white inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:[F.jsx(e6,{className:"h-4 w-4"}),"Remove"]})]})]})]}),u6=async()=>{const e=Fl().currentUser;if(!e){console.error(" You must be logged in to update documents!");return}const t=e.uid,r=Bf(Ts,"students");try{const i=await YP(r);let a=0;for(const u of i.docs)u.data().ownerId||(await fE(Bl(Ts,"students",u.id),{ownerId:t}),a++,console.log(` Updated ${u.id}`));console.log(a===0?" All documents already have ownerId fields.":` Updated ${a} documents successfully!`)}catch(i){console.error(" Error updating documents:",i)}},l6=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(null),[i,a]=$.useState(!1),u=Bf(Ts,"students");$.useEffect(()=>{const v=Fl();return Vl(v,E=>{E?(console.log(" Auth confirmed in Students:",E.uid),r(E.uid),a(!0),u6()):(console.warn(" No user signed in  redirecting or waiting..."),r(null),a(!1))})},[]),$.useEffect(()=>{if(!i||!t){console.log(" Waiting for auth before querying...");return}console.log(" Querying Firestore for UID:",t);const v=BP(u,WP("ownerId","==",t));return k3(v,E=>{console.log(" Students snapshot:",E.docs.length,"docs"),e(E.docs.map(T=>({id:T.id,...T.data(),isEditable:!1})))},E=>console.error(" Firestore query error:",E))},[t,i]);const l=()=>{i&&e([{name:"",instrument:"",day:"",isEditable:!0},...n])},d=(v,y,E)=>e(n.map((T,S)=>S===y?{...T,[E]:v.target.value}:T)),p=async v=>{var T;const y=n[v],E=n.map((S,I)=>I===v?{...S,isEditable:!S.isEditable}:S);if(y.isEditable){const S=t||((T=Fl().currentUser)==null?void 0:T.uid);if(!S){console.error(" No authenticated user. Cannot save."),alert("Please log in again before saving.");return}const I={name:(y.name||"").trim(),instrument:(y.instrument||"").trim(),day:(y.day||"").trim(),ownerId:S};if(console.log(" Attempting to save student:",I),!I.name||!I.instrument||!I.day){console.warn(" Incomplete data. Please fill in all fields before saving."),alert("Please fill in all student fields before saving.");return}try{if(y.id)console.log(" Updating existing student:",y.id),await fE(Bl(Ts,"students",y.id),I);else{console.log(" Adding new student...");const C=await P3(Bf(Ts,"students"),I);E[v].id=C.id,console.log(" Added new student with ID:",C.id)}console.log(" Student saved successfully!")}catch(C){console.error(" Firestore save error:",C),alert("Failed to save student. Check console for details.");return}}e(E)},m=async v=>{const y=n[v];try{y.id&&await C3(Bl(Ts,"students",y.id)),e(n.filter((E,T)=>T!==v))}catch(E){console.error("Error deleting document:",E)}};return F.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4 pb-20",children:[F.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 px-4 md:px-6 py-4",children:[F.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[F.jsx(Y3,{className:"h-8 w-8"})," Students"]}),F.jsxs("button",{onClick:l,disabled:!i,className:"w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue text-white rounded-md disabled:opacity-50",children:[F.jsx(J3,{className:"w-4 h-4 mr-2"})," Add Student"]})]}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:n.length===0?F.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"No students found yet. Add one using the button above "}):n.map((v,y)=>F.jsx(o6,{student:v,index:y,handleInputChange:d,toggleEditMode:p,handleRemoveRow:m},v.id??`temp-${y}`))})]})},c6=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(!0),[i,a]=$.useState(null),[u,l]=$.useState(null),[d,p]=$.useState(null);$.useEffect(()=>{const T=Fl();return Vl(T,async I=>{if(!I){console.warn(" No user logged in"),a("You must be logged in to view attendance."),r(!1);return}try{console.log(" Auth confirmed in Attendance:",I.uid);const C=BP(Bf(Ts,"students"),WP("ownerId","==",I.uid)),V=(await YP(C)).docs.map(L=>({id:L.id,...L.data(),attendanceHistory:L.data().attendanceHistory||[]}));e(V),a(null),console.log(` Loaded ${V.length} students for UID ${I.uid}`)}catch(C){console.error(" Error fetching students:",C),a("Failed to fetch students. Please try again later.")}finally{r(!1)}})},[]);const m=async(T,S)=>{l(T);try{const I=Bl(Ts,"students",T),C={status:S,timestamp:Dt.now(),date:new Date().toISOString().split("T")[0]};await fE(I,{attendance:S,attendanceHistory:O3(C)}),e(P=>P.map(V=>V.id===T?{...V,attendance:S,attendanceHistory:[...V.attendanceHistory||[],C]}:V)),console.log(` Marked ${T} as ${S}`)}catch(I){console.error(" Error updating attendance:",I),a("Failed to update attendance. Please try again.")}finally{l(null)}},v=T=>!T||T.length===0?{present:0,absent:0}:T.reduce((S,I)=>({present:S.present+(I.status==="Present"?1:0),absent:S.absent+(I.status==="Absent"?1:0)}),{present:0,absent:0}),y=T=>T!=null&&T.seconds?new Date(T.seconds*1e3).toLocaleDateString():new Date(T).toLocaleDateString(),E=T=>T!=null&&T.seconds?new Date(T.seconds*1e3).toLocaleTimeString():new Date(T).toLocaleTimeString();return t?F.jsx("div",{className:"flex items-center justify-center min-h-screen",children:F.jsx(Um,{className:"h-8 w-8 animate-spin text-blue-500"})}):F.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4",children:[F.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[F.jsx(t6,{className:"h-6 w-6"}),F.jsx("h1",{className:"text-2xl font-bold",children:"Student Attendance"})]}),i&&F.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-center gap-2 text-red-700",children:[F.jsx(G3,{className:"h-5 w-5"}),F.jsx("p",{children:i})]}),F.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(T=>{const S=v(T.attendanceHistory);return F.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[F.jsx("div",{className:"p-4 border-b bg-gray-50",children:F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(ak,{className:"h-5 w-5 text-gray-400"}),F.jsx("h2",{className:"font-semibold text-gray-800",children:T.name})]}),F.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm ${T.attendance==="Present"?"bg-green-100 text-green-600":T.attendance==="Absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[T.attendance==="Present"&&F.jsx(jm,{className:"h-4 w-4"}),T.attendance==="Absent"&&F.jsx(qm,{className:"h-4 w-4"}),T.attendance||"Not marked"]})]})}),F.jsxs("div",{className:"p-4 bg-white",children:[F.jsxs("div",{className:"flex justify-around mb-4",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-green-600 font-semibold",children:S.present}),F.jsx("div",{className:"text-sm text-gray-500",children:"Present"})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"text-red-600 font-semibold",children:S.absent}),F.jsx("div",{className:"text-sm text-gray-500",children:"Absent"})]})]}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx("button",{onClick:()=>m(T.id,"Present"),disabled:u===T.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===T.id?F.jsx(Um,{className:"h-4 w-4 animate-spin"}):F.jsxs(F.Fragment,{children:[F.jsx(jm,{className:"h-4 w-4"}),"Present"]})}),F.jsx("button",{onClick:()=>m(T.id,"Absent"),disabled:u===T.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===T.id?F.jsx(Um,{className:"h-4 w-4 animate-spin"}):F.jsxs(F.Fragment,{children:[F.jsx(qm,{className:"h-4 w-4"}),"Absent"]})})]}),F.jsx("button",{onClick:()=>p(d===T.id?null:T.id),className:"w-full mt-4 flex items-center justify-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:d===T.id?F.jsxs(F.Fragment,{children:["Hide History ",F.jsx(H3,{className:"h-4 w-4"})]}):F.jsxs(F.Fragment,{children:["View History ",F.jsx(W3,{className:"h-4 w-4"})]})}),d===T.id&&F.jsx("div",{className:"mt-4 space-y-2 border-t pt-4",children:[...T.attendanceHistory].sort((I,C)=>C.timestamp.seconds-I.timestamp.seconds).slice(0,5).map((I,C)=>F.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b last:border-0",children:[F.jsxs("span",{className:`flex items-center gap-1 ${I.status==="Present"?"text-green-600":"text-red-600"}`,children:[I.status==="Present"?F.jsx(jm,{className:"h-4 w-4"}):F.jsx(qm,{className:"h-4 w-4"}),I.status]}),F.jsxs("div",{className:"flex items-center gap-3",children:[F.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[F.jsx(nk,{className:"h-4 w-4"}),y(I.timestamp)]}),F.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[F.jsx(K3,{className:"h-4 w-4"}),E(I.timestamp)]})]})]},C))})]})]},T.id)})})]})};function Ui(n){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(n)}function d6(n,e){if(Ui(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uk(n){var e=d6(n,"string");return Ui(e)=="symbol"?e:e+""}function va(n,e,t){return(e=uk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zb(Object(t),!0).forEach(function(r){va(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ah(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function li(n,e){if(n==null)return{};var t,r,i=Ah(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function $t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bb(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uk(r.key),r)}}function zt(n,e,t){return e&&Bb(n.prototype,e),t&&Bb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kf(n){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kf(n)}function lk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!n})()}function f6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function h6(n,e){if(e&&(Ui(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f6(n)}function gn(n,e,t){return e=Kf(e),h6(n,lk()?Reflect.construct(e,t||[],Kf(n).constructor):e.apply(n,t))}function Yf(n,e){return Yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yf(n,e)}function vn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yf(n,e)}function ck(n){if(Array.isArray(n))return n}function p6(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,u,l=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(d=(r=a.call(t)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(m){p=!0,i=m}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw i}}return l}}function Z_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function pE(n,e){if(n){if(typeof n=="string")return Z_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z_(n,e):void 0}}function dk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xa(n,e){return ck(n)||p6(n,e)||pE(n,e)||dk()}function fk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=fk(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function wt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=fk(n))&&(r&&(r+=" "),r+=e);return r}function _t(){return _t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_t.apply(null,arguments)}var $m,Wb;function m6(){if(Wb)return $m;Wb=1;var n=function(e,t,r,i,a,u,l,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,a,u,l,d],v=0;p=new Error(t.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return $m=n,$m}var g6=m6();const Wl=qn(g6);var v6=function(){};function y6(n,e){var t={};return Object.keys(n).forEach(function(r){t[gf(r)]=v6}),t}function Hb(n,e){return n[e]!==void 0}function gf(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function _6(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function w6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Yf(n,e)}function hk(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function pk(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function mk(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}hk.__suppressDeprecationWarning=!0;pk.__suppressDeprecationWarning=!0;mk.__suppressDeprecationWarning=!0;function E6(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var a=n.displayName||n.name,u=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+u+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=hk,e.componentWillReceiveProps=pk),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=mk;var l=e.componentDidUpdate;e.componentDidUpdate=function(p,m,v){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;l.call(this,p,m,y)}}return n}var T6="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function gk(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=_6(n),a=Object.keys(e),u=a.map(gf);i||!t.length||Wl(!1);var l=function(p){w6(m,p);function m(){for(var y,E=arguments.length,T=new Array(E),S=0;S<E;S++)T[S]=arguments[S];y=p.call.apply(p,[this].concat(T))||this,y.handlers=Object.create(null),a.forEach(function(C){var P=e[C],V=function(W){if(y.props[P]){var z;y._notifying=!0;for(var k=arguments.length,R=new Array(k>1?k-1:0),x=1;x<k;x++)R[x-1]=arguments[x];(z=y.props)[P].apply(z,[W].concat(R)),y._notifying=!1}y.unmounted||y.setState(function(N){var M,q=N.values;return{values:_t(Object.create(null),q,(M={},M[C]=W,M))}})};y.handlers[P]=V}),t.length&&(y.attachRef=function(C){y.inner=C});var I=Object.create(null);return a.forEach(function(C){I[C]=y.props[gf(C)]}),y.state={values:I,prevProps:{}},y}var v=m.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(E,T){var S=T.values,I=T.prevProps,C={values:_t(Object.create(null),S),prevProps:{}};return a.forEach(function(P){C.prevProps[P]=E[P],!Hb(E,P)&&Hb(I,P)&&(C.values[P]=E[gf(P)])}),C},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var E=this,T=this.props,S=T.innerRef,I=Ah(T,["innerRef"]);u.forEach(function(P){delete I[P]});var C={};return a.forEach(function(P){var V=E.props[P];C[P]=V!==void 0?V:E.state.values[P]}),G.createElement(n,_t({},I,C,this.handlers,{ref:S||this.attachRef}))},m}(G.Component);E6(l),l.displayName="Uncontrolled("+r+")",l.propTypes=_t({innerRef:function(){}},y6(e)),t.forEach(function(p){l.prototype[p]=function(){var v;return(v=this.inner)[p].apply(v,arguments)}});var d=l;return G.forwardRef&&(d=G.forwardRef(function(p,m){return G.createElement(l,_t({},p,{innerRef:m,__source:{fileName:T6,lineNumber:128},__self:this}))}),d.propTypes=l.propTypes),d.ControlledComponent=n,d.deferControlTo=function(p,m,v){return m===void 0&&(m={}),gk(p,_t({},e,m),v)},d}var zm={exports:{}},Bm,Gb;function b6(){if(Gb)return Bm;Gb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bm=n,Bm}var Wm,Kb;function S6(){if(Kb)return Wm;Kb=1;var n=b6();function e(){}function t(){}return t.resetWarningCache=e,Wm=function(){function r(u,l,d,p,m,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Wm}var Yb;function I6(){return Yb||(Yb=1,zm.exports=S6()()),zm.exports}var R6=I6();const oe=qn(R6);var Qf="milliseconds",Hl="seconds",Gl="minutes",Kl="hours",Ca="day",Qo="week",Yl="month",Pa="year",ka="decade",Da="century",vk={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},A6={month:1,year:12,decade:10*12,century:100*12};function x6(n){return[31,C6(n),31,30,31,30,31,31,30,31,30,31]}function C6(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Vr(n,e,t){switch(n=new Date(n),t){case Qf:case Hl:case Gl:case Kl:case Ca:case Qo:return P6(n,e*vk[t]);case Yl:case Pa:case ka:case Da:return k6(n,e*A6[t])}throw new TypeError('Invalid units: "'+t+'"')}function P6(n,e){var t=new Date(+n+e);return D6(n,t)}function k6(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),a=t*12+r+e,u=Math.trunc(a/12),l=a%12,d=Math.min(i,x6(u)[l]),p=new Date(n);return p.setFullYear(u),p.setDate(1),p.setMonth(l),p.setDate(d),p}function D6(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*vk.minutes)}function Ql(n,e,t){return Vr(n,-e,t)}function an(n,e,t){switch(n=new Date(n),e){case Da:case ka:case Pa:n=Jf(n,0);case Yl:n=Tk(n,1);case Qo:case Ca:n=Zl(n,0);case Kl:n=Xo(n,0);case Gl:n=Jl(n,0);case Hl:n=Xl(n,0)}return e===ka&&(n=Ql(n,Oa(n)%10,"year")),e===Da&&(n=Ql(n,Oa(n)%100,"year")),e===Qo&&(n=bk(n,0,t)),n}function Xf(n,e,t){switch(n=new Date(n),n=an(n,e,t),e){case Da:case ka:case Pa:case Yl:case Qo:n=Vr(n,1,e),n=Ql(n,1,Ca),n.setHours(23,59,59,999);break;case Ca:n.setHours(23,59,59,999);break;case Kl:case Gl:case Hl:n=Vr(n,1,e),n=Ql(n,1,Qf)}return n}var fu=pu(function(n,e){return n===e}),mE=pu(function(n,e){return n!==e}),xh=pu(function(n,e){return n>e}),_c=pu(function(n,e){return n>=e}),gE=pu(function(n,e){return n<e}),hu=pu(function(n,e){return n<=e});function yk(){return new Date(Math.min.apply(Math,arguments))}function _k(){return new Date(Math.max.apply(Math,arguments))}function wk(n,e,t,r){return r=r||"day",(!e||_c(n,e,r))&&(!t||hu(n,t,r))}var Xl=Us("Milliseconds"),Jl=Us("Seconds"),Xo=Us("Minutes"),Zl=Us("Hours"),Ek=Us("Day"),Tk=Us("Date"),Jf=Us("Month"),Oa=Us("FullYear");function O6(n,e){return e===void 0?Oa(an(n,ka)):Vr(n,e+10,Pa)}function N6(n,e){return e===void 0?Oa(an(n,Da)):Vr(n,e+100,Pa)}function bk(n,e,t){var r=(Ek(n)+7-(t||0))%7;return e===void 0?r:Vr(n,e-r,Ca)}function M6(n,e,t,r){var i,a,u;switch(t){case Qf:case Hl:case Gl:case Kl:case Ca:case Qo:i=e.getTime()-n.getTime();break;case Yl:case Pa:case ka:case Da:i=(Oa(e)-Oa(n))*12+Jf(e)-Jf(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case Qf:a=1;break;case Hl:a=1e3;break;case Gl:a=1e3*60;break;case Kl:a=1e3*60*60;break;case Ca:a=1e3*60*60*24;break;case Qo:a=1e3*60*60*24*7;break;case Yl:a=1;break;case Pa:a=12;break;case ka:a=120;break;case Da:a=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return u=i/a,r?u:Math.round(u)}function Us(n){var e=function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function pu(n){return function(e,t,r){return n(+an(e,r),+an(t,r))}}const Qb=Object.freeze(Object.defineProperty({__proto__:null,add:Vr,century:N6,date:Tk,day:Ek,decade:O6,diff:M6,endOf:Xf,eq:fu,gt:xh,gte:_c,hours:Zl,inRange:wk,lt:gE,lte:hu,max:_k,milliseconds:Xl,min:yk,minutes:Xo,month:Jf,neq:mE,seconds:Jl,startOf:an,subtract:Ql,weekday:bk,year:Oa},Symbol.toStringTag,{value:"Module"}));function L6(n){if(Array.isArray(n))return Z_(n)}function Sk(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function V6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vf(n){return L6(n)||Sk(n)||pE(n)||V6()}var Hm,Xb;function Ik(){if(Xb)return Hm;Xb=1;function n(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var u=Array(a);++i<a;)u[i]=e[i+t];return u}return Hm=n,Hm}var Gm,Jb;function wc(){if(Jb)return Gm;Jb=1;function n(e,t){return e===t||e!==e&&t!==t}return Gm=n,Gm}var Km,Zb;function Rk(){if(Zb)return Km;Zb=1;var n=typeof Bd=="object"&&Bd&&Bd.Object===Object&&Bd;return Km=n,Km}var Ym,eS;function fi(){if(eS)return Ym;eS=1;var n=Rk(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Ym=t,Ym}var Qm,tS;function mu(){if(tS)return Qm;tS=1;var n=fi(),e=n.Symbol;return Qm=e,Qm}var Xm,nS;function F6(){if(nS)return Xm;nS=1;var n=mu(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(u){var l=t.call(u,i),d=u[i];try{u[i]=void 0;var p=!0}catch{}var m=r.call(u);return p&&(l?u[i]=d:delete u[i]),m}return Xm=a,Xm}var Jm,rS;function j6(){if(rS)return Jm;rS=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Jm=t,Jm}var Zm,iS;function gu(){if(iS)return Zm;iS=1;var n=mu(),e=F6(),t=j6(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function u(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):t(l)}return Zm=u,Zm}var eg,sS;function Wi(){if(sS)return eg;sS=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return eg=n,eg}var tg,aS;function vE(){if(aS)return tg;aS=1;var n=gu(),e=Wi(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(l){if(!e(l))return!1;var d=n(l);return d==r||d==i||d==t||d==a}return tg=u,tg}var ng,oS;function yE(){if(oS)return ng;oS=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return ng=e,ng}var rg,uS;function Ec(){if(uS)return rg;uS=1;var n=vE(),e=yE();function t(r){return r!=null&&e(r.length)&&!n(r)}return rg=t,rg}var ig,lS;function _E(){if(lS)return ig;lS=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ig=t,ig}var sg,cS;function Ch(){if(cS)return sg;cS=1;var n=wc(),e=Ec(),t=_E(),r=Wi();function i(a,u,l){if(!r(l))return!1;var d=typeof u;return(d=="number"?e(l)&&t(u,l.length):d=="string"&&u in l)?n(l[u],a):!1}return sg=i,sg}var ag,dS;function q6(){if(dS)return ag;dS=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return ag=e,ag}var og,fS;function U6(){if(fS)return og;fS=1;var n=q6(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return og=t,og}var ug,hS;function $s(){if(hS)return ug;hS=1;function n(e){return e!=null&&typeof e=="object"}return ug=n,ug}var lg,pS;function Tc(){if(pS)return lg;pS=1;var n=gu(),e=$s(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return lg=r,lg}var cg,mS;function $6(){if(mS)return cg;mS=1;var n=U6(),e=Wi(),t=Tc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var v=a.test(p);return v||u.test(p)?l(p.slice(2),v?2:8):i.test(p)?r:+p}return cg=d,cg}var dg,gS;function Ak(){if(gS)return dg;gS=1;var n=$6(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-1/0){var a=i<0?-1:1;return a*t}return i===i?i:0}return dg=r,dg}var fg,vS;function xk(){if(vS)return fg;vS=1;var n=Ak();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return fg=e,fg}var hg,yS;function z6(){if(yS)return hg;yS=1;var n=Ik(),e=Ch(),t=xk(),r=Math.ceil,i=Math.max;function a(u,l,d){(d?e(u,l,d):l===void 0)?l=1:l=i(t(l),0);var p=u==null?0:u.length;if(!p||l<1)return[];for(var m=0,v=0,y=Array(r(p/l));m<p;)y[v++]=n(u,m,m+=l);return y}return hg=a,hg}var B6=z6();const W6=qn(B6);function bc(n){return n&&n.ownerDocument||document}function H6(n){var e=bc(n);return e&&e.defaultView||window}function G6(n,e){return H6(n).getComputedStyle(n,e)}var K6=/([A-Z])/g;function Y6(n){return n.replace(K6,"-$1").toLowerCase()}var Q6=/^ms-/;function Zd(n){return Y6(n).replace(Q6,"-ms-")}var X6=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function J6(n){return!!(n&&X6.test(n))}function Mo(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Zd(e))||G6(n).getPropertyValue(Zd(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Zd(i)):J6(i)?r+=i+"("+a+") ":t+=Zd(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function ec(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function Z6(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function wE(n){return"window"in n&&n.window===n?n:Z6(n)&&n.defaultView||!1}function Ck(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var a=wE(r);if(i===void 0)return a?a[n]:r[e];a?a.scrollTo(a[n],i):r[e]=i}return t}const Pk=Ck("pageXOffset"),kk=Ck("pageYOffset");function Ea(n){var e=bc(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!ec(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+kk(r)-(r.clientTop||0),left:t.left+Pk(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var eq=function(e){return!!e&&"offsetParent"in e};function tq(n){for(var e=bc(n),t=n&&n.offsetParent;eq(t)&&t.nodeName!=="HTML"&&Mo(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var nq=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function Dk(n,e){var t={top:0,left:0},r;if(Mo(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||tq(n);r=Ea(n),nq(i)!=="html"&&(t=Ea(i));var a=String(Mo(i,"borderTopWidth")||0);t.top+=parseInt(a,10)-kk(i)||0;var u=String(Mo(i,"borderLeftWidth")||0);t.left+=parseInt(u,10)-Pk(i)||0}var l=String(Mo(n,"marginTop")||0),d=String(Mo(n,"marginLeft")||0);return _t({},r,{top:r.top-t.top-(parseInt(l,10)||0),left:r.left-t.left-(parseInt(d,10)||0)})}const EE=!!(typeof window<"u"&&window.document&&window.document.createElement);var _S=new Date().getTime();function rq(n){var e=new Date().getTime(),t=Math.max(0,16-(e-_S)),r=setTimeout(n,t);return _S=e,r}var iq=["","webkit","moz","o","ms"],ew="clearTimeout",tw=rq,wS=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};EE&&iq.some(function(n){var e=wS(n,"request");return e in window&&(ew=wS(n,"cancel"),tw=function(r){return window[e](r)}),!!tw});var ES=function(e){typeof window[ew]=="function"&&window[ew](e)},Ok=tw,pg;function sq(n,e){if(!pg){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;pg=function(a,u){return r.call(a,u)}}return pg(n,e)}var aq=Function.prototype.bind.call(Function.prototype.call,[].slice);function oq(n,e){return aq(n.querySelectorAll(e))}var nw=!1,rw=!1;try{var mg={get passive(){return nw=!0},get once(){return rw=nw=!0}};EE&&(window.addEventListener("test",mg,mg),window.removeEventListener("test",mg,!0))}catch{}function uq(n,e,t,r){if(r&&typeof r!="boolean"&&!rw){var i=r.once,a=r.capture,u=t;!rw&&i&&(u=t.__once||function l(d){this.removeEventListener(e,l,a),t.call(this,d)},t.__once=u),n.addEventListener(e,u,nw?r:a)}n.addEventListener(e,t,r)}function lq(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function TS(n){const e=lq(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function bS(){return $.useState(null)}function cq(){const n=$.useRef(!0),e=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function dq(n){const e=cq();return[n[0],$.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Vn="top",hr="bottom",pr="right",Fn="left",TE="auto",Sc=[Vn,hr,pr,Fn],Jo="start",tc="end",fq="clippingParents",Nk="viewport",ll="popper",hq="reference",SS=Sc.reduce(function(n,e){return n.concat([e+"-"+Jo,e+"-"+tc])},[]),bE=[].concat(Sc,[TE]).reduce(function(n,e){return n.concat([e,e+"-"+Jo,e+"-"+tc])},[]),pq="beforeRead",mq="read",gq="afterRead",vq="beforeMain",yq="main",_q="afterMain",wq="beforeWrite",Eq="write",Tq="afterWrite",bq=[pq,mq,gq,vq,yq,_q,wq,Eq,Tq];function ai(n){return n.split("-")[0]}function er(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Na(n){var e=er(n).Element;return n instanceof e||n instanceof Element}function oi(n){var e=er(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function SE(n){if(typeof ShadowRoot>"u")return!1;var e=er(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Ta=Math.max,Zf=Math.min,Zo=Math.round;function iw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Mk(){return!/^((?!chrome|android).)*safari/i.test(iw())}function eu(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&oi(n)&&(i=n.offsetWidth>0&&Zo(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Zo(r.height)/n.offsetHeight||1);var u=Na(n)?er(n):window,l=u.visualViewport,d=!Mk()&&t,p=(r.left+(d&&l?l.offsetLeft:0))/i,m=(r.top+(d&&l?l.offsetTop:0))/a,v=r.width/i,y=r.height/a;return{width:v,height:y,top:m,right:p+v,bottom:m+y,left:p,x:p,y:m}}function IE(n){var e=eu(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Lk(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&SE(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ns(n){return n?(n.nodeName||"").toLowerCase():null}function $i(n){return er(n).getComputedStyle(n)}function Sq(n){return["table","td","th"].indexOf(Ns(n))>=0}function zs(n){return((Na(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ph(n){return Ns(n)==="html"?n:n.assignedSlot||n.parentNode||(SE(n)?n.host:null)||zs(n)}function IS(n){return!oi(n)||$i(n).position==="fixed"?null:n.offsetParent}function Iq(n){var e=/firefox/i.test(iw()),t=/Trident/i.test(iw());if(t&&oi(n)){var r=$i(n);if(r.position==="fixed")return null}var i=Ph(n);for(SE(i)&&(i=i.host);oi(i)&&["html","body"].indexOf(Ns(i))<0;){var a=$i(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Ic(n){for(var e=er(n),t=IS(n);t&&Sq(t)&&$i(t).position==="static";)t=IS(t);return t&&(Ns(t)==="html"||Ns(t)==="body"&&$i(t).position==="static")?e:t||Iq(n)||e}function RE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Pl(n,e,t){return Ta(n,Zf(e,t))}function Rq(n,e,t){var r=Pl(n,e,t);return r>t?t:r}function Vk(){return{top:0,right:0,bottom:0,left:0}}function Fk(n){return Object.assign({},Vk(),n)}function jk(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Aq=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Fk(typeof e!="number"?e:jk(e,Sc))};function xq(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,l=ai(t.placement),d=RE(l),p=[Fn,pr].indexOf(l)>=0,m=p?"height":"width";if(!(!a||!u)){var v=Aq(i.padding,t),y=IE(a),E=d==="y"?Vn:Fn,T=d==="y"?hr:pr,S=t.rects.reference[m]+t.rects.reference[d]-u[d]-t.rects.popper[m],I=u[d]-t.rects.reference[d],C=Ic(a),P=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0,V=S/2-I/2,L=v[E],W=P-y[m]-v[T],z=P/2-y[m]/2+V,k=Pl(L,z,W),R=d;t.modifiersData[r]=(e={},e[R]=k,e.centerOffset=k-z,e)}}function Cq(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Lk(e.elements.popper,i)&&(e.elements.arrow=i))}const Pq={name:"arrow",enabled:!0,phase:"main",fn:xq,effect:Cq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tu(n){return n.split("-")[1]}var kq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dq(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Zo(t*i)/i||0,y:Zo(r*i)/i||0}}function RS(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,u=n.offsets,l=n.position,d=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,y=u.x,E=y===void 0?0:y,T=u.y,S=T===void 0?0:T,I=typeof m=="function"?m({x:E,y:S}):{x:E,y:S};E=I.x,S=I.y;var C=u.hasOwnProperty("x"),P=u.hasOwnProperty("y"),V=Fn,L=Vn,W=window;if(p){var z=Ic(t),k="clientHeight",R="clientWidth";if(z===er(t)&&(z=zs(t),$i(z).position!=="static"&&l==="absolute"&&(k="scrollHeight",R="scrollWidth")),z=z,i===Vn||(i===Fn||i===pr)&&a===tc){L=hr;var x=v&&z===W&&W.visualViewport?W.visualViewport.height:z[k];S-=x-r.height,S*=d?1:-1}if(i===Fn||(i===Vn||i===hr)&&a===tc){V=pr;var N=v&&z===W&&W.visualViewport?W.visualViewport.width:z[R];E-=N-r.width,E*=d?1:-1}}var M=Object.assign({position:l},p&&kq),q=m===!0?Dq({x:E,y:S},er(t)):{x:E,y:S};if(E=q.x,S=q.y,d){var D;return Object.assign({},M,(D={},D[L]=P?"0":"",D[V]=C?"0":"",D.transform=(W.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",D))}return Object.assign({},M,(e={},e[L]=P?S+"px":"",e[V]=C?E+"px":"",e.transform="",e))}function Oq(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,l=t.roundOffsets,d=l===void 0?!0:l,p={placement:ai(e.placement),variation:tu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RS(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RS(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Nq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oq,data:{}};var ef={passive:!0};function Mq(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,u=r.resize,l=u===void 0?!0:u,d=er(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(m){m.addEventListener("scroll",t.update,ef)}),l&&d.addEventListener("resize",t.update,ef),function(){a&&p.forEach(function(m){m.removeEventListener("scroll",t.update,ef)}),l&&d.removeEventListener("resize",t.update,ef)}}const Lq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mq,data:{}};var Vq={left:"right",right:"left",bottom:"top",top:"bottom"};function yf(n){return n.replace(/left|right|bottom|top/g,function(e){return Vq[e]})}var Fq={start:"end",end:"start"};function AS(n){return n.replace(/start|end/g,function(e){return Fq[e]})}function AE(n){var e=er(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function xE(n){return eu(zs(n)).left+AE(n).scrollLeft}function jq(n,e){var t=er(n),r=zs(n),i=t.visualViewport,a=r.clientWidth,u=r.clientHeight,l=0,d=0;if(i){a=i.width,u=i.height;var p=Mk();(p||!p&&e==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:u,x:l+xE(n),y:d}}function qq(n){var e,t=zs(n),r=AE(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=Ta(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Ta(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+xE(n),d=-r.scrollTop;return $i(i||t).direction==="rtl"&&(l+=Ta(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:u,x:l,y:d}}function CE(n){var e=$i(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function qk(n){return["html","body","#document"].indexOf(Ns(n))>=0?n.ownerDocument.body:oi(n)&&CE(n)?n:qk(Ph(n))}function kl(n,e){var t;e===void 0&&(e=[]);var r=qk(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=er(r),u=i?[a].concat(a.visualViewport||[],CE(r)?r:[]):r,l=e.concat(u);return i?l:l.concat(kl(Ph(u)))}function sw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Uq(n,e){var t=eu(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function xS(n,e,t){return e===Nk?sw(jq(n,t)):Na(e)?Uq(e,t):sw(qq(zs(n)))}function $q(n){var e=kl(Ph(n)),t=["absolute","fixed"].indexOf($i(n).position)>=0,r=t&&oi(n)?Ic(n):n;return Na(r)?e.filter(function(i){return Na(i)&&Lk(i,r)&&Ns(i)!=="body"}):[]}function zq(n,e,t,r){var i=e==="clippingParents"?$q(n):[].concat(e),a=[].concat(i,[t]),u=a[0],l=a.reduce(function(d,p){var m=xS(n,p,r);return d.top=Ta(m.top,d.top),d.right=Zf(m.right,d.right),d.bottom=Zf(m.bottom,d.bottom),d.left=Ta(m.left,d.left),d},xS(n,u,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Uk(n){var e=n.reference,t=n.element,r=n.placement,i=r?ai(r):null,a=r?tu(r):null,u=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,d;switch(i){case Vn:d={x:u,y:e.y-t.height};break;case hr:d={x:u,y:e.y+e.height};break;case pr:d={x:e.x+e.width,y:l};break;case Fn:d={x:e.x-t.width,y:l};break;default:d={x:e.x,y:e.y}}var p=i?RE(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(a){case Jo:d[p]=d[p]-(e[m]/2-t[m]/2);break;case tc:d[p]=d[p]+(e[m]/2-t[m]/2);break}}return d}function nc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,l=t.boundary,d=l===void 0?fq:l,p=t.rootBoundary,m=p===void 0?Nk:p,v=t.elementContext,y=v===void 0?ll:v,E=t.altBoundary,T=E===void 0?!1:E,S=t.padding,I=S===void 0?0:S,C=Fk(typeof I!="number"?I:jk(I,Sc)),P=y===ll?hq:ll,V=n.rects.popper,L=n.elements[T?P:y],W=zq(Na(L)?L:L.contextElement||zs(n.elements.popper),d,m,u),z=eu(n.elements.reference),k=Uk({reference:z,element:V,strategy:"absolute",placement:i}),R=sw(Object.assign({},V,k)),x=y===ll?R:z,N={top:W.top-x.top+C.top,bottom:x.bottom-W.bottom+C.bottom,left:W.left-x.left+C.left,right:x.right-W.right+C.right},M=n.modifiersData.offset;if(y===ll&&M){var q=M[i];Object.keys(N).forEach(function(D){var ce=[pr,hr].indexOf(D)>=0?1:-1,be=[Vn,hr].indexOf(D)>=0?"y":"x";N[D]+=q[be]*ce})}return N}function Bq(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,u=t.padding,l=t.flipVariations,d=t.allowedAutoPlacements,p=d===void 0?bE:d,m=tu(r),v=m?l?SS:SS.filter(function(T){return tu(T)===m}):Sc,y=v.filter(function(T){return p.indexOf(T)>=0});y.length===0&&(y=v);var E=y.reduce(function(T,S){return T[S]=nc(n,{placement:S,boundary:i,rootBoundary:a,padding:u})[ai(S)],T},{});return Object.keys(E).sort(function(T,S){return E[T]-E[S]})}function Wq(n){if(ai(n)===TE)return[];var e=yf(n);return[AS(n),e,AS(e)]}function Hq(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!0:u,d=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,T=E===void 0?!0:E,S=t.allowedAutoPlacements,I=e.options.placement,C=ai(I),P=C===I,V=d||(P||!T?[yf(I)]:Wq(I)),L=[I].concat(V).reduce(function(xe,Ae){return xe.concat(ai(Ae)===TE?Bq(e,{placement:Ae,boundary:m,rootBoundary:v,padding:p,flipVariations:T,allowedAutoPlacements:S}):Ae)},[]),W=e.rects.reference,z=e.rects.popper,k=new Map,R=!0,x=L[0],N=0;N<L.length;N++){var M=L[N],q=ai(M),D=tu(M)===Jo,ce=[Vn,hr].indexOf(q)>=0,be=ce?"width":"height",Ee=nc(e,{placement:M,boundary:m,rootBoundary:v,altBoundary:y,padding:p}),_e=ce?D?pr:Fn:D?hr:Vn;W[be]>z[be]&&(_e=yf(_e));var ne=yf(_e),de=[];if(a&&de.push(Ee[q]<=0),l&&de.push(Ee[_e]<=0,Ee[ne]<=0),de.every(function(xe){return xe})){x=M,R=!1;break}k.set(M,de)}if(R)for(var ue=T?3:1,H=function(Ae){var Ne=L.find(function(Le){var Me=k.get(Le);if(Me)return Me.slice(0,Ae).every(function(Ge){return Ge})});if(Ne)return x=Ne,"break"},Z=ue;Z>0;Z--){var fe=H(Z);if(fe==="break")break}e.placement!==x&&(e.modifiersData[r]._skip=!0,e.placement=x,e.reset=!0)}}const Gq={name:"flip",enabled:!0,phase:"main",fn:Hq,requiresIfExists:["offset"],data:{_skip:!1}};function CS(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function PS(n){return[Vn,pr,hr,Fn].some(function(e){return n[e]>=0})}function Kq(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,u=nc(e,{elementContext:"reference"}),l=nc(e,{altBoundary:!0}),d=CS(u,r),p=CS(l,i,a),m=PS(d),v=PS(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const Yq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kq};function Qq(n,e,t){var r=ai(n),i=[Fn,Vn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],l=a[1];return u=u||0,l=(l||0)*i,[Fn,pr].indexOf(r)>=0?{x:l,y:u}:{x:u,y:l}}function Xq(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,u=bE.reduce(function(m,v){return m[v]=Qq(v,e.rects,a),m},{}),l=u[e.placement],d=l.x,p=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=u}const Jq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xq};function Zq(n){var e=n.state,t=n.name;e.modifiersData[t]=Uk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const eU={name:"popperOffsets",enabled:!0,phase:"read",fn:Zq,data:{}};function tU(n){return n==="x"?"y":"x"}function nU(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!1:u,d=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,y=t.tether,E=y===void 0?!0:y,T=t.tetherOffset,S=T===void 0?0:T,I=nc(e,{boundary:d,rootBoundary:p,padding:v,altBoundary:m}),C=ai(e.placement),P=tu(e.placement),V=!P,L=RE(C),W=tU(L),z=e.modifiersData.popperOffsets,k=e.rects.reference,R=e.rects.popper,x=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,N=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(z){if(a){var D,ce=L==="y"?Vn:Fn,be=L==="y"?hr:pr,Ee=L==="y"?"height":"width",_e=z[L],ne=_e+I[ce],de=_e-I[be],ue=E?-R[Ee]/2:0,H=P===Jo?k[Ee]:R[Ee],Z=P===Jo?-R[Ee]:-k[Ee],fe=e.elements.arrow,xe=E&&fe?IE(fe):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Vk(),Ne=Ae[ce],Le=Ae[be],Me=Pl(0,k[Ee],xe[Ee]),Ge=V?k[Ee]/2-ue-Me-Ne-N.mainAxis:H-Me-Ne-N.mainAxis,vt=V?-k[Ee]/2+ue+Me+Le+N.mainAxis:Z+Me+Le+N.mainAxis,yn=e.elements.arrow&&Ic(e.elements.arrow),jr=yn?L==="y"?yn.clientTop||0:yn.clientLeft||0:0,Un=(D=M==null?void 0:M[L])!=null?D:0,gr=_e+Ge-Un-jr,Ue=_e+vt-Un,$n=Pl(E?Zf(ne,gr):ne,_e,E?Ta(de,Ue):de);z[L]=$n,q[L]=$n-_e}if(l){var Ve,zn=L==="x"?Vn:Fn,_n=L==="x"?hr:pr,Nt=z[W],Mt=W==="y"?"height":"width",Xt=Nt+I[zn],ut=Nt-I[_n],wn=[Vn,Fn].indexOf(C)!==-1,Bn=(Ve=M==null?void 0:M[W])!=null?Ve:0,lt=wn?Xt:Nt-k[Mt]-R[Mt]-Bn+N.altAxis,rt=wn?Nt+k[Mt]+R[Mt]-Bn-N.altAxis:ut,Lt=E&&wn?Rq(lt,Nt,rt):Pl(E?lt:Xt,Nt,E?rt:ut);z[W]=Lt,q[W]=Lt-Nt}e.modifiersData[r]=q}}const rU={name:"preventOverflow",enabled:!0,phase:"main",fn:nU,requiresIfExists:["offset"]};function iU(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sU(n){return n===er(n)||!oi(n)?AE(n):iU(n)}function aU(n){var e=n.getBoundingClientRect(),t=Zo(e.width)/n.offsetWidth||1,r=Zo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function oU(n,e,t){t===void 0&&(t=!1);var r=oi(e),i=oi(e)&&aU(e),a=zs(e),u=eu(n,i,t),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Ns(e)!=="body"||CE(a))&&(l=sU(e)),oi(e)?(d=eu(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=xE(a))),{x:u.left+l.scrollLeft-d.x,y:u.top+l.scrollTop-d.y,width:u.width,height:u.height}}function uU(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(l){if(!t.has(l)){var d=e.get(l);d&&i(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function lU(n){var e=uU(n);return bq.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function cU(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function dU(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var kS={placement:"bottom",modifiers:[],strategy:"absolute"};function DS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?kS:i;return function(l,d,p){p===void 0&&(p=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},kS,a),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,E={state:m,setOptions:function(C){var P=typeof C=="function"?C(m.options):C;S(),m.options=Object.assign({},a,m.options,P),m.scrollParents={reference:Na(l)?kl(l):l.contextElement?kl(l.contextElement):[],popper:kl(d)};var V=lU(dU([].concat(r,m.options.modifiers)));return m.orderedModifiers=V.filter(function(L){return L.enabled}),T(),E.update()},forceUpdate:function(){if(!y){var C=m.elements,P=C.reference,V=C.popper;if(DS(P,V)){m.rects={reference:oU(P,Ic(V),m.options.strategy==="fixed"),popper:IE(V)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var L=0;L<m.orderedModifiers.length;L++){if(m.reset===!0){m.reset=!1,L=-1;continue}var W=m.orderedModifiers[L],z=W.fn,k=W.options,R=k===void 0?{}:k,x=W.name;typeof z=="function"&&(m=z({state:m,options:R,name:x,instance:E})||m)}}}},update:cU(function(){return new Promise(function(I){E.forceUpdate(),I(m)})}),destroy:function(){S(),y=!0}};if(!DS(l,d))return E;E.setOptions(p).then(function(I){!y&&p.onFirstUpdate&&p.onFirstUpdate(I)});function T(){m.orderedModifiers.forEach(function(I){var C=I.name,P=I.options,V=P===void 0?{}:P,L=I.effect;if(typeof L=="function"){var W=L({state:m,name:C,instance:E,options:V}),z=function(){};v.push(W||z)}})}function S(){v.forEach(function(I){return I()}),v=[]}return E}}var hU=fU({defaultModifiers:[Yq,eU,Nq,Lq,Jq,Gq,rU,Pq]}),OS=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},pU={name:"applyStyles",enabled:!1},mU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,a=r.popper;if("removeAttribute"in i){var u=(i.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});u.length?i.setAttribute("aria-describedby",u.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,a=i.popper,u=i.reference,l=(t=a.getAttribute("role"))==null?void 0:t.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in u){var d=u.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(a.id)!==-1)return;u.setAttribute("aria-describedby",d?d+","+a.id:a.id)}}},gU=[];function vU(n,e,t){var r=t===void 0?{}:t,i=r.enabled,a=i===void 0?!0:i,u=r.placement,l=u===void 0?"bottom":u,d=r.strategy,p=d===void 0?"absolute":d,m=r.modifiers,v=m===void 0?gU:m,y=Ah(r,["enabled","placement","strategy","modifiers"]),E=$.useRef(),T=$.useCallback(function(){var L;(L=E.current)==null||L.update()},[]),S=$.useCallback(function(){var L;(L=E.current)==null||L.forceUpdate()},[]),I=dq($.useState({placement:l,update:T,forceUpdate:S,attributes:{},styles:{popper:OS(p),arrow:{}}})),C=I[0],P=I[1],V=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(W){var z=W.state,k={},R={};Object.keys(z.elements).forEach(function(x){k[x]=z.styles[x],R[x]=z.attributes[x]}),P({state:z,styles:k,attributes:R,update:T,forceUpdate:S,placement:z.placement})}}},[T,S,P]);return $.useEffect(function(){!E.current||!a||E.current.setOptions({placement:l,strategy:p,modifiers:[].concat(v,[V,pU])})},[p,l,V,a]),$.useEffect(function(){if(!(!a||n==null||e==null))return E.current=hU(n,e,_t({},y,{placement:l,strategy:p,modifiers:[].concat(v,[mU,V])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,P(function(L){return _t({},L,{attributes:{},styles:{popper:OS(p)}})}))}},[a,n,e]),C}function yU(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function El(n,e,t,r){return uq(n,e,t,r),function(){yU(n,e,t,r)}}var gg,NS;function _U(){if(NS)return gg;NS=1;var n=function(){};return gg=n,gg}var wU=_U();const EU=qn(wU);function TU(n){return n&&"setState"in n?Px.findDOMNode(n):n??null}const bU=function(n){return bc(TU(n))};var SU=27,MS=function(){};function IU(n){return n.button===0}function RU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var LS=function(e){return e&&("current"in e?e.current:e)};function AU(n,e,t){var r=t===void 0?{}:t,i=r.disabled,a=r.clickTrigger,u=a===void 0?"click":a,l=$.useRef(!1),d=e||MS,p=$.useCallback(function(y){var E,T=LS(n);EU(!!T,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!T||RU(y)||!IU(y)||!!ec(T,(E=y.composedPath==null?void 0:y.composedPath()[0])!=null?E:y.target)},[n]),m=TS(function(y){l.current||d(y)}),v=TS(function(y){y.keyCode===SU&&d(y)});$.useEffect(function(){if(!(i||n==null)){var y=window.event,E=bU(LS(n)),T=El(E,u,p,!0),S=El(E,u,function(P){if(P===y){y=void 0;return}m(P)}),I=El(E,"keyup",function(P){if(P===y){y=void 0;return}v(P)}),C=[];return"ontouchstart"in E.documentElement&&(C=[].slice.call(E.body.children).map(function(P){return El(P,"mousemove",MS)})),function(){T(),S(),I(),C.forEach(function(P){return P()})}}},[n,i,u,p,m,v])}function xU(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function CU(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function PU(n){var e,t,r,i,a=n.enabled,u=n.enableEvents,l=n.placement,d=n.flip,p=n.offset,m=n.fixed,v=n.containerPadding,y=n.arrowElement,E=n.popperConfig,T=E===void 0?{}:E,S=xU(T.modifiers);return _t({},T,{placement:l,enabled:a,strategy:m?"fixed":T.strategy,modifiers:CU(_t({},S,{eventListeners:{enabled:u},preventOverflow:_t({},S.preventOverflow,{options:v?_t({padding:v},(e=S.preventOverflow)==null?void 0:e.options):(t=S.preventOverflow)==null?void 0:t.options}),offset:{options:_t({offset:p},(r=S.offset)==null?void 0:r.options)},arrow:_t({},S.arrow,{enabled:!!y,options:_t({},(i=S.arrow)==null?void 0:i.options,{element:y})}),flip:_t({enabled:!!d},S.flip)}))})}function kU(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function DU(n,e){n.classList?n.classList.add(e):kU(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function VS(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OU(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=VS(n.className,e):n.setAttribute("class",VS(n.className&&n.className.baseVal||"",e))}var tf;function PE(n){if((!tf&&tf!==0||n)&&EE){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),tf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return tf}var vg=function(e){var t;return typeof document>"u"?null:e==null?bc().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function FS(n,e){var t=$.useState(function(){return vg(n)}),r=t[0],i=t[1];if(!r){var a=vg(n);a&&i(a)}return $.useEffect(function(){},[e,r]),$.useEffect(function(){var u=vg(n);u!==r&&i(u)},[n,r]),r}const jS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function NU(n,e){const t=jS(n),r=jS(e);return i=>{t&&t(i),r&&r(i)}}function MU(n,e){return $.useMemo(()=>NU(n,e),[n,e])}var kE=G.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,a=n.containerPadding,u=a===void 0?5:a,l=n.popperConfig,d=l===void 0?{}:l,p=n.transition,m=bS(),v=m[0],y=m[1],E=bS(),T=E[0],S=E[1],I=MU(y,e),C=FS(n.container),P=FS(n.target),V=$.useState(!n.show),L=V[0],W=V[1],z=vU(P,v,PU({placement:i,enableEvents:!!n.show,containerPadding:u||5,flip:t,offset:r,arrowElement:T,popperConfig:d})),k=z.styles,R=z.attributes,x=Ah(z,["styles","attributes"]);n.show?L&&W(!1):!n.transition&&!L&&W(!0);var N=function(){W(!0),n.onExited&&n.onExited.apply(n,arguments)},M=n.show||p&&!L;if(AU(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!M)return null;var q=n.children(_t({},x,{show:!!n.show,props:_t({},R.popper,{style:k.popper,ref:I}),arrowProps:_t({},R.arrow,{style:k.arrow,ref:S})}));if(p){var D=n.onExit,ce=n.onExiting,be=n.onEnter,Ee=n.onEntering,_e=n.onEntered;q=G.createElement(p,{in:n.show,appear:!0,onExit:D,onExiting:ce,onExited:N,onEnter:be,onEntering:Ee,onEntered:_e},q)}return C?Px.createPortal(q,C):null});kE.displayName="Overlay";kE.propTypes={show:oe.bool,placement:oe.oneOf(bE),target:oe.any,container:oe.any,flip:oe.bool,children:oe.func.isRequired,containerPadding:oe.number,popperConfig:oe.object,rootClose:oe.bool,rootCloseEvent:oe.oneOf(["click","mousedown"]),rootCloseDisabled:oe.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var a;return(a=oe.func).isRequired.apply(a,[e].concat(r))}return oe.func.apply(oe,[e].concat(r))},transition:oe.elementType,onEnter:oe.func,onEntering:oe.func,onEntered:oe.func,onExit:oe.func,onExiting:oe.func,onExited:oe.func};var yg,qS;function LU(){if(qS)return yg;qS=1;function n(){this.__data__=[],this.size=0}return yg=n,yg}var _g,US;function kh(){if(US)return _g;US=1;var n=wc();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return _g=e,_g}var wg,$S;function VU(){if($S)return wg;$S=1;var n=kh(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,u=n(a,i);if(u<0)return!1;var l=a.length-1;return u==l?a.pop():t.call(a,u,1),--this.size,!0}return wg=r,wg}var Eg,zS;function FU(){if(zS)return Eg;zS=1;var n=kh();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return Eg=e,Eg}var Tg,BS;function jU(){if(BS)return Tg;BS=1;var n=kh();function e(t){return n(this.__data__,t)>-1}return Tg=e,Tg}var bg,WS;function qU(){if(WS)return bg;WS=1;var n=kh();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return bg=e,bg}var Sg,HS;function Dh(){if(HS)return Sg;HS=1;var n=LU(),e=VU(),t=FU(),r=jU(),i=qU();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Sg=a,Sg}var Ig,GS;function UU(){if(GS)return Ig;GS=1;var n=Dh();function e(){this.__data__=new n,this.size=0}return Ig=e,Ig}var Rg,KS;function $U(){if(KS)return Rg;KS=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Rg=n,Rg}var Ag,YS;function zU(){if(YS)return Ag;YS=1;function n(e){return this.__data__.get(e)}return Ag=n,Ag}var xg,QS;function BU(){if(QS)return xg;QS=1;function n(e){return this.__data__.has(e)}return xg=n,xg}var Cg,XS;function WU(){if(XS)return Cg;XS=1;var n=fi(),e=n["__core-js_shared__"];return Cg=e,Cg}var Pg,JS;function HU(){if(JS)return Pg;JS=1;var n=WU(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Pg=t,Pg}var kg,ZS;function $k(){if(ZS)return kg;ZS=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return kg=t,kg}var Dg,eI;function GU(){if(eI)return Dg;eI=1;var n=vE(),e=HU(),t=Wi(),r=$k(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,d=u.toString,p=l.hasOwnProperty,m=RegExp("^"+d.call(p).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!t(y)||e(y))return!1;var E=n(y)?m:a;return E.test(r(y))}return Dg=v,Dg}var Og,tI;function KU(){if(tI)return Og;tI=1;function n(e,t){return e==null?void 0:e[t]}return Og=n,Og}var Ng,nI;function Ua(){if(nI)return Ng;nI=1;var n=GU(),e=KU();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return Ng=t,Ng}var Mg,rI;function DE(){if(rI)return Mg;rI=1;var n=Ua(),e=fi(),t=n(e,"Map");return Mg=t,Mg}var Lg,iI;function Oh(){if(iI)return Lg;iI=1;var n=Ua(),e=n(Object,"create");return Lg=e,Lg}var Vg,sI;function YU(){if(sI)return Vg;sI=1;var n=Oh();function e(){this.__data__=n?n(null):{},this.size=0}return Vg=e,Vg}var Fg,aI;function QU(){if(aI)return Fg;aI=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Fg=n,Fg}var jg,oI;function XU(){if(oI)return jg;oI=1;var n=Oh(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var u=this.__data__;if(n){var l=u[a];return l===e?void 0:l}return r.call(u,a)?u[a]:void 0}return jg=i,jg}var qg,uI;function JU(){if(uI)return qg;uI=1;var n=Oh(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return qg=r,qg}var Ug,lI;function ZU(){if(lI)return Ug;lI=1;var n=Oh(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return Ug=t,Ug}var $g,cI;function e9(){if(cI)return $g;cI=1;var n=YU(),e=QU(),t=XU(),r=JU(),i=ZU();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,$g=a,$g}var zg,dI;function t9(){if(dI)return zg;dI=1;var n=e9(),e=Dh(),t=DE();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return zg=r,zg}var Bg,fI;function n9(){if(fI)return Bg;fI=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Bg=n,Bg}var Wg,hI;function Nh(){if(hI)return Wg;hI=1;var n=n9();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wg=e,Wg}var Hg,pI;function r9(){if(pI)return Hg;pI=1;var n=Nh();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Hg=e,Hg}var Gg,mI;function i9(){if(mI)return Gg;mI=1;var n=Nh();function e(t){return n(this,t).get(t)}return Gg=e,Gg}var Kg,gI;function s9(){if(gI)return Kg;gI=1;var n=Nh();function e(t){return n(this,t).has(t)}return Kg=e,Kg}var Yg,vI;function a9(){if(vI)return Yg;vI=1;var n=Nh();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return Yg=e,Yg}var Qg,yI;function OE(){if(yI)return Qg;yI=1;var n=t9(),e=r9(),t=i9(),r=s9(),i=a9();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Qg=a,Qg}var Xg,_I;function o9(){if(_I)return Xg;_I=1;var n=Dh(),e=DE(),t=OE(),r=200;function i(a,u){var l=this.__data__;if(l instanceof n){var d=l.__data__;if(!e||d.length<r-1)return d.push([a,u]),this.size=++l.size,this;l=this.__data__=new t(d)}return l.set(a,u),this.size=l.size,this}return Xg=i,Xg}var Jg,wI;function NE(){if(wI)return Jg;wI=1;var n=Dh(),e=UU(),t=$U(),r=zU(),i=BU(),a=o9();function u(l){var d=this.__data__=new n(l);this.size=d.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=i,u.prototype.set=a,Jg=u,Jg}var Zg,EI;function u9(){if(EI)return Zg;EI=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Zg=e,Zg}var ev,TI;function l9(){if(TI)return ev;TI=1;function n(e){return this.__data__.has(e)}return ev=n,ev}var tv,bI;function c9(){if(bI)return tv;bI=1;var n=OE(),e=u9(),t=l9();function r(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new n;++a<u;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,tv=r,tv}var nv,SI;function d9(){if(SI)return nv;SI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return nv=n,nv}var rv,II;function f9(){if(II)return rv;II=1;function n(e,t){return e.has(t)}return rv=n,rv}var iv,RI;function zk(){if(RI)return iv;RI=1;var n=c9(),e=d9(),t=f9(),r=1,i=2;function a(u,l,d,p,m,v){var y=d&r,E=u.length,T=l.length;if(E!=T&&!(y&&T>E))return!1;var S=v.get(u),I=v.get(l);if(S&&I)return S==l&&I==u;var C=-1,P=!0,V=d&i?new n:void 0;for(v.set(u,l),v.set(l,u);++C<E;){var L=u[C],W=l[C];if(p)var z=y?p(W,L,C,l,u,v):p(L,W,C,u,l,v);if(z!==void 0){if(z)continue;P=!1;break}if(V){if(!e(l,function(k,R){if(!t(V,R)&&(L===k||m(L,k,d,p,v)))return V.push(R)})){P=!1;break}}else if(!(L===W||m(L,W,d,p,v))){P=!1;break}}return v.delete(u),v.delete(l),P}return iv=a,iv}var sv,AI;function Bk(){if(AI)return sv;AI=1;var n=fi(),e=n.Uint8Array;return sv=e,sv}var av,xI;function h9(){if(xI)return av;xI=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return av=n,av}var ov,CI;function p9(){if(CI)return ov;CI=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return ov=n,ov}var uv,PI;function m9(){if(PI)return uv;PI=1;var n=mu(),e=Bk(),t=wc(),r=zk(),i=h9(),a=p9(),u=1,l=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",y="[object Number]",E="[object RegExp]",T="[object Set]",S="[object String]",I="[object Symbol]",C="[object ArrayBuffer]",P="[object DataView]",V=n?n.prototype:void 0,L=V?V.valueOf:void 0;function W(z,k,R,x,N,M,q){switch(R){case P:if(z.byteLength!=k.byteLength||z.byteOffset!=k.byteOffset)return!1;z=z.buffer,k=k.buffer;case C:return!(z.byteLength!=k.byteLength||!M(new e(z),new e(k)));case d:case p:case y:return t(+z,+k);case m:return z.name==k.name&&z.message==k.message;case E:case S:return z==k+"";case v:var D=i;case T:var ce=x&u;if(D||(D=a),z.size!=k.size&&!ce)return!1;var be=q.get(z);if(be)return be==k;x|=l,q.set(z,k);var Ee=r(D(z),D(k),x,N,M,q);return q.delete(z),Ee;case I:if(L)return L.call(z)==L.call(k)}return!1}return uv=W,uv}var lv,kI;function ME(){if(kI)return lv;kI=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return lv=n,lv}var cv,DI;function mr(){if(DI)return cv;DI=1;var n=Array.isArray;return cv=n,cv}var dv,OI;function Wk(){if(OI)return dv;OI=1;var n=ME(),e=mr();function t(r,i,a){var u=i(r);return e(r)?u:n(u,a(r))}return dv=t,dv}var fv,NI;function g9(){if(NI)return fv;NI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,u=[];++r<i;){var l=e[r];t(l,r,e)&&(u[a++]=l)}return u}return fv=n,fv}var hv,MI;function Hk(){if(MI)return hv;MI=1;function n(){return[]}return hv=n,hv}var pv,LI;function LE(){if(LI)return pv;LI=1;var n=g9(),e=Hk(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),n(i(u),function(l){return r.call(u,l)}))}:e;return pv=a,pv}var mv,VI;function v9(){if(VI)return mv;VI=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return mv=n,mv}var gv,FI;function y9(){if(FI)return gv;FI=1;var n=gu(),e=$s(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return gv=r,gv}var vv,jI;function VE(){if(jI)return vv;jI=1;var n=y9(),e=$s(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!i.call(u,"callee")};return vv=a,vv}var Tl={exports:{}},yv,qI;function _9(){if(qI)return yv;qI=1;function n(){return!1}return yv=n,yv}Tl.exports;var UI;function Mh(){return UI||(UI=1,function(n,e){var t=fi(),r=_9(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===i,l=u?t.Buffer:void 0,d=l?l.isBuffer:void 0,p=d||r;n.exports=p}(Tl,Tl.exports)),Tl.exports}var _v,$I;function w9(){if($I)return _v;$I=1;var n=gu(),e=yE(),t=$s(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",E="[object Set]",T="[object String]",S="[object WeakMap]",I="[object ArrayBuffer]",C="[object DataView]",P="[object Float32Array]",V="[object Float64Array]",L="[object Int8Array]",W="[object Int16Array]",z="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",x="[object Uint16Array]",N="[object Uint32Array]",M={};M[P]=M[V]=M[L]=M[W]=M[z]=M[k]=M[R]=M[x]=M[N]=!0,M[r]=M[i]=M[I]=M[a]=M[C]=M[u]=M[l]=M[d]=M[p]=M[m]=M[v]=M[y]=M[E]=M[T]=M[S]=!1;function q(D){return t(D)&&e(D.length)&&!!M[n(D)]}return _v=q,_v}var wv,zI;function Lh(){if(zI)return wv;zI=1;function n(e){return function(t){return e(t)}}return wv=n,wv}var bl={exports:{}};bl.exports;var BI;function FE(){return BI||(BI=1,function(n,e){var t=Rk(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a&&t.process,l=function(){try{var d=i&&i.require&&i.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();n.exports=l}(bl,bl.exports)),bl.exports}var Ev,WI;function jE(){if(WI)return Ev;WI=1;var n=w9(),e=Lh(),t=FE(),r=t&&t.isTypedArray,i=r?e(r):n;return Ev=i,Ev}var Tv,HI;function Gk(){if(HI)return Tv;HI=1;var n=v9(),e=VE(),t=mr(),r=Mh(),i=_E(),a=jE(),u=Object.prototype,l=u.hasOwnProperty;function d(p,m){var v=t(p),y=!v&&e(p),E=!v&&!y&&r(p),T=!v&&!y&&!E&&a(p),S=v||y||E||T,I=S?n(p.length,String):[],C=I.length;for(var P in p)(m||l.call(p,P))&&!(S&&(P=="length"||E&&(P=="offset"||P=="parent")||T&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,C)))&&I.push(P);return I}return Tv=d,Tv}var bv,GI;function qE(){if(GI)return bv;GI=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return bv=e,bv}var Sv,KI;function Kk(){if(KI)return Sv;KI=1;function n(e,t){return function(r){return e(t(r))}}return Sv=n,Sv}var Iv,YI;function E9(){if(YI)return Iv;YI=1;var n=Kk(),e=n(Object.keys,Object);return Iv=e,Iv}var Rv,QI;function T9(){if(QI)return Rv;QI=1;var n=qE(),e=E9(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var u=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&u.push(l);return u}return Rv=i,Rv}var Av,XI;function Rc(){if(XI)return Av;XI=1;var n=Gk(),e=T9(),t=Ec();function r(i){return t(i)?n(i):e(i)}return Av=r,Av}var xv,JI;function Yk(){if(JI)return xv;JI=1;var n=Wk(),e=LE(),t=Rc();function r(i){return n(i,t,e)}return xv=r,xv}var Cv,ZI;function b9(){if(ZI)return Cv;ZI=1;var n=Yk(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l,d,p,m){var v=l&e,y=n(a),E=y.length,T=n(u),S=T.length;if(E!=S&&!v)return!1;for(var I=E;I--;){var C=y[I];if(!(v?C in u:r.call(u,C)))return!1}var P=m.get(a),V=m.get(u);if(P&&V)return P==u&&V==a;var L=!0;m.set(a,u),m.set(u,a);for(var W=v;++I<E;){C=y[I];var z=a[C],k=u[C];if(d)var R=v?d(k,z,C,u,a,m):d(z,k,C,a,u,m);if(!(R===void 0?z===k||p(z,k,l,d,m):R)){L=!1;break}W||(W=C=="constructor")}if(L&&!W){var x=a.constructor,N=u.constructor;x!=N&&"constructor"in a&&"constructor"in u&&!(typeof x=="function"&&x instanceof x&&typeof N=="function"&&N instanceof N)&&(L=!1)}return m.delete(a),m.delete(u),L}return Cv=i,Cv}var Pv,eR;function S9(){if(eR)return Pv;eR=1;var n=Ua(),e=fi(),t=n(e,"DataView");return Pv=t,Pv}var kv,tR;function I9(){if(tR)return kv;tR=1;var n=Ua(),e=fi(),t=n(e,"Promise");return kv=t,kv}var Dv,nR;function R9(){if(nR)return Dv;nR=1;var n=Ua(),e=fi(),t=n(e,"Set");return Dv=t,Dv}var Ov,rR;function A9(){if(rR)return Ov;rR=1;var n=Ua(),e=fi(),t=n(e,"WeakMap");return Ov=t,Ov}var Nv,iR;function Vh(){if(iR)return Nv;iR=1;var n=S9(),e=DE(),t=I9(),r=R9(),i=A9(),a=gu(),u=$k(),l="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",y="[object DataView]",E=u(n),T=u(e),S=u(t),I=u(r),C=u(i),P=a;return(n&&P(new n(new ArrayBuffer(1)))!=y||e&&P(new e)!=l||t&&P(t.resolve())!=p||r&&P(new r)!=m||i&&P(new i)!=v)&&(P=function(V){var L=a(V),W=L==d?V.constructor:void 0,z=W?u(W):"";if(z)switch(z){case E:return y;case T:return l;case S:return p;case I:return m;case C:return v}return L}),Nv=P,Nv}var Mv,sR;function x9(){if(sR)return Mv;sR=1;var n=NE(),e=zk(),t=m9(),r=b9(),i=Vh(),a=mr(),u=Mh(),l=jE(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",y=Object.prototype,E=y.hasOwnProperty;function T(S,I,C,P,V,L){var W=a(S),z=a(I),k=W?m:i(S),R=z?m:i(I);k=k==p?v:k,R=R==p?v:R;var x=k==v,N=R==v,M=k==R;if(M&&u(S)){if(!u(I))return!1;W=!0,x=!1}if(M&&!x)return L||(L=new n),W||l(S)?e(S,I,C,P,V,L):t(S,I,k,C,P,V,L);if(!(C&d)){var q=x&&E.call(S,"__wrapped__"),D=N&&E.call(I,"__wrapped__");if(q||D){var ce=q?S.value():S,be=D?I.value():I;return L||(L=new n),V(ce,be,C,P,L)}}return M?(L||(L=new n),r(S,I,C,P,V,L)):!1}return Mv=T,Mv}var Lv,aR;function UE(){if(aR)return Lv;aR=1;var n=x9(),e=$s();function t(r,i,a,u,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,u,t,l)}return Lv=t,Lv}var Vv,oR;function C9(){if(oR)return Vv;oR=1;var n=UE();function e(t,r){return n(t,r)}return Vv=e,Vv}var P9=C9();const k9=qn(P9);function Fv(n,e){var t=wE(n);return t?t.innerHeight:Ea(n).height}function Qk(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if(sq(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var jv,uR;function D9(){if(uR)return jv;uR=1;function n(e,t,r,i){for(var a=e.length,u=r+(i?1:-1);i?u--:++u<a;)if(t(e[u],u,e))return u;return-1}return jv=n,jv}var qv,lR;function O9(){if(lR)return qv;lR=1;var n=NE(),e=UE(),t=1,r=2;function i(a,u,l,d){var p=l.length,m=p,v=!d;if(a==null)return!m;for(a=Object(a);p--;){var y=l[p];if(v&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++p<m;){y=l[p];var E=y[0],T=a[E],S=y[1];if(v&&y[2]){if(T===void 0&&!(E in a))return!1}else{var I=new n;if(d)var C=d(T,S,E,a,u,I);if(!(C===void 0?e(S,T,t|r,d,I):C))return!1}}return!0}return qv=i,qv}var Uv,cR;function Xk(){if(cR)return Uv;cR=1;var n=Wi();function e(t){return t===t&&!n(t)}return Uv=e,Uv}var $v,dR;function N9(){if(dR)return $v;dR=1;var n=Xk(),e=Rc();function t(r){for(var i=e(r),a=i.length;a--;){var u=i[a],l=r[u];i[a]=[u,l,n(l)]}return i}return $v=t,$v}var zv,fR;function Jk(){if(fR)return zv;fR=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return zv=n,zv}var Bv,hR;function M9(){if(hR)return Bv;hR=1;var n=O9(),e=N9(),t=Jk();function r(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(u){return u===i||n(u,i,a)}}return Bv=r,Bv}var Wv,pR;function $E(){if(pR)return Wv;pR=1;var n=mr(),e=Tc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){if(n(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!t.test(a)||u!=null&&a in Object(u)}return Wv=i,Wv}var Hv,mR;function L9(){if(mR)return Hv;mR=1;var n=OE(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var u=arguments,l=i?i.apply(this,u):u[0],d=a.cache;if(d.has(l))return d.get(l);var p=r.apply(this,u);return a.cache=d.set(l,p)||d,p};return a.cache=new(t.Cache||n),a}return t.Cache=n,Hv=t,Hv}var Gv,gR;function V9(){if(gR)return Gv;gR=1;var n=L9(),e=500;function t(r){var i=n(r,function(u){return a.size===e&&a.clear(),u}),a=i.cache;return i}return Gv=t,Gv}var Kv,vR;function F9(){if(vR)return Kv;vR=1;var n=V9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(u,l,d,p){a.push(d?p.replace(t,"$1"):l||u)}),a});return Kv=r,Kv}var Yv,yR;function zE(){if(yR)return Yv;yR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}return Yv=n,Yv}var Qv,_R;function j9(){if(_R)return Qv;_R=1;var n=mu(),e=zE(),t=mr(),r=Tc(),i=n?n.prototype:void 0,a=i?i.toString:void 0;function u(l){if(typeof l=="string")return l;if(t(l))return e(l,u)+"";if(r(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Qv=u,Qv}var Xv,wR;function q9(){if(wR)return Xv;wR=1;var n=j9();function e(t){return t==null?"":n(t)}return Xv=e,Xv}var Jv,ER;function Fh(){if(ER)return Jv;ER=1;var n=mr(),e=$E(),t=F9(),r=q9();function i(a,u){return n(a)?a:e(a,u)?[a]:t(r(a))}return Jv=i,Jv}var Zv,TR;function Ac(){if(TR)return Zv;TR=1;var n=Tc();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Zv=e,Zv}var ey,bR;function jh(){if(bR)return ey;bR=1;var n=Fh(),e=Ac();function t(r,i){i=n(i,r);for(var a=0,u=i.length;r!=null&&a<u;)r=r[e(i[a++])];return a&&a==u?r:void 0}return ey=t,ey}var ty,SR;function U9(){if(SR)return ty;SR=1;var n=jh();function e(t,r,i){var a=t==null?void 0:n(t,r);return a===void 0?i:a}return ty=e,ty}var ny,IR;function $9(){if(IR)return ny;IR=1;function n(e,t){return e!=null&&t in Object(e)}return ny=n,ny}var ry,RR;function z9(){if(RR)return ry;RR=1;var n=Fh(),e=VE(),t=mr(),r=_E(),i=yE(),a=Ac();function u(l,d,p){d=n(d,l);for(var m=-1,v=d.length,y=!1;++m<v;){var E=a(d[m]);if(!(y=l!=null&&p(l,E)))break;l=l[E]}return y||++m!=v?y:(v=l==null?0:l.length,!!v&&i(v)&&r(E,v)&&(t(l)||e(l)))}return ry=u,ry}var iy,AR;function B9(){if(AR)return iy;AR=1;var n=$9(),e=z9();function t(r,i){return r!=null&&e(r,i,n)}return iy=t,iy}var sy,xR;function W9(){if(xR)return sy;xR=1;var n=UE(),e=U9(),t=B9(),r=$E(),i=Xk(),a=Jk(),u=Ac(),l=1,d=2;function p(m,v){return r(m)&&i(v)?a(u(m),v):function(y){var E=e(y,m);return E===void 0&&E===v?t(y,m):n(v,E,l|d)}}return sy=p,sy}var ay,CR;function qh(){if(CR)return ay;CR=1;function n(e){return e}return ay=n,ay}var oy,PR;function H9(){if(PR)return oy;PR=1;function n(e){return function(t){return t==null?void 0:t[e]}}return oy=n,oy}var uy,kR;function G9(){if(kR)return uy;kR=1;var n=jh();function e(t){return function(r){return n(r,t)}}return uy=e,uy}var ly,DR;function K9(){if(DR)return ly;DR=1;var n=H9(),e=G9(),t=$E(),r=Ac();function i(a){return t(a)?n(r(a)):e(a)}return ly=i,ly}var cy,OR;function Uh(){if(OR)return cy;OR=1;var n=M9(),e=W9(),t=qh(),r=mr(),i=K9();function a(u){return typeof u=="function"?u:u==null?t:typeof u=="object"?r(u)?e(u[0],u[1]):n(u):i(u)}return cy=a,cy}var dy,NR;function Y9(){if(NR)return dy;NR=1;var n=D9(),e=Uh(),t=xk(),r=Math.max;function i(a,u,l){var d=a==null?0:a.length;if(!d)return-1;var p=l==null?0:t(l);return p<0&&(p=r(d+p,0)),n(a,e(u,3),p)}return dy=i,dy}var Q9=Y9();const X9=qn(Q9);var fy,MR;function J9(){if(MR)return fy;MR=1;var n=Math.ceil,e=Math.max;function t(r,i,a,u){for(var l=-1,d=e(n((i-r)/(a||1)),0),p=Array(d);d--;)p[u?d:++l]=r,r+=a;return p}return fy=t,fy}var hy,LR;function Z9(){if(LR)return hy;LR=1;var n=J9(),e=Ch(),t=Ak();function r(i){return function(a,u,l){return l&&typeof l!="number"&&e(a,u,l)&&(u=l=void 0),a=t(a),u===void 0?(u=a,a=0):u=t(u),l=l===void 0?a<u?1:-1:t(l),n(a,u,l,i)}}return hy=r,hy}var py,VR;function e$(){if(VR)return py;VR=1;var n=Z9(),e=n();return py=e,py}var t$=e$();const n$=qn(t$);var FR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function r$(n,e){return!!(n===e||FR(n)&&FR(e))}function i$(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!r$(n[t],e[t]))return!1;return!0}function Zk(n,e){e===void 0&&(e=i$);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var u=n.apply(this,i);return t={lastResult:u,lastArgs:i,lastThis:this},u}return r.clear=function(){t=null},r}function aw(n,e){var t=wE(n);return t?t.innerWidth:Ea(n).width}var my,jR;function s$(){if(jR)return my;jR=1;var n=mu(),e=VE(),t=mr(),r=n?n.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(r&&a&&a[r])}return my=i,my}var gy,qR;function eD(){if(qR)return gy;qR=1;var n=ME(),e=s$();function t(r,i,a,u,l){var d=-1,p=r.length;for(a||(a=e),l||(l=[]);++d<p;){var m=r[d];i>0&&a(m)?i>1?t(m,i-1,a,u,l):n(l,m):u||(l[l.length]=m)}return l}return gy=t,gy}var vy,UR;function a$(){if(UR)return vy;UR=1;function n(e){return function(t,r,i){for(var a=-1,u=Object(t),l=i(t),d=l.length;d--;){var p=l[e?d:++a];if(r(u[p],p,u)===!1)break}return t}}return vy=n,vy}var yy,$R;function o$(){if($R)return yy;$R=1;var n=a$(),e=n();return yy=e,yy}var _y,zR;function BE(){if(zR)return _y;zR=1;var n=o$(),e=Rc();function t(r,i){return r&&n(r,i,e)}return _y=t,_y}var wy,BR;function u$(){if(BR)return wy;BR=1;var n=Ec();function e(t,r){return function(i,a){if(i==null)return i;if(!n(i))return t(i,a);for(var u=i.length,l=r?u:-1,d=Object(i);(r?l--:++l<u)&&a(d[l],l,d)!==!1;);return i}}return wy=e,wy}var Ey,WR;function l$(){if(WR)return Ey;WR=1;var n=BE(),e=u$(),t=e(n);return Ey=t,Ey}var Ty,HR;function c$(){if(HR)return Ty;HR=1;var n=l$(),e=Ec();function t(r,i){var a=-1,u=e(r)?Array(r.length):[];return n(r,function(l,d,p){u[++a]=i(l,d,p)}),u}return Ty=t,Ty}var by,GR;function d$(){if(GR)return by;GR=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return by=n,by}var Sy,KR;function f$(){if(KR)return Sy;KR=1;var n=Tc();function e(t,r){if(t!==r){var i=t!==void 0,a=t===null,u=t===t,l=n(t),d=r!==void 0,p=r===null,m=r===r,v=n(r);if(!p&&!v&&!l&&t>r||l&&d&&m&&!p&&!v||a&&d&&m||!i&&m||!u)return 1;if(!a&&!l&&!v&&t<r||v&&i&&u&&!a&&!l||p&&i&&u||!d&&u||!m)return-1}return 0}return Sy=e,Sy}var Iy,YR;function h$(){if(YR)return Iy;YR=1;var n=f$();function e(t,r,i){for(var a=-1,u=t.criteria,l=r.criteria,d=u.length,p=i.length;++a<d;){var m=n(u[a],l[a]);if(m){if(a>=p)return m;var v=i[a];return m*(v=="desc"?-1:1)}}return t.index-r.index}return Iy=e,Iy}var Ry,QR;function p$(){if(QR)return Ry;QR=1;var n=zE(),e=jh(),t=Uh(),r=c$(),i=d$(),a=Lh(),u=h$(),l=qh(),d=mr();function p(m,v,y){v.length?v=n(v,function(S){return d(S)?function(I){return e(I,S.length===1?S[0]:S)}:S}):v=[l];var E=-1;v=n(v,a(t));var T=r(m,function(S,I,C){var P=n(v,function(V){return V(S)});return{criteria:P,index:++E,value:S}});return i(T,function(S,I){return u(S,I,y)})}return Ry=p,Ry}var Ay,XR;function m$(){if(XR)return Ay;XR=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Ay=n,Ay}var xy,JR;function tD(){if(JR)return xy;JR=1;var n=m$(),e=Math.max;function t(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var u=arguments,l=-1,d=e(u.length-i,0),p=Array(d);++l<d;)p[l]=u[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=u[l];return m[i]=a(p),n(r,this,m)}}return xy=t,xy}var Cy,ZR;function g$(){if(ZR)return Cy;ZR=1;function n(e){return function(){return e}}return Cy=n,Cy}var Py,eA;function nD(){if(eA)return Py;eA=1;var n=Ua(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Py=e,Py}var ky,tA;function v$(){if(tA)return ky;tA=1;var n=g$(),e=nD(),t=qh(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return ky=r,ky}var Dy,nA;function y$(){if(nA)return Dy;nA=1;var n=800,e=16,t=Date.now;function r(i){var a=0,u=0;return function(){var l=t(),d=e-(l-u);if(u=l,d>0){if(++a>=n)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Dy=r,Dy}var Oy,rA;function rD(){if(rA)return Oy;rA=1;var n=v$(),e=y$(),t=e(n);return Oy=t,Oy}var Ny,iA;function iD(){if(iA)return Ny;iA=1;var n=qh(),e=tD(),t=rD();function r(i,a){return t(e(i,a,n),i+"")}return Ny=r,Ny}var My,sA;function _$(){if(sA)return My;sA=1;var n=eD(),e=p$(),t=iD(),r=Ch(),i=t(function(a,u){if(a==null)return[];var l=u.length;return l>1&&r(a,u[0],u[1])?u=[]:l>2&&r(u[0],u[1],u[2])&&(u=[u[0]]),e(a,n(u,1),[])});return My=i,My}var w$=_$();const E$=qn(w$);function sD(n){return ck(n)||Sk(n)||pE(n)||dk()}var Ly,aA;function T$(){if(aA)return Ly;aA=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Ly=n,Ly}var Vy,oA;function b$(){if(oA)return Vy;oA=1;var n=Wi(),e=qE(),t=T$(),r=Object.prototype,i=r.hasOwnProperty;function a(u){if(!n(u))return t(u);var l=e(u),d=[];for(var p in u)p=="constructor"&&(l||!i.call(u,p))||d.push(p);return d}return Vy=a,Vy}var Fy,uA;function $h(){if(uA)return Fy;uA=1;var n=Gk(),e=b$(),t=Ec();function r(i){return t(i)?n(i,!0):e(i)}return Fy=r,Fy}var jy,lA;function S$(){if(lA)return jy;lA=1;var n=iD(),e=wc(),t=Ch(),r=$h(),i=Object.prototype,a=i.hasOwnProperty,u=n(function(l,d){l=Object(l);var p=-1,m=d.length,v=m>2?d[2]:void 0;for(v&&t(d[0],d[1],v)&&(m=1);++p<m;)for(var y=d[p],E=r(y),T=-1,S=E.length;++T<S;){var I=E[T],C=l[I];(C===void 0||e(C,i[I])&&!a.call(l,I))&&(l[I]=y[I])}return l});return jy=u,jy}var I$=S$();const R$=qn(I$);var qy,cA;function WE(){if(cA)return qy;cA=1;var n=nD();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return qy=e,qy}var Uy,dA;function A$(){if(dA)return Uy;dA=1;var n=WE(),e=BE(),t=Uh();function r(i,a){var u={};return a=t(a,3),e(i,function(l,d,p){n(u,d,a(l,d,p))}),u}return Uy=r,Uy}var x$=A$();const C$=qn(x$);var $y,fA;function aD(){if(fA)return $y;fA=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return $y=n,$y}var zy,hA;function oD(){if(hA)return zy;hA=1;var n=WE(),e=wc(),t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l){var d=a[u];(!(r.call(a,u)&&e(d,l))||l===void 0&&!(u in a))&&n(a,u,l)}return zy=i,zy}var By,pA;function xc(){if(pA)return By;pA=1;var n=oD(),e=WE();function t(r,i,a,u){var l=!a;a||(a={});for(var d=-1,p=i.length;++d<p;){var m=i[d],v=u?u(a[m],r[m],m,a,r):void 0;v===void 0&&(v=r[m]),l?e(a,m,v):n(a,m,v)}return a}return By=t,By}var Wy,mA;function P$(){if(mA)return Wy;mA=1;var n=xc(),e=Rc();function t(r,i){return r&&n(i,e(i),r)}return Wy=t,Wy}var Hy,gA;function k$(){if(gA)return Hy;gA=1;var n=xc(),e=$h();function t(r,i){return r&&n(i,e(i),r)}return Hy=t,Hy}var Sl={exports:{}};Sl.exports;var vA;function D$(){return vA||(vA=1,function(n,e){var t=fi(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a?t.Buffer:void 0,l=u?u.allocUnsafe:void 0;function d(p,m){if(m)return p.slice();var v=p.length,y=l?l(v):new p.constructor(v);return p.copy(y),y}n.exports=d}(Sl,Sl.exports)),Sl.exports}var Gy,yA;function O$(){if(yA)return Gy;yA=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return Gy=n,Gy}var Ky,_A;function N$(){if(_A)return Ky;_A=1;var n=xc(),e=LE();function t(r,i){return n(r,e(r),i)}return Ky=t,Ky}var Yy,wA;function zh(){if(wA)return Yy;wA=1;var n=Kk(),e=n(Object.getPrototypeOf,Object);return Yy=e,Yy}var Qy,EA;function uD(){if(EA)return Qy;EA=1;var n=ME(),e=zh(),t=LE(),r=Hk(),i=Object.getOwnPropertySymbols,a=i?function(u){for(var l=[];u;)n(l,t(u)),u=e(u);return l}:r;return Qy=a,Qy}var Xy,TA;function M$(){if(TA)return Xy;TA=1;var n=xc(),e=uD();function t(r,i){return n(r,e(r),i)}return Xy=t,Xy}var Jy,bA;function lD(){if(bA)return Jy;bA=1;var n=Wk(),e=uD(),t=$h();function r(i){return n(i,t,e)}return Jy=r,Jy}var Zy,SA;function L$(){if(SA)return Zy;SA=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Zy=t,Zy}var e_,IA;function HE(){if(IA)return e_;IA=1;var n=Bk();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return e_=e,e_}var t_,RA;function V$(){if(RA)return t_;RA=1;var n=HE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return t_=e,t_}var n_,AA;function F$(){if(AA)return n_;AA=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return n_=e,n_}var r_,xA;function j$(){if(xA)return r_;xA=1;var n=mu(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return r_=r,r_}var i_,CA;function q$(){if(CA)return i_;CA=1;var n=HE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return i_=e,i_}var s_,PA;function U$(){if(PA)return s_;PA=1;var n=HE(),e=V$(),t=F$(),r=j$(),i=q$(),a="[object Boolean]",u="[object Date]",l="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",S="[object Float32Array]",I="[object Float64Array]",C="[object Int8Array]",P="[object Int16Array]",V="[object Int32Array]",L="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",k="[object Uint32Array]";function R(x,N,M){var q=x.constructor;switch(N){case E:return n(x);case a:case u:return new q(+x);case T:return e(x,M);case S:case I:case C:case P:case V:case L:case W:case z:case k:return i(x,M);case l:return new q;case d:case v:return new q(x);case p:return t(x);case m:return new q;case y:return r(x)}}return s_=R,s_}var a_,kA;function cD(){if(kA)return a_;kA=1;var n=Wi(),e=Object.create,t=function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return a_=t,a_}var o_,DA;function $$(){if(DA)return o_;DA=1;var n=cD(),e=zh(),t=qE();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return o_=r,o_}var u_,OA;function z$(){if(OA)return u_;OA=1;var n=Vh(),e=$s(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return u_=r,u_}var l_,NA;function B$(){if(NA)return l_;NA=1;var n=z$(),e=Lh(),t=FE(),r=t&&t.isMap,i=r?e(r):n;return l_=i,l_}var c_,MA;function W$(){if(MA)return c_;MA=1;var n=Vh(),e=$s(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return c_=r,c_}var d_,LA;function H$(){if(LA)return d_;LA=1;var n=W$(),e=Lh(),t=FE(),r=t&&t.isSet,i=r?e(r):n;return d_=i,d_}var f_,VA;function G$(){if(VA)return f_;VA=1;var n=NE(),e=aD(),t=oD(),r=P$(),i=k$(),a=D$(),u=O$(),l=N$(),d=M$(),p=Yk(),m=lD(),v=Vh(),y=L$(),E=U$(),T=$$(),S=mr(),I=Mh(),C=B$(),P=Wi(),V=H$(),L=Rc(),W=$h(),z=1,k=2,R=4,x="[object Arguments]",N="[object Array]",M="[object Boolean]",q="[object Date]",D="[object Error]",ce="[object Function]",be="[object GeneratorFunction]",Ee="[object Map]",_e="[object Number]",ne="[object Object]",de="[object RegExp]",ue="[object Set]",H="[object String]",Z="[object Symbol]",fe="[object WeakMap]",xe="[object ArrayBuffer]",Ae="[object DataView]",Ne="[object Float32Array]",Le="[object Float64Array]",Me="[object Int8Array]",Ge="[object Int16Array]",vt="[object Int32Array]",yn="[object Uint8Array]",jr="[object Uint8ClampedArray]",Un="[object Uint16Array]",gr="[object Uint32Array]",Ue={};Ue[x]=Ue[N]=Ue[xe]=Ue[Ae]=Ue[M]=Ue[q]=Ue[Ne]=Ue[Le]=Ue[Me]=Ue[Ge]=Ue[vt]=Ue[Ee]=Ue[_e]=Ue[ne]=Ue[de]=Ue[ue]=Ue[H]=Ue[Z]=Ue[yn]=Ue[jr]=Ue[Un]=Ue[gr]=!0,Ue[D]=Ue[ce]=Ue[fe]=!1;function $n(Ve,zn,_n,Nt,Mt,Xt){var ut,wn=zn&z,Bn=zn&k,lt=zn&R;if(_n&&(ut=Mt?_n(Ve,Nt,Mt,Xt):_n(Ve)),ut!==void 0)return ut;if(!P(Ve))return Ve;var rt=S(Ve);if(rt){if(ut=y(Ve),!wn)return u(Ve,ut)}else{var Lt=v(Ve),Hi=Lt==ce||Lt==be;if(I(Ve))return a(Ve,wn);if(Lt==ne||Lt==x||Hi&&!Mt){if(ut=Bn||Hi?{}:T(Ve),!wn)return Bn?d(Ve,i(ut,Ve)):l(Ve,r(ut,Ve))}else{if(!Ue[Lt])return Mt?Ve:{};ut=E(Ve,Lt,wn)}}Xt||(Xt=new n);var vr=Xt.get(Ve);if(vr)return vr;Xt.set(Ve,ut),V(Ve)?Ve.forEach(function(In){ut.add($n(In,zn,_n,In,Ve,Xt))}):C(Ve)&&Ve.forEach(function(In,Wn){ut.set(Wn,$n(In,zn,_n,Wn,Ve,Xt))});var hi=lt?Bn?m:p:Bn?W:L,qr=rt?void 0:hi(Ve);return e(qr||Ve,function(In,Wn){qr&&(Wn=In,In=Ve[Wn]),t(ut,Wn,$n(In,zn,_n,Wn,Ve,Xt))}),ut}return f_=$n,f_}var h_,FA;function K$(){if(FA)return h_;FA=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return h_=n,h_}var p_,jA;function Y$(){if(jA)return p_;jA=1;var n=jh(),e=Ik();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return p_=t,p_}var m_,qA;function Q$(){if(qA)return m_;qA=1;var n=Fh(),e=K$(),t=Y$(),r=Ac();function i(a,u){return u=n(u,a),a=t(a,u),a==null||delete a[r(e(u))]}return m_=i,m_}var g_,UA;function X$(){if(UA)return g_;UA=1;var n=gu(),e=zh(),t=$s(),r="[object Object]",i=Function.prototype,a=Object.prototype,u=i.toString,l=a.hasOwnProperty,d=u.call(Object);function p(m){if(!t(m)||n(m)!=r)return!1;var v=e(m);if(v===null)return!0;var y=l.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&u.call(y)==d}return g_=p,g_}var v_,$A;function J$(){if($A)return v_;$A=1;var n=X$();function e(t){return n(t)?void 0:t}return v_=e,v_}var y_,zA;function Z$(){if(zA)return y_;zA=1;var n=eD();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return y_=e,y_}var __,BA;function e5(){if(BA)return __;BA=1;var n=Z$(),e=tD(),t=rD();function r(i){return t(e(i,void 0,n),i+"")}return __=r,__}var w_,WA;function t5(){if(WA)return w_;WA=1;var n=zE(),e=G$(),t=Q$(),r=Fh(),i=xc(),a=J$(),u=e5(),l=lD(),d=1,p=2,m=4,v=u(function(y,E){var T={};if(y==null)return T;var S=!1;E=n(E,function(C){return C=r(C,y),S||(S=C.length>1),C}),i(y,l(y),T),S&&(T=e(T,d|p|m,a));for(var I=E.length;I--;)t(T,E[I]);return T});return w_=v,w_}var n5=t5();const r5=qn(n5);var E_,HA;function i5(){if(HA)return E_;HA=1;var n=aD(),e=cD(),t=BE(),r=Uh(),i=zh(),a=mr(),u=Mh(),l=vE(),d=Wi(),p=jE();function m(v,y,E){var T=a(v),S=T||u(v)||p(v);if(y=r(y,4),E==null){var I=v&&v.constructor;S?E=T?new I:[]:d(v)?E=l(I)?e(i(v)):{}:E={}}return(S?n:t)(v,function(C,P,V){return y(E,C,P,V)}),E}return E_=m,E_}var s5=i5();const a5=qn(s5);var _f={exports:{}},o5=_f.exports,GA;function u5(){return GA||(GA=1,function(n,e){(function(t,r){n.exports=r()})(o5,function(){return function(t,r,i){r.prototype.isBetween=function(a,u,l,d){var p=i(a),m=i(u),v=(d=d||"()")[0]==="(",y=d[1]===")";return(v?this.isAfter(p,l):!this.isBefore(p,l))&&(y?this.isBefore(m,l):!this.isAfter(m,l))||(v?this.isBefore(p,l):!this.isAfter(p,l))&&(y?this.isAfter(m,l):!this.isBefore(m,l))}}})}(_f)),_f.exports}u5();var wf={exports:{}},l5=wf.exports,KA;function c5(){return KA||(KA=1,function(n,e){(function(t,r){n.exports=r()})(l5,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})}(wf)),wf.exports}c5();var Ef={exports:{}},d5=Ef.exports,YA;function f5(){return YA||(YA=1,function(n,e){(function(t,r){n.exports=r()})(d5,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})}(Ef)),Ef.exports}f5();var Tf={exports:{}},h5=Tf.exports,QA;function p5(){return QA||(QA=1,function(n,e){(function(t,r){n.exports=r()})(h5,function(){return function(t,r,i){var a=r.prototype,u=function(v){return v&&(v.indexOf?v:v.s)},l=function(v,y,E,T,S){var I=v.name?v:v.$locale(),C=u(I[y]),P=u(I[E]),V=C||P.map(function(W){return W.slice(0,T)});if(!S)return V;var L=I.weekStart;return V.map(function(W,z){return V[(z+(L||0))%7]})},d=function(){return i.Ls[i.locale()]},p=function(v,y){return v.formats[y]||function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,S,I){return S||I.slice(1)})}(v.formats[y.toUpperCase()])},m=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):l(v,"months")},monthsShort:function(y){return y?y.format("MMM"):l(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):l(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):l(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):l(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return p(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(y){return p(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return l(d(),"months")},i.monthsShort=function(){return l(d(),"monthsShort","months",3)},i.weekdays=function(v){return l(d(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return l(d(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return l(d(),"weekdaysMin","weekdays",2,v)}}})}(Tf)),Tf.exports}p5();var bf={exports:{}},m5=bf.exports,XA;function g5(){return XA||(XA=1,function(n,e){(function(t,r){n.exports=r()})(m5,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var u=i.prototype,l=u.format;a.en.formats=t,u.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,m=function(v,y){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,T,S){var I=S&&S.toUpperCase();return T||y[S]||t[S]||y[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,P,V){return P||V.slice(1)})})}(d,p===void 0?{}:p);return l.call(this,m)}}})}(bf)),bf.exports}g5();var Sf={exports:{}},v5=Sf.exports,JA;function y5(){return JA||(JA=1,function(n,e){(function(t,r){n.exports=r()})(v5,function(){return function(t,r,i){var a=function(u,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var d;l.length===1&&l[0].length>0&&(l=l[0]),d=(l=l.filter(function(m){return m}))[0];for(var p=1;p<l.length;p+=1)l[p].isValid()&&!l[p][u](d)||(d=l[p]);return d};i.max=function(){var u=[].slice.call(arguments,0);return a("isAfter",u)},i.min=function(){var u=[].slice.call(arguments,0);return a("isBefore",u)}}})}(Sf)),Sf.exports}y5();var If={exports:{}},_5=If.exports,ZA;function w5(){return ZA||(ZA=1,function(n,e){(function(t,r){n.exports=r()})(_5,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,u,l){var d=u.prototype;l.utc=function(S){var I={date:S,utc:!0,args:arguments};return new u(I)},d.utc=function(S){var I=l(this.toDate(),{locale:this.$L,utc:!0});return S?I.add(this.utcOffset(),t):I},d.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var p=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var m=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var v=d.utcOffset;d.utcOffset=function(S,I){var C=this.$utils().u;if(C(S))return this.$u?0:C(this.$offset)?v.call(this):this.$offset;if(typeof S=="string"&&(S=function(W){W===void 0&&(W="");var z=W.match(r);if(!z)return null;var k=(""+z[0]).match(i)||["-",0,0],R=k[0],x=60*+k[1]+ +k[2];return x===0?0:R==="+"?x:-x}(S),S===null))return this;var P=Math.abs(S)<=16?60*S:S,V=this;if(I)return V.$offset=P,V.$u=S===0,V;if(S!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(V=this.local().add(P+L,t)).$offset=P,V.$x.$localOffset=L}else V=this.utc();return V};var y=d.format;d.format=function(S){var I=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,I)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var E=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var T=d.diff;d.diff=function(S,I,C){if(S&&this.$u===S.$u)return T.call(this,S,I,C);var P=this.local(),V=l(S).local();return T.call(P,V,I,C)}}})}(If)),If.exports}w5();function Pi(n){return n.children}var jn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Yt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},ex=Object.keys(Yt).map(function(n){return Yt[n]});oe.oneOfType([oe.string,oe.func]);oe.any;oe.func;oe.oneOfType([oe.arrayOf(oe.oneOf(ex)),oe.objectOf(function(n,e){var t=ex.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return oe.elementType.apply(oe,[n,e].concat(i))})]);oe.oneOfType([oe.oneOf(["overlap","no-overlap"]),oe.func]);var tx={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function dD(n,e){var t=an(n,"month");return an(t,"week",e.startOfWeek())}function fD(n,e){var t=Xf(n,"month");return Xf(t,"week",e.startOfWeek())}function E5(n,e){for(var t=dD(n,e),r=fD(n,e),i=[];hu(t,r,"day");)i.push(t),t=Vr(t,1,"day");return i}function T5(n,e){var t=an(n,e);return fu(t,n)?t:Vr(t,1,e)}function b5(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];hu(r,e,t);)i.push(r),r=Vr(r,1,t);return i}function S5(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=an(n,"day"),n=Zl(n,Zl(e)),n=Xo(n,Xo(e)),n=Jl(n,Jl(e)),Xl(n,Xl(e)))}function nx(n){return Zl(n)===0&&Xo(n)===0&&Jl(n)===0&&Xl(n)===0}function I5(n,e,t,r){return t==="day"&&(t="date"),Math.abs(Qb[t](n,void 0,r)-Qb[t](e,void 0,r))}function GE(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+an(n,t)/tx[t]-+an(e,t)/tx[t]))}var R5=oe.oneOfType([oe.string,oe.func]);function A5(n,e,t,r,i){var a=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return Wl(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function x5(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function KE(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function C5(n,e){return GE(n,e,"minutes")+KE(n,e)}function P5(n){var e=an(n,"day");return GE(e,n,"minutes")+KE(e,n)}function k5(n,e){return gE(n,e,"day")}function D5(n,e,t){var r=fu(n,e,"minutes");return r?_c(e,t,"minutes"):xh(e,t,"minutes")}function ow(n,e){return I5(n,e,"day")}function O5(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,a=n.evtB,u=a.start,l=a.end,d=a.allDay,p=+an(t,"day")-+an(u,"day"),m=ow(t,r),v=ow(u,l);return p||v-m||!!d-!!i||+t-+u||+r-+l}function N5(n){var e=n.event,t=e.start,r=e.end,i=n.range,a=i.start,u=i.end,l=an(t,"day"),d=hu(l,u,"day"),p=mE(l,r,"minutes"),m=p?xh(r,a,"minutes"):_c(r,a,"minutes");return d&&m}function M5(n,e){return fu(n,e,"day")}function L5(n,e){return nx(n)&&nx(e)}var V5=zt(function n(e){var t=this;$t(this,n),Wl(typeof e.format=="function","date localizer `format(..)` must be a function"),Wl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||R5,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return A5.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||S5,this.inRange=e.inRange||wk,this.lt=e.lt||gE,this.lte=e.lte||hu,this.gt=e.gt||xh,this.gte=e.gte||_c,this.eq=e.eq||fu,this.neq=e.neq||mE,this.startOf=e.startOf||an,this.endOf=e.endOf||Xf,this.add=e.add||Vr,this.range=e.range||b5,this.diff=e.diff||GE,this.ceil=e.ceil||T5,this.min=e.min||yk,this.max=e.max||_k,this.minutes=e.minutes||Xo,this.daySpan=e.daySpan||ow,this.firstVisibleDay=e.firstVisibleDay||dD,this.lastVisibleDay=e.lastVisibleDay||fD,this.visibleDays=e.visibleDays||E5,this.getSlotDate=e.getSlotDate||x5,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||KE,this.getTotalMin=e.getTotalMin||C5,this.getMinutesFromMidnight=e.getMinutesFromMidnight||P5,this.continuesPrior=e.continuesPrior||k5,this.continuesAfter=e.continuesAfter||D5,this.sortEvents=e.sortEvents||O5,this.inEventRange=e.inEventRange||N5,this.isSameDate=e.isSameDate||M5,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||L5,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function F5(n,e,t,r){var i=et(et({},n.formats),t);return et(et({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(u,l){return n.format(u,i[l]||l,e)}})}var j5=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.navigate=function(u){t.props.onNavigate(u)},t.view=function(u){t.props.onView(u)},t}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,a=r.label;return G.createElement("div",{className:"rbc-toolbar"},G.createElement("span",{className:"rbc-btn-group"},G.createElement("button",{type:"button",onClick:this.navigate.bind(null,jn.TODAY)},i.today),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,jn.PREVIOUS)},i.previous),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,jn.NEXT)},i.next)),G.createElement("span",{className:"rbc-toolbar-label"},a),G.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,a=this.props.views,u=this.props.view;if(a.length>1)return a.map(function(l){return G.createElement("button",{type:"button",key:l,className:wt({"rbc-active":u===l}),onClick:i.view.bind(null,l)},r[l])})}}])}(G.Component);function at(n,e){n&&n.apply(null,[].concat(e))}var q5={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function U5(n){return et(et({},q5),n)}function $5(n){var e=n.ref,t=n.callback;$.useEffect(function(){var r=function(a){e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var z5=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],hD=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,u=r.event,l=r.selected,d=r.isAllDay,p=r.onSelect,m=r.onDoubleClick,v=r.onKeyPress,y=r.localizer,E=r.continuesPrior,T=r.continuesAfter,S=r.accessors,I=r.getters,C=r.children,P=r.components,V=P.event,L=P.eventWrapper,W=r.slotStart,z=r.slotEnd,k=li(r,z5);delete k.resizable;var R=S.title(u),x=S.tooltip(u),N=S.end(u),M=S.start(u),q=S.allDay(u),D=d||q||y.diff(M,y.ceil(N,"day"),"day")>1,ce=I.eventProp(u,M,N,l),be=G.createElement("div",{className:"rbc-event-content",title:x||void 0},V?G.createElement(V,{event:u,continuesPrior:E,continuesAfter:T,title:R,isAllDay:q,localizer:y,slotStart:W,slotEnd:z}):R);return G.createElement(L,Object.assign({},this.props,{type:"date"}),G.createElement("div",Object.assign({},k,{style:et(et({},ce.style),i),className:wt("rbc-event",a,ce.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":E,"rbc-event-continues-after":T}),onClick:function(_e){return p&&p(u,_e)},onDoubleClick:function(_e){return m&&m(u,_e)},onKeyDown:function(_e){return v&&v(u,_e)}}),typeof C=="function"?C(be):be))}}])}(G.Component);function Bh(n,e){return!n||e==null?!1:k9(n,e)}function pD(n,e){var t=n.right-n.left,r=t/e;return r}function mD(n,e,t,r){var i=pD(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function B5(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function W5(n,e,t,r,i){var a=-1,u=-1,l=r-1,d=pD(e,r),p=mD(e,t.x,i,r),m=e.top<t.y&&e.bottom>t.y,v=e.top<n.y&&e.bottom>n.y,y=n.y>e.bottom,E=e.top>n.y,T=t.top<e.top&&t.bottom>e.bottom;return T&&(a=0,u=l),m&&(E?(a=0,u=p):y&&(a=p,u=l)),v&&(a=u=i?l-Math.floor((n.x-e.left)/d):Math.floor((n.x-e.left)/d),m?p<a?a=p:u=p:n.y<t.y?u=l:a=0),{startIdx:a,endIdx:u}}function H5(n){var e=n.target,t=n.offset,r=n.container,i=n.box,a=Ea(e),u=a.top,l=a.left,d=a.width,p=a.height,m=Ea(r),v=m.top,y=m.left,E=m.width,T=m.height,S=Ea(i),I=S.width,C=S.height,P=v+T,V=y+E,L=u+C,W=l+I,z=t.x,k=t.y,R=L>P?u-C-k:u+k+p,x=W>V?l+z-I+d:l+z;return{topOffset:R,leftOffset:x}}function G5(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,a=n.components,u=n.localizer,l=n.position,d=n.show,p=n.events,m=n.slotStart,v=n.slotEnd,y=n.onSelect,E=n.onDoubleClick,T=n.onKeyPress,S=n.handleDragStart,I=n.popperRef,C=n.target,P=n.offset;$5({ref:I,callback:d}),$.useLayoutEffect(function(){var W=H5({target:C,offset:P,container:e.current,box:I.current}),z=W.topOffset,k=W.leftOffset;I.current.style.top="".concat(z,"px"),I.current.style.left="".concat(k,"px")},[P.x,P.y,C]);var V=l.width,L={minWidth:V+V/2};return G.createElement("div",{style:L,className:"rbc-overlay",ref:I},G.createElement("div",{className:"rbc-overlay-header"},u.format(m,"dayHeaderFormat")),p.map(function(W,z){return G.createElement(hD,{key:z,type:"popup",localizer:u,event:W,getters:r,onSelect:y,accessors:t,components:a,onDoubleClick:E,onKeyPress:T,continuesPrior:u.lt(t.end(W),m,"day"),continuesAfter:u.gte(t.start(W),v,"day"),slotStart:m,slotEnd:v,selected:Bh(W,i),draggable:!0,onDragStart:function(){return S(W)},onDragEnd:function(){return d()}})}))}var gD=G.forwardRef(function(n,e){return G.createElement(G5,Object.assign({},n,{popperRef:e}))});gD.propTypes={accessors:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,components:oe.object.isRequired,localizer:oe.object.isRequired,position:oe.object.isRequired,show:oe.func.isRequired,events:oe.array.isRequired,slotStart:oe.instanceOf(Date).isRequired,slotEnd:oe.instanceOf(Date),onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func,handleDragStart:oe.func,style:oe.object,offset:oe.shape({x:oe.number,y:oe.number})};function K5(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,a=n.accessors,u=n.localizer,l=n.components,d=n.getters,p=n.selected,m=n.handleSelectEvent,v=n.handleDoubleClickEvent,y=n.handleKeyPressEvent,E=n.handleDragStart,T=n.onHide,S=n.overlayDisplay,I=$.useRef(null);if(!i.position)return null;var C=r;isNaN(r)||(C={x:r,y:r});var P=i.position,V=i.events,L=i.date,W=i.end;return G.createElement(kE,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:T,target:i.target},function(z){var k=z.props;return G.createElement(gD,Object.assign({},k,{containerRef:e,ref:I,target:i.target,offset:C,accessors:a,getters:d,selected:p,components:l,localizer:u,position:P,show:S,events:V,slotStart:L,slotEnd:W,onSelect:m,onDoubleClick:v,onKeyPress:y,handleDragStart:E}))})}var YE=G.forwardRef(function(n,e){return G.createElement(K5,Object.assign({},n,{containerRef:e}))});YE.propTypes={popupOffset:oe.oneOfType([oe.number,oe.shape({x:oe.number,y:oe.number})]),overlay:oe.shape({position:oe.object,events:oe.array,date:oe.instanceOf(Date),end:oe.instanceOf(Date)}),accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,handleSelectEvent:oe.func,handleDoubleClickEvent:oe.func,handleKeyPressEvent:oe.func,handleDragStart:oe.func,onHide:oe.func,overlayDisplay:oe.func};function fn(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return El(t,n,e,{passive:!1})}function Y5(n,e,t){return!n||ec(n,document.elementFromPoint(e,t))}function Q5(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Qk(i,".rbc-event",n)}function X5(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Qk(i,".rbc-show-more",n)}function eh(n,e){return!!Q5(n,e)}function J5(n,e){return!!X5(n,e)}function cl(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var rx=5,Z5=250,vD=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,u=a===void 0?250:a,l=t.validContainers,d=l===void 0?[]:l;$t(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=u,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=fn("touchmove",function(){},window),this._removeKeyDownListener=fn("keydown",this._keyListener),this._removeKeyUpListener=fn("keyup",this._keyListener),this._removeDropFromOutsideListener=fn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=fn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return zt(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var u=i.indexOf(r);u!==-1&&i.splice(u,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u,l=this._listeners[t]||[];return l.forEach(function(d){u===void 0&&(u=d.apply(void 0,i))}),u}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:ix(r,Ma(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,u=null,l=null,d=function(y){a=setTimeout(function(){m(),t(y)},i.longPressThreshold),u=fn("touchmove",function(){return m()}),l=fn("touchend",function(){return m()})},p=fn("touchstart",d),m=function(){a&&clearTimeout(a),u&&u(),l&&l(),a=null,u=null,l=null};return r&&d(r),function(){m(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=fn("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=fn("mousedown",t._handleInitialEvent)}),i=fn("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=cl(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=cl(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=cl(t),i=r.clientX,a=r.clientY,u=r.pageX,l=r.pageY,d=this.container(),p,m;if(!(t.which===3||t.button===2||!Y5(d,i,a))){if(!this.globalMouse&&d&&!ec(d,t.target)){var v=ez(0),y=v.top,E=v.left,T=v.bottom,S=v.right;if(m=Ma(d),p=ix({top:m.top-y,left:m.left-E,bottom:m.bottom+T,right:m.right+S},{top:l,left:u}),!p)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:u,y:l,clientX:i,clientY:a});if(I!==!1)switch(t.type){case"mousedown":this._removeEndListener=fn("mouseup",this._handleTerminatingEvent),this._onEscListener=fn("keydown",this._handleTerminatingEvent),this._removeMoveListener=fn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=fn("touchend",this._handleTerminatingEvent),this._removeMoveListener=fn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||ec(this.container(),t.target),u=this._isWithinValidContainer(t);return t.key==="Escape"||!u?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=cl(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Z5?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:u,clientY:l})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:a,clientX:u,clientY:l}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,u=cl(t),l=u.pageX,d=u.pageY,p=Math.abs(i-l),m=Math.abs(a-d),v=Math.min(l,i),y=Math.min(d,a),E=this.selecting,T=this.isClick(l,d);T&&!E&&!(p||m)||(!E&&!T&&this.emit("selectStart",this._initialEventData),T||(this.selecting=!0,this._selectRect={top:y,left:v,x:l,y:d,right:v+p,bottom:y+m},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,u=i.y,l=i.isTouch;return!l&&Math.abs(t-a)<=rx&&Math.abs(r-u)<=rx}}])}();function ez(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ui(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function ix(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ma(n),i=r.top,a=r.left,u=r.right,l=u===void 0?a:u,d=r.bottom,p=d===void 0?i:d,m=Ma(e),v=m.top,y=m.left,E=m.right,T=E===void 0?y:E,S=m.bottom,I=S===void 0?v:S;return!(p-t<v||i+t>I||l-t<y||a+t>T)}function Ma(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+sx("left"),r=e.top+sx("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function sx(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var tz=function(n){function e(t,r){var i;return $t(this,e),i=gn(this,e,[t,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return vn(e,n),zt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,a=r.getNow,u=r.getters,l=r.date,d=r.components.dateCellWrapper,p=r.localizer,m=this.state,v=m.selecting,y=m.startIdx,E=m.endIdx,T=a();return G.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(S,I){var C=v&&I>=y&&I<=E,P=u.dayProp(S),V=P.className,L=P.style;return G.createElement(d,{key:I,value:S,range:i},G.createElement("div",{style:L,className:wt("rbc-day-bg",V,C&&"rbc-selected-cell",p.isSameDate(S,T)&&"rbc-today",l&&p.neq(l,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,a=this._selector=new vD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),u=function(d,p){if(!eh(i,d)&&!J5(i,d)){var m=Ma(i),v=r.props,y=v.range,E=v.rtl;if(B5(m,d)){var T=mD(m,d.x,E,y.length);r._selectSlot({startIdx:T,endIdx:T,action:p,box:d})}}r._initial={},r.setState({selecting:!1})};a.on("selecting",function(l){var d=r.props,p=d.range,m=d.rtl,v=-1,y=-1;if(r.state.selecting||(at(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),a.isSelected(i)){var E=Ma(i),T=W5(r._initial,E,l,p.length,m);v=T.startIdx,y=T.endIdx}r.setState({selecting:!0,startIdx:v,endIdx:y})}),a.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!eh(r.containerRef.current,l)}),a.on("click",function(l){return u(l,"click")}),a.on("doubleClick",function(l){return u(l,"doubleClick")}),a.on("select",function(l){r._selectSlot(et(et({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),at(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,a=r.startIdx,u=r.action,l=r.bounds,d=r.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:u,bounds:l,box:d,resourceId:this.props.resourceId})}}])}(G.Component),Jr={propTypes:{slotMetrics:oe.object.isRequired,selected:oe.object,isAllDay:oe.bool,accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,u=e.onSelect,l=e.onDoubleClick,d=e.onKeyPress,p=e.localizer,m=e.slotMetrics,v=e.components,y=e.resizable,E=m.continuesPrior(t),T=m.continuesAfter(t);return G.createElement(hD,{event:t,getters:a,localizer:p,accessors:i,components:v,onSelect:u,onDoubleClick:l,onKeyPress:d,continuesPrior:E,continuesAfter:T,slotStart:m.first,slotEnd:m.last,selected:Bh(t,r),resizable:y})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/e*100+"%";return G.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},yD=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,u=i.slotMetrics.slots,l=i.className,d=1;return G.createElement("div",{className:wt(l,"rbc-row")},a.reduce(function(p,m,v){var y=m.event,E=m.left,T=m.right,S=m.span,I="_lvl_"+v,C=E-d,P=Jr.renderEvent(r.props,y);return C&&p.push(Jr.renderSpan(u,C,"".concat(I,"_gap"))),p.push(Jr.renderSpan(u,S,I,P)),d=T+1,p},[]))}}])}(G.Component);yD.defaultProps=et({},Jr.defaultProps);function _D(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function nz(n,e,t,r){var i=_D({dateRange:e,localizer:r}),a=i.first,u=i.last,l=r.diff(a,u,"day"),d=r.max(r.startOf(t.start(n),"day"),a),p=r.min(r.ceil(t.end(n),"day"),u),m=X9(e,function(y){return r.isSameDate(y,d)}),v=r.diff(d,p,"day");return v=Math.min(v,l),v=Math.max(v-r.segmentOffset,1),{event:n,span:v,left:m+1,right:Math.max(m+v,1)}}function wD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],u=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<a.length&&rz(i,a[r]);r++);r>=e?u.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(l,d){return l.left-d.left});return{levels:a,extra:u}}function rc(n,e,t,r,i){var a={start:r.start(n),end:r.end(n)},u={start:e,end:t};return i.inEventRange({event:a,range:u})}function rz(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function iz(n,e,t){var r=vf(n),i=[],a=[];r.forEach(function(d){var p=e.start(d),m=e.end(d);t.daySpan(p,m)>1?i.push(d):a.push(d)});var u=i.sort(function(d,p){return uw(d,p,e,t)}),l=a.sort(function(d,p){return uw(d,p,e,t)});return[].concat(vf(u),vf(l))}function uw(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},a={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:a})}var ED=function(e,t){return e.left<=t&&e.right>=t},ax=function(e,t){return e.filter(function(r){return ED(r,t)}).map(function(r){return r.event})},TD=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,a=r.slotMetrics.slots,u=wD(i).levels[0],l=1,d=1,p=[];l<=a;){var m="_lvl_"+l,v=u.filter(function(P){return ED(P,l)})[0]||{},y=v.event,E=v.left,T=v.right,S=v.span;if(!y){l++;continue}var I=Math.max(0,E-d);if(this.canRenderSlotEvent(E,S)){var C=Jr.renderEvent(this.props,y);I&&p.push(Jr.renderSpan(a,I,m+"_gap")),p.push(Jr.renderSpan(a,S,m,C)),d=l=T+1}else I&&p.push(Jr.renderSpan(a,I,m+"_gap")),p.push(Jr.renderSpan(a,1,m,this.renderShowMore(i,l))),d=l=l+1}return G.createElement("div",{className:"rbc-row"},p)}},{key:"canRenderSlotEvent",value:function(r,i){var a=this.props.segments;return n$(r,r+i).every(function(u){var l=ax(a,u).length;return l===1})}},{key:"renderShowMore",value:function(r,i){var a=this,u=this.props,l=u.localizer,d=u.slotMetrics,p=u.components,m=d.getEventsForSlot(i),v=ax(r,i),y=v.length;if(p!=null&&p.showMore){var E=p.showMore,T=d.getDateForSlot(i-1);return y?G.createElement(E,{localizer:l,slotDate:T,slot:i,count:y,events:m,remainingEvents:v}):!1}return y?G.createElement("button",{type:"button",key:"sm_"+i,className:wt("rbc-button-link","rbc-show-more"),onClick:function(I){return a.showMore(i,I)}},l.messages.showMore(y,v,m)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(G.Component);TD.defaultProps=et({},Jr.defaultProps);var sz=function(e){var t=e.children;return G.createElement("div",{className:"rbc-row-content-scroll-container"},t)},az=function(e,t){return e.left<=t&&e.right>=t},oz=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function bD(){return Zk(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,a=n.accessors,u=n.localizer,l=_D({dateRange:e,localizer:u}),d=l.first,p=l.last,m=t.map(function(S){return nz(S,e,a,u)}),v=wD(m,Math.max(r-1,1)),y=v.levels,E=v.extra,T=E.length>0?i-1:i;y.length<T;)y.push([]);return{first:d,last:p,levels:y,extra:E,range:e,slots:e.length,clone:function(I){var C=bD();return C(et(et({},n),I))},getDateForSlot:function(I){return e[I]},getSlotForDate:function(I){return e.find(function(C){return u.isSameDate(C,I)})},getEventsForSlot:function(I){return m.filter(function(C){return az(C,I)}).map(function(C){return C.event})},continuesPrior:function(I){return u.continuesPrior(a.start(I),d)},continuesAfter:function(I){var C=a.start(I),P=a.end(I);return u.continuesAfter(C,P,p)}}},oz)}var ic=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleSelectSlot=function(u){var l=t.props,d=l.range,p=l.onSelectSlot;p(d.slice(u.start,u.end+1),u)},t.handleShowMore=function(u,l){var d=t.props,p=d.range,m=d.onShowMore,v=t.slotMetrics(t.props),y=oq(t.containerRef.current,".rbc-row-bg")[0],E;y&&(E=y.children[u-1]);var T=v.getEventsForSlot(u);m(T,p[u-1],E,u,l)},t.getContainer=function(){var u=t.props.container;return u?u():t.containerRef.current},t.renderHeadingCell=function(u,l){var d=t.props,p=d.renderHeader,m=d.getNow,v=d.localizer;return p({date:u,key:"header_".concat(l),className:wt("rbc-date-cell",v.isSameDate(u,m())&&"rbc-now")})},t.renderDummy=function(){var u=t.props,l=u.className,d=u.range,p=u.renderHeader,m=u.showAllEvents;return G.createElement("div",{className:l,ref:t.containerRef},G.createElement("div",{className:wt("rbc-row-content",m&&"rbc-row-content-scrollable")},p&&G.createElement("div",{className:"rbc-row",ref:t.headingRowRef},d.map(t.renderHeadingCell)),G.createElement("div",{className:"rbc-row",ref:t.eventRowRef},G.createElement("div",{className:"rbc-row-segment"},G.createElement("div",{className:"rbc-event"},G.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=$.createRef(),t.headingRowRef=$.createRef(),t.eventRowRef=$.createRef(),t.slotMetrics=bD(),t}return vn(e,n),zt(e,[{key:"getRowLimit",value:function(){var r,i=Fv(this.eventRowRef.current),a=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Fv(this.headingRowRef.current):0,u=Fv(this.containerRef.current)-a;return Math.max(Math.floor(u/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.rtl,u=r.range,l=r.className,d=r.selected,p=r.selectable,m=r.renderForMeasure,v=r.accessors,y=r.getters,E=r.components,T=r.getNow,S=r.renderHeader,I=r.onSelect,C=r.localizer,P=r.onSelectStart,V=r.onSelectEnd,L=r.onDoubleClick,W=r.onKeyPress,z=r.resourceId,k=r.longPressThreshold,R=r.isAllDay,x=r.resizable,N=r.showAllEvents;if(m)return this.renderDummy();var M=this.slotMetrics(this.props),q=M.levels,D=M.extra,ce=N?sz:Pi,be=E.weekWrapper,Ee={selected:d,accessors:v,getters:y,localizer:C,components:E,onSelect:I,onDoubleClick:L,onKeyPress:W,resourceId:z,slotMetrics:M,resizable:x};return G.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},G.createElement(tz,{localizer:C,date:i,getNow:T,rtl:a,range:u,selectable:p,container:this.getContainer,getters:y,onSelectStart:P,onSelectEnd:V,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:k,resourceId:z}),G.createElement("div",{className:wt("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},S&&G.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},u.map(this.renderHeadingCell)),G.createElement(ce,null,G.createElement(be,Object.assign({isAllDay:R},Ee,{rtl:this.props.rtl}),q.map(function(_e,ne){return G.createElement(yD,Object.assign({key:ne,segments:_e},Ee))}),!!D.length&&G.createElement(TD,Object.assign({segments:D,onShowMore:this.handleShowMore},Ee))))))}}])}(G.Component);ic.defaultProps={minRows:0,maxRows:1/0};var QE=function(e){var t=e.label;return G.createElement("span",{role:"columnheader","aria-sort":"none"},t)},uz=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):G.createElement("span",null,t)},lz=["date","className"],cz=function(e,t,r,i,a){return e.filter(function(u){return rc(u,t,r,i,a)})},Wh=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(u,l){var d=t.props,p=d.events,m=d.components,v=d.selectable,y=d.getNow,E=d.selected,T=d.date,S=d.localizer,I=d.longPressThreshold,C=d.accessors,P=d.getters,V=d.showAllEvents,L=t.state,W=L.needLimitMeasure,z=L.rowLimit,k=cz(vf(p),u[0],u[u.length-1],C,S),R=iz(k,C,S);return G.createElement(ic,{key:l,ref:l===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:y,date:T,range:u,events:R,maxRows:V?1/0:z,selected:E,selectable:v,components:m,accessors:C,getters:P,localizer:S,renderHeader:t.readerDateHeading,renderForMeasure:W,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:I,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:V})},t.readerDateHeading=function(u){var l=u.date,d=u.className,p=li(u,lz),m=t.props,v=m.date,y=m.getDrilldownView,E=m.localizer,T=E.neq(l,v,"month"),S=E.isSameDate(l,v),I=y(l),C=E.format(l,"dateFormat"),P=t.props.components.dateHeader||uz;return G.createElement("div",Object.assign({},p,{className:wt(d,T&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),G.createElement(P,{label:C,date:l,drilldownView:I,isOffRange:T,onDrillDown:function(L){return t.handleHeadingClick(l,I,L)}}))},t.handleSelectSlot=function(u,l){t._pendingSelection=t._pendingSelection.concat(u),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(l)})},t.handleHeadingClick=function(u,l,d){d.preventDefault(),t.clearSelection(),at(t.props.onDrillDown,[u,l])},t.handleSelectEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleShowMore=function(u,l,d,p,m){var v=t.props,y=v.popup,E=v.onDrillDown,T=v.onShowMore,S=v.getDrilldownView,I=v.doShowMoreDrillDown;if(t.clearSelection(),y){var C=Dk(d,t.containerRef.current);t.setState({overlay:{date:l,events:u,position:C,target:m}})}else I&&at(E,[l,S(l)||Yt.DAY]);at(T,[u,l,p])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=$.createRef(),t.slotRowRef=$.createRef(),t._bgRows=[],t._pendingSelection=[],t}return vn(e,n),zt(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Ok(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.className,l=a.visibleDays(i,a),d=W6(l,7);return this._weekCount=d.length,G.createElement("div",{className:wt("rbc-month-view",u),role:"table","aria-label":"Month View",ref:this.containerRef},G.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,a=i.localizer,u=i.components,l=r[0],d=r[r.length-1],p=u.header||QE;return a.range(l,d,"day").map(function(m,v){return G.createElement("div",{key:"header_"+v,className:"rbc-header"},G.createElement(p,{date:m,localizer:a,label:a.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,y=l.selected,E=l.popupOffset,T=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(YE,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(l,d){return+l-+d});var a=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),at(this.props.onSelectSlot,{slots:i,start:a,end:u,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var a=r.date,u=r.localizer;return{date:a,needLimitMeasure:u.neq(a,i.date,"month")}}}])}(G.Component);Wh.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};Wh.navigate=function(n,e,t){var r=t.localizer;switch(e){case jn.PREVIOUS:return r.add(n,-1,"month");case jn.NEXT:return r.add(n,1,"month");default:return n}};Wh.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var ox=function(e){var t=e.min,r=e.max,i=e.step,a=e.slots,u=e.localizer;return"".concat(+u.startOf(t,"minutes"))+"".concat(+u.startOf(r,"minutes"))+"".concat(i,"-").concat(a)};function XE(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,a=n.localizer,u=ox({start:e,end:t,step:r,timeslots:i,localizer:a}),l=1+a.getTotalMin(e,t),d=a.getMinutesFromMidnight(e),p=Math.ceil((l-1)/(r*i)),m=p*i,v=new Array(p),y=new Array(m),E=0;E<p;E++){v[E]=new Array(i);for(var T=0;T<i;T++){var S=E*i+T,I=S*r;y[S]=v[E][T]=a.getSlotDate(e,d,I)}}var C=y.length*r;y.push(a.getSlotDate(e,d,C));function P(V){var L=a.diff(e,V,"minutes")+a.getDstOffset(e,V);return Math.min(L,l)}return{groups:v,update:function(L){return ox(L)!==u?XE(L):this},dateIsInGroup:function(L,W){var z=v[W+1];return a.inRange(L,v[W][0],z?z[0]:t,"minutes")},nextSlot:function(L){var W=y[Math.min(y.findIndex(function(z){return z===L||a.eq(z,L)})+1,y.length-1)];return a.eq(W,L)&&(W=a.add(L,r,"minutes")),W},closestSlotToPosition:function(L){var W=Math.min(y.length-1,Math.max(0,Math.floor(L*m)));return y[W]},closestSlotFromPoint:function(L,W){var z=Math.abs(W.top-W.bottom);return this.closestSlotToPosition((L.y-W.top)/z)},closestSlotFromDate:function(L){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(L,e,"minutes"))return y[0];if(a.gt(L,t,"minutes"))return y[y.length-1];var z=a.diff(e,L,"minutes");return y[(z-z%r)/r+W]},startsBeforeDay:function(L){return a.lt(L,e,"day")},startsAfterDay:function(L){return a.gt(L,t,"day")},startsBefore:function(L){return a.lt(a.merge(e,L),e,"minutes")},startsAfter:function(L){return a.gt(a.merge(t,L),t,"minutes")},getRange:function(L,W,z,k){z||(L=a.min(t,a.max(e,L))),k||(W=a.min(t,a.max(e,W)));var R=P(L),x=P(W),N=x>r*m&&!a.eq(t,W)?(R-r)/(r*m)*100:R/(r*m)*100;return{top:N,height:x/(r*m)*100-N,start:P(L),startDate:L,end:P(W),endDate:W}},getCurrentTimePosition:function(L){var W=P(L),z=W/(r*m)*100;return z}}}var dz=function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;$t(this,n);var a=i.getRange(r.start(e),r.end(e)),u=a.start,l=a.startDate,d=a.end,p=a.endDate,m=a.top,v=a.height;this.start=u,this.end=d,this.startMs=+l,this.endMs=+p,this.top=m,this.height=v,this.data=e}return zt(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,a=t._width,u=r.indexOf(this)+1;return i+u*a}}])}();function fz(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function hz(n){for(var e=E$(n,["startMs",function(l){return-l.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var a=e[i];if(!(r.endMs>a.startMs)){if(i>0){var u=e.splice(i,1)[0];t.push(u)}break}}}return t}function SD(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=e.map(function(m){return new dz(m,{slotMetrics:r,accessors:i})}),u=hz(a),l=[],d=function(){var v=u[p],y=l.find(function(S){return S.end>v.start||Math.abs(v.start-S.start)<t});if(!y)return v.rows=[],l.push(v),1;v.container=y;for(var E=null,T=y.rows.length-1;!E&&T>=0;T--)fz(y.rows[T],v,t)&&(E=y.rows[T]);E?(E.leaves.push(v),v.row=E):(v.leaves=[],y.rows.push(v))},p=0;p<u.length;p++)d();return u.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function ID(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=ID(n.friends[r],e,t);e=e>i?e:i}return e}function pz(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=SD({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});a.sort(function(be,Ee){return be=be.style,Ee=Ee.style,be.top!==Ee.top?be.top>Ee.top?1:-1:be.height!==Ee.height?be.top+be.height<Ee.top+Ee.height?1:-1:0});for(var u=0;u<a.length;++u)a[u].friends=[],delete a[u].style.left,delete a[u].style.left,delete a[u].idx,delete a[u].size;for(var l=0;l<a.length-1;++l)for(var d=a[l],p=d.style.top,m=d.style.top+d.style.height,v=l+1;v<a.length;++v){var y=a[v],E=y.style.top,T=y.style.top+y.style.height;(E>=p&&T<=m||T>p&&T<=m||E>=p&&E<m)&&(d.friends.push(y),y.friends.push(d))}for(var S=0;S<a.length;++S){for(var I=a[S],C=[],P=0;P<100;++P)C.push(1);for(var V=0;V<I.friends.length;++V)I.friends[V].idx!==void 0&&(C[I.friends[V].idx]=0);I.idx=C.indexOf(1)}for(var L=0;L<a.length;++L){var W=0;if(!a[L].size){var z=[],k=ID(a[L],0,z);W=100/(k+1),a[L].size=W;for(var R=0;R<z.length;++R)z[R].size=W}}for(var x=0;x<a.length;++x){var N=a[x];N.style.left=N.idx*N.size;for(var M=0,q=0;q<N.friends.length;++q){var D=N.friends[q].idx;M=M>D?M:D}M<=N.idx&&(N.size=100-N.idx*N.size);var ce=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(ce,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(ce,"px)")}return a}var ux={overlap:SD,"no-overlap":pz};function mz(n){return!!(n&&n.constructor&&n.call&&n.apply)}function gz(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in ux&&(t=ux[e]),mz(t)?t.apply(this,arguments):[]}var RD=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,a=r.resource,u=r.group,l=r.getters,d=r.components,p=d===void 0?{}:d,m=p.timeSlotWrapper,v=m===void 0?Pi:m,y=l?l.slotGroupProp(u):{};return G.createElement("div",Object.assign({className:"rbc-timeslot-group"},y),u.map(function(E,T){var S=l?l.slotProp(E,a):{};return G.createElement(v,{key:T,value:E,resource:a},G.createElement("div",Object.assign({},S,{className:wt("rbc-time-slot",S.className)}),i&&i(E,T)))}))}}])}($.Component);function nf(n){return typeof n=="string"?n:n+"%"}function vz(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,a=n.rtl,u=n.selected,l=n.label,d=n.continuesPrior,p=n.continuesAfter,m=n.getters,v=n.onClick,y=n.onDoubleClick,E=n.isBackgroundEvent,T=n.onKeyPress,S=n.components,I=S.event,C=S.eventWrapper,P=i.title(r),V=i.tooltip(r),L=i.end(r),W=i.start(r),z=m.eventProp(r,W,L,u),k=[G.createElement("div",{key:"1",className:"rbc-event-label"},l),G.createElement("div",{key:"2",className:"rbc-event-content"},I?G.createElement(I,{event:r,title:P}):P)],R=e.height,x=e.top,N=e.width,M=e.xOffset,q=et(et({},z.style),{},va({top:nf(x),height:nf(R),width:nf(N)},a?"right":"left",nf(M)));return G.createElement(C,Object.assign({type:"time"},n),G.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:y,style:q,onKeyDown:T,title:V?(typeof l=="string"?l+": ":"")+V:void 0,className:wt(E?"rbc-background-event":"rbc-event",t,z.className,{"rbc-selected":u,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},k))}var yz=function(e){var t=e.children,r=e.className,i=e.style,a=e.innerRef;return G.createElement("div",{className:r,style:i,ref:a},t)},_z=G.forwardRef(function(n,e){return G.createElement(yz,Object.assign({},n,{innerRef:e}))}),wz=["dayProp"],Ez=["eventContainerWrapper"],AD=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(u){var l=u.events,d=u.isBackgroundEvent,p=t.props,m=p.rtl,v=p.selected,y=p.accessors,E=p.localizer,T=p.getters,S=p.components,I=p.step,C=p.timeslots,P=p.dayLayoutAlgorithm,V=p.resizable,L=t,W=L.slotMetrics,z=E.messages,k=gz({events:l,accessors:y,slotMetrics:W,minimumStartDifference:Math.ceil(I*C/2),dayLayoutAlgorithm:P});return k.map(function(R,x){var N,M=R.event,q=R.style,D=y.end(M),ce=y.start(M),be=(N=y.eventId(M))!==null&&N!==void 0?N:"evt_"+x,Ee="eventTimeRangeFormat",_e,ne=W.startsBeforeDay(ce),de=W.startsAfterDay(D);ne?Ee="eventTimeRangeEndFormat":de&&(Ee="eventTimeRangeStartFormat"),ne&&de?_e=z.allDay:_e=E.format({start:ce,end:D},Ee);var ue=ne||W.startsBefore(ce),H=de||W.startsAfter(D);return G.createElement(vz,{style:q,event:M,label:_e,key:be,getters:T,rtl:m,components:S,continuesPrior:ue,continuesAfter:H,accessors:y,resource:t.props.resource,selected:Bh(M,v),onClick:function(fe){return t._select(et(et(et({},M),t.props.resource&&{sourceResource:t.props.resource}),d&&{isBackgroundEvent:!0}),fe)},onDoubleClick:function(fe){return t._doubleClick(M,fe)},isBackgroundEvent:d,onKeyPress:function(fe){return t._keyPress(M,fe)},resizable:V})})},t._selectable=function(){var u=t.containerRef.current,l=t.props,d=l.longPressThreshold,p=l.localizer,m=t._selector=new vD(function(){return u},{longPressThreshold:d}),v=function(S){var I=t.props.onSelecting,C=t.state||{},P=y(S),V=P.startDate,L=P.endDate;I&&(p.eq(C.startDate,V,"minutes")&&p.eq(C.endDate,L,"minutes")||I({start:V,end:L,resourceId:t.props.resource})===!1)||(t.state.start!==P.start||t.state.end!==P.end||t.state.selecting!==P.selecting)&&t.setState(P)},y=function(S){var I=t.slotMetrics.closestSlotFromPoint(S,Ma(u));t.state.selecting||(t._initialSlot=I);var C=t._initialSlot;p.lte(C,I)?I=t.slotMetrics.nextSlot(I):p.gt(C,I)&&(C=t.slotMetrics.nextSlot(C));var P=t.slotMetrics.getRange(p.min(C,I),p.max(C,I));return et(et({},P),{},{selecting:!0,top:"".concat(P.top,"%"),height:"".concat(P.height,"%")})},E=function(S,I){if(!eh(t.containerRef.current,S)){var C=y(S),P=C.startDate,V=C.endDate;t._selectSlot({startDate:P,endDate:V,action:I,box:S})}t.setState({selecting:!1})};m.on("selecting",v),m.on("selectStart",v),m.on("beforeSelect",function(T){if(t.props.selectable==="ignoreEvents")return!eh(t.containerRef.current,T)}),m.on("click",function(T){return E(T,"click")}),m.on("doubleClick",function(T){return E(T,"doubleClick")}),m.on("select",function(T){t.state.selecting&&(t._selectSlot(et(et({},t.state),{},{action:"select",bounds:T})),t.setState({selecting:!1}))}),m.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(u){for(var l=u.startDate,d=u.endDate,p=u.action,m=u.bounds,v=u.box,y=l,E=[];t.props.localizer.lte(y,d);)E.push(y),y=new Date(+y+t.props.step*60*1e3);at(t.props.onSelectSlot,{slots:E,start:l,end:d,resourceId:t.props.resource,action:p,bounds:m,box:v})},t._select=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t._doubleClick=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t._keyPress=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.slotMetrics=XE(t.props),t.containerRef=$.createRef(),t}return vn(e,n),zt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var a=this.props,u=a.getNow,l=a.isNow,d=a.localizer,p=a.date,m=a.min,v=a.max,y=d.neq(r.getNow(),u(),"minutes");if(r.isNow!==l||y){if(this.clearTimeIndicatorInterval(),l){var E=!y&&d.eq(r.date,p,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else l&&(d.neq(r.min,m,"minutes")||d.neq(r.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,a=r.max,u=r.getNow,l=u();if(l>=i&&l<=a){var d=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.max,u=r.rtl,l=r.isNow,d=r.resource,p=r.accessors,m=r.localizer,v=r.getters,y=v.dayProp,E=li(v,wz),T=r.components,S=T.eventContainerWrapper,I=li(T,Ez);this.slotMetrics=this.slotMetrics.update(this.props);var C=this.slotMetrics,P=this.state,V=P.selecting,L=P.top,W=P.height,z=P.startDate,k=P.endDate,R={start:z,end:k},x=y(a,d),N=x.className,M=x.style,q=I.dayColumnWrapper||_z;return G.createElement(q,{ref:this.containerRef,date:i,style:M,className:wt(N,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",V&&"rbc-slot-selecting"),slotMetrics:C,resource:d},C.groups.map(function(D,ce){return G.createElement(RD,{key:ce,group:D,resource:d,getters:E,components:I})}),G.createElement(S,{localizer:m,resource:d,accessors:p,getters:E,components:I,slotMetrics:C},G.createElement("div",{className:wt("rbc-events-container",u&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),V&&G.createElement("div",{className:"rbc-slot-selection",style:{top:L,height:W}},G.createElement("span",null,m.format(R,"selectRangeFormat"))),l&&this.intervalTriggered&&G.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(G.Component);AD.defaultProps={dragThroughEvents:!0,timeslots:2};var xD=function(e){var t=e.label;return G.createElement(G.Fragment,null,t)},Tz=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t.renderRow=function(u){var l=t.props,d=l.events,p=l.rtl,m=l.selectable,v=l.getNow,y=l.range,E=l.getters,T=l.localizer,S=l.accessors,I=l.components,C=l.resizable,P=S.resourceId(u),V=u?d.filter(function(L){return S.resource(L)===P}):d;return G.createElement(ic,{isAllDay:!0,rtl:p,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:y,events:V,resourceId:P,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:I,accessors:S,getters:E,localizer:T,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:C})},t}return vn(e,n),zt(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components.header,v=m===void 0?QE:m,y=d();return r.map(function(E,T){var S=l(E),I=u.format(E,"dayFormat"),C=p(E),P=C.className,V=C.style,L=G.createElement(v,{date:E,label:I,localizer:u});return G.createElement("div",{key:T,style:V,className:wt("rbc-header",P,u.isSameDate(E,y)&&"rbc-today")},S?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(E,S,z)}},L):G.createElement("span",null,L))})}},{key:"render",value:function(){var r=this,i=this.props,a=i.width,u=i.rtl,l=i.resources,d=i.range,p=i.events,m=i.getNow,v=i.accessors,y=i.selectable,E=i.components,T=i.getters,S=i.scrollRef,I=i.localizer,C=i.isOverflowing,P=i.components,V=P.timeGutterHeader,L=P.resourceHeader,W=L===void 0?xD:L,z=i.resizable,k={};C&&(k[u?"marginLeft":"marginRight"]="".concat(PE()-1,"px"));var R=l.groupEvents(p);return G.createElement("div",{style:k,ref:S,className:wt("rbc-time-header",C&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},V&&G.createElement(V,null)),l.map(function(x,N){var M=xa(x,2),q=M[0],D=M[1];return G.createElement("div",{className:"rbc-time-header-content",key:q||N},D&&G.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},G.createElement("div",{className:"rbc-header"},G.createElement(W,{index:N,label:v.resourceTitle(D),resource:D}))),G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),G.createElement(ic,{isAllDay:!0,rtl:u,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:R.get(q)||[],resourceId:D&&q,className:"rbc-allday-cell",selectable:y,selected:r.props.selected,components:E,accessors:v,getters:T,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])}(G.Component),bz=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t}return vn(e,n),zt(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components,v=m.header,y=v===void 0?QE:v,E=m.resourceHeader,T=E===void 0?xD:E,S=a.resources,I=a.accessors,C=a.events,P=a.rtl,V=a.selectable,L=a.components,W=a.getters,z=a.resizable,k=d(),R=S.groupEvents(C);return r.map(function(x,N){var M=l(x),q=u.format(x,"dayFormat"),D=p(x),ce=D.className,be=D.style,Ee=G.createElement(y,{date:x,label:q,localizer:u});return G.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},G.createElement("div",{style:be,className:wt("rbc-header",ce,u.isSameDate(x,k)&&"rbc-today")},M?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ne){return i.handleHeaderClick(x,M,ne)}},Ee):G.createElement("span",null,Ee))),G.createElement("div",{className:"rbc-row"},S.map(function(_e,ne){var de=xa(_e,2),ue=de[0],H=de[1];return G.createElement("div",{key:"resource_".concat(ue,"_").concat(ne),className:wt("rbc-header",ce,u.isSameDate(x,k)&&"rbc-today")},G.createElement(T,{index:ne,label:I.resourceTitle(H),resource:H}))})),G.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},S.map(function(_e,ne){var de=xa(_e,2),ue=de[0],H=de[1],Z=(R.get(ue)||[]).filter(function(fe){return u.isSameDate(fe.start,x)||u.isSameDate(fe.end,x)});return G.createElement(ic,{key:"resource_".concat(ue,"_").concat(ne),isAllDay:!0,rtl:P,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[x],events:Z,resourceId:H&&ue,className:"rbc-allday-cell",selectable:V,selected:i.props.selected,components:L,accessors:I,getters:W,localizer:u,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,a=r.rtl,u=r.range,l=r.scrollRef,d=r.isOverflowing,p=r.components.timeGutterHeader,m={};return d&&(m[a?"marginLeft":"marginRight"]="".concat(PE()-1,"px")),G.createElement("div",{style:m,ref:l,className:wt("rbc-time-header",d&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},p&&G.createElement(p,null)),this.renderHeaderCells(u))}}])}(G.Component);function Sz(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var Iz=function(e){var t=e.min,r=e.max,i=e.timeslots,a=e.step,u=e.localizer,l=e.getNow,d=e.resource,p=e.components,m=e.getters,v=e.gutterRef,y=p.timeGutterWrapper,E=$.useMemo(function(){return Sz({min:t,max:r,localizer:u})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),u]),T=E.start,S=E.end,I=$.useState(XE({min:T,max:S,timeslots:i,step:a,localizer:u})),C=xa(I,2),P=C[0],V=C[1];$.useEffect(function(){P&&V(P.update({min:T,max:S,timeslots:i,step:a,localizer:u}))},[T==null?void 0:T.toISOString(),S==null?void 0:S.toISOString(),i,a]);var L=$.useCallback(function(W,z){if(z)return null;var k=P.dateIsInGroup(l(),z);return G.createElement("span",{className:wt("rbc-label",k&&"rbc-now")},u.format(W,"timeGutterFormat"))},[P,u,l]);return G.createElement(y,{slotMetrics:P},G.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},P.groups.map(function(W,z){return G.createElement(RD,{key:z,group:W,resource:d,components:p,renderSlot:L,getters:m})})))},Rz=G.forwardRef(function(n,e){return G.createElement(Iz,Object.assign({gutterRef:e},n))}),T_={};function Az(n,e){return{map:function(r){return n?n.map(function(i,a){return r([e.resourceId(i),i],a)}):[r([T_,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(a){var u=e.resource(a)||T_;if(Array.isArray(u))u.forEach(function(d){var p=i.get(d)||[];p.push(a),i.set(d,p)});else{var l=i.get(u)||[];l.push(a),i.set(u,l)}}),i):(i.set(T_,r),i)}}}var vu=function(n){function e(t){var r;return $t(this,e),r=gn(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){ES(r.rafHandle),r.rafHandle=Ok(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onKeyPressEvent,a)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onDoubleClickEvent,a)},r.handleShowMore=function(i,a,u,l,d){var p=r.props,m=p.popup,v=p.onDrillDown,y=p.onShowMore,E=p.getDrilldownView,T=p.doShowMoreDrillDown;if(r.clearSelection(),m){var S=Dk(u,r.containerRef.current);r.setState({overlay:{date:a,events:i,position:et(et({},S),{},{width:"200px"}),target:d}})}else T&&at(v,[a,E(a)||Yt.DAY]);at(y,[i,a,l])},r.handleSelectAllDaySlot=function(i,a){var u=r.props.onSelectSlot,l=new Date(i[0]),d=new Date(i[i.length-1]);d.setDate(i[i.length-1].getDate()+1),at(u,{slots:i,start:l,end:d,action:a.action,resourceId:a.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==a&&(r._updatingOverflow=!0,r.setState({isOverflowing:a},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=Zk(function(i,a){return Az(i,a)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=G.createRef(),r.contentRef=G.createRef(),r.containerRef=G.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return vn(e,n),zt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),ES(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,a,u,l,d,p,m,v,y){var E=this.props,T=E.min,S=E.max,I=(u.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")}),C=(l.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")});return G.createElement(AD,Object.assign({},this.props,{localizer:d,min:d.merge(r,T),max:d.merge(r,S),resource:a&&i,components:m,isNow:d.isSameDate(r,y),key:"".concat(i,"-").concat(r),date:r,events:I,backgroundEvents:C,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(r,i,a,u,l,d,p,m,v){var y=this;return i.map(function(E){var T=xa(E,2),S=T[0],I=T[1];return r.map(function(C){return y.renderDayColumn(C,S,I,a,u,l,d,m,v,p)})})}},{key:"renderRangeFirst",value:function(r,i,a,u,l,d,p,m,v){var y=this;return r.map(function(E){return G.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},i.map(function(T){var S=xa(T,2),I=S[0],C=S[1];return G.createElement("div",{style:{flex:1},key:d.resourceId(C)},y.renderDayColumn(E,I,C,a,u,l,d,m,v,p))}))})}},{key:"renderEvents",value:function(r,i,a,u){var l=this.props,d=l.accessors,p=l.localizer,m=l.resourceGroupingLayout,v=l.components,y=l.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,d),T=E.groupEvents(i),S=E.groupEvents(a);return m?this.renderRangeFirst(r,E,T,S,p,d,u,v,y):this.renderResourcesFirst(r,E,T,S,p,d,u,v,y)}},{key:"render",value:function(){var r,i=this.props,a=i.events,u=i.backgroundEvents,l=i.range,d=i.width,p=i.rtl,m=i.selected,v=i.getNow,y=i.resources,E=i.components,T=i.accessors,S=i.getters,I=i.localizer,C=i.min,P=i.max,V=i.showMultiDayTimes,L=i.longPressThreshold,W=i.resizable,z=i.resourceGroupingLayout;d=d||this.state.gutterWidth;var k=l[0],R=l[l.length-1];this.slots=l.length;var x=[],N=[],M=[];a.forEach(function(D){if(rc(D,k,R,T,I)){var ce=T.start(D),be=T.end(D);T.allDay(D)||I.startAndEndAreDateOnly(ce,be)||!V&&!I.isSameDate(ce,be)?x.push(D):N.push(D)}}),u.forEach(function(D){rc(D,k,R,T,I)&&M.push(D)}),x.sort(function(D,ce){return uw(D,ce,T,I)});var q={range:l,events:x,width:d,rtl:p,getNow:v,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(y,T),selectable:this.props.selectable,accessors:T,getters:S,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:L,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:W};return G.createElement("div",{className:wt("rbc-time-view",y&&"rbc-time-view-resources"),ref:this.containerRef},y&&y.length>1&&z?G.createElement(bz,q):G.createElement(Tz,q),this.props.popup&&this.renderOverlay(),G.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},G.createElement(Rz,{date:k,ref:this.gutterRef,localizer:I,min:I.merge(k,C),max:I.merge(k,P),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:S}),this.renderEvents(l,N,M,v())))}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,y=l.selected,E=l.popupOffset,T=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(YE,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=r.gutterRef)!==null&&i!==void 0&&i.current?aw(r.gutterRef.current):void 0;a&&r.state.gutterWidth!==a&&r.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,a=r.max,u=r.scrollToTime,l=r.localizer,d=l.diff(l.merge(u,i),u,"milliseconds"),p=l.diff(i,a,"milliseconds");this._scrollRatio=d/p}}])}($.Component);vu.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var xz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Hh=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,T=li(r,xz),S=e.range(i,{localizer:a});return G.createElement(vu,Object.assign({},T,{range:S,eventOffset:10,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Hh.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};Hh.navigate=function(n,e,t){var r=t.localizer;switch(e){case jn.PREVIOUS:return r.add(n,-1,"day");case jn.NEXT:return r.add(n,1,"day");default:return n}};Hh.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var Cz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ms=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,T=li(r,Cz),S=e.range(i,this.props);return G.createElement(vu,Object.assign({},T,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Ms.defaultProps=vu.defaultProps;Ms.navigate=function(n,e,t){var r=t.localizer;switch(e){case jn.PREVIOUS:return r.add(n,-1,"week");case jn.NEXT:return r.add(n,1,"week");default:return n}};Ms.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),a=t.endOf(n,"week",r);return t.range(i,a)};Ms.title=function(n,e){var t=e.localizer,r=Ms.range(n,{localizer:t}),i=sD(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var Pz=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function JE(n,e){return Ms.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var Cc=function(n){function e(){return $t(this,e),gn(this,e,arguments)}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,T=li(r,Pz),S=JE(i,this.props);return G.createElement(vu,Object.assign({},T,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Cc.defaultProps=vu.defaultProps;Cc.range=JE;Cc.navigate=Ms.navigate;Cc.title=function(n,e){var t=e.localizer,r=JE(n,{localizer:t}),i=sD(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var Gh=30;function Kh(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,a=n.getters,u=n.length,l=u===void 0?Gh:u,d=n.localizer,p=n.onDoubleClickEvent,m=n.onSelectEvent,v=n.selected,y=$.useRef(null),E=$.useRef(null),T=$.useRef(null),S=$.useRef(null),I=$.useRef(null);$.useEffect(function(){V()});var C=function(R,x,N){var M=t.event,q=t.date;return x=x.filter(function(D){return rc(D,d.startOf(R,"day"),d.endOf(R,"day"),e,d)}),x.map(function(D,ce){var be=e.title(D),Ee=e.end(D),_e=e.start(D),ne=a.eventProp(D,_e,Ee,Bh(D,v)),de=ce===0&&d.format(R,"agendaDateFormat"),ue=ce===0?G.createElement("td",{rowSpan:x.length,className:"rbc-agenda-date-cell"},q?G.createElement(q,{day:R,label:de}):de):!1;return G.createElement("tr",{key:N+"_"+ce,className:ne.className,style:ne.style},ue,G.createElement("td",{className:"rbc-agenda-time-cell"},P(R,D)),G.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return m&&m(D,Z)},onDoubleClick:function(Z){return p&&p(D,Z)}},M?G.createElement(M,{event:D,title:be}):be))},[])},P=function(R,x){var N="",M=t.time,q=d.messages.allDay,D=e.end(x),ce=e.start(x);return e.allDay(x)||(d.eq(ce,D)?q=d.format(ce,"agendaTimeFormat"):d.isSameDate(ce,D)?q=d.format({start:ce,end:D},"agendaTimeRangeFormat"):d.isSameDate(R,ce)?q=d.format(ce,"agendaTimeFormat"):d.isSameDate(R,D)&&(q=d.format(D,"agendaTimeFormat"))),d.gt(R,ce,"day")&&(N="rbc-continues-prior"),d.lt(R,D,"day")&&(N+=" rbc-continues-after"),G.createElement("span",{className:N.trim()},M?G.createElement(M,{event:x,day:R,label:q}):q)},V=function(){if(I.current){var R=y.current,x=I.current.firstChild;if(x){var N=S.current.scrollHeight>S.current.clientHeight,M=[],q=M;M=[aw(x.children[0]),aw(x.children[1])],(q[0]!==M[0]||q[1]!==M[1])&&(E.current.style.width=M[0]+"px",T.current.style.width=M[1]+"px"),N?(DU(R,"rbc-header-overflowing"),R.style.marginRight=PE()+"px"):OU(R,"rbc-header-overflowing")}}},L=d.messages,W=d.add(r,l,"day"),z=d.range(r,W,"day");return i=i.filter(function(k){return rc(k,d.startOf(r,"day"),d.endOf(W,"day"),e,d)}),i.sort(function(k,R){return+e.start(k)-+e.start(R)}),G.createElement("div",{className:"rbc-agenda-view"},i.length!==0?G.createElement(G.Fragment,null,G.createElement("table",{ref:y,className:"rbc-agenda-table"},G.createElement("thead",null,G.createElement("tr",null,G.createElement("th",{className:"rbc-header",ref:E},L.date),G.createElement("th",{className:"rbc-header",ref:T},L.time),G.createElement("th",{className:"rbc-header"},L.event)))),G.createElement("div",{className:"rbc-agenda-content",ref:S},G.createElement("table",{className:"rbc-agenda-table"},G.createElement("tbody",{ref:I},z.map(function(k,R){return C(k,i,R)}))))):G.createElement("span",{className:"rbc-agenda-empty"},L.noEventsInRange))}Kh.range=function(n,e){var t=e.length,r=t===void 0?Gh:t,i=e.localizer,a=i.add(n,r,"day");return{start:n,end:a}};Kh.navigate=function(n,e,t){var r=t.length,i=r===void 0?Gh:r,a=t.localizer;switch(e){case jn.PREVIOUS:return a.add(n,-i,"day");case jn.NEXT:return a.add(n,i,"day");default:return n}};Kh.title=function(n,e){var t=e.length,r=t===void 0?Gh:t,i=e.localizer,a=i.add(n,r,"day");return i.format({start:n,end:a},"agendaHeaderFormat")};var Rf=va(va(va(va(va({},Yt.MONTH,Wh),Yt.WEEK,Ms),Yt.WORK_WEEK,Cc),Yt.DAY,Hh),Yt.AGENDA,Kh),kz=["action","date","today"];function Dz(n,e){var t=e.action,r=e.date,i=e.today,a=li(e,kz);switch(n=typeof n=="string"?Rf[n]:n,t){case jn.TODAY:r=i||new Date;break;case jn.DATE:break;default:Wl(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,a)}return r}function Oz(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&Ui(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var xi=function(e){return function(t){return Oz(t,e)}},Nz=["view","date","getNow","onNavigate"],Mz=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function CD(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=xa(r[t],2),a=i[0],u=i[1];u&&e.push(a)}return e}function Lz(n,e){var t=e.views,r=CD(t);return r.indexOf(n)!==-1}var PD=function(n){function e(){var t;$t(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getViews=function(){var u=t.props.views;return Array.isArray(u)?a5(u,function(l,d){return l[d]=Rf[d]},{}):Ui(u)==="object"?C$(u,function(l,d){return l===!0?Rf[d]:l}):Rf},t.getView=function(){var u=t.getViews();return u[t.props.view]},t.getDrilldownView=function(u){var l=t.props,d=l.view,p=l.drilldownView,m=l.getDrilldownView;return m?m(u,d,Object.keys(t.getViews())):p},t.handleRangeChange=function(u,l,d){var p=t.props,m=p.onRangeChange,v=p.localizer;m&&l.range&&m(l.range(u,{localizer:v}),d)},t.handleNavigate=function(u,l){var d=t.props,p=d.view,m=d.date,v=d.getNow,y=d.onNavigate,E=li(d,Nz),T=t.getView(),S=v();m=Dz(T,et(et({},E),{},{action:u,date:l||m||S,today:S})),y(m,p,u),t.handleRangeChange(m,T)},t.handleViewChange=function(u){u!==t.props.view&&Lz(u,t.props)&&t.props.onView(u);var l=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),l[u],u)},t.handleSelectEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleSelectSlot=function(u){at(t.props.onSelectSlot,u)},t.handleDrillDown=function(u,l){var d=t.props.onDrillDown;if(d){d(u,l,t.drilldownView);return}l&&t.handleViewChange(l),t.handleNavigate(jn.DATE,u)},t.state={context:e.getContext(t.props)},t}return vn(e,n),zt(e,[{key:"render",value:function(){var r=this.props,i=r.view,a=r.toolbar,u=r.events,l=r.backgroundEvents,d=r.resourceGroupingLayout,p=r.style,m=r.className,v=r.elementProps,y=r.date,E=r.getNow,T=r.length,S=r.showMultiDayTimes,I=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var P=li(r,Mz);y=y||E();var V=this.getView(),L=this.state.context,W=L.accessors,z=L.components,k=L.getters,R=L.localizer,x=L.viewNames,N=z.toolbar||j5,M=V.title(y,{localizer:R,length:T});return G.createElement("div",Object.assign({},v,{className:wt(m,"rbc-calendar",P.rtl&&"rbc-rtl"),style:p}),a&&G.createElement(N,{date:y,view:i,views:x,label:M,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),G.createElement(V,Object.assign({},P,{events:u,backgroundEvents:l,date:y,getNow:E,length:T,localizer:R,getters:k,components:z,accessors:W,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:I,doShowMoreDrillDown:C,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,a=r.endAccessor,u=r.allDayAccessor,l=r.tooltipAccessor,d=r.titleAccessor,p=r.resourceAccessor,m=r.resourceIdAccessor,v=r.resourceTitleAccessor,y=r.eventIdAccessor,E=r.eventPropGetter,T=r.backgroundEventPropGetter,S=r.slotPropGetter,I=r.slotGroupPropGetter,C=r.dayPropGetter,P=r.view,V=r.views,L=r.localizer,W=r.culture,z=r.messages,k=z===void 0?{}:z,R=r.components,x=R===void 0?{}:R,N=r.formats,M=N===void 0?{}:N,q=CD(V),D=U5(k);return{viewNames:q,localizer:F5(L,W,M,D),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return T&&T.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return I&&I.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:R$(x[P]||{},r5(x,q),{eventWrapper:Pi,backgroundEventWrapper:Pi,eventContainerWrapper:Pi,dateCellWrapper:Pi,weekWrapper:Pi,timeSlotWrapper:Pi,timeGutterWrapper:Pi}),accessors:{start:xi(i),end:xi(a),allDay:xi(u),tooltip:xi(l),title:xi(d),resource:xi(p),resourceId:xi(m),resourceTitle:xi(v),eventId:xi(y)}}}}])}(G.Component);PD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Yt.MONTH,views:[Yt.MONTH,Yt.WEEK,Yt.DAY,Yt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Yt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Vz=gk(PD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Fz=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"P",t),"  ").concat(r.format(a,"P",t))},b_=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"p",t),"  ").concat(r.format(a,"p",t))},jz=function(e,t,r){var i=e.start;return"".concat(r.format(i,"h:mma",t),"  ")},qz=function(e,t,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",t))},Uz=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"MMMM dd",t),"  ").concat(r.format(a,fu(i,a,"month")?"dd":"MMMM dd",t))},$z={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:b_,eventTimeRangeFormat:b_,eventTimeRangeStartFormat:jz,eventTimeRangeEndFormat:qz,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Uz,agendaHeaderFormat:Fz,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:b_},zz=function(e){var t=e.startOfWeek,r=e.getDay,i=e.format,a=e.locales;return new V5({formats:$z,firstOfWeek:function(l){return r(t(new Date,{locale:a[l]}))},format:function(l,d,p){return i(new Date(l),d,{locale:a[p]})}})};const kD=6048e5,Bz=864e5,Wz=6e4,Hz=36e5,Gz=1e3,lx=Symbol.for("constructDateFrom");function Qt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&lx in n?n[lx](e):n instanceof Date?new n.constructor(e):new Date(e)}function At(n,e){return Qt(e||n,n)}function DD(n,e,t){const r=At(n,t==null?void 0:t.in);return isNaN(e)?Qt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}let Kz={};function yu(){return Kz}function zi(n,e){var l,d,p,m;const t=yu(),r=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=At(n,e==null?void 0:e.in),a=i.getDay(),u=(a<r?7:0)+a-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function nu(n,e){return zi(n,{...e,weekStartsOn:1})}function OD(n,e){const t=At(n,e==null?void 0:e.in),r=t.getFullYear(),i=Qt(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=nu(i),u=Qt(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const l=nu(u);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function th(n){const e=At(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Yz(n,...e){const t=Qt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function cx(n,e){const t=At(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Qz(n,e,t){const[r,i]=Yz(t==null?void 0:t.in,n,e),a=cx(r),u=cx(i),l=+a-th(a),d=+u-th(u);return Math.round((l-d)/Bz)}function Xz(n,e){const t=OD(n,e),r=Qt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),nu(r)}function Jz(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Zz(n){return!(!Jz(n)&&typeof n!="number"||isNaN(+At(n)))}function eB(n,e){const t=At(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const tB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ND=(n,e,t)=>{let r;const i=tB[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function qo(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const nB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sB={date:qo({formats:nB,defaultWidth:"full"}),time:qo({formats:rB,defaultWidth:"full"}),dateTime:qo({formats:iB,defaultWidth:"full"})},aB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},MD=(n,e,t,r)=>aB[n];function dl(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):u;i=n.formattingValues[l]||n.formattingValues[u]}else{const u=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[u]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const oB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hB=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},LD={ordinalNumber:hB,era:dl({values:oB,defaultWidth:"wide"}),quarter:dl({values:uB,defaultWidth:"wide",argumentCallback:n=>n-1}),month:dl({values:lB,defaultWidth:"wide"}),day:dl({values:cB,defaultWidth:"wide"}),dayPeriod:dl({values:dB,defaultWidth:"wide",formattingValues:fB,defaultFormattingWidth:"wide"})};function fl(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const u=a[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(l)?mB(l,v=>v.test(u)):pB(l,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function pB(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function mB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function gB(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let u=n.valueCallback?n.valueCallback(a[0]):a[0];u=t.valueCallback?t.valueCallback(u):u;const l=e.slice(i.length);return{value:u,rest:l}}}const vB=/^(\d+)(th|st|nd|rd)?/i,yB=/\d+/i,_B={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wB={any:[/^b/i,/^(a|c)/i]},EB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TB={any:[/1/i,/2/i,/3/i,/4/i]},bB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VD={ordinalNumber:gB({matchPattern:vB,parsePattern:yB,valueCallback:n=>parseInt(n,10)}),era:fl({matchPatterns:_B,defaultMatchWidth:"wide",parsePatterns:wB,defaultParseWidth:"any"}),quarter:fl({matchPatterns:EB,defaultMatchWidth:"wide",parsePatterns:TB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:fl({matchPatterns:bB,defaultMatchWidth:"wide",parsePatterns:SB,defaultParseWidth:"any"}),day:fl({matchPatterns:IB,defaultMatchWidth:"wide",parsePatterns:RB,defaultParseWidth:"any"}),dayPeriod:fl({matchPatterns:AB,defaultMatchWidth:"any",parsePatterns:xB,defaultParseWidth:"any"})},FD={code:"en-US",formatDistance:ND,formatLong:sB,formatRelative:MD,localize:LD,match:VD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CB(n,e){const t=At(n,e==null?void 0:e.in);return Qz(t,eB(t))+1}function jD(n,e){const t=At(n,e==null?void 0:e.in),r=+nu(t)-+Xz(t);return Math.round(r/kD)+1}function ZE(n,e){var m,v,y,E;const t=At(n,e==null?void 0:e.in),r=t.getFullYear(),i=yu(),a=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,u=Qt((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const l=zi(u,e),d=Qt((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const p=zi(d,e);return+t>=+l?r+1:+t>=+p?r:r-1}function PB(n,e){var l,d,p,m;const t=yu(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=ZE(n,e),a=Qt((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),zi(a,e)}function qD(n,e){const t=At(n,e==null?void 0:e.in),r=+zi(t,e)-+PB(t,e);return Math.round(r/kD)+1}function Je(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const vs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Je(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Je(t+1,2)},d(n,e){return Je(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Je(n.getHours()%12||12,e.length)},H(n,e){return Je(n.getHours(),e.length)},m(n,e){return Je(n.getMinutes(),e.length)},s(n,e){return Je(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Je(i,e.length)}},Po={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dx={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return vs.y(n,e)},Y:function(n,e,t,r){const i=ZE(n,r),a=i>0?i:1-i;if(e==="YY"){const u=a%100;return Je(u,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Je(a,e.length)},R:function(n,e){const t=OD(n);return Je(t,e.length)},u:function(n,e){const t=n.getFullYear();return Je(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return vs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=qD(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(n,e,t){const r=jD(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):vs.d(n,e)},D:function(n,e,t){const r=CB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Je(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Je(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Po.noon:r===0?i=Po.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Po.evening:r>=12?i=Po.afternoon:r>=4?i=Po.morning:i=Po.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return vs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):vs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):vs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):vs.s(n,e)},S:function(n,e){return vs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hx(r);case"XXXX":case"XX":return ga(r);case"XXXXX":case"XXX":default:return ga(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return hx(r);case"xxxx":case"xx":return ga(r);case"xxxxx":case"xxx":default:return ga(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fx(r,":");case"OOOO":default:return"GMT"+ga(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fx(r,":");case"zzzz":default:return"GMT"+ga(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Je(r,e.length)},T:function(n,e,t){return Je(+n,e.length)}};function fx(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Je(a,2)}function hx(n,e){return n%60===0?(n>0?"-":"+")+Je(Math.abs(n)/60,2):ga(n,e)}function ga(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Je(Math.trunc(r/60),2),a=Je(r%60,2);return t+i+e+a}const px=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},UD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return px(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",px(r,e)).replace("{{time}}",UD(i,e))},lw={p:UD,P:kB},DB=/^D+$/,OB=/^Y+$/,NB=["D","DD","YY","YYYY"];function $D(n){return DB.test(n)}function zD(n){return OB.test(n)}function cw(n,e,t){const r=MB(n,e,t);if(console.warn(r),NB.includes(n))throw new RangeError(r)}function MB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FB=/^'([^]*?)'?$/,jB=/''/g,qB=/[a-zA-Z]/;function UB(n,e,t){var m,v,y,E,T,S,I,C;const r=yu(),i=(t==null?void 0:t.locale)??r.locale??FD,a=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((S=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((C=(I=r.locale)==null?void 0:I.options)==null?void 0:C.weekStartsOn)??0,l=At(n,t==null?void 0:t.in);if(!Zz(l))throw new RangeError("Invalid time value");let d=e.match(VB).map(P=>{const V=P[0];if(V==="p"||V==="P"){const L=lw[V];return L(P,i.formatLong)}return P}).join("").match(LB).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const V=P[0];if(V==="'")return{isToken:!1,value:$B(P)};if(dx[V])return{isToken:!0,value:P};if(V.match(qB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const V=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&zD(V)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$D(V))&&cw(V,e,String(n));const L=dx[V[0]];return L(l,V,i.localize,p)}).join("")}function $B(n){const e=n.match(FB);return e?e[1].replace(jB,"'"):n}function zB(n,e){return At(n,e==null?void 0:e.in).getDay()}function BB(){return Object.assign({},yu())}function WB(n,e){const t=At(n,e==null?void 0:e.in).getDay();return t===0?7:t}function HB(n,e){const t=GB(e)?new e(0):Qt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function GB(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const KB=10;class BD{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class YB extends BD{constructor(e,t,r,i,a){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class QB extends BD{constructor(t,r){super();pe(this,"priority",KB);pe(this,"subPriority",-1);this.context=t||(i=>Qt(r,i))}set(t,r){return r.timestampIsSet?t:Qt(t,HB(t,this.context))}}class Ye{run(e,t,r,i){const a=this.parse(e,t,r,i);return a?{setter:new YB(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,r){return!0}}class XB extends Ye{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(n,e){return n&&{value:e(n.value),rest:n.rest}}function mt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ei(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:r*(i*Hz+a*Wz+u*Gz),rest:e.slice(t[0].length)}}function WD(n){return mt(It.anyDigitsSigned,n)}function Et(n,e){switch(n){case 1:return mt(It.singleDigit,e);case 2:return mt(It.twoDigits,e);case 3:return mt(It.threeDigits,e);case 4:return mt(It.fourDigits,e);default:return mt(new RegExp("^\\d{1,"+n+"}"),e)}}function nh(n,e){switch(n){case 1:return mt(It.singleDigitSigned,e);case 2:return mt(It.twoDigitsSigned,e);case 3:return mt(It.threeDigitsSigned,e);case 4:return mt(It.fourDigitsSigned,e);default:return mt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function e0(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function HD(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const a=r+50,u=Math.trunc(a/100)*100,l=n>=a%100;i=n+u-(l?100:0)}return t?i:1-i}function GD(n){return n%400===0||n%4===0&&n%100!==0}class JB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Rt(Et(4,t),a);case"yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=HD(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const u=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class ZB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Rt(Et(4,t),a);case"Yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const u=ZE(t,a);if(i.isTwoDigitYear){const d=HD(i.year,u);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),zi(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),zi(t,a)}}class eW extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return nh(r==="R"?4:r.length,t)}set(t,r,i){const a=Qt(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),nu(a)}}class tW extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return nh(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class nW extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Et(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class rW extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Et(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class iW extends Ye{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,r,i){const a=u=>u-1;switch(r){case"M":return Rt(mt(It.month,t),a);case"MM":return Rt(Et(2,t),a);case"Mo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class sW extends Ye{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=u=>u-1;switch(r){case"L":return Rt(mt(It.month,t),a);case"LL":return Rt(Et(2,t),a);case"Lo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function aW(n,e,t){const r=At(n,t==null?void 0:t.in),i=qD(r,t)-e;return r.setDate(r.getDate()-i*7),At(r,t==null?void 0:t.in)}class oW extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return mt(It.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return zi(aW(t,i,a),a)}}function uW(n,e,t){const r=At(n,t==null?void 0:t.in),i=jD(r,t)-e;return r.setDate(r.getDate()-i*7),r}class lW extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return mt(It.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return nu(uW(t,i))}}const cW=[31,28,31,30,31,30,31,31,30,31,30,31],dW=[31,29,31,30,31,30,31,31,30,31,30,31];class fW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return mt(It.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=GD(i),u=t.getMonth();return a?r>=1&&r<=dW[u]:r>=1&&r<=cW[u]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class hW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return mt(It.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear();return GD(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function t0(n,e,t){var v,y,E,T;const r=yu(),i=(t==null?void 0:t.weekStartsOn)??((y=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((T=(E=r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??0,a=At(n,t==null?void 0:t.in),u=a.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(u+p)%7:(d+p)%7-(u+p)%7;return DD(a,m,t)}class pW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=t0(t,i,a),t.setHours(0,0,0,0),t}}class mW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return Rt(Et(r.length,t),u);case"eo":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=t0(t,i,a),t.setHours(0,0,0,0),t}}class gW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return Rt(Et(r.length,t),u);case"co":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=t0(t,i,a),t.setHours(0,0,0,0),t}}function vW(n,e,t){const r=At(n,t==null?void 0:t.in),i=WB(r,t),a=e-i;return DD(r,a,t)}class yW extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=u=>u===0?7:u;switch(r){case"i":case"ii":return Et(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Rt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Rt(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Rt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Rt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=vW(t,i),t.setHours(0,0,0,0),t}}class _W extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(e0(i),0,0,0),t}}class wW extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(e0(i),0,0,0),t}}class EW extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(e0(i),0,0,0),t}}class TW extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return mt(It.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class bW extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return mt(It.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class SW extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return mt(It.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class IW extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return mt(It.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class RW extends Ye{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return mt(It.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class AW extends Ye{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return mt(It.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class xW extends Ye{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Rt(Et(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class CW extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ei(Zr.basicOptionalMinutes,t);case"XX":return ei(Zr.basic,t);case"XXXX":return ei(Zr.basicOptionalSeconds,t);case"XXXXX":return ei(Zr.extendedOptionalSeconds,t);case"XXX":default:return ei(Zr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-th(t)-i)}}class PW extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ei(Zr.basicOptionalMinutes,t);case"xx":return ei(Zr.basic,t);case"xxxx":return ei(Zr.basicOptionalSeconds,t);case"xxxxx":return ei(Zr.extendedOptionalSeconds,t);case"xxx":default:return ei(Zr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-th(t)-i)}}class kW extends Ye{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return WD(t)}set(t,r,i){return[Qt(t,i*1e3),{timestampIsSet:!0}]}}class DW extends Ye{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return WD(t)}set(t,r,i){return[Qt(t,i),{timestampIsSet:!0}]}}const OW={G:new XB,y:new JB,Y:new ZB,R:new eW,u:new tW,Q:new nW,q:new rW,M:new iW,L:new sW,w:new oW,I:new lW,d:new fW,D:new hW,E:new pW,e:new mW,c:new gW,i:new yW,a:new _W,b:new wW,B:new EW,h:new TW,H:new bW,K:new SW,k:new IW,m:new RW,s:new AW,S:new xW,X:new CW,x:new PW,t:new kW,T:new DW},NW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LW=/^'([^]*?)'?$/,VW=/''/g,FW=/\S/,jW=/[a-zA-Z]/;function qW(n,e,t,r){var I,C,P,V,L,W,z,k;const i=()=>Qt((r==null?void 0:r.in)||t,NaN),a=BB(),u=(r==null?void 0:r.locale)??a.locale??FD,l=(r==null?void 0:r.firstWeekContainsDate)??((C=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:C.firstWeekContainsDate)??a.firstWeekContainsDate??((V=(P=a.locale)==null?void 0:P.options)==null?void 0:V.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((W=(L=r==null?void 0:r.locale)==null?void 0:L.options)==null?void 0:W.weekStartsOn)??a.weekStartsOn??((k=(z=a.locale)==null?void 0:z.options)==null?void 0:k.weekStartsOn)??0;if(!e)return n?i():At(t,r==null?void 0:r.in);const p={firstWeekContainsDate:l,weekStartsOn:d,locale:u},m=[new QB(r==null?void 0:r.in,t)],v=e.match(MW).map(R=>{const x=R[0];if(x in lw){const N=lw[x];return N(R,u.formatLong)}return R}).join("").match(NW),y=[];for(let R of v){!(r!=null&&r.useAdditionalWeekYearTokens)&&zD(R)&&cw(R,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$D(R)&&cw(R,e,n);const x=R[0],N=OW[x];if(N){const{incompatibleTokens:M}=N;if(Array.isArray(M)){const D=y.find(ce=>M.includes(ce.token)||ce.token===x);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${R}\` at the same time`)}else if(N.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);y.push({token:x,fullToken:R});const q=N.run(n,R,u.match,p);if(!q)return i();m.push(q.setter),n=q.rest}else{if(x.match(jW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if(R==="''"?R="'":x==="'"&&(R=UW(R)),n.indexOf(R)===0)n=n.slice(R.length);else return i()}}if(n.length>0&&FW.test(n))return i();const E=m.map(R=>R.priority).sort((R,x)=>x-R).filter((R,x,N)=>N.indexOf(R)===x).map(R=>m.filter(x=>x.priority===R).sort((x,N)=>N.subPriority-x.subPriority)).map(R=>R[0]);let T=At(t,r==null?void 0:r.in);if(isNaN(+T))return i();const S={};for(const R of E){if(!R.validate(T,p))return i();const x=R.set(T,S,p);Array.isArray(x)?(T=x[0],Object.assign(S,x[1])):T=x}return T}function UW(n){return n.match(LW)[1].replace(VW,"'")}const $W={full:"EEEE, dd MMMM yyyy",long:"dd MMMM yyyy",medium:"dd MMM yyyy",short:"yyyy/MM/dd"},zW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},BW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WW={date:qo({formats:$W,defaultWidth:"full"}),time:qo({formats:zW,defaultWidth:"full"}),dateTime:qo({formats:BW,defaultWidth:"full"})},HW={code:"en-ZA",formatDistance:ND,formatLong:WW,formatRelative:MD,localize:LD,match:VD,options:{weekStartsOn:0,firstWeekContainsDate:1}},GW={"en-ZA":HW},KW=zz({format:UB,parse:qW,startOfWeek:zi,getDay:zB,locales:GW}),YW=()=>{const[n,e]=$.useState([{title:"Math Class",start:new Date,end:new Date(new Date().getTime()+36e5)}]),[t,r]=$.useState(Yt.WEEK);return $.useEffect(()=>{const i=()=>{window.innerWidth<768?r(Yt.DAY):r(Yt.WEEK)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),F.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8 px-4 sm:px-6 ",children:F.jsx("div",{className:"shadow-lg rounded-xl p-4 sm:p-8 max-w-full mx-auto lg:ml-16 ml-0",children:F.jsx(Vz,{localizer:KW,events:Array.isArray(n)?n.filter(i=>(i==null?void 0:i.title)&&(i==null?void 0:i.start)&&(i==null?void 0:i.end)):[],startAccessor:"start",endAccessor:"end",views:{day:!0,week:!0},defaultView:t,style:{height:"80vh",width:"100%"},showMultiDayTimes:!0})})})},QW=()=>{const n=Va(),e=async()=>{try{await dV(ti),alert("You have been successfully signed out!"),n("/")}catch(t){console.error("Logout Failed:",t.message)}};return F.jsxs("div",{className:"px-4 sm:px-6 py-6 md:ml-16 max-w-2xl mx-auto space-y-6",children:[F.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),F.jsx("div",{className:"border-t pt-6",children:F.jsx("button",{onClick:e,className:"bg-red text-white py-2 px-4 rounded hover:bg-red-700 transition",children:"Log Out"})})]})};function XW(n){return yc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function JW(n){return yc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(n)}function ZW(n){return yc({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(n)}function eH(n){return yc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"},child:[]}]})(n)}const S_=()=>{const[n,e]=$.useState(!1),t=di();Va(),$.useEffect(()=>{e(!1)},[t]),$.useEffect(()=>{const a=u=>{u.key==="Escape"&&e(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const r=()=>{e(!n)},i=[{path:"#home",icon:F.jsx(XW,{className:"h-6 w-6"}),label:"Home"},{path:"#students",icon:F.jsx(JW,{className:"h-6 w-6"}),label:"Students"},{path:"#attendance",icon:F.jsx(ZW,{className:"h-6 w-6"}),label:"Attendance"},{path:"#schedule",icon:F.jsx(eH,{className:"h-6 w-6"}),label:"Schedule"}];return F.jsxs("div",{className:"relative",children:[F.jsxs("nav",{className:`fixed top-0 left-0 h-full bg-black text-white hidden md:flex flex-col ${n?"md:w-64":"md:w-16"} transition-all duration-300 ease-in-out z-40 shadow-lg`,"aria-expanded":n,role:"navigation",children:[F.jsxs("div",{className:"relative h-16 flex items-center border-b border-white/10",children:[F.jsx("button",{onClick:r,className:`p-2 text-white hover:bg-white/10 focus:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 rounded-md transition-all duration-300 ${n?"ml-52":"ml-3"}`,"aria-label":n?"Close navigation":"Open navigation",children:n?F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),n&&F.jsx("h1",{className:"text-xl font-semibold absolute left-4",children:"Attendio"})]}),F.jsx("div",{className:"flex flex-col space-y-2 mt-6 px-3",children:i.map(a=>{const u=t.pathname===a.path;return F.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex items-center px-3 py-3 rounded-md transition-all duration-200 ${n?"":"justify-center"} ${u?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"}`,"aria-current":u?"page":void 0,children:[F.jsx("span",{className:"flex items-center justify-center w-6",children:a.icon}),n&&F.jsx("span",{className:"ml-4 font-medium",children:a.label})]},a.path)})}),n&&F.jsx("div",{className:"mt-auto p-4 border-t border-white/10",children:F.jsx("div",{className:"text-sm text-white/60",children:" 2025 Fretnot Music School"})})]}),F.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black text-white z-40 shadow-lg mt-16",children:F.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(a=>{const u=t.pathname===a.path;return F.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex flex-col items-center justify-center w-full h-full ${u?"bg-white/20 text-white":"text-white/80 hover:text-white active:bg-white/10"}`,"aria-current":u?"page":void 0,children:[F.jsx("span",{className:"flex items-center justify-center",children:a.icon}),F.jsx("span",{className:"text-xs mt-1",children:a.label})]},a.path)})})}),n&&F.jsx("div",{onClick:r,className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur-sm transition-all duration-300 z-30 hidden md:block","aria-hidden":"true"})]})},hl=({children:n})=>{const e=di(),[t,r]=$.useState(localStorage.getItem("isAuthenticated")==="true"),[i,a]=$.useState(!0);return $.useEffect(()=>{const u=ti.onAuthStateChanged(d=>{d?(r(!0),localStorage.setItem("isAuthenticated","true")):(r(!1),localStorage.removeItem("isAuthenticated")),a(!1)});return localStorage.getItem("isAuthenticated")==="true"&&r(!0),()=>u()},[]),i?localStorage.getItem("isAuthenticated")==="true"?F.jsxs("div",{children:[F.jsx(S_,{}),F.jsx("main",{children:n})]}):F.jsxs("div",{children:[F.jsx(S_,{}),"Loading..."]}):t?F.jsxs("div",{children:[F.jsx(S_,{}),F.jsx("main",{children:n})]}):F.jsx(pl,{to:"/login",state:{from:e},replace:!0})},tH="/attendio/assets/Calendar-bro-ByK5CIeR.svg",nH=()=>{const n=Va();return F.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-200 flex flex-col justify-between",children:[F.jsxs("section",{className:"px-6 py-20 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[F.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-center md:text-left",children:[F.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:"Attendance, Simplified."}),F.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"A clean, intuitive way to track and manage student presence."}),F.jsx("button",{onClick:()=>n("/login"),className:"mt-8 px-6 py-3 bg-black text-white text-lg rounded-lg hover:bg-blue-700 transition",children:"Get Started / Login"})]}),F.jsx("div",{className:"w-full flex justify-center",children:F.jsx("img",{src:tH,alt:"Calendar illustration",className:"w-full max-w-md"})})]}),F.jsx("footer",{className:"bg-black text-white text-center py-4 text-sm",children:" 2025 Attendio by Waldo Oosthuizen"})]})},rH=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState(!1),[i,a]=$.useState(!1);return $.useEffect(()=>{const u=Vl(ti,l=>{a(!!l),r(!0)});return()=>u()},[]),t?F.jsx(_N,{children:F.jsxs(Y2,{children:[F.jsx(Ci,{path:"/",element:i?F.jsx(pl,{to:"/home"}):F.jsx(nH,{})}),F.jsx(Ci,{path:"/login",element:i?F.jsx(pl,{to:"/home"}):n?F.jsx(n6,{setShowSignUp:e}):F.jsx(r6,{setShowSignUp:e})}),F.jsx(Ci,{path:"/home",element:F.jsx(hl,{children:F.jsx(a6,{})})}),F.jsx(Ci,{path:"/students",element:F.jsx(hl,{children:F.jsx(l6,{})})}),F.jsx(Ci,{path:"/attendance",element:F.jsx(hl,{children:F.jsx(c6,{})})}),F.jsx(Ci,{path:"/schedule",element:F.jsx(hl,{children:F.jsx(YW,{})})}),F.jsx(Ci,{path:"/settings",element:F.jsx(hl,{children:F.jsx(QW,{})})}),F.jsx(Ci,{path:"*",element:i?F.jsx(pl,{to:"/home"}):F.jsx(pl,{to:"/login"})})]})}):null};s2.createRoot(document.getElementById("root")).render(F.jsx($.StrictMode,{children:F.jsx(rH,{})}));
