var RO=Object.defineProperty;var xO=(n,e,t)=>e in n?RO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>xO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gm={exports:{}},nl={},vm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function CO(){if(KT)return Fe;KT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function I(W,Z,fe){this.props=W,this.context=Z,this.refs=S,this.updater=fe||E}I.prototype.isReactComponent={},I.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=I.prototype;function P(W,Z,fe){this.props=W,this.context=Z,this.refs=S,this.updater=fe||E}var F=P.prototype=new A;F.constructor=P,b(F,I.prototype),F.isPureReactComponent=!0;var V=Array.isArray,H=Object.prototype.hasOwnProperty,z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(W,Z,fe){var Ce,xe={},Ne=null,Le=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(Le=Z.ref),Z.key!==void 0&&(Ne=""+Z.key),Z)H.call(Z,Ce)&&!k.hasOwnProperty(Ce)&&(xe[Ce]=Z[Ce]);var Me=arguments.length-2;if(Me===1)xe.children=fe;else if(1<Me){for(var Ge=Array(Me),vt=0;vt<Me;vt++)Ge[vt]=arguments[vt+2];xe.children=Ge}if(W&&W.defaultProps)for(Ce in Me=W.defaultProps,Me)xe[Ce]===void 0&&(xe[Ce]=Me[Ce]);return{$$typeof:n,type:W,key:Ne,ref:Le,props:xe,_owner:z.current}}function C(W,Z){return{$$typeof:n,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function N(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(fe){return Z[fe]})}var U=/\/+/g;function D(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):Z.toString(36)}function ce(W,Z,fe,Ce,xe){var Ne=typeof W;(Ne==="undefined"||Ne==="boolean")&&(W=null);var Le=!1;if(W===null)Le=!0;else switch(Ne){case"string":case"number":Le=!0;break;case"object":switch(W.$$typeof){case n:case e:Le=!0}}if(Le)return Le=W,xe=xe(Le),W=Ce===""?"."+D(Le,0):Ce,V(xe)?(fe="",W!=null&&(fe=W.replace(U,"$&/")+"/"),ce(xe,Z,fe,"",function(vt){return vt})):xe!=null&&(N(xe)&&(xe=C(xe,fe+(!xe.key||Le&&Le.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+W)),Z.push(xe)),1;if(Le=0,Ce=Ce===""?".":Ce+":",V(W))for(var Me=0;Me<W.length;Me++){Ne=W[Me];var Ge=Ce+D(Ne,Me);Le+=ce(Ne,Z,fe,Ge,xe)}else if(Ge=_(W),typeof Ge=="function")for(W=Ge.call(W),Me=0;!(Ne=W.next()).done;)Ne=Ne.value,Ge=Ce+D(Ne,Me++),Le+=ce(Ne,Z,fe,Ge,xe);else if(Ne==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Le}function Te(W,Z,fe){if(W==null)return W;var Ce=[],xe=0;return ce(W,Ce,"","",function(Ne){return Z.call(fe,Ne,xe++)}),Ce}function we(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=fe)},function(fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=fe)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var ye={current:null},te={transition:null},de={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:te,ReactCurrentOwner:z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Te,forEach:function(W,Z,fe){Te(W,function(){Z.apply(this,arguments)},fe)},count:function(W){var Z=0;return Te(W,function(){Z++}),Z},toArray:function(W){return Te(W,function(Z){return Z})||[]},only:function(W){if(!N(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Fe.Component=I,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=P,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=ue,Fe.cloneElement=function(W,Z,fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ce=b({},W.props),xe=W.key,Ne=W.ref,Le=W._owner;if(Z!=null){if(Z.ref!==void 0&&(Ne=Z.ref,Le=z.current),Z.key!==void 0&&(xe=""+Z.key),W.type&&W.type.defaultProps)var Me=W.type.defaultProps;for(Ge in Z)H.call(Z,Ge)&&!k.hasOwnProperty(Ge)&&(Ce[Ge]=Z[Ge]===void 0&&Me!==void 0?Me[Ge]:Z[Ge])}var Ge=arguments.length-2;if(Ge===1)Ce.children=fe;else if(1<Ge){Me=Array(Ge);for(var vt=0;vt<Ge;vt++)Me[vt]=arguments[vt+2];Ce.children=Me}return{$$typeof:n,type:W.type,key:xe,ref:Ne,props:Ce,_owner:Le}},Fe.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Fe.createElement=R,Fe.createFactory=function(W){var Z=R.bind(null,W);return Z.type=W,Z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(W){return{$$typeof:l,render:W}},Fe.isValidElement=N,Fe.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:we}},Fe.memo=function(W,Z){return{$$typeof:p,type:W,compare:Z===void 0?null:Z}},Fe.startTransition=function(W){var Z=te.transition;te.transition={};try{W()}finally{te.transition=Z}},Fe.unstable_act=ue,Fe.useCallback=function(W,Z){return ye.current.useCallback(W,Z)},Fe.useContext=function(W){return ye.current.useContext(W)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(W){return ye.current.useDeferredValue(W)},Fe.useEffect=function(W,Z){return ye.current.useEffect(W,Z)},Fe.useId=function(){return ye.current.useId()},Fe.useImperativeHandle=function(W,Z,fe){return ye.current.useImperativeHandle(W,Z,fe)},Fe.useInsertionEffect=function(W,Z){return ye.current.useInsertionEffect(W,Z)},Fe.useLayoutEffect=function(W,Z){return ye.current.useLayoutEffect(W,Z)},Fe.useMemo=function(W,Z){return ye.current.useMemo(W,Z)},Fe.useReducer=function(W,Z,fe){return ye.current.useReducer(W,Z,fe)},Fe.useRef=function(W){return ye.current.useRef(W)},Fe.useState=function(W){return ye.current.useState(W)},Fe.useSyncExternalStore=function(W,Z,fe){return ye.current.useSyncExternalStore(W,Z,fe)},Fe.useTransition=function(){return ye.current.useTransition()},Fe.version="18.3.1",Fe}var YT;function iw(){return YT||(YT=1,vm.exports=CO()),vm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function AO(){if(QT)return nl;QT=1;var n=iw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(l,d,p){var m,v={},_=null,E=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:l,key:_,ref:E,props:v,_owner:i.current}}return nl.Fragment=t,nl.jsx=u,nl.jsxs=u,nl}var XT;function PO(){return XT||(XT=1,gm.exports=AO()),gm.exports}var L=PO(),$=iw();const G=jn($);var jd={},ym={exports:{}},On={},_m={exports:{}},wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function kO(){return JT||(JT=1,function(n){function e(te,de){var ue=te.length;te.push(de);e:for(;0<ue;){var W=ue-1>>>1,Z=te[W];if(0<i(Z,de))te[W]=de,te[ue]=Z,ue=W;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var de=te[0],ue=te.pop();if(ue!==de){te[0]=ue;e:for(var W=0,Z=te.length,fe=Z>>>1;W<fe;){var Ce=2*(W+1)-1,xe=te[Ce],Ne=Ce+1,Le=te[Ne];if(0>i(xe,ue))Ne<Z&&0>i(Le,xe)?(te[W]=Le,te[Ne]=ue,W=Ne):(te[W]=xe,te[Ce]=ue,W=Ce);else if(Ne<Z&&0>i(Le,ue))te[W]=Le,te[Ne]=ue,W=Ne;else break e}}return de}function i(te,de){var ue=te.sortIndex-de.sortIndex;return ue!==0?ue:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();n.unstable_now=function(){return u.now()-l}}var d=[],p=[],m=1,v=null,_=3,E=!1,b=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(te){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=te)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(p)}}function V(te){if(S=!1,F(te),!b)if(t(d)!==null)b=!0,we(H);else{var de=t(p);de!==null&&ye(V,de.startTime-te)}}function H(te,de){b=!1,S&&(S=!1,A(R),R=-1),E=!0;var ue=_;try{for(F(de),v=t(d);v!==null&&(!(v.expirationTime>de)||te&&!M());){var W=v.callback;if(typeof W=="function"){v.callback=null,_=v.priorityLevel;var Z=W(v.expirationTime<=de);de=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),F(de)}else r(d);v=t(d)}if(v!==null)var fe=!0;else{var Ce=t(p);Ce!==null&&ye(V,Ce.startTime-de),fe=!1}return fe}finally{v=null,_=ue,E=!1}}var z=!1,k=null,R=-1,C=5,N=-1;function M(){return!(n.unstable_now()-N<C)}function U(){if(k!==null){var te=n.unstable_now();N=te;var de=!0;try{de=k(!0,te)}finally{de?D():(z=!1,k=null)}}else z=!1}var D;if(typeof P=="function")D=function(){P(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Te=ce.port2;ce.port1.onmessage=U,D=function(){Te.postMessage(null)}}else D=function(){I(U,0)};function we(te){k=te,z||(z=!0,D())}function ye(te,de){R=I(function(){te(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){b||E||(b=!0,we(H))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(te){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var ue=_;_=de;try{return te()}finally{_=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=_;_=te;try{return de()}finally{_=ue}},n.unstable_scheduleCallback=function(te,de,ue){var W=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?W+ue:W):ue=W,te){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,te={id:m++,callback:de,priorityLevel:te,startTime:ue,expirationTime:Z,sortIndex:-1},ue>W?(te.sortIndex=ue,e(p,te),t(d)===null&&te===t(p)&&(S?(A(R),R=-1):S=!0,ye(V,ue-W))):(te.sortIndex=Z,e(d,te),b||E||(b=!0,we(H))),te},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(te){var de=_;return function(){var ue=_;_=de;try{return te.apply(this,arguments)}finally{_=ue}}}}(wm)),wm}var ZT;function DO(){return ZT||(ZT=1,_m.exports=kO()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function OO(){if(e1)return On;e1=1;var n=iw(),e=DO();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function _(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function E(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,c,h){if(o===null||typeof o>"u"||E(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,h,g,w,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=x}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,c,h){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,g,h)&&(c=null),h||g===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),te=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,W;function Z(s){if(W===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+s}var fe=!1;function Ce(s,o){if(!s||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=h.stack.split(`
`),x=g.length-1,j=w.length-1;1<=x&&0<=j&&g[x]!==w[j];)j--;for(;1<=x&&0<=j;x--,j--)if(g[x]!==w[j]){if(x!==1||j!==1)do if(x--,j--,0>j||g[x]!==w[j]){var q=`
`+g[x].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=x&&0<=j);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function xe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case z:return"Portal";case C:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case we:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(s){var o=Ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,w.call(this,x)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yn(s){s._valueTracker||(s._valueTracker=vt(s))}function Fr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gr(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function qe(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Me(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qn(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function Ve(s,o){qn(s,o);var c=Me(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?_n(s,o.type,c):o.hasOwnProperty("defaultValue")&&_n(s,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function $n(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function _n(s,o,c){(o!=="number"||Un(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Dt=Array.isArray;function Ot(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Qt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ot(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Dt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Me(c)}}function wn(s,o){var c=Me(o.value),h=Me(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function zn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function ut(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?ut(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Nt,Bi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Nt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function vr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(s){jr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),di[o]=di[s]})});function In(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||di.hasOwnProperty(s)&&di[s]?(""+o).trim():o+"px"}function Bn(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=In(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var mu=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(s,o){if(o){if(mu[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function vu(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function ja(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ua=null,er=null,Ur=null;function qa(s){if(s=qu(s)){if(typeof Ua!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Zc(o),Ua(s.stateNode,s.type,o))}}function qr(s){er?Ur?Ur.push(s):Ur=[s]:er=s}function yu(){if(er){var s=er,o=Ur;if(Ur=er=null,qa(s),o)for(s=0;s<o.length;s++)qa(o[s])}}function $s(s,o){return s(o)}function _u(){}var fi=!1;function wu(s,o,c){if(fi)return s(o,c);fi=!0;try{return $s(s,o,c)}finally{fi=!1,(er!==null||Ur!==null)&&(_u(),yu())}}function Tt(s,o){var c=s.stateNode;if(c===null)return null;var h=Zc(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var $a=!1;if(l)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{$a=!1}function zs(s,o,c,h,g,w,x,j,q){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(re){this.onError(re)}}var Bs=!1,za=null,_r=!1,Eu=null,Bh={onError:function(s){Bs=!0,za=s}};function Ba(s,o,c,h,g,w,x,j,q){Bs=!1,za=null,zs.apply(Bh,arguments)}function Sc(s,o,c,h,g,w,x,j,q){if(Ba.apply(this,arguments),Bs){if(Bs){var X=za;Bs=!1,za=null}else throw Error(t(198));_r||(_r=!0,Eu=X)}}function wr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Hs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Er(s){if(wr(s)!==s)throw Error(t(188))}function Ic(s){var o=s.alternate;if(!o){if(o=wr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Er(g),s;if(w===h)return Er(g),o;w=w.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=w;else{for(var x=!1,j=g.child;j;){if(j===c){x=!0,c=g,h=w;break}if(j===h){x=!0,h=g,c=w;break}j=j.sibling}if(!x){for(j=w.child;j;){if(j===c){x=!0,c=w,h=g;break}if(j===h){x=!0,h=w,c=g;break}j=j.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Tu(s){return s=Ic(s),s!==null?Ha(s):null}function Ha(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ha(s);if(o!==null)return o;s=s.sibling}return null}var Wa=e.unstable_scheduleCallback,bu=e.unstable_cancelCallback,Rc=e.unstable_shouldYield,Hh=e.unstable_requestPaint,tt=e.unstable_now,xc=e.unstable_getCurrentPriorityLevel,Ws=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,Su=e.unstable_LowPriority,Cc=e.unstable_IdlePriority,Gs=null,Hn=null;function Ac(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Gs,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:kc,Iu=Math.log,Pc=Math.LN2;function kc(s){return s>>>=0,s===0?32:31-(Iu(s)/Pc|0)|0}var Ga=64,Ka=4194304;function Wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ks(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,x=c&268435455;if(x!==0){var j=x&~g;j!==0?h=Wi(j):(w&=x,w!==0&&(h=Wi(w)))}else x=c&~g,x!==0?h=Wi(x):w!==0&&(h=Wi(w));if(h===0)return 0;if(o!==0&&o!==h&&!(o&g)&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if(h&4&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-En(o),g=1<<c,h|=s[c],o&=~g;return h}function Wh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-En(w),j=1<<x,q=g[x];q===-1?(!(j&c)||j&h)&&(g[x]=Wh(j,o)):q<=o&&(s.expiredLanes|=j),w&=~j}}function Wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ys(){var s=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),s}function Gi(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ki(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-En(o),s[o]=c}function Ze(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-En(c),w=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~w}}function Yi(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-En(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var $e=0;function Qi(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Dc,Ya,Oc,Nc,Mc,Ru=!1,$r=[],Xt=null,Tr=null,br=null,Xi=new Map,nr=new Map,zr=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,o){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(o.pointerId)}}function Rn(s,o,c,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=qu(o),o!==null&&Ya(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Kh(s,o,c,h,g){switch(o){case"focusin":return Xt=Rn(Xt,s,o,c,h,g),!0;case"dragenter":return Tr=Rn(Tr,s,o,c,h,g),!0;case"mouseover":return br=Rn(br,s,o,c,h,g),!0;case"pointerover":var w=g.pointerId;return Xi.set(w,Rn(Xi.get(w)||null,s,o,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,nr.set(w,Rn(nr.get(w)||null,s,o,c,h,g)),!0}return!1}function Vc(s){var o=ea(s.target);if(o!==null){var c=wr(o);if(c!==null){if(o=c.tag,o===13){if(o=Hs(c),o!==null){s.blockedOn=o,Mc(s.priority,function(){Oc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Qa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);qs=h,c.target.dispatchEvent(h),qs=null}else return o=qu(c),o!==null&&Ya(o),s.blockedOn=c,!1;o.shift()}return!0}function Qs(s,o,c){pi(s)&&c.delete(o)}function Fc(){Ru=!1,Xt!==null&&pi(Xt)&&(Xt=null),Tr!==null&&pi(Tr)&&(Tr=null),br!==null&&pi(br)&&(br=null),Xi.forEach(Qs),nr.forEach(Qs)}function Sr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ru||(Ru=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function Ir(s){function o(g){return Sr(g,s)}if(0<$r.length){Sr($r[0],s);for(var c=1;c<$r.length;c++){var h=$r[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Xt!==null&&Sr(Xt,s),Tr!==null&&Sr(Tr,s),br!==null&&Sr(br,s),Xi.forEach(o),nr.forEach(o),c=0;c<zr.length;c++)h=zr[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<zr.length&&(c=zr[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&zr.shift()}var mi=V.ReactCurrentBatchConfig,Ji=!0;function lt(s,o,c,h){var g=$e,w=mi.transition;mi.transition=null;try{$e=1,xu(s,o,c,h)}finally{$e=g,mi.transition=w}}function Yh(s,o,c,h){var g=$e,w=mi.transition;mi.transition=null;try{$e=4,xu(s,o,c,h)}finally{$e=g,mi.transition=w}}function xu(s,o,c,h){if(Ji){var g=Qa(s,o,c,h);if(g===null)ap(s,o,h,Xs,c),Lc(s,h);else if(Kh(g,s,o,c,h))h.stopPropagation();else if(Lc(s,h),o&4&&-1<Gh.indexOf(s)){for(;g!==null;){var w=qu(g);if(w!==null&&Dc(w),w=Qa(s,o,c,h),w===null&&ap(s,o,h,Xs,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else ap(s,o,h,null,c)}}var Xs=null;function Qa(s,o,c,h){if(Xs=null,s=ja(h),s=ea(s),s!==null)if(o=wr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Hs(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Xs=s,null}function Cu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xc()){case Ws:return 1;case Hi:return 4;case tr:case Su:return 16;case Cc:return 536870912;default:return 16}default:return 16}}var Gn=null,Xa=null,xn=null;function Au(){if(xn)return xn;var s,o=Xa,c=o.length,h,g="value"in Gn?Gn.value:Gn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var x=c-s;for(h=1;h<=x&&o[c-h]===g[w-h];h++);return xn=g.slice(s,1<h?1-h:void 0)}function Ja(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Br(){return!0}function Pu(){return!1}function Jt(s){function o(c,h,g,w,x){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Br:Pu,this.isPropagationStopped=Pu,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),o}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Jt(Rr),Hr=ue({},Rr,{view:0,detail:0}),Qh=Jt(Hr),eo,gi,Zi,Js=ue({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zi&&(Zi&&s.type==="mousemove"?(eo=s.screenX-Zi.screenX,gi=s.screenY-Zi.screenY):gi=eo=0,Zi=s),eo)},movementY:function(s){return"movementY"in s?s.movementY:gi}}),to=Jt(Js),ku=ue({},Js,{dataTransfer:0}),jc=Jt(ku),no=ue({},Hr,{relatedTarget:0}),ro=Jt(no),Uc=ue({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Jt(Uc),qc=ue({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$c=Jt(qc),zc=ue({},Rr,{data:0}),Du=Jt(zc),io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Bc[s])?!!o[s]:!1}function Wr(){return Hc}var f=ue({},Hr,{key:function(s){if(s.key){var o=io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(s){return s.type==="keypress"?Ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Jt(f),T=ue({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Jt(T),K=ue({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),J=Jt(K),le=ue({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Jt(le),Mt=ue({},Js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Jt(Mt),zt=[9,13,27,32],Ct=l&&"CompositionEvent"in window,rr=null;l&&"documentMode"in document&&(rr=document.documentMode);var Kn=l&&"TextEvent"in window&&!rr,Zs=l&&(!Ct||rr&&8<rr&&11>=rr),so=" ",$E=!1;function zE(s,o){switch(s){case"keyup":return zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function SD(s,o){switch(s){case"compositionend":return BE(o);case"keypress":return o.which!==32?null:($E=!0,so);case"textInput":return s=o.data,s===so&&$E?null:s;default:return null}}function ID(s,o){if(ao)return s==="compositionend"||!Ct&&zE(s,o)?(s=Au(),xn=Xa=Gn=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zs&&o.locale!=="ko"?null:o.data;default:return null}}var RD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!RD[s.type]:o==="textarea"}function WE(s,o,c,h){qr(h),o=Qc(o,"onChange"),0<o.length&&(c=new Za("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Ou=null,Nu=null;function xD(s){c0(s,0)}function Wc(s){var o=fo(s);if(Fr(o))return s}function CD(s,o){if(s==="change")return o}var GE=!1;if(l){var Xh;if(l){var Jh="oninput"in document;if(!Jh){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),Jh=typeof KE.oninput=="function"}Xh=Jh}else Xh=!1;GE=Xh&&(!document.documentMode||9<document.documentMode)}function YE(){Ou&&(Ou.detachEvent("onpropertychange",QE),Nu=Ou=null)}function QE(s){if(s.propertyName==="value"&&Wc(Nu)){var o=[];WE(o,Nu,s,ja(s)),wu(xD,o)}}function AD(s,o,c){s==="focusin"?(YE(),Ou=o,Nu=c,Ou.attachEvent("onpropertychange",QE)):s==="focusout"&&YE()}function PD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wc(Nu)}function kD(s,o){if(s==="click")return Wc(o)}function DD(s,o){if(s==="input"||s==="change")return Wc(o)}function OD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var xr=typeof Object.is=="function"?Object.is:OD;function Mu(s,o){if(xr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(o,g)||!xr(s[g],o[g]))return!1}return!0}function XE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function JE(s,o){var c=XE(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=XE(c)}}function ZE(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?ZE(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function e0(){for(var s=window,o=Un();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Un(s.document)}return o}function Zh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function ND(s){var o=e0(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&ZE(c.ownerDocument.documentElement,c)){if(h!==null&&Zh(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=JE(c,w);var x=JE(c,h);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MD=l&&"documentMode"in document&&11>=document.documentMode,oo=null,ep=null,Lu=null,tp=!1;function t0(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;tp||oo==null||oo!==Un(h)||(h=oo,"selectionStart"in h&&Zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Lu&&Mu(Lu,h)||(Lu=h,h=Qc(ep,"onSelect"),0<h.length&&(o=new Za("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=oo)))}function Gc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var uo={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},np={},n0={};l&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Kc(s){if(np[s])return np[s];if(!uo[s])return s;var o=uo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in n0)return np[s]=o[c];return s}var r0=Kc("animationend"),i0=Kc("animationiteration"),s0=Kc("animationstart"),a0=Kc("transitionend"),o0=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(s,o){o0.set(s,o),a(o,[s])}for(var rp=0;rp<u0.length;rp++){var ip=u0[rp],LD=ip.toLowerCase(),VD=ip[0].toUpperCase()+ip.slice(1);es(LD,"on"+VD)}es(r0,"onAnimationEnd"),es(i0,"onAnimationIteration"),es(s0,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(a0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function l0(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Sc(h,o,void 0,s),s.currentTarget=null}function c0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var x=h.length-1;0<=x;x--){var j=h[x],q=j.instance,X=j.currentTarget;if(j=j.listener,q!==w&&g.isPropagationStopped())break e;l0(g,j,X),w=q}else for(x=0;x<h.length;x++){if(j=h[x],q=j.instance,X=j.currentTarget,j=j.listener,q!==w&&g.isPropagationStopped())break e;l0(g,j,X),w=q}}}if(_r)throw s=Eu,_r=!1,Eu=null,s}function it(s,o){var c=o[fp];c===void 0&&(c=o[fp]=new Set);var h=s+"__bubble";c.has(h)||(d0(o,s,2,!1),c.add(h))}function sp(s,o,c){var h=0;o&&(h|=4),d0(c,s,h,o)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Fu(s){if(!s[Yc]){s[Yc]=!0,r.forEach(function(c){c!=="selectionchange"&&(FD.has(c)||sp(c,!1,s),sp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Yc]||(o[Yc]=!0,sp("selectionchange",!1,o))}}function d0(s,o,c,h){switch(Cu(o)){case 1:var g=lt;break;case 4:g=Yh;break;default:g=xu}c=g.bind(null,o,c,s),g=void 0,!$a||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function ap(s,o,c,h,g){var w=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(x===4)for(x=h.return;x!==null;){var q=x.tag;if((q===3||q===4)&&(q=x.stateNode.containerInfo,q===g||q.nodeType===8&&q.parentNode===g))return;x=x.return}for(;j!==null;){if(x=ea(j),x===null)return;if(q=x.tag,q===5||q===6){h=w=x;continue e}j=j.parentNode}}h=h.return}wu(function(){var X=w,re=ja(c),se=[];e:{var ne=o0.get(s);if(ne!==void 0){var he=Za,ve=s;switch(s){case"keypress":if(Ja(c)===0)break e;case"keydown":case"keyup":he=y;break;case"focusin":ve="focus",he=ro;break;case"focusout":ve="blur",he=ro;break;case"beforeblur":case"afterblur":he=ro;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=J;break;case r0:case i0:case s0:he=vi;break;case a0:he=Xe;break;case"scroll":he=Qh;break;case"wheel":he=Be;break;case"copy":case"cut":case"paste":he=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=O}var _e=(o&4)!==0,bt=!_e&&s==="scroll",Y=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var B=X,Q;B!==null;){Q=B;var ae=Q.stateNode;if(Q.tag===5&&ae!==null&&(Q=ae,Y!==null&&(ae=Tt(B,Y),ae!=null&&_e.push(ju(B,ae,Q)))),bt)break;B=B.return}0<_e.length&&(ne=new he(ne,ve,null,c,re),se.push({event:ne,listeners:_e}))}}if(!(o&7)){e:{if(ne=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ne&&c!==qs&&(ve=c.relatedTarget||c.fromElement)&&(ea(ve)||ve[yi]))break e;if((he||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,he?(ve=c.relatedTarget||c.toElement,he=X,ve=ve?ea(ve):null,ve!==null&&(bt=wr(ve),ve!==bt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(he=null,ve=X),he!==ve)){if(_e=to,ae="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(_e=O,ae="onPointerLeave",Y="onPointerEnter",B="pointer"),bt=he==null?ne:fo(he),Q=ve==null?ne:fo(ve),ne=new _e(ae,B+"leave",he,c,re),ne.target=bt,ne.relatedTarget=Q,ae=null,ea(re)===X&&(_e=new _e(Y,B+"enter",ve,c,re),_e.target=Q,_e.relatedTarget=bt,ae=_e),bt=ae,he&&ve)t:{for(_e=he,Y=ve,B=0,Q=_e;Q;Q=lo(Q))B++;for(Q=0,ae=Y;ae;ae=lo(ae))Q++;for(;0<B-Q;)_e=lo(_e),B--;for(;0<Q-B;)Y=lo(Y),Q--;for(;B--;){if(_e===Y||Y!==null&&_e===Y.alternate)break t;_e=lo(_e),Y=lo(Y)}_e=null}else _e=null;he!==null&&f0(se,ne,he,_e,!1),ve!==null&&bt!==null&&f0(se,bt,ve,_e,!0)}}e:{if(ne=X?fo(X):window,he=ne.nodeName&&ne.nodeName.toLowerCase(),he==="select"||he==="input"&&ne.type==="file")var Ee=CD;else if(HE(ne))if(GE)Ee=DD;else{Ee=PD;var Se=AD}else(he=ne.nodeName)&&he.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=kD);if(Ee&&(Ee=Ee(s,X))){WE(se,Ee,c,re);break e}Se&&Se(s,ne,X),s==="focusout"&&(Se=ne._wrapperState)&&Se.controlled&&ne.type==="number"&&_n(ne,"number",ne.value)}switch(Se=X?fo(X):window,s){case"focusin":(HE(Se)||Se.contentEditable==="true")&&(oo=Se,ep=X,Lu=null);break;case"focusout":Lu=ep=oo=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,t0(se,c,re);break;case"selectionchange":if(MD)break;case"keydown":case"keyup":t0(se,c,re)}var Ie;if(Ct)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ao?zE(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(Zs&&c.locale!=="ko"&&(ao||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ao&&(Ie=Au()):(Gn=re,Xa="value"in Gn?Gn.value:Gn.textContent,ao=!0)),Se=Qc(X,Pe),0<Se.length&&(Pe=new Du(Pe,s,null,c,re),se.push({event:Pe,listeners:Se}),Ie?Pe.data=Ie:(Ie=BE(c),Ie!==null&&(Pe.data=Ie)))),(Ie=Kn?SD(s,c):ID(s,c))&&(X=Qc(X,"onBeforeInput"),0<X.length&&(re=new Du("onBeforeInput","beforeinput",null,c,re),se.push({event:re,listeners:X}),re.data=Ie))}c0(se,o)})}function ju(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Qc(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Tt(s,c),w!=null&&h.unshift(ju(s,w,g)),w=Tt(s,o),w!=null&&h.push(ju(s,w,g))),s=s.return}return h}function lo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function f0(s,o,c,h,g){for(var w=o._reactName,x=[];c!==null&&c!==h;){var j=c,q=j.alternate,X=j.stateNode;if(q!==null&&q===h)break;j.tag===5&&X!==null&&(j=X,g?(q=Tt(c,w),q!=null&&x.unshift(ju(c,q,j))):g||(q=Tt(c,w),q!=null&&x.push(ju(c,q,j)))),c=c.return}x.length!==0&&s.push({event:o,listeners:x})}var jD=/\r\n?/g,UD=/\u0000|\uFFFD/g;function h0(s){return(typeof s=="string"?s:""+s).replace(jD,`
`).replace(UD,"")}function Xc(s,o,c){if(o=h0(o),h0(s)!==o&&c)throw Error(t(425))}function Jc(){}var op=null,up=null;function lp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,$D=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(s){return p0.resolve(null).then(s).catch(zD)}:cp;function zD(s){setTimeout(function(){throw s})}function dp(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),Ir(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Ir(o)}function ts(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function m0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var co=Math.random().toString(36).slice(2),Gr="__reactFiber$"+co,Uu="__reactProps$"+co,yi="__reactContainer$"+co,fp="__reactEvents$"+co,BD="__reactListeners$"+co,HD="__reactHandles$"+co;function ea(s){var o=s[Gr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[yi]||c[Gr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=m0(s);s!==null;){if(c=s[Gr])return c;s=m0(s)}return o}s=c,c=s.parentNode}return null}function qu(s){return s=s[Gr]||s[yi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Zc(s){return s[Uu]||null}var hp=[],ho=-1;function ns(s){return{current:s}}function st(s){0>ho||(s.current=hp[ho],hp[ho]=null,ho--)}function nt(s,o){ho++,hp[ho]=s.current,s.current=o}var rs={},on=ns(rs),Cn=ns(!1),ta=rs;function po(s,o){var c=s.type.contextTypes;if(!c)return rs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function An(s){return s=s.childContextTypes,s!=null}function ed(){st(Cn),st(on)}function g0(s,o,c){if(on.current!==rs)throw Error(t(168));nt(on,o),nt(Cn,c)}function v0(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Le(s)||"Unknown",g));return ue({},c,h)}function td(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||rs,ta=on.current,nt(on,s),nt(Cn,Cn.current),!0}function y0(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=v0(s,o,ta),h.__reactInternalMemoizedMergedChildContext=s,st(Cn),st(on),nt(on,s)):st(Cn),nt(Cn,c)}var _i=null,nd=!1,pp=!1;function _0(s){_i===null?_i=[s]:_i.push(s)}function WD(s){nd=!0,_0(s)}function is(){if(!pp&&_i!==null){pp=!0;var s=0,o=$e;try{var c=_i;for($e=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}_i=null,nd=!1}catch(g){throw _i!==null&&(_i=_i.slice(s+1)),Wa(Ws,is),g}finally{$e=o,pp=!1}}return null}var mo=[],go=0,rd=null,id=0,ir=[],sr=0,na=null,wi=1,Ei="";function ra(s,o){mo[go++]=id,mo[go++]=rd,rd=s,id=o}function w0(s,o,c){ir[sr++]=wi,ir[sr++]=Ei,ir[sr++]=na,na=s;var h=wi;s=Ei;var g=32-En(h)-1;h&=~(1<<g),c+=1;var w=32-En(o)+g;if(30<w){var x=g-g%5;w=(h&(1<<x)-1).toString(32),h>>=x,g-=x,wi=1<<32-En(o)+g|c<<g|h,Ei=w+s}else wi=1<<w|c<<g|h,Ei=s}function mp(s){s.return!==null&&(ra(s,1),w0(s,1,0))}function gp(s){for(;s===rd;)rd=mo[--go],mo[go]=null,id=mo[--go],mo[go]=null;for(;s===na;)na=ir[--sr],ir[sr]=null,Ei=ir[--sr],ir[sr]=null,wi=ir[--sr],ir[sr]=null}var Yn=null,Qn=null,ct=!1,Cr=null;function E0(s,o){var c=lr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function T0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Yn=s,Qn=ts(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Yn=s,Qn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=na!==null?{id:wi,overflow:Ei}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=lr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Yn=s,Qn=null,!0):!1;default:return!1}}function vp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yp(s){if(ct){var o=Qn;if(o){var c=o;if(!T0(s,o)){if(vp(s))throw Error(t(418));o=ts(c.nextSibling);var h=Yn;o&&T0(s,o)?E0(h,c):(s.flags=s.flags&-4097|2,ct=!1,Yn=s)}}else{if(vp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Yn=s}}}function b0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Yn=s}function sd(s){if(s!==Yn)return!1;if(!ct)return b0(s),ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!lp(s.type,s.memoizedProps)),o&&(o=Qn)){if(vp(s))throw S0(),Error(t(418));for(;o;)E0(s,o),o=ts(o.nextSibling)}if(b0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Qn=ts(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Qn=null}}else Qn=Yn?ts(s.stateNode.nextSibling):null;return!0}function S0(){for(var s=Qn;s;)s=ts(s.nextSibling)}function vo(){Qn=Yn=null,ct=!1}function _p(s){Cr===null?Cr=[s]:Cr.push(s)}var GD=V.ReactCurrentBatchConfig;function $u(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(x){var j=g.refs;x===null?delete j[w]:j[w]=x},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ad(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function I0(s){var o=s._init;return o(s._payload)}function R0(s){function o(Y,B){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function c(Y,B){if(!s)return null;for(;B!==null;)o(Y,B),B=B.sibling;return null}function h(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=fs(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=2,B):Q):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function x(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,Q,ae){return B===null||B.tag!==6?(B=cm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function q(Y,B,Q,ae){var Ee=Q.type;return Ee===k?re(Y,B,Q.props.children,ae,Q.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&I0(Ee)===B.type)?(ae=g(B,Q.props),ae.ref=$u(Y,B,Q),ae.return=Y,ae):(ae=Pd(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=$u(Y,B,Q),ae.return=Y,ae)}function X(Y,B,Q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=dm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q.children||[]),B.return=Y,B)}function re(Y,B,Q,ae,Ee){return B===null||B.tag!==7?(B=da(Q,Y.mode,ae,Ee),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function se(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=cm(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return Q=Pd(B.type,B.key,B.props,null,Y.mode,Q),Q.ref=$u(Y,null,B),Q.return=Y,Q;case z:return B=dm(B,Y.mode,Q),B.return=Y,B;case we:var ae=B._init;return se(Y,ae(B._payload),Q)}if(Dt(B)||de(B))return B=da(B,Y.mode,Q,null),B.return=Y,B;ad(Y,B)}return null}function ne(Y,B,Q,ae){var Ee=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ee!==null?null:j(Y,B,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===Ee?q(Y,B,Q,ae):null;case z:return Q.key===Ee?X(Y,B,Q,ae):null;case we:return Ee=Q._init,ne(Y,B,Ee(Q._payload),ae)}if(Dt(Q)||de(Q))return Ee!==null?null:re(Y,B,Q,ae,null);ad(Y,Q)}return null}function he(Y,B,Q,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Y=Y.get(Q)||null,j(B,Y,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case H:return Y=Y.get(ae.key===null?Q:ae.key)||null,q(B,Y,ae,Ee);case z:return Y=Y.get(ae.key===null?Q:ae.key)||null,X(B,Y,ae,Ee);case we:var Se=ae._init;return he(Y,B,Q,Se(ae._payload),Ee)}if(Dt(ae)||de(ae))return Y=Y.get(Q)||null,re(B,Y,ae,Ee,null);ad(B,ae)}return null}function ve(Y,B,Q,ae){for(var Ee=null,Se=null,Ie=B,Pe=B=0,Wt=null;Ie!==null&&Pe<Q.length;Pe++){Ie.index>Pe?(Wt=Ie,Ie=null):Wt=Ie.sibling;var Ke=ne(Y,Ie,Q[Pe],ae);if(Ke===null){Ie===null&&(Ie=Wt);break}s&&Ie&&Ke.alternate===null&&o(Y,Ie),B=w(Ke,B,Pe),Se===null?Ee=Ke:Se.sibling=Ke,Se=Ke,Ie=Wt}if(Pe===Q.length)return c(Y,Ie),ct&&ra(Y,Pe),Ee;if(Ie===null){for(;Pe<Q.length;Pe++)Ie=se(Y,Q[Pe],ae),Ie!==null&&(B=w(Ie,B,Pe),Se===null?Ee=Ie:Se.sibling=Ie,Se=Ie);return ct&&ra(Y,Pe),Ee}for(Ie=h(Y,Ie);Pe<Q.length;Pe++)Wt=he(Ie,Y,Pe,Q[Pe],ae),Wt!==null&&(s&&Wt.alternate!==null&&Ie.delete(Wt.key===null?Pe:Wt.key),B=w(Wt,B,Pe),Se===null?Ee=Wt:Se.sibling=Wt,Se=Wt);return s&&Ie.forEach(function(hs){return o(Y,hs)}),ct&&ra(Y,Pe),Ee}function _e(Y,B,Q,ae){var Ee=de(Q);if(typeof Ee!="function")throw Error(t(150));if(Q=Ee.call(Q),Q==null)throw Error(t(151));for(var Se=Ee=null,Ie=B,Pe=B=0,Wt=null,Ke=Q.next();Ie!==null&&!Ke.done;Pe++,Ke=Q.next()){Ie.index>Pe?(Wt=Ie,Ie=null):Wt=Ie.sibling;var hs=ne(Y,Ie,Ke.value,ae);if(hs===null){Ie===null&&(Ie=Wt);break}s&&Ie&&hs.alternate===null&&o(Y,Ie),B=w(hs,B,Pe),Se===null?Ee=hs:Se.sibling=hs,Se=hs,Ie=Wt}if(Ke.done)return c(Y,Ie),ct&&ra(Y,Pe),Ee;if(Ie===null){for(;!Ke.done;Pe++,Ke=Q.next())Ke=se(Y,Ke.value,ae),Ke!==null&&(B=w(Ke,B,Pe),Se===null?Ee=Ke:Se.sibling=Ke,Se=Ke);return ct&&ra(Y,Pe),Ee}for(Ie=h(Y,Ie);!Ke.done;Pe++,Ke=Q.next())Ke=he(Ie,Y,Pe,Ke.value,ae),Ke!==null&&(s&&Ke.alternate!==null&&Ie.delete(Ke.key===null?Pe:Ke.key),B=w(Ke,B,Pe),Se===null?Ee=Ke:Se.sibling=Ke,Se=Ke);return s&&Ie.forEach(function(IO){return o(Y,IO)}),ct&&ra(Y,Pe),Ee}function bt(Y,B,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var Ee=Q.key,Se=B;Se!==null;){if(Se.key===Ee){if(Ee=Q.type,Ee===k){if(Se.tag===7){c(Y,Se.sibling),B=g(Se,Q.props.children),B.return=Y,Y=B;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===we&&I0(Ee)===Se.type){c(Y,Se.sibling),B=g(Se,Q.props),B.ref=$u(Y,Se,Q),B.return=Y,Y=B;break e}c(Y,Se);break}else o(Y,Se);Se=Se.sibling}Q.type===k?(B=da(Q.props.children,Y.mode,ae,Q.key),B.return=Y,Y=B):(ae=Pd(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=$u(Y,B,Q),ae.return=Y,Y=ae)}return x(Y);case z:e:{for(Se=Q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(Y,B.sibling),B=g(B,Q.children||[]),B.return=Y,Y=B;break e}else{c(Y,B);break}else o(Y,B);B=B.sibling}B=dm(Q,Y.mode,ae),B.return=Y,Y=B}return x(Y);case we:return Se=Q._init,bt(Y,B,Se(Q._payload),ae)}if(Dt(Q))return ve(Y,B,Q,ae);if(de(Q))return _e(Y,B,Q,ae);ad(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(Y,B.sibling),B=g(B,Q),B.return=Y,Y=B):(c(Y,B),B=cm(Q,Y.mode,ae),B.return=Y,Y=B),x(Y)):c(Y,B)}return bt}var yo=R0(!0),x0=R0(!1),od=ns(null),ud=null,_o=null,wp=null;function Ep(){wp=_o=ud=null}function Tp(s){var o=od.current;st(od),s._currentValue=o}function bp(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function wo(s,o){ud=s,wp=_o=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Pn=!0),s.firstContext=null)}function ar(s){var o=s._currentValue;if(wp!==s)if(s={context:s,memoizedValue:o,next:null},_o===null){if(ud===null)throw Error(t(308));_o=s,ud.dependencies={lanes:0,firstContext:s}}else _o=_o.next=s;return o}var ia=null;function Sp(s){ia===null?ia=[s]:ia.push(s)}function C0(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,Sp(o)):(c.next=g.next,g.next=c),o.interleaved=c,Ti(s,h)}function Ti(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ss=!1;function Ip(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function as(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,We&2){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,Ti(s,c)}return g=h.interleaved,g===null?(o.next=o,Sp(h)):(o.next=g.next,g.next=o),h.interleaved=o,Ti(s,c)}function ld(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Yi(s,c)}}function P0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=x:w=w.next=x,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function cd(s,o,c,h){var g=s.updateQueue;ss=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var q=j,X=q.next;q.next=null,x===null?w=X:x.next=X,x=q;var re=s.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==x&&(j===null?re.firstBaseUpdate=X:j.next=X,re.lastBaseUpdate=q))}if(w!==null){var se=g.baseState;x=0,re=X=q=null,j=w;do{var ne=j.lane,he=j.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,_e=j;switch(ne=o,he=c,_e.tag){case 1:if(ve=_e.payload,typeof ve=="function"){se=ve.call(he,se,ne);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=_e.payload,ne=typeof ve=="function"?ve.call(he,se,ne):ve,ne==null)break e;se=ue({},se,ne);break e;case 2:ss=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ne=g.effects,ne===null?g.effects=[j]:ne.push(j))}else he={eventTime:he,lane:ne,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(X=re=he,q=se):re=re.next=he,x|=ne;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(q=se),g.baseState=q,g.firstBaseUpdate=X,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do x|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);oa|=x,s.lanes=x,s.memoizedState=se}}function k0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var zu={},Kr=ns(zu),Bu=ns(zu),Hu=ns(zu);function sa(s){if(s===zu)throw Error(t(174));return s}function Rp(s,o){switch(nt(Hu,o),nt(Bu,s),nt(Kr,zu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=rt(o,s)}st(Kr),nt(Kr,o)}function Eo(){st(Kr),st(Bu),st(Hu)}function D0(s){sa(Hu.current);var o=sa(Kr.current),c=rt(o,s.type);o!==c&&(nt(Bu,s),nt(Kr,c))}function xp(s){Bu.current===s&&(st(Kr),st(Bu))}var ht=ns(0);function dd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Cp=[];function Ap(){for(var s=0;s<Cp.length;s++)Cp[s]._workInProgressVersionPrimary=null;Cp.length=0}var fd=V.ReactCurrentDispatcher,Pp=V.ReactCurrentBatchConfig,aa=0,pt=null,Lt=null,Bt=null,hd=!1,Wu=!1,Gu=0,KD=0;function un(){throw Error(t(321))}function kp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!xr(s[c],o[c]))return!1;return!0}function Dp(s,o,c,h,g,w){if(aa=w,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fd.current=s===null||s.memoizedState===null?JD:ZD,s=c(h,g),Wu){w=0;do{if(Wu=!1,Gu=0,25<=w)throw Error(t(301));w+=1,Bt=Lt=null,o.updateQueue=null,fd.current=eO,s=c(h,g)}while(Wu)}if(fd.current=gd,o=Lt!==null&&Lt.next!==null,aa=0,Bt=Lt=pt=null,hd=!1,o)throw Error(t(300));return s}function Op(){var s=Gu!==0;return Gu=0,s}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?pt.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function or(){if(Lt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var o=Bt===null?pt.memoizedState:Bt.next;if(o!==null)Bt=o,Lt=s;else{if(s===null)throw Error(t(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Bt===null?pt.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function Ku(s,o){return typeof o=="function"?o(s):o}function Np(s){var o=or(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Lt,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var j=x=null,q=null,X=w;do{var re=X.lane;if((aa&re)===re)q!==null&&(q=q.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var se={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};q===null?(j=q=se,x=h):q=q.next=se,pt.lanes|=re,oa|=re}X=X.next}while(X!==null&&X!==w);q===null?x=h:q.next=j,xr(h,o.memoizedState)||(Pn=!0),o.memoizedState=h,o.baseState=x,o.baseQueue=q,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do w=g.lane,pt.lanes|=w,oa|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Mp(s){var o=or(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);xr(w,o.memoizedState)||(Pn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function O0(){}function N0(s,o){var c=pt,h=or(),g=o(),w=!xr(h.memoizedState,g);if(w&&(h.memoizedState=g,Pn=!0),h=h.queue,Lp(V0.bind(null,c,h,s),[s]),h.getSnapshot!==o||w||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,Yu(9,L0.bind(null,c,h,g,o),void 0,null),Ht===null)throw Error(t(349));aa&30||M0(c,o,g)}return g}function M0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function L0(s,o,c,h){o.value=c,o.getSnapshot=h,F0(o)&&j0(s)}function V0(s,o,c){return c(function(){F0(o)&&j0(s)})}function F0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!xr(s,c)}catch{return!0}}function j0(s){var o=Ti(s,1);o!==null&&Dr(o,s,1,-1)}function U0(s){var o=Yr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:s},o.queue=s,s=s.dispatch=XD.bind(null,pt,s),[o.memoizedState,s]}function Yu(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function q0(){return or().memoizedState}function pd(s,o,c,h){var g=Yr();pt.flags|=s,g.memoizedState=Yu(1|o,c,void 0,h===void 0?null:h)}function md(s,o,c,h){var g=or();h=h===void 0?null:h;var w=void 0;if(Lt!==null){var x=Lt.memoizedState;if(w=x.destroy,h!==null&&kp(h,x.deps)){g.memoizedState=Yu(o,c,w,h);return}}pt.flags|=s,g.memoizedState=Yu(1|o,c,w,h)}function $0(s,o){return pd(8390656,8,s,o)}function Lp(s,o){return md(2048,8,s,o)}function z0(s,o){return md(4,2,s,o)}function B0(s,o){return md(4,4,s,o)}function H0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function W0(s,o,c){return c=c!=null?c.concat([s]):null,md(4,4,H0.bind(null,o,s),c)}function Vp(){}function G0(s,o){var c=or();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&kp(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function K0(s,o){var c=or();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&kp(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function Y0(s,o,c){return aa&21?(xr(c,o)||(c=Ys(),pt.lanes|=c,oa|=c,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=c)}function YD(s,o){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var h=Pp.transition;Pp.transition={};try{s(!1),o()}finally{$e=c,Pp.transition=h}}function Q0(){return or().memoizedState}function QD(s,o,c){var h=cs(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},X0(s))J0(o,c);else if(c=C0(s,o,c,h),c!==null){var g=Sn();Dr(c,s,h,g),Z0(c,o,h)}}function XD(s,o,c){var h=cs(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(X0(s))J0(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var x=o.lastRenderedState,j=w(x,c);if(g.hasEagerState=!0,g.eagerState=j,xr(j,x)){var q=o.interleaved;q===null?(g.next=g,Sp(o)):(g.next=q.next,q.next=g),o.interleaved=g;return}}catch{}finally{}c=C0(s,o,g,h),c!==null&&(g=Sn(),Dr(c,s,h,g),Z0(c,o,h))}}function X0(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function J0(s,o){Wu=hd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Z0(s,o,c){if(c&4194240){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Yi(s,c)}}var gd={readContext:ar,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},JD={readContext:ar,useCallback:function(s,o){return Yr().memoizedState=[s,o===void 0?null:o],s},useContext:ar,useEffect:$0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,pd(4194308,4,H0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return pd(4194308,4,s,o)},useInsertionEffect:function(s,o){return pd(4,2,s,o)},useMemo:function(s,o){var c=Yr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Yr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=QD.bind(null,pt,s),[h.memoizedState,s]},useRef:function(s){var o=Yr();return s={current:s},o.memoizedState=s},useState:U0,useDebugValue:Vp,useDeferredValue:function(s){return Yr().memoizedState=s},useTransition:function(){var s=U0(!1),o=s[0];return s=YD.bind(null,s[1]),Yr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=pt,g=Yr();if(ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ht===null)throw Error(t(349));aa&30||M0(h,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,$0(V0.bind(null,h,w,s),[s]),h.flags|=2048,Yu(9,L0.bind(null,h,w,c,o),void 0,null),c},useId:function(){var s=Yr(),o=Ht.identifierPrefix;if(ct){var c=Ei,h=wi;c=(h&~(1<<32-En(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Gu++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=KD++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ZD={readContext:ar,useCallback:G0,useContext:ar,useEffect:Lp,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:K0,useReducer:Np,useRef:q0,useState:function(){return Np(Ku)},useDebugValue:Vp,useDeferredValue:function(s){var o=or();return Y0(o,Lt.memoizedState,s)},useTransition:function(){var s=Np(Ku)[0],o=or().memoizedState;return[s,o]},useMutableSource:O0,useSyncExternalStore:N0,useId:Q0,unstable_isNewReconciler:!1},eO={readContext:ar,useCallback:G0,useContext:ar,useEffect:Lp,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:B0,useMemo:K0,useReducer:Mp,useRef:q0,useState:function(){return Mp(Ku)},useDebugValue:Vp,useDeferredValue:function(s){var o=or();return Lt===null?o.memoizedState=s:Y0(o,Lt.memoizedState,s)},useTransition:function(){var s=Mp(Ku)[0],o=or().memoizedState;return[s,o]},useMutableSource:O0,useSyncExternalStore:N0,useId:Q0,unstable_isNewReconciler:!1};function Ar(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Fp(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vd={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=cs(s),w=bi(h,g);w.payload=o,c!=null&&(w.callback=c),o=as(s,w,g),o!==null&&(Dr(o,s,g,h),ld(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=cs(s),w=bi(h,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=as(s,w,g),o!==null&&(Dr(o,s,g,h),ld(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Sn(),h=cs(s),g=bi(c,h);g.tag=2,o!=null&&(g.callback=o),o=as(s,g,h),o!==null&&(Dr(o,s,h,c),ld(o,s,h))}};function eT(s,o,c,h,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,x):o.prototype&&o.prototype.isPureReactComponent?!Mu(c,h)||!Mu(g,w):!0}function tT(s,o,c){var h=!1,g=rs,w=o.contextType;return typeof w=="object"&&w!==null?w=ar(w):(g=An(o)?ta:on.current,h=o.contextTypes,w=(h=h!=null)?po(s,g):rs),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function nT(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&vd.enqueueReplaceState(o,o.state,null)}function jp(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Ip(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=ar(w):(w=An(o)?ta:on.current,g.context=po(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Fp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&vd.enqueueReplaceState(g,g.state,null),cd(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function To(s,o){try{var c="",h=o;do c+=xe(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function Up(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function qp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var tO=typeof WeakMap=="function"?WeakMap:Map;function rT(s,o,c){c=bi(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Sd||(Sd=!0,nm=h),qp(s,o)},c}function iT(s,o,c){c=bi(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){qp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){qp(s,o),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),c}function sT(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new tO;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=mO.bind(null,s,o,c),o.then(s,s))}function aT(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function oT(s,o,c,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=bi(-1,1),o.tag=2,as(c,o,1))),c.lanes|=1),s)}var nO=V.ReactCurrentOwner,Pn=!1;function bn(s,o,c,h){o.child=s===null?x0(o,null,c,h):yo(o,s.child,c,h)}function uT(s,o,c,h,g){c=c.render;var w=o.ref;return wo(o,g),h=Dp(s,o,c,h,w,g),c=Op(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Si(s,o,g)):(ct&&c&&mp(o),o.flags|=1,bn(s,o,h,g),o.child)}function lT(s,o,c,h,g){if(s===null){var w=c.type;return typeof w=="function"&&!lm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,cT(s,o,w,h,g)):(s=Pd(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!(s.lanes&g)){var x=w.memoizedProps;if(c=c.compare,c=c!==null?c:Mu,c(x,h)&&s.ref===o.ref)return Si(s,o,g)}return o.flags|=1,s=fs(w,h),s.ref=o.ref,s.return=o,o.child=s}function cT(s,o,c,h,g){if(s!==null){var w=s.memoizedProps;if(Mu(w,h)&&s.ref===o.ref)if(Pn=!1,o.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Pn=!0);else return o.lanes=s.lanes,Si(s,o,g)}return $p(s,o,c,h,g)}function dT(s,o,c){var h=o.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(So,Xn),Xn|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(So,Xn),Xn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,nt(So,Xn),Xn|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,nt(So,Xn),Xn|=h;return bn(s,o,g,c),o.child}function fT(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function $p(s,o,c,h,g){var w=An(c)?ta:on.current;return w=po(o,w),wo(o,g),c=Dp(s,o,c,h,w,g),h=Op(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Si(s,o,g)):(ct&&h&&mp(o),o.flags|=1,bn(s,o,c,g),o.child)}function hT(s,o,c,h,g){if(An(c)){var w=!0;td(o)}else w=!1;if(wo(o,g),o.stateNode===null)_d(s,o),tT(o,c,h),jp(o,c,h,g),h=!0;else if(s===null){var x=o.stateNode,j=o.memoizedProps;x.props=j;var q=x.context,X=c.contextType;typeof X=="object"&&X!==null?X=ar(X):(X=An(c)?ta:on.current,X=po(o,X));var re=c.getDerivedStateFromProps,se=typeof re=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==h||q!==X)&&nT(o,x,h,X),ss=!1;var ne=o.memoizedState;x.state=ne,cd(o,h,x,g),q=o.memoizedState,j!==h||ne!==q||Cn.current||ss?(typeof re=="function"&&(Fp(o,c,re,h),q=o.memoizedState),(j=ss||eT(o,c,j,h,ne,q,X))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=q),x.props=h,x.state=q,x.context=X,h=j):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,A0(s,o),j=o.memoizedProps,X=o.type===o.elementType?j:Ar(o.type,j),x.props=X,se=o.pendingProps,ne=x.context,q=c.contextType,typeof q=="object"&&q!==null?q=ar(q):(q=An(c)?ta:on.current,q=po(o,q));var he=c.getDerivedStateFromProps;(re=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==se||ne!==q)&&nT(o,x,h,q),ss=!1,ne=o.memoizedState,x.state=ne,cd(o,h,x,g);var ve=o.memoizedState;j!==se||ne!==ve||Cn.current||ss?(typeof he=="function"&&(Fp(o,c,he,h),ve=o.memoizedState),(X=ss||eT(o,c,X,h,ne,ve,q)||!1)?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ve,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ve,q)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ve),x.props=h,x.state=ve,x.context=q,h=X):(typeof x.componentDidUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),h=!1)}return zp(s,o,c,h,w,g)}function zp(s,o,c,h,g,w){fT(s,o);var x=(o.flags&128)!==0;if(!h&&!x)return g&&y0(o,c,!1),Si(s,o,w);h=o.stateNode,nO.current=o;var j=x&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&x?(o.child=yo(o,s.child,null,w),o.child=yo(o,null,j,w)):bn(s,o,j,w),o.memoizedState=h.state,g&&y0(o,c,!0),o.child}function pT(s){var o=s.stateNode;o.pendingContext?g0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&g0(s,o.context,!1),Rp(s,o.containerInfo)}function mT(s,o,c,h,g){return vo(),_p(g),o.flags|=256,bn(s,o,c,h),o.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function gT(s,o,c){var h=o.pendingProps,g=ht.current,w=!1,x=(o.flags&128)!==0,j;if((j=x)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),nt(ht,g&1),s===null)return yp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(x=h.children,s=h.fallback,w?(h=o.mode,w=o.child,x={mode:"hidden",children:x},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=x):w=kd(x,h,0,null),s=da(s,h,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Hp(c),o.memoizedState=Bp,s):Wp(o,x));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return rO(s,o,x,h,j,g,c);if(w){w=h.fallback,x=o.mode,g=s.child,j=g.sibling;var q={mode:"hidden",children:h.children};return!(x&1)&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=q,o.deletions=null):(h=fs(g,q),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=fs(j,w):(w=da(w,x,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,x=s.child.memoizedState,x=x===null?Hp(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~c,o.memoizedState=Bp,h}return w=s.child,s=w.sibling,h=fs(w,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function Wp(s,o){return o=kd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function yd(s,o,c,h){return h!==null&&_p(h),yo(o,s.child,null,c),s=Wp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rO(s,o,c,h,g,w,x){if(c)return o.flags&256?(o.flags&=-257,h=Up(Error(t(422))),yd(s,o,x,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=kd({mode:"visible",children:h.children},g,0,null),w=da(w,g,x,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,o.mode&1&&yo(o,s.child,null,x),o.child.memoizedState=Hp(x),o.memoizedState=Bp,w);if(!(o.mode&1))return yd(s,o,x,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,w=Error(t(419)),h=Up(w,h,void 0),yd(s,o,x,h)}if(j=(x&s.childLanes)!==0,Pn||j){if(h=Ht,h!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|x)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ti(s,g),Dr(h,s,g,-1))}return um(),h=Up(Error(t(421))),yd(s,o,x,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=gO.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Qn=ts(g.nextSibling),Yn=o,ct=!0,Cr=null,s!==null&&(ir[sr++]=wi,ir[sr++]=Ei,ir[sr++]=na,wi=s.id,Ei=s.overflow,na=o),o=Wp(o,h.children),o.flags|=4096,o)}function vT(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),bp(s.return,o,c)}function Gp(s,o,c,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function yT(s,o,c){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(bn(s,o,h.children,c),h=ht.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vT(s,c,o);else if(s.tag===19)vT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&dd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Gp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&dd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Gp(o,!0,c,null,w);break;case"together":Gp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _d(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Si(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),oa|=o.lanes,!(c&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=fs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=fs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function iO(s,o,c){switch(o.tag){case 3:pT(o),vo();break;case 5:D0(o);break;case 1:An(o.type)&&td(o);break;case 4:Rp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;nt(od,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):c&o.child.childLanes?gT(s,o,c):(nt(ht,ht.current&1),s=Si(s,o,c),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(c&o.childLanes)!==0,s.flags&128){if(h)return yT(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,dT(s,o,c)}return Si(s,o,c)}var _T,Kp,wT,ET;_T=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Kp=function(){},wT=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,sa(Kr.current);var w=null;switch(c){case"input":g=gr(s,g),h=gr(s,h),w=[];break;case"select":g=ue({},g,{value:void 0}),h=ue({},h,{value:void 0}),w=[];break;case"textarea":g=Qt(s,g),h=Qt(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Jc)}gu(c,h);var x;c=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(x in j)j.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in h){var q=h[X];if(j=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&q!==j&&(q!=null||j!=null))if(X==="style")if(j){for(x in j)!j.hasOwnProperty(x)||q&&q.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in q)q.hasOwnProperty(x)&&j[x]!==q[x]&&(c||(c={}),c[x]=q[x])}else c||(w||(w=[]),w.push(X,c)),c=q;else X==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,j=j?j.__html:void 0,q!=null&&j!==q&&(w=w||[]).push(X,q)):X==="children"?typeof q!="string"&&typeof q!="number"||(w=w||[]).push(X,""+q):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(q!=null&&X==="onScroll"&&it("scroll",s),w||j===q||(w=[])):(w=w||[]).push(X,q))}c&&(w=w||[]).push("style",c);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},ET=function(s,o,c,h){c!==h&&(o.flags|=4)};function Qu(s,o){if(!ct)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function sO(s,o,c){var h=o.pendingProps;switch(gp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return An(o.type)&&ed(),ln(o),null;case 3:return h=o.stateNode,Eo(),st(Cn),st(on),Ap(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(sd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Cr!==null&&(sm(Cr),Cr=null))),Kp(s,o),ln(o),null;case 5:xp(o);var g=sa(Hu.current);if(c=o.type,s!==null&&o.stateNode!=null)wT(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return ln(o),null}if(s=sa(Kr.current),sd(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[Gr]=o,h[Uu]=w,s=(o.mode&1)!==0,c){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(g=0;g<Vu.length;g++)it(Vu[g],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":qe(h,w),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},it("invalid",h);break;case"textarea":ot(h,w),it("invalid",h)}gu(c,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var j=w[x];x==="children"?typeof j=="string"?h.textContent!==j&&(w.suppressHydrationWarning!==!0&&Xc(h.textContent,j,s),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&Xc(h.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&it("scroll",h)}switch(c){case"input":yn(h),$n(h,w,!0);break;case"textarea":yn(h),zn(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Jc)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ut(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(c,{is:h.is}):(s=x.createElement(c),c==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,c),s[Gr]=o,s[Uu]=h,_T(s,o,!1,!1),o.stateNode=s;e:{switch(x=vu(c,h),c){case"dialog":it("cancel",s),it("close",s),g=h;break;case"iframe":case"object":case"embed":it("load",s),g=h;break;case"video":case"audio":for(g=0;g<Vu.length;g++)it(Vu[g],s);g=h;break;case"source":it("error",s),g=h;break;case"img":case"image":case"link":it("error",s),it("load",s),g=h;break;case"details":it("toggle",s),g=h;break;case"input":qe(s,h),g=gr(s,h),it("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ue({},h,{value:void 0}),it("invalid",s);break;case"textarea":ot(s,h),g=Qt(s,h),it("invalid",s);break;default:g=h}gu(c,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var q=j[w];w==="style"?Bn(s,q):w==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Bi(s,q)):w==="children"?typeof q=="string"?(c!=="textarea"||q!=="")&&vr(s,q):typeof q=="number"&&vr(s,""+q):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?q!=null&&w==="onScroll"&&it("scroll",s):q!=null&&F(s,w,q,x))}switch(c){case"input":yn(s),$n(s,h,!1);break;case"textarea":yn(s),zn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Ot(s,!!h.multiple,w,!1):h.defaultValue!=null&&Ot(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Jc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(s&&o.stateNode!=null)ET(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=sa(Hu.current),sa(Kr.current),sd(o)){if(h=o.stateNode,c=o.memoizedProps,h[Gr]=o,(w=h.nodeValue!==c)&&(s=Yn,s!==null))switch(s.tag){case 3:Xc(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xc(h.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Gr]=o,o.stateNode=h}return ln(o),null;case 13:if(st(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Qn!==null&&o.mode&1&&!(o.flags&128))S0(),vo(),o.flags|=98560,w=!1;else if(w=sd(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Gr]=o}else vo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ln(o),w=!1}else Cr!==null&&(sm(Cr),Cr=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?Vt===0&&(Vt=3):um())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return Eo(),Kp(s,o),s===null&&Fu(o.stateNode.containerInfo),ln(o),null;case 10:return Tp(o.type._context),ln(o),null;case 17:return An(o.type)&&ed(),ln(o),null;case 19:if(st(ht),w=o.memoizedState,w===null)return ln(o),null;if(h=(o.flags&128)!==0,x=w.rendering,x===null)if(h)Qu(w,!1);else{if(Vt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(x=dd(s),x!==null){for(o.flags|=128,Qu(w,!1),h=x.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,s=h,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}w.tail!==null&&tt()>Io&&(o.flags|=128,h=!0,Qu(w,!1),o.lanes=4194304)}else{if(!h)if(s=dd(x),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Qu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!ct)return ln(o),null}else 2*tt()-w.renderingStartTime>Io&&c!==1073741824&&(o.flags|=128,h=!0,Qu(w,!1),o.lanes=4194304);w.isBackwards?(x.sibling=o.child,o.child=x):(c=w.last,c!==null?c.sibling=x:o.child=x,w.last=x)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=tt(),o.sibling=null,c=ht.current,nt(ht,h?c&1|2:c&1),o):(ln(o),null);case 22:case 23:return om(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Xn&1073741824&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function aO(s,o){switch(gp(o),o.tag){case 1:return An(o.type)&&ed(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Eo(),st(Cn),st(on),Ap(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return xp(o),null;case 13:if(st(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));vo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return st(ht),null;case 4:return Eo(),null;case 10:return Tp(o.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var wd=!1,cn=!1,oO=typeof WeakSet=="function"?WeakSet:Set,ge=null;function bo(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){yt(s,o,h)}else c.current=null}function Yp(s,o,c){try{c()}catch(h){yt(s,o,h)}}var TT=!1;function uO(s,o){if(op=Ji,s=e0(),Zh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var x=0,j=-1,q=-1,X=0,re=0,se=s,ne=null;t:for(;;){for(var he;se!==c||g!==0&&se.nodeType!==3||(j=x+g),se!==w||h!==0&&se.nodeType!==3||(q=x+h),se.nodeType===3&&(x+=se.nodeValue.length),(he=se.firstChild)!==null;)ne=se,se=he;for(;;){if(se===s)break t;if(ne===c&&++X===g&&(j=x),ne===w&&++re===h&&(q=x),(he=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=he}c=j===-1||q===-1?null:{start:j,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(up={focusedElem:s,selectionRange:c},Ji=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var _e=ve.memoizedProps,bt=ve.memoizedState,Y=o.stateNode,B=Y.getSnapshotBeforeUpdate(o.elementType===o.type?_e:Ar(o.type,_e),bt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){yt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=TT,TT=!1,ve}function Xu(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Yp(o,c,w)}g=g.next}while(g!==h)}}function Ed(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Qp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function bT(s){var o=s.alternate;o!==null&&(s.alternate=null,bT(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Gr],delete o[Uu],delete o[fp],delete o[BD],delete o[HD])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ST(s){return s.tag===5||s.tag===3||s.tag===4}function IT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ST(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Jc));else if(h!==4&&(s=s.child,s!==null))for(Xp(s,o,c),s=s.sibling;s!==null;)Xp(s,o,c),s=s.sibling}function Jp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Jp(s,o,c),s=s.sibling;s!==null;)Jp(s,o,c),s=s.sibling}var Zt=null,Pr=!1;function os(s,o,c){for(c=c.child;c!==null;)RT(s,o,c),c=c.sibling}function RT(s,o,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Gs,c)}catch{}switch(c.tag){case 5:cn||bo(c,o);case 6:var h=Zt,g=Pr;Zt=null,os(s,o,c),Zt=h,Pr=g,Zt!==null&&(Pr?(s=Zt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Zt.removeChild(c.stateNode));break;case 18:Zt!==null&&(Pr?(s=Zt,c=c.stateNode,s.nodeType===8?dp(s.parentNode,c):s.nodeType===1&&dp(s,c),Ir(s)):dp(Zt,c.stateNode));break;case 4:h=Zt,g=Pr,Zt=c.stateNode.containerInfo,Pr=!0,os(s,o,c),Zt=h,Pr=g;break;case 0:case 11:case 14:case 15:if(!cn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&(w&2||w&4)&&Yp(c,o,x),g=g.next}while(g!==h)}os(s,o,c);break;case 1:if(!cn&&(bo(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){yt(c,o,j)}os(s,o,c);break;case 21:os(s,o,c);break;case 22:c.mode&1?(cn=(h=cn)||c.memoizedState!==null,os(s,o,c),cn=h):os(s,o,c);break;default:os(s,o,c)}}function xT(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new oO),o.forEach(function(h){var g=vO.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function kr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=s,x=o,j=x;e:for(;j!==null;){switch(j.tag){case 5:Zt=j.stateNode,Pr=!1;break e;case 3:Zt=j.stateNode.containerInfo,Pr=!0;break e;case 4:Zt=j.stateNode.containerInfo,Pr=!0;break e}j=j.return}if(Zt===null)throw Error(t(160));RT(w,x,g),Zt=null,Pr=!1;var q=g.alternate;q!==null&&(q.return=null),g.return=null}catch(X){yt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)CT(o,s),o=o.sibling}function CT(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(o,s),Qr(s),h&4){try{Xu(3,s,s.return),Ed(3,s)}catch(_e){yt(s,s.return,_e)}try{Xu(5,s,s.return)}catch(_e){yt(s,s.return,_e)}}break;case 1:kr(o,s),Qr(s),h&512&&c!==null&&bo(c,c.return);break;case 5:if(kr(o,s),Qr(s),h&512&&c!==null&&bo(c,c.return),s.flags&32){var g=s.stateNode;try{vr(g,"")}catch(_e){yt(s,s.return,_e)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=c!==null?c.memoizedProps:w,j=s.type,q=s.updateQueue;if(s.updateQueue=null,q!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&qn(g,w),vu(j,x);var X=vu(j,w);for(x=0;x<q.length;x+=2){var re=q[x],se=q[x+1];re==="style"?Bn(g,se):re==="dangerouslySetInnerHTML"?Bi(g,se):re==="children"?vr(g,se):F(g,re,se,X)}switch(j){case"input":Ve(g,w);break;case"textarea":wn(g,w);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var he=w.value;he!=null?Ot(g,!!w.multiple,he,!1):ne!==!!w.multiple&&(w.defaultValue!=null?Ot(g,!!w.multiple,w.defaultValue,!0):Ot(g,!!w.multiple,w.multiple?[]:"",!1))}g[Uu]=w}catch(_e){yt(s,s.return,_e)}}break;case 6:if(kr(o,s),Qr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(_e){yt(s,s.return,_e)}}break;case 3:if(kr(o,s),Qr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(_e){yt(s,s.return,_e)}break;case 4:kr(o,s),Qr(s);break;case 13:kr(o,s),Qr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(tm=tt())),h&4&&xT(s);break;case 22:if(re=c!==null&&c.memoizedState!==null,s.mode&1?(cn=(X=cn)||re,kr(o,s),cn=X):kr(o,s),Qr(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!re&&s.mode&1)for(ge=s,re=s.child;re!==null;){for(se=ge=re;ge!==null;){switch(ne=ge,he=ne.child,ne.tag){case 0:case 11:case 14:case 15:Xu(4,ne,ne.return);break;case 1:bo(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){h=ne,c=ne.return;try{o=h,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(_e){yt(h,c,_e)}}break;case 5:bo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){kT(se);continue}}he!==null?(he.return=ne,ge=he):kT(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{g=se.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=se.stateNode,q=se.memoizedProps.style,x=q!=null&&q.hasOwnProperty("display")?q.display:null,j.style.display=In("display",x))}catch(_e){yt(s,s.return,_e)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(_e){yt(s,s.return,_e)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:kr(o,s),Qr(s),h&4&&xT(s);break;case 21:break;default:kr(o,s),Qr(s)}}function Qr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(ST(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(vr(g,""),h.flags&=-33);var w=IT(s);Jp(s,w,g);break;case 3:case 4:var x=h.stateNode.containerInfo,j=IT(s);Xp(s,j,x);break;default:throw Error(t(161))}}catch(q){yt(s,s.return,q)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function lO(s,o,c){ge=s,AT(s)}function AT(s,o,c){for(var h=(s.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&h){var x=g.memoizedState!==null||wd;if(!x){var j=g.alternate,q=j!==null&&j.memoizedState!==null||cn;j=wd;var X=cn;if(wd=x,(cn=q)&&!X)for(ge=g;ge!==null;)x=ge,q=x.child,x.tag===22&&x.memoizedState!==null?DT(g):q!==null?(q.return=x,ge=q):DT(g);for(;w!==null;)ge=w,AT(w),w=w.sibling;ge=g,wd=j,cn=X}PT(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ge=w):PT(s)}}function PT(s){for(;ge!==null;){var o=ge;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:cn||Ed(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!cn)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Ar(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&k0(o,w,h);break;case 3:var x=o.updateQueue;if(x!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}k0(o,x,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var q=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&c.focus();break;case"img":q.src&&(c.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Ir(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&Qp(o)}catch(ne){yt(o,o.return,ne)}}if(o===s){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function kT(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function DT(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Ed(4,o)}catch(q){yt(o,c,q)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(q){yt(o,g,q)}}var w=o.return;try{Qp(o)}catch(q){yt(o,w,q)}break;case 5:var x=o.return;try{Qp(o)}catch(q){yt(o,x,q)}}}catch(q){yt(o,o.return,q)}if(o===s){ge=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ge=j;break}ge=o.return}}var cO=Math.ceil,Td=V.ReactCurrentDispatcher,Zp=V.ReactCurrentOwner,ur=V.ReactCurrentBatchConfig,We=0,Ht=null,At=null,en=0,Xn=0,So=ns(0),Vt=0,Ju=null,oa=0,bd=0,em=0,Zu=null,kn=null,tm=0,Io=1/0,Ii=null,Sd=!1,nm=null,us=null,Id=!1,ls=null,Rd=0,el=0,rm=null,xd=-1,Cd=0;function Sn(){return We&6?tt():xd!==-1?xd:xd=tt()}function cs(s){return s.mode&1?We&2&&en!==0?en&-en:GD.transition!==null?(Cd===0&&(Cd=Ys()),Cd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Cu(s.type)),s):1}function Dr(s,o,c,h){if(50<el)throw el=0,rm=null,Error(t(185));Ki(s,c,h),(!(We&2)||s!==Ht)&&(s===Ht&&(!(We&2)&&(bd|=c),Vt===4&&ds(s,en)),Dn(s,h),c===1&&We===0&&!(o.mode&1)&&(Io=tt()+500,nd&&is()))}function Dn(s,o){var c=s.callbackNode;hi(s,o);var h=Ks(s,s===Ht?en:0);if(h===0)c!==null&&bu(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&bu(c),o===1)s.tag===0?WD(NT.bind(null,s)):_0(NT.bind(null,s)),$D(function(){!(We&6)&&is()}),c=null;else{switch(Qi(h)){case 1:c=Ws;break;case 4:c=Hi;break;case 16:c=tr;break;case 536870912:c=Cc;break;default:c=tr}c=$T(c,OT.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function OT(s,o){if(xd=-1,Cd=0,We&6)throw Error(t(327));var c=s.callbackNode;if(Ro()&&s.callbackNode!==c)return null;var h=Ks(s,s===Ht?en:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=Ad(s,h);else{o=h;var g=We;We|=2;var w=LT();(Ht!==s||en!==o)&&(Ii=null,Io=tt()+500,la(s,o));do try{hO();break}catch(j){MT(s,j)}while(!0);Ep(),Td.current=w,We=g,At!==null?o=0:(Ht=null,en=0,o=Vt)}if(o!==0){if(o===2&&(g=Wn(s),g!==0&&(h=g,o=im(s,g))),o===1)throw c=Ju,la(s,0),ds(s,h),Dn(s,tt()),c;if(o===6)ds(s,h);else{if(g=s.current.alternate,!(h&30)&&!dO(g)&&(o=Ad(s,h),o===2&&(w=Wn(s),w!==0&&(h=w,o=im(s,w))),o===1))throw c=Ju,la(s,0),ds(s,h),Dn(s,tt()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ca(s,kn,Ii);break;case 3:if(ds(s,h),(h&130023424)===h&&(o=tm+500-tt(),10<o)){if(Ks(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Sn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=cp(ca.bind(null,s,kn,Ii),o);break}ca(s,kn,Ii);break;case 4:if(ds(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var x=31-En(h);w=1<<x,x=o[x],x>g&&(g=x),h&=~w}if(h=g,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*cO(h/1960))-h,10<h){s.timeoutHandle=cp(ca.bind(null,s,kn,Ii),h);break}ca(s,kn,Ii);break;case 5:ca(s,kn,Ii);break;default:throw Error(t(329))}}}return Dn(s,tt()),s.callbackNode===c?OT.bind(null,s):null}function im(s,o){var c=Zu;return s.current.memoizedState.isDehydrated&&(la(s,o).flags|=256),s=Ad(s,o),s!==2&&(o=kn,kn=c,o!==null&&sm(o)),s}function sm(s){kn===null?kn=s:kn.push.apply(kn,s)}function dO(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!xr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ds(s,o){for(o&=~em,o&=~bd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-En(o),h=1<<c;s[c]=-1,o&=~h}}function NT(s){if(We&6)throw Error(t(327));Ro();var o=Ks(s,0);if(!(o&1))return Dn(s,tt()),null;var c=Ad(s,o);if(s.tag!==0&&c===2){var h=Wn(s);h!==0&&(o=h,c=im(s,h))}if(c===1)throw c=Ju,la(s,0),ds(s,o),Dn(s,tt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ca(s,kn,Ii),Dn(s,tt()),null}function am(s,o){var c=We;We|=1;try{return s(o)}finally{We=c,We===0&&(Io=tt()+500,nd&&is())}}function ua(s){ls!==null&&ls.tag===0&&!(We&6)&&Ro();var o=We;We|=1;var c=ur.transition,h=$e;try{if(ur.transition=null,$e=1,s)return s()}finally{$e=h,ur.transition=c,We=o,!(We&6)&&is()}}function om(){Xn=So.current,st(So)}function la(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,qD(c)),At!==null)for(c=At.return;c!==null;){var h=c;switch(gp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ed();break;case 3:Eo(),st(Cn),st(on),Ap();break;case 5:xp(h);break;case 4:Eo();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Tp(h.type._context);break;case 22:case 23:om()}c=c.return}if(Ht=s,At=s=fs(s.current,null),en=Xn=o,Vt=0,Ju=null,em=bd=oa=0,kn=Zu=null,ia!==null){for(o=0;o<ia.length;o++)if(c=ia[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var x=w.next;w.next=g,h.next=x}c.pending=h}ia=null}return s}function MT(s,o){do{var c=At;try{if(Ep(),fd.current=gd,hd){for(var h=pt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}hd=!1}if(aa=0,Bt=Lt=pt=null,Wu=!1,Gu=0,Zp.current=null,c===null||c.return===null){Vt=1,Ju=o,At=null;break}e:{var w=s,x=c.return,j=c,q=o;if(o=en,j.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var X=q,re=j,se=re.tag;if(!(re.mode&1)&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var he=aT(x);if(he!==null){he.flags&=-257,oT(he,x,j,w,o),he.mode&1&&sT(w,X,o),o=he,q=X;var ve=o.updateQueue;if(ve===null){var _e=new Set;_e.add(q),o.updateQueue=_e}else ve.add(q);break e}else{if(!(o&1)){sT(w,X,o),um();break e}q=Error(t(426))}}else if(ct&&j.mode&1){var bt=aT(x);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),oT(bt,x,j,w,o),_p(To(q,j));break e}}w=q=To(q,j),Vt!==4&&(Vt=2),Zu===null?Zu=[w]:Zu.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var Y=rT(w,q,o);P0(w,Y);break e;case 1:j=q;var B=w.type,Q=w.stateNode;if(!(w.flags&128)&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(us===null||!us.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=iT(w,j,o);P0(w,ae);break e}}w=w.return}while(w!==null)}FT(c)}catch(Ee){o=Ee,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function LT(){var s=Td.current;return Td.current=gd,s===null?gd:s}function um(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ht===null||!(oa&268435455)&&!(bd&268435455)||ds(Ht,en)}function Ad(s,o){var c=We;We|=2;var h=LT();(Ht!==s||en!==o)&&(Ii=null,la(s,o));do try{fO();break}catch(g){MT(s,g)}while(!0);if(Ep(),We=c,Td.current=h,At!==null)throw Error(t(261));return Ht=null,en=0,Vt}function fO(){for(;At!==null;)VT(At)}function hO(){for(;At!==null&&!Rc();)VT(At)}function VT(s){var o=qT(s.alternate,s,Xn);s.memoizedProps=s.pendingProps,o===null?FT(s):At=o,Zp.current=null}function FT(s){var o=s;do{var c=o.alternate;if(s=o.return,o.flags&32768){if(c=aO(c,o),c!==null){c.flags&=32767,At=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,At=null;return}}else if(c=sO(c,o,Xn),c!==null){At=c;return}if(o=o.sibling,o!==null){At=o;return}At=o=s}while(o!==null);Vt===0&&(Vt=5)}function ca(s,o,c){var h=$e,g=ur.transition;try{ur.transition=null,$e=1,pO(s,o,c,h)}finally{ur.transition=g,$e=h}return null}function pO(s,o,c,h){do Ro();while(ls!==null);if(We&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ze(s,w),s===Ht&&(At=Ht=null,en=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Id||(Id=!0,$T(tr,function(){return Ro(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=ur.transition,ur.transition=null;var x=$e;$e=1;var j=We;We|=4,Zp.current=null,uO(s,c),CT(c,s),ND(up),Ji=!!op,up=op=null,s.current=c,lO(c),Hh(),We=j,$e=x,ur.transition=w}else s.current=c;if(Id&&(Id=!1,ls=s,Rd=g),w=s.pendingLanes,w===0&&(us=null),Ac(c.stateNode),Dn(s,tt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Sd)throw Sd=!1,s=nm,nm=null,s;return Rd&1&&s.tag!==0&&Ro(),w=s.pendingLanes,w&1?s===rm?el++:(el=0,rm=s):el=0,is(),null}function Ro(){if(ls!==null){var s=Qi(Rd),o=ur.transition,c=$e;try{if(ur.transition=null,$e=16>s?16:s,ls===null)var h=!1;else{if(s=ls,ls=null,Rd=0,We&6)throw Error(t(331));var g=We;for(We|=4,ge=s.current;ge!==null;){var w=ge,x=w.child;if(ge.flags&16){var j=w.deletions;if(j!==null){for(var q=0;q<j.length;q++){var X=j[q];for(ge=X;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:Xu(8,re,w)}var se=re.child;if(se!==null)se.return=re,ge=se;else for(;ge!==null;){re=ge;var ne=re.sibling,he=re.return;if(bT(re),re===X){ge=null;break}if(ne!==null){ne.return=he,ge=ne;break}ge=he}}}var ve=w.alternate;if(ve!==null){var _e=ve.child;if(_e!==null){ve.child=null;do{var bt=_e.sibling;_e.sibling=null,_e=bt}while(_e!==null)}}ge=w}}if(w.subtreeFlags&2064&&x!==null)x.return=w,ge=x;else e:for(;ge!==null;){if(w=ge,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Xu(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var B=s.current;for(ge=B;ge!==null;){x=ge;var Q=x.child;if(x.subtreeFlags&2064&&Q!==null)Q.return=x,ge=Q;else e:for(x=B;ge!==null;){if(j=ge,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Ed(9,j)}}catch(Ee){yt(j,j.return,Ee)}if(j===x){ge=null;break e}var ae=j.sibling;if(ae!==null){ae.return=j.return,ge=ae;break e}ge=j.return}}if(We=g,is(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Gs,s)}catch{}h=!0}return h}finally{$e=c,ur.transition=o}}return!1}function jT(s,o,c){o=To(c,o),o=rT(s,o,1),s=as(s,o,1),o=Sn(),s!==null&&(Ki(s,1,o),Dn(s,o))}function yt(s,o,c){if(s.tag===3)jT(s,s,c);else for(;o!==null;){if(o.tag===3){jT(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){s=To(c,s),s=iT(o,s,1),o=as(o,s,1),s=Sn(),o!==null&&(Ki(o,1,s),Dn(o,s));break}}o=o.return}}function mO(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Sn(),s.pingedLanes|=s.suspendedLanes&c,Ht===s&&(en&c)===c&&(Vt===4||Vt===3&&(en&130023424)===en&&500>tt()-tm?la(s,0):em|=c),Dn(s,o)}function UT(s,o){o===0&&(s.mode&1?(o=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):o=1);var c=Sn();s=Ti(s,o),s!==null&&(Ki(s,o,c),Dn(s,c))}function gO(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),UT(s,c)}function vO(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),UT(s,c)}var qT;qT=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Cn.current)Pn=!0;else{if(!(s.lanes&c)&&!(o.flags&128))return Pn=!1,iO(s,o,c);Pn=!!(s.flags&131072)}else Pn=!1,ct&&o.flags&1048576&&w0(o,id,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;_d(s,o),s=o.pendingProps;var g=po(o,on.current);wo(o,c),g=Dp(null,o,h,s,g,c);var w=Op();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,An(h)?(w=!0,td(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ip(o),g.updater=vd,o.stateNode=g,g._reactInternals=o,jp(o,h,s,c),o=zp(null,o,h,!0,w,c)):(o.tag=0,ct&&w&&mp(o),bn(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(_d(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=_O(h),s=Ar(h,s),g){case 0:o=$p(null,o,h,s,c);break e;case 1:o=hT(null,o,h,s,c);break e;case 11:o=uT(null,o,h,s,c);break e;case 14:o=lT(null,o,h,Ar(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),$p(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),hT(s,o,h,g,c);case 3:e:{if(pT(o),s===null)throw Error(t(387));h=o.pendingProps,w=o.memoizedState,g=w.element,A0(s,o),cd(o,h,null,c);var x=o.memoizedState;if(h=x.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=To(Error(t(423)),o),o=mT(s,o,h,c,g);break e}else if(h!==g){g=To(Error(t(424)),o),o=mT(s,o,h,c,g);break e}else for(Qn=ts(o.stateNode.containerInfo.firstChild),Yn=o,ct=!0,Cr=null,c=x0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(vo(),h===g){o=Si(s,o,c);break e}bn(s,o,h,c)}o=o.child}return o;case 5:return D0(o),s===null&&yp(o),h=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,lp(h,g)?x=null:w!==null&&lp(h,w)&&(o.flags|=32),fT(s,o),bn(s,o,x,c),o.child;case 6:return s===null&&yp(o),null;case 13:return gT(s,o,c);case 4:return Rp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=yo(o,null,h,c):bn(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),uT(s,o,h,g,c);case 7:return bn(s,o,o.pendingProps,c),o.child;case 8:return bn(s,o,o.pendingProps.children,c),o.child;case 12:return bn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,x=g.value,nt(od,h._currentValue),h._currentValue=x,w!==null)if(xr(w.value,x)){if(w.children===g.children&&!Cn.current){o=Si(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var j=w.dependencies;if(j!==null){x=w.child;for(var q=j.firstContext;q!==null;){if(q.context===h){if(w.tag===1){q=bi(-1,c&-c),q.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?q.next=q:(q.next=re.next,re.next=q),X.pending=q}}w.lanes|=c,q=w.alternate,q!==null&&(q.lanes|=c),bp(w.return,c,o),j.lanes|=c;break}q=q.next}}else if(w.tag===10)x=w.type===o.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(t(341));x.lanes|=c,j=x.alternate,j!==null&&(j.lanes|=c),bp(x,c,o),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===o){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}bn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,wo(o,c),g=ar(g),h=h(g),o.flags|=1,bn(s,o,h,c),o.child;case 14:return h=o.type,g=Ar(h,o.pendingProps),g=Ar(h.type,g),lT(s,o,h,g,c);case 15:return cT(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),_d(s,o),o.tag=1,An(h)?(s=!0,td(o)):s=!1,wo(o,c),tT(o,h,g),jp(o,h,g,c),zp(null,o,h,!0,s,c);case 19:return yT(s,o,c);case 22:return dT(s,o,c)}throw Error(t(156,o.tag))};function $T(s,o){return Wa(s,o)}function yO(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(s,o,c,h){return new yO(s,o,c,h)}function lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _O(s){if(typeof s=="function")return lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Te)return 14}return 2}function fs(s,o){var c=s.alternate;return c===null?(c=lr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Pd(s,o,c,h,g,w){var x=2;if(h=s,typeof s=="function")lm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case k:return da(c.children,g,w,o);case R:x=8,g|=8;break;case C:return s=lr(12,c,o,g|2),s.elementType=C,s.lanes=w,s;case D:return s=lr(13,c,o,g),s.elementType=D,s.lanes=w,s;case ce:return s=lr(19,c,o,g),s.elementType=ce,s.lanes=w,s;case ye:return kd(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case M:x=9;break e;case U:x=11;break e;case Te:x=14;break e;case we:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=lr(x,c,o,g),o.elementType=s,o.type=h,o.lanes=w,o}function da(s,o,c,h){return s=lr(7,s,h,o),s.lanes=c,s}function kd(s,o,c,h){return s=lr(22,s,h,o),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function cm(s,o,c){return s=lr(6,s,null,o),s.lanes=c,s}function dm(s,o,c){return o=lr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function wO(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function fm(s,o,c,h,g,w,x,j,q){return s=new wO(s,o,c,j,q),o===1?(o=1,w===!0&&(o|=8)):o=0,w=lr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(w),s}function EO(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function zT(s){if(!s)return rs;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(An(c))return v0(s,c,o)}return o}function BT(s,o,c,h,g,w,x,j,q){return s=fm(c,h,!0,s,g,w,x,j,q),s.context=zT(null),c=s.current,h=Sn(),g=cs(c),w=bi(h,g),w.callback=o??null,as(c,w,g),s.current.lanes=g,Ki(s,g,h),Dn(s,h),s}function Dd(s,o,c,h){var g=o.current,w=Sn(),x=cs(g);return c=zT(c),o.context===null?o.context=c:o.pendingContext=c,o=bi(w,x),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=as(g,o,x),s!==null&&(Dr(s,g,x,w),ld(s,g,x)),x}function Od(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function HT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function hm(s,o){HT(s,o),(s=s.alternate)&&HT(s,o)}var WT=typeof reportError=="function"?reportError:function(s){console.error(s)};function pm(s){this._internalRoot=s}Nd.prototype.render=pm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Dd(s,o,null,null)},Nd.prototype.unmount=pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ua(function(){Dd(null,s,null,null)}),o[yi]=null}};function Nd(s){this._internalRoot=s}Nd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Nc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<zr.length&&o!==0&&o<zr[c].priority;c++);zr.splice(c,0,s),c===0&&Vc(s)}};function mm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Md(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function GT(){}function TO(s,o,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var X=Od(x);w.call(X)}}var x=BT(o,h,s,0,null,!1,!1,"",GT);return s._reactRootContainer=x,s[yi]=x.current,Fu(s.nodeType===8?s.parentNode:s),ua(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var X=Od(q);j.call(X)}}var q=fm(s,0,!1,null,null,!1,!1,"",GT);return s._reactRootContainer=q,s[yi]=q.current,Fu(s.nodeType===8?s.parentNode:s),ua(function(){Dd(o,q,c,h)}),q}function Ld(s,o,c,h,g){var w=c._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var j=g;g=function(){var q=Od(x);j.call(q)}}Dd(o,x,s,g)}else x=TO(c,o,s,g,h);return Od(x)}Dc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Wi(o.pendingLanes);c!==0&&(Yi(o,c|1),Dn(o,tt()),!(We&6)&&(Io=tt()+500,is()))}break;case 13:ua(function(){var h=Ti(s,1);if(h!==null){var g=Sn();Dr(h,s,1,g)}}),hm(s,1)}},Ya=function(s){if(s.tag===13){var o=Ti(s,134217728);if(o!==null){var c=Sn();Dr(o,s,134217728,c)}hm(s,134217728)}},Oc=function(s){if(s.tag===13){var o=cs(s),c=Ti(s,o);if(c!==null){var h=Sn();Dr(c,s,o,h)}hm(s,o)}},Nc=function(){return $e},Mc=function(s,o){var c=$e;try{return $e=s,o()}finally{$e=c}},Ua=function(s,o,c){switch(o){case"input":if(Ve(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=Zc(h);if(!g)throw Error(t(90));Fr(h),Ve(h,g)}}}break;case"textarea":wn(s,c);break;case"select":o=c.value,o!=null&&Ot(s,!!c.multiple,o,!1)}},$s=am,_u=ua;var bO={usingClientEntryPoint:!1,Events:[qu,fo,Zc,qr,yu,am]},tl={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SO={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tu(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Gs=Vd.inject(SO),Hn=Vd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bO,On.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(o))throw Error(t(200));return EO(s,o,null,c)},On.createRoot=function(s,o){if(!mm(s))throw Error(t(299));var c=!1,h="",g=WT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=fm(s,1,!1,null,null,c,!1,h,g),s[yi]=o.current,Fu(s.nodeType===8?s.parentNode:s),new pm(o)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tu(o),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return ua(s)},On.hydrate=function(s,o,c){if(!Md(o))throw Error(t(200));return Ld(null,s,o,!0,c)},On.hydrateRoot=function(s,o,c){if(!mm(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",x=WT;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),o=BT(o,null,s,1,c??null,g,!1,w,x),s[yi]=o.current,Fu(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Nd(o)},On.render=function(s,o,c){if(!Md(o))throw Error(t(200));return Ld(null,s,o,!1,c)},On.unmountComponentAtNode=function(s){if(!Md(s))throw Error(t(40));return s._reactRootContainer?(ua(function(){Ld(null,null,s,!1,function(){s._reactRootContainer=null,s[yi]=null})}),!0):!1},On.unstable_batchedUpdates=am,On.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!Md(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ld(s,o,c,!1,h)},On.version="18.3.1-next-f1338f8080-20240426",On}var t1;function Xx(){if(t1)return ym.exports;t1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ym.exports=OO(),ym.exports}var n1;function NO(){if(n1)return jd;n1=1;var n=Xx();return jd.createRoot=n.createRoot,jd.hydrateRoot=n.hydrateRoot,jd}var MO=NO(),rl={},r1;function LO(){if(r1)return rl;r1=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.parse=u,rl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,E){const b=new a,S=_.length;if(S<2)return b;const I=(E==null?void 0:E.decode)||m;let A=0;do{const P=_.indexOf("=",A);if(P===-1)break;const F=_.indexOf(";",A),V=F===-1?S:F;if(P>V){A=_.lastIndexOf(";",P-1)+1;continue}const H=l(_,A,P),z=d(_,P,H),k=_.slice(H,z);if(b[k]===void 0){let R=l(_,P+1,V),C=d(_,V,R);const N=I(_.slice(R,C));b[k]=N}A=V+1}while(A<S);return b}function l(_,E,b){do{const S=_.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<b);return b}function d(_,E,b){for(;E>b;){const S=_.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return b}function p(_,E,b){const S=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=S(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let A=_+"="+I;if(!b)return A;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);A+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);A+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);A+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);A+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(A+="; HttpOnly"),b.secure&&(A+="; Secure"),b.partitioned&&(A+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return A}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return i.call(_)==="[object Date]"}return rl}LO();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i1="popstate";function VO(n={}){function e(i,a){let{pathname:u="/",search:l="",hash:d=""}=Na(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),w_("",{pathname:u,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let u=i.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");l=p===-1?d:d.slice(0,p)}return l+"#"+(typeof a=="string"?a:Cl(a))}function r(i,a){dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return jO(e,t,r,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FO(){return Math.random().toString(36).substring(2,10)}function s1(n,e){return{usr:n.state,key:n.key,idx:e}}function w_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||r||FO()}}function Cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function jO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,l="POP",d=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){l="POP";let I=m(),A=I==null?null:I-p;p=I,d&&d({action:l,location:S.location,delta:A})}function _(I,A){l="PUSH";let P=w_(S.location,I,A);t(P,I),p=m()+1;let F=s1(P,p),V=S.createHref(P);try{u.pushState(F,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(V)}a&&d&&d({action:l,location:S.location,delta:1})}function E(I,A){l="REPLACE";let P=w_(S.location,I,A);t(P,I),p=m();let F=s1(P,p),V=S.createHref(P);u.replaceState(F,"",V),a&&d&&d({action:l,location:S.location,delta:0})}function b(I){let A=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof I=="string"?I:Cl(I);return P=P.replace(/ $/,"%20"),ft(A,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,A)}let S={get action(){return l},get location(){return n(i,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(i1,v),d=I,()=>{i.removeEventListener(i1,v),d=null}},createHref(I){return e(i,I)},createURL:b,encodeLocation(I){let A=b(I);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:E,go(I){return u.go(I)}};return S}function Jx(n,e,t="/"){return UO(n,e,t,!1)}function UO(n,e,t,r){let i=typeof e=="string"?Na(e):e,a=Is(i.pathname||"/",t);if(a==null)return null;let u=Zx(n);qO(u);let l=null;for(let d=0;l==null&&d<u.length;++d){let p=JO(a);l=QO(u[d],p,r)}return l}function Zx(n,e=[],t=[],r=""){let i=(a,u,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(ft(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Oi([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Zx(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:KO(p,a.index),routesMeta:m})};return n.forEach((a,u)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,u);else for(let d of eC(a.path))i(a,u,d)}),e}function eC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=eC(r.join("/")),l=[];return l.push(...u.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...u),l.map(d=>n.startsWith("/")&&d===""?"/":d)}function qO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $O=/^:[\w-]+$/,zO=3,BO=2,HO=1,WO=10,GO=-2,a1=n=>n==="*";function KO(n,e){let t=n.split("/"),r=t.length;return t.some(a1)&&(r+=GO),e&&(r+=BO),t.filter(i=>!a1(i)).reduce((i,a)=>i+($O.test(a)?zO:a===""?HO:WO),r)}function YO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function QO(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",u=[];for(let l=0;l<r.length;++l){let d=r[l],p=l===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=Tf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),_=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Tf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Oi([a,v.pathname]),pathnameBase:n2(Oi([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=Oi([a,v.pathnameBase]))}return u}function Tf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=XO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},_)=>{if(m==="*"){let b=l[_]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const E=l[_];return v&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function XO(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Is(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Na(n):n;return{pathname:t?t.startsWith("/")?t:e2(t,e):e,search:r2(r),hash:i2(i)}}function e2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Em(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sw(n){let e=t2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function aw(n,e,t,r=!1){let i;typeof n=="string"?i=Na(n):(i={...n},ft(!i.pathname||!i.pathname.includes("?"),Em("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Em("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Em("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,l;if(u==null)l=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}l=v>=0?e[v]:"/"}let d=ZO(i,l),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),n2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),r2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var tC=["POST","PUT","PATCH","DELETE"];new Set(tC);var a2=["GET",...tC];new Set(a2);var eu=$.createContext(null);eu.displayName="DataRouter";var Jf=$.createContext(null);Jf.displayName="DataRouterState";var nC=$.createContext({isTransitioning:!1});nC.displayName="ViewTransition";var o2=$.createContext(new Map);o2.displayName="Fetchers";var u2=$.createContext(null);u2.displayName="Await";var Vr=$.createContext(null);Vr.displayName="Navigation";var Jl=$.createContext(null);Jl.displayName="Location";var ui=$.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var ow=$.createContext(null);ow.displayName="RouteError";function l2(n,{relative:e}={}){ft(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Vr),{hash:i,pathname:a,search:u}=Zl(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Oi([t,a])),r.createHref({pathname:l,search:u,hash:i})}function tu(){return $.useContext(Jl)!=null}function li(){return ft(tu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Jl).location}var rC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iC(n){$.useContext(Vr).static||$.useLayoutEffect(n)}function Ma(){let{isDataRoute:n}=$.useContext(ui);return n?T2():c2()}function c2(){ft(tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(eu),{basename:e,navigator:t}=$.useContext(Vr),{matches:r}=$.useContext(ui),{pathname:i}=li(),a=JSON.stringify(sw(r)),u=$.useRef(!1);return iC(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(dr(u.current,rC),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=aw(d,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,i,n])}$.createContext(null);function Zl(n,{relative:e}={}){let{matches:t}=$.useContext(ui),{pathname:r}=li(),i=JSON.stringify(sw(t));return $.useMemo(()=>aw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function d2(n,e){return sC(n,e)}function sC(n,e,t,r){var A;ft(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(Vr),{matches:a}=$.useContext(ui),u=a[a.length-1],l=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let P=m&&m.path||"";aC(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=li(),_;if(e){let P=typeof e=="string"?Na(e):e;ft(p==="/"||((A=P.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=v;let E=_.pathname||"/",b=E;if(p!=="/"){let P=p.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Jx(n,{pathname:b});dr(m||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),dr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=g2(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Oi([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Oi([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&I?$.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function f2(){let n=E2(),e=s2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,u)}var h2=$.createElement(f2,null),p2=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ui.Provider,{value:this.props.routeContext},$.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:n,match:e,children:t}){let r=$.useContext(eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ui.Provider,{value:n},t)}function g2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,l=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:m,errors:v}=t,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){u=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let v,_=!1,E=null,b=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,E=p.route.errorElement||h2,u&&(l<0&&m===0?(aC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):l===m&&(_=!0,b=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),I=()=>{let A;return v?A=E:_?A=b:p.route.Component?A=$.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,$.createElement(m2,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?$.createElement(p2,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function uw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v2(n){let e=$.useContext(eu);return ft(e,uw(n)),e}function y2(n){let e=$.useContext(Jf);return ft(e,uw(n)),e}function _2(n){let e=$.useContext(ui);return ft(e,uw(n)),e}function lw(n){let e=_2(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function w2(){return lw("useRouteId")}function E2(){var r;let n=$.useContext(ow),e=y2("useRouteError"),t=lw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function T2(){let{router:n}=v2("useNavigate"),e=lw("useNavigate"),t=$.useRef(!1);return iC(()=>{t.current=!0}),$.useCallback(async(i,a={})=>{dr(t.current,rC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var o1={};function aC(n,e,t){!e&&!o1[n]&&(o1[n]=!0,dr(!1,t))}$.memo(b2);function b2({routes:n,future:e,state:t}){return sC(n,void 0,t,e)}function cl({to:n,replace:e,state:t,relative:r}){ft(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=$.useContext(Vr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(ui),{pathname:u}=li(),l=Ma(),d=aw(n,sw(a),u,r==="path"),p=JSON.stringify(d);return $.useEffect(()=>{l(JSON.parse(p),{replace:e,state:t,relative:r})},[l,p,r,e,t]),null}function xi(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ft(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=Na(t));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:_="default"}=t,E=$.useMemo(()=>{let b=Is(d,u);return b==null?null:{location:{pathname:b,search:p,hash:m,state:v,key:_},navigationType:r}},[u,d,p,m,v,_,r]);return dr(E!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:$.createElement(Vr.Provider,{value:l},$.createElement(Jl.Provider,{children:e,value:E}))}function I2({children:n,location:e}){return d2(E_(n),e)}function E_(n,e=[]){let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){t.push.apply(t,E_(r.props.children,a));return}ft(r.type===xi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=E_(r.props.children,a)),t.push(u)}),t}var Jd="get",Zd="application/x-www-form-urlencoded";function Zf(n){return n!=null&&typeof n.tagName=="string"}function R2(n){return Zf(n)&&n.tagName.toLowerCase()==="button"}function x2(n){return Zf(n)&&n.tagName.toLowerCase()==="form"}function C2(n){return Zf(n)&&n.tagName.toLowerCase()==="input"}function A2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function P2(n,e){return n.button===0&&(!e||e==="_self")&&!A2(n)}var Ud=null;function k2(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(n){return n!=null&&!D2.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):n}function O2(n,e){let t,r,i,a,u;if(x2(n)){let l=n.getAttribute("action");r=l?Is(l,e):null,t=n.getAttribute("method")||Jd,i=Tm(n.getAttribute("enctype"))||Zd,a=new FormData(n)}else if(R2(n)||C2(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||l.getAttribute("action");if(r=d?Is(d,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Jd,i=Tm(n.getAttribute("formenctype"))||Tm(l.getAttribute("enctype"))||Zd,a=new FormData(l,n),!k2()){let{name:p,type:m,value:v}=n;if(m==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,v)}}else{if(Zf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jd,r=null,i=Zd,u=n}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:u}}function cw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function N2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function L2(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await N2(a,t);return u.links?u.links():[]}return[]}));return U2(r.flat(1).filter(M2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function u1(n,e,t,r,i,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,l=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||l(d,p)):a==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,p)||l(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function V2(n,e){return F2(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function F2(n){return[...new Set(n)]}function j2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function U2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(j2(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function q2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $2(){let n=$.useContext(eu);return cw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function z2(){let n=$.useContext(Jf);return cw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dw=$.createContext(void 0);dw.displayName="FrameworkContext";function oC(){let n=$.useContext(dw);return cw(n,"You must render this element inside a <HydratedRouter> element"),n}function B2(n,e){let t=$.useContext(dw),[r,i]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,_=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=A=>{A.forEach(P=>{u(P.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:il(l,E),onBlur:il(d,b),onMouseEnter:il(p,E),onMouseLeave:il(m,b),onTouchStart:il(v,E)}]:[!1,_,{}]}function il(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function H2({page:n,...e}){let{router:t}=$2(),r=$.useMemo(()=>Jx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(G2,{page:n,matches:r,...e}):null}function W2(n){let{manifest:e,routeModules:t}=oC(),[r,i]=$.useState([]);return $.useEffect(()=>{let a=!1;return L2(n,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[n,e,t]),r}function G2({page:n,matches:e,...t}){let r=li(),{manifest:i,routeModules:a}=oC(),{loaderData:u,matches:l}=z2(),d=$.useMemo(()=>u1(n,e,l,i,r,"data"),[n,e,l,i,r]),p=$.useMemo(()=>u1(n,e,l,i,r,"assets"),[n,e,l,i,r]),m=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,b=!1;if(e.forEach(I=>{var P;let A=i.routes[I.route.id];!A||!A.hasLoader||(!d.some(F=>F.route.id===I.route.id)&&I.route.id in u&&((P=a[I.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?b=!0:E.add(I.route.id))}),E.size===0)return[];let S=q2(n);return b&&E.size>0&&S.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[u,r,i,d,e,n,a]),v=$.useMemo(()=>V2(p,i),[p,i]),_=W2(p);return $.createElement($.Fragment,null,m.map(E=>$.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>$.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:b})=>$.createElement("link",{key:E,...b})))}function K2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uC&&(window.__reactRouterVersion="7.1.1")}catch{}function Y2({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=VO({window:t,v5Compat:!0}));let i=r.current,[a,u]=$.useState({action:i.action,location:i.location}),l=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>i.listen(l),[i,l]),$.createElement(S2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var lC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cC=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:l,target:d,to:p,preventScrollReset:m,viewTransition:v,..._},E){let{basename:b}=$.useContext(Vr),S=typeof p=="string"&&lC.test(p),I,A=!1;if(typeof p=="string"&&S&&(I=p,uC))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),M=Is(N.pathname,b);N.origin===C.origin&&M!=null?p=M+N.search+N.hash:A=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=l2(p,{relative:i}),[F,V,H]=B2(r,_),z=Z2(p,{replace:u,state:l,target:d,preventScrollReset:m,relative:i,viewTransition:v});function k(C){e&&e(C),C.defaultPrevented||z(C)}let R=$.createElement("a",{..._,...H,href:I||P,onClick:A||a?e:k,ref:K2(E,V),target:d,"data-discover":!S&&t==="render"?"true":void 0});return F&&!S?$.createElement($.Fragment,null,R,$.createElement(H2,{page:P})):R});cC.displayName="Link";var Q2=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:l,children:d,...p},m){let v=Zl(u,{relative:p.relative}),_=li(),E=$.useContext(Jf),{navigator:b,basename:S}=$.useContext(Vr),I=E!=null&&iN(v)&&l===!0,A=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,P=_.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(P=P.toLowerCase(),F=F?F.toLowerCase():null,A=A.toLowerCase()),F&&S&&(F=Is(F,S)||F);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=P===A||!i&&P.startsWith(A)&&P.charAt(V)==="/",z=F!=null&&(F===A||!i&&F.startsWith(A)&&F.charAt(A.length)==="/"),k={isActive:H,isPending:z,isTransitioning:I},R=H?e:void 0,C;typeof r=="function"?C=r(k):C=[r,H?"active":null,z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return $.createElement(cC,{...p,"aria-current":R,className:C,ref:m,style:N,to:u,viewTransition:l},typeof d=="function"?d(k):d)});Q2.displayName="NavLink";var X2=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:u=Jd,action:l,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,..._},E)=>{let b=nN(),S=rN(l,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&lC.test(l),P=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let V=F.nativeEvent.submitter,H=(V==null?void 0:V.getAttribute("formmethod"))||u;b(V||F.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return $.createElement("form",{ref:E,method:I,action:S,onSubmit:r?d:P,..._,"data-discover":!A&&n==="render"?"true":void 0})});X2.displayName="Form";function J2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(n){let e=$.useContext(eu);return ft(e,J2(n)),e}function Z2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let l=Ma(),d=li(),p=Zl(n,{relative:a});return $.useCallback(m=>{if(P2(m,e)){m.preventDefault();let v=t!==void 0?t:Cl(d)===Cl(p);l(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[d,l,p,t,r,e,n,i,a,u])}var eN=0,tN=()=>`__${String(++eN)}__`;function nN(){let{router:n}=dC("useSubmit"),{basename:e}=$.useContext(Vr),t=w2();return $.useCallback(async(r,i={})=>{let{action:a,method:u,encType:l,formData:d,body:p}=O2(r,e);if(i.navigate===!1){let m=i.fetcherKey||tN();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function rN(n,{relative:e}={}){let{basename:t}=$.useContext(Vr),r=$.useContext(ui);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=li();if(n==null){a.search=u.search;let l=new URLSearchParams(a.search),d=l.getAll("index");if(d.some(m=>m==="")){l.delete("index"),d.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Oi([t,a.pathname])),Cl(a)}function iN(n,e={}){let t=$.useContext(nC);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dC("useViewTransitionState"),i=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Is(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Is(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tf(i.pathname,u)!=null||Tf(i.pathname,a)!=null}new TextEncoder;var sN=Xx();const fC=jn(sN);var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],l=n[t++],d=((i&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,l=u?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=a>>2,v=(a&3)<<4|l>>4;let _=(l&15)<<2|p>>6,E=p&63;d||(E=64,u||(_=64)),r.push(t[m],t[v],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||l==null||p==null||v==null)throw new oN;const _=a<<2|l>>4;if(r.push(_),p!==64){const E=l<<4&240|p>>2;if(r.push(E),v!==64){const b=p<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uN=function(n){const e=hC(n);return pC.encodeByteArray(e,!0)},bf=function(n){return uN(n).replace(/\./g,"")},mC=function(n){try{return pC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=()=>lN().__FIREBASE_DEFAULTS__,dN=()=>{if(typeof process>"u"||typeof l1>"u")return;const n=l1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mC(n[1]);return e&&JSON.parse(e)},eh=()=>{try{return cN()||dN()||fN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gC=n=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hN=n=>{const e=gC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vC=()=>{var n;return(n=eh())===null||n===void 0?void 0:n.config},yC=n=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bf(JSON.stringify(t)),bf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function vN(){var n;const e=(n=eh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _N(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TN(){return!vN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bN(){try{return typeof indexedDB=="object"}catch{return!1}}function SN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="FirebaseError";class $i extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IN,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?RN(a,r):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new $i(i,l,r)}}function RN(n,e){return n.replace(xN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xN=/\{\$([^}]+)}/g;function CN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Al(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(c1(a)&&c1(u)){if(!Al(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function c1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function AN(n,e){const t=new PN(n,e);return t.subscribe.bind(t)}class PN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bm),i.error===void 0&&(i.error=bm),i.complete===void 0&&(i.complete=bm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class wa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NN(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ON(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ON(n){return n===fa?void 0:n}function NN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const LN={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},VN=je.INFO,FN={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},jN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=FN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fw{constructor(e){this.name=e,this._logLevel=VN,this._logHandler=jN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const UN=(n,e)=>e.some(t=>n instanceof t);let d1,f1;function qN(){return d1||(d1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _C=new WeakMap,T_=new WeakMap,wC=new WeakMap,Sm=new WeakMap,hw=new WeakMap;function zN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ws(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&_C.set(t,n)}).catch(()=>{}),hw.set(e,n),e}function BN(n){if(T_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});T_.set(n,e)}let b_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return T_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HN(n){b_=n(b_)}function WN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Im(this),e,...t);return wC.set(r,e.sort?e.sort():[e]),ws(r)}:$N().includes(n)?function(...e){return n.apply(Im(this),e),ws(_C.get(this))}:function(...e){return ws(n.apply(Im(this),e))}}function GN(n){return typeof n=="function"?WN(n):(n instanceof IDBTransaction&&BN(n),UN(n,qN())?new Proxy(n,b_):n)}function ws(n){if(n instanceof IDBRequest)return zN(n);if(Sm.has(n))return Sm.get(n);const e=GN(n);return e!==n&&(Sm.set(n,e),hw.set(e,n)),e}const Im=n=>hw.get(n);function KN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),l=ws(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ws(u.result),d.oldVersion,d.newVersion,ws(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const YN=["get","getKey","getAll","getAllKeys","count"],QN=["put","add","delete","clear"],Rm=new Map;function h1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=QN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YN.includes(t)))return;const a=async function(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[t](...l),i&&d.done]))[0]};return Rm.set(e,a),a}HN(n=>({...n,get:(e,t,r)=>h1(e,t)||n.get(e,t,r),has:(e,t)=>!!h1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function JN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S_="@firebase/app",p1="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new fw("@firebase/app"),ZN="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",rM="@firebase/app-check",iM="@firebase/auth",sM="@firebase/auth-compat",aM="@firebase/database",oM="@firebase/data-connect",uM="@firebase/database-compat",lM="@firebase/functions",cM="@firebase/functions-compat",dM="@firebase/installations",fM="@firebase/installations-compat",hM="@firebase/messaging",pM="@firebase/messaging-compat",mM="@firebase/performance",gM="@firebase/performance-compat",vM="@firebase/remote-config",yM="@firebase/remote-config-compat",_M="@firebase/storage",wM="@firebase/storage-compat",EM="@firebase/firestore",TM="@firebase/vertexai",bM="@firebase/firestore-compat",SM="firebase",IM="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="[DEFAULT]",RM={[S_]:"fire-core",[ZN]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[rM]:"fire-app-check",[nM]:"fire-app-check-compat",[iM]:"fire-auth",[sM]:"fire-auth-compat",[aM]:"fire-rtdb",[oM]:"fire-data-connect",[uM]:"fire-rtdb-compat",[lM]:"fire-fn",[cM]:"fire-fn-compat",[dM]:"fire-iid",[fM]:"fire-iid-compat",[hM]:"fire-fcm",[pM]:"fire-fcm-compat",[mM]:"fire-perf",[gM]:"fire-perf-compat",[vM]:"fire-rc",[yM]:"fire-rc-compat",[_M]:"fire-gcs",[wM]:"fire-gcs-compat",[EM]:"fire-fst",[bM]:"fire-fst-compat",[TM]:"fire-vertex","fire-js":"fire-js",[SM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,xM=new Map,R_=new Map;function m1(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(R_.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,n);for(const t of Sf.values())m1(t,n);for(const t of xM.values())m1(t,n);return!0}function pw(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Or(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ec("app","Firebase",CM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=IM;function EC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:I_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(t||(t=vC()),!t)throw Es.create("no-options");const a=Sf.get(i);if(a){if(Al(t,a.options)&&Al(r,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const u=new MN(i);for(const d of R_.values())u.addComponent(d);const l=new AM(t,r,u);return Sf.set(i,l),l}function TC(n=I_){const e=Sf.get(n);if(!e&&n===I_&&vC())return EC();if(!e)throw Es.create("no-app",{appName:n});return e}function Ts(n,e,t){var r;let i=(r=RM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&l.push("and"),u&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(l.join(" "));return}Fo(new wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebase-heartbeat-database",kM=1,Pl="firebase-heartbeat-store";let xm=null;function bC(){return xm||(xm=KN(PM,kM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),xm}async function DM(n){try{const t=(await bC()).transaction(Pl),r=await t.objectStore(Pl).get(SC(n));return await t.done,r}catch(e){if(e instanceof $i)Mi.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function g1(n,e){try{const r=(await bC()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,SC(n)),await r.done}catch(t){if(t instanceof $i)Mi.warn(t.message);else{const r=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(r.message)}}}function SC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1024,NM=30*24*60*60*1e3;class MM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=NM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v1(),{heartbeatsToSend:r,unsentEntries:i}=LM(this._heartbeatsCache.heartbeats),a=bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Mi.warn(t),""}}}function v1(){return new Date().toISOString().substring(0,10)}function LM(n,e=OM){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),y1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),y1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bN()?SN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return g1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return g1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y1(n){return bf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(n){Fo(new wa("platform-logger",e=>new XN(e),"PRIVATE")),Fo(new wa("heartbeat",e=>new MM(e),"PRIVATE")),Ts(S_,p1,n),Ts(S_,p1,"esm2017"),Ts("fire-js","")}FM("");function mw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function IC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jM=IC,RC=new ec("auth","Firebase",IC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new fw("@firebase/auth");function UM(n,...e){If.logLevel<=je.WARN&&If.warn(`Auth (${nu}): ${n}`,...e)}function ef(n,...e){If.logLevel<=je.ERROR&&If.error(`Auth (${nu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n,...e){throw vw(n,...e)}function Nr(n,...e){return vw(n,...e)}function gw(n,e,t){const r=Object.assign(Object.assign({},jM()),{[e]:t});return new ec("auth","Firebase",r).create(e,{appName:n.name})}function Ni(n){return gw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qM(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fr(n,"argument-error"),gw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RC.create(n,...e)}function Ae(n,e,...t){if(!n)throw vw(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ef(e),new Error(e)}function Li(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $M(){return _1()==="http:"||_1()==="https:"}function _1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($M()||_N()||"connection"in navigator)?navigator.onLine:!0}function BM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=gN()||wN()}get(){return zM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new nc(3e4,6e4);function Os(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ns(n,e,t,r,i={}){return CC(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const l=tc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return yN()||(p.referrerPolicy="no-referrer"),xC.fetch()(AC(n,n.config.apiHost,t,l),p)})}async function CC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HM),e);try{const i=new KM(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw qd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const l=a.ok?u.errorMessage:u.error.message,[d,p]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw qd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw qd(n,"user-disabled",u);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gw(n,m,p);fr(n,m)}}catch(i){if(i instanceof $i)throw i;fr(n,"network-request-failed",{message:String(i)})}}async function rc(n,e,t,r,i={}){const a=await Ns(n,e,t,r,i);return"mfaPendingCredential"in a&&fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function AC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?yw(n.config,i):`${n.config.apiScheme}://${i}`}function GM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),WM.get())})}}function qd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Nr(n,e,r);return i.customData._tokenResponse=t,i}function w1(n){return n!==void 0&&n.enterprise!==void 0}class YM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QM(n,e){return Ns(n,"GET","/v2/recaptchaConfig",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n,e){return Ns(n,"POST","/v1/accounts:delete",e)}async function PC(n,e){return Ns(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JM(n,e=!1){const t=rn(n),r=await t.getIdToken(e),i=_w(r);Ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:wl(Cm(i.auth_time)),issuedAtTime:wl(Cm(i.iat)),expirationTime:wl(Cm(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cm(n){return Number(n)*1e3}function _w(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=mC(t);return i?JSON.parse(i):(ef("Failed to decode base64 JWT payload"),null)}catch(i){return ef("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E1(n){const e=_w(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof $i&&ZM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ZM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await kl(n,PC(t,{idToken:r}));Ae(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kC(a.providerUserInfo):[],l=nL(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(l!=null&&l.length),m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new C_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function tL(n){const e=rn(n);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kC(n){return n.map(e=>{var{providerId:t}=e,r=mw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(n,e){const t=await CC(n,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=AC(n,i,"/v1/token",`key=${a}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",xC.fetch()(u,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iL(n,e){return Ns(n,"POST","/v2/accounts:revokeToken",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=E1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await rL(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Oo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=mw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new C_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await kl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JM(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Rf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await kl(this,XM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,u,l,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,E=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(l=t.tenantId)!==null&&l!==void 0?l:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,A=(p=t.createdAt)!==null&&p!==void 0?p:void 0,P=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:V,isAnonymous:H,providerData:z,stsTokenManager:k}=t;Ae(F&&k,e,"internal-error");const R=Oo.fromJSON(this.name,k);Ae(typeof F=="string",e,"internal-error"),ps(v,e.name),ps(_,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof H=="boolean",e,"internal-error"),ps(E,e.name),ps(b,e.name),ps(S,e.name),ps(I,e.name),ps(A,e.name),ps(P,e.name);const C=new ki({uid:F,auth:e,email:_,emailVerified:V,displayName:v,isAnonymous:H,photoURL:b,phoneNumber:E,tenantId:S,stsTokenManager:R,createdAt:A,lastLoginAt:P});return z&&Array.isArray(z)&&(C.providerData=z.map(N=>Object.assign({},N))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Oo;i.updateFromServerResponse(t);const a=new ki({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ae(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?kC(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Oo;l.updateFromIdToken(r);const d=new ki({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new C_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;function Di(n){Li(n instanceof Function,"Expected a class definition");let e=T1.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,T1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DC.type="NONE";const b1=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=tf(this.userKey,i.apiKey,a),this.fullPersistenceKey=tf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new No(Di(b1),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Di(b1);const u=tf(r,e.config.apiKey,e.name);let l=null;for(const p of t)try{const m=await p._get(u);if(m){const v=ki._fromJSON(e,m);p!==a&&(l=v),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new No(a,e,r):(a=d[0],l&&await a._set(u,l.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new No(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FC(e))return"Blackberry";if(jC(e))return"Webos";if(NC(e))return"Safari";if((e.includes("chrome/")||MC(e))&&!e.includes("edge/"))return"Chrome";if(VC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OC(n=mn()){return/firefox\//i.test(n)}function NC(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MC(n=mn()){return/crios\//i.test(n)}function LC(n=mn()){return/iemobile/i.test(n)}function VC(n=mn()){return/android/i.test(n)}function FC(n=mn()){return/blackberry/i.test(n)}function jC(n=mn()){return/webos/i.test(n)}function ww(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sL(n=mn()){var e;return ww(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aL(){return EN()&&document.documentMode===10}function UC(n=mn()){return ww(n)||VC(n)||jC(n)||FC(n)||/windows phone/i.test(n)||LC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n,e=[]){let t;switch(n){case"Browser":t=S1(mn());break;case"Worker":t=`${S1(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,l)=>{try{const d=e(a);u(d)}catch(d){l(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(n,e={}){return Ns(n,"GET","/v2/passwordPolicy",Os(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=6;class cL{constructor(e){var t,r,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:lL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,u,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I1(this),this.idTokenSubscription=new I1(this),this.beforeStateQueue=new oL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await PC(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===l)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Ni(this));const t=e?rn(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uL(this),t=new cL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ms(n){return rn(n)}class I1{constructor(e){this.auth=e,this.observer=null,this.addObserver=AN(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(n){th=n}function $C(n){return th.loadJS(n)}function hL(){return th.recaptchaEnterpriseScript}function pL(){return th.gapiScript}function mL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new vL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yL="recaptcha-enterprise",zC="NO_RECAPTCHA";class _L{constructor(e){this.type=yL,this.auth=Ms(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,l)=>{QM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const p=new YM(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{l(d)})})}function i(a,u,l){const d=window.grecaptcha;w1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(zC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(l=>{if(!t&&w1(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hL();d.length!==0&&(d+=l),$C(d).then(()=>{i(l,a,u)}).catch(p=>{u(p)})}}).catch(l=>{u(l)})})}}async function R1(n,e,t,r=!1,i=!1){const a=new _L(n);let u;if(i)u=zC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const d=l.phoneEnrollmentInfo.phoneNumber,p=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:u}):Object.assign(l,{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function A_(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await R1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await R1(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n,e){const t=pw(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Al(a,e??{}))return i;fr(i,"already-initialized")}return t.initialize({options:e})}function EL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TL(n,e,t){const r=Ms(n);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=BC(e),{host:u,port:l}=bL(e),d=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),SL()}function BC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bL(n){const e=BC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:x1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:x1(u)}}}function x1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function IL(n,e){return Ns(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e){return rc(n,"POST","/v1/accounts:signInWithPassword",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(n,e){return rc(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}async function CL(n,e){return rc(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Ew{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Dl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Dl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,t,"signInWithPassword",RL);case"emailLink":return xL(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,r,"signUpPassword",IL);case"emailLink":return CL(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return rc(n,"POST","/v1/accounts:signInWithIdp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="http://localhost";class Ea extends Ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=mw(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Ea(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:AL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kL(n){const e=dl(fl(n)).link,t=e?dl(fl(e)).deep_link_id:null,r=dl(fl(n)).deep_link_id;return(r?dl(fl(r)).link:null)||r||t||e||n}class Tw{constructor(e){var t,r,i,a,u,l;const d=dl(fl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=PL((i=d.mode)!==null&&i!==void 0?i:null);Ae(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=kL(e);try{return new Tw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,t){return Dl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Tw.parseLink(t);return Ae(r,"argument-error"),Dl._fromEmailAndCode(e,r.code,r.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ic{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ai.credential(t,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ic{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ic{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ys.credential(t,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(n,e){return rc(n,"POST","/v1/accounts:signUp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ki._fromIdTokenResponse(e,r,i),u=C1(r);return new Ta({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=C1(r);return new Ta({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function C1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends $i{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xf(e,t,r,i)}}function HC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(n,a,e,r):a})}async function OL(n,e,t=!1){const r=await kl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(n,e,t=!1){const{auth:r}=n;if(Or(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const a=await kl(n,HC(r,i,e,n),t);Ae(a.idToken,r,"internal-error");const u=_w(a.idToken);Ae(u,r,"internal-error");const{sub:l}=u;return Ae(n.uid===l,r,"user-mismatch"),Ta._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e,t=!1){if(Or(n.app))return Promise.reject(Ni(n));const r="signIn",i=await HC(n,r,e),a=await Ta._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function ML(n,e){return WC(Ms(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n){const e=Ms(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LL(n,e,t){if(Or(n.app))return Promise.reject(Ni(n));const r=Ms(n),u=await A_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&GC(n),d}),l=await Ta._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(l.user),l}function VL(n,e,t){return Or(n.app)?Promise.reject(Ni(n)):ML(rn(n),ru.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GC(n),r})}function FL(n,e,t,r){return rn(n).onIdTokenChanged(e,t,r)}function jL(n,e,t){return rn(n).beforeAuthStateChanged(e,t)}function UL(n,e,t,r){return rn(n).onAuthStateChanged(e,t,r)}function qL(n){return rn(n).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1e3,zL=10;class YC extends KC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,l,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);aL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zL):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YC.type="LOCAL";const BL=YC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC extends KC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QC.type="SESSION";const XC=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(u).map(async p=>p(t.origin,a)),d=await HL(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((l,d)=>{const p=Sw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(_.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function GL(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function KL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QL(){return JC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firebaseLocalStorageDb",XL=1,Af="firebaseLocalStorage",eA="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rh(n,e){return n.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function JL(){const n=indexedDB.deleteDatabase(ZC);return new sc(n).toPromise()}function P_(){const n=indexedDB.open(ZC,XL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Af,{keyPath:eA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Af)?e(r):(r.close(),await JL(),e(await P_()))})})}async function A1(n,e,t){const r=rh(n,!0).put({[eA]:e,value:t});return new sc(r).toPromise()}async function ZL(n,e){const t=rh(n,!1).get(e),r=await new sc(t).toPromise();return r===void 0?null:r.value}function P1(n,e){const t=rh(n,!0).delete(e);return new sc(t).toPromise()}const eV=800,tV=3;class tA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(QL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KL(),!this.activeServiceWorker)return;this.sender=new WL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await A1(e,Cf,"1"),await P1(e,Cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>A1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ZL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>P1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=rh(i,!1).getAll();return new sc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tA.type="LOCAL";const nV=tA;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n,e){return e?Di(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rV(n){return WC(n.auth,new Iw(n),n.bypassAuthState)}function iV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),NL(t,new Iw(n),n.bypassAuthState)}async function sV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),OL(t,new Iw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:l}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rV;case"linkViaPopup":case"linkViaRedirect":return sV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:fr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new nc(2e3,1e4);async function iA(n,e,t){if(Or(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const r=Ms(n);qM(n,e,bw);const i=nA(r,t);return new ma(r,"signInViaPopup",e,i).executeNotNull()}class ma extends rA{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Sw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aV.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="pendingRedirect",nf=new Map;class uV extends rA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const r=await lV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lV(n,e){const t=fV(e),r=dV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function cV(n,e){nf.set(n._key(),e)}function dV(n){return Di(n._redirectPersistence)}function fV(n){return tf(oV,n.config.apiKey,n.name)}async function hV(n,e,t=!1){if(Or(n.app))return Promise.reject(Ni(n));const r=Ms(n),i=nA(r,e),u=await new uV(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=10*60*1e3;class mV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!sA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pV&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}}function k1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(n,e={}){return Ns(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_V=/^https?/;async function wV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vV(n);for(const t of e)try{if(EV(t))return}catch{}fr(n,"unauthorized-domain")}function EV(n){const e=x_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!_V.test(t))return!1;if(yV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new nc(3e4,6e4);function D1(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bV(n){return new Promise((e,t)=>{var r,i,a;function u(){D1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D1(),t(Nr(n,"network-request-failed"))},timeout:TV.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ei().gapi)===null||a===void 0)&&a.load)u();else{const l=mL("iframefcb");return ei()[l]=()=>{gapi.load?u():t(Nr(n,"network-request-failed"))},$C(`${pL()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw rf=null,e})}let rf=null;function SV(n){return rf=rf||bV(n),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new nc(5e3,15e3),RV="__/auth/iframe",xV="emulator/auth/iframe",CV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PV(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yw(e,xV):`https://${n.config.authDomain}/${RV}`,r={apiKey:e.apiKey,appName:n.name,v:nu},i=AV.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tc(r).slice(1)}`}async function kV(n){const e=await SV(n),t=ei().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:PV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CV,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Nr(n,"network-request-failed"),l=ei().setTimeout(()=>{a(u)},IV.get());function d(){ei().clearTimeout(l),i(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OV=500,NV=600,MV="_blank",LV="http://localhost";class O1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VV(n,e,t,r=OV,i=NV){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const d=Object.assign(Object.assign({},DV),{width:r.toString(),height:i.toString(),top:a,left:u}),p=mn().toLowerCase();t&&(l=MC(p)?MV:t),OC(p)&&(e=e||LV,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,b])=>`${_}${E}=${b},`,"");if(sL(p)&&l!=="_self")return FV(e||"",l),new O1(null);const v=window.open(e||"",l,m);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new O1(v)}function FV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="__/auth/handler",UV="emulator/auth/handler",qV=encodeURIComponent("fac");async function N1(n,e,t,r,i,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nu,eventId:i};if(e instanceof bw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",CN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(e instanceof ic){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const l=u;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const d=await n._getAppCheckToken(),p=d?`#${qV}=${encodeURIComponent(d)}`:"";return`${$V(n)}?${tc(l).slice(1)}${p}`}function $V({config:n}){return n.emulator?yw(n,UV):`https://${n.authDomain}/${jV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class zV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XC,this._completeRedirectFn=hV,this._overrideRedirectResult=cV}async _openPopup(e,t,r,i){var a;Li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await N1(e,t,r,x_(),i);return VV(e,u,Sw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await N1(e,t,r,x_(),i);return GL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await kV(e),r=new mV(e);return t.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Am,{type:Am},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Am];u!==void 0&&t(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UC()||NC()||ww()}}const BV=zV;var M1="@firebase/auth",L1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GV(n){Fo(new wa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(n)},p=new dL(r,i,a,d);return EL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new wa("auth-internal",e=>{const t=Ms(e.getProvider("auth").getImmediate());return(r=>new HV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(M1,L1,WV(n)),Ts(M1,L1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=5*60,YV=yC("authIdTokenMaxAge")||KV;let V1=null;const QV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YV)return;const i=t==null?void 0:t.token;V1!==i&&(V1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XV(n=TC()){const e=pw(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wL(n,{popupRedirectResolver:BV,persistence:[nV,BL,XC]}),r=yC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=QV(a.toString());jL(t,u,()=>u(t.currentUser)),FL(t,l=>u(l))}}const i=gC("auth");return i&&TL(t,`http://${i}`),t}function JV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Nr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",JV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GV("Browser");var ZV="firebase",e4="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(ZV,e4,"app");var F1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,aA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function C(){}C.prototype=R.prototype,k.D=R.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,M,U){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return R.prototype[M].apply(N,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=k.g[0],C=k.g[1],M=k.g[2];var U=k.g[3],D=R+(U^C&(M^U))+N[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=U+(M^R&(C^M))+N[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(C^U&(R^C))+N[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(R^M&(U^R))+N[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(U^C&(M^U))+N[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(M^R&(C^M))+N[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(C^U&(R^C))+N[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(R^M&(U^R))+N[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(U^C&(M^U))+N[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(M^R&(C^M))+N[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(C^U&(R^C))+N[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(R^M&(U^R))+N[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(U^C&(M^U))+N[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(M^R&(C^M))+N[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=M+(C^U&(R^C))+N[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(R^M&(U^R))+N[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(M^U&(C^M))+N[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(R^C))+N[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(U^R))+N[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(M^U))+N[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(C^M))+N[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(R^C))+N[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(U^R))+N[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(M^U))+N[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(C^M))+N[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(R^C))+N[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(U^R))+N[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(M^U))+N[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^U&(C^M))+N[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(R^C))+N[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(U^R))+N[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(M^U))+N[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(C^M^U)+N[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^M)+N[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^C)+N[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^R)+N[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^U)+N[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^M)+N[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^C)+N[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^R)+N[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^U)+N[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^M)+N[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^C)+N[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^R)+N[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^U)+N[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^M)+N[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=M+(U^R^C)+N[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^R)+N[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(M^(C|~U))+N[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~M))+N[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~C))+N[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~R))+N[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~U))+N[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~M))+N[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~C))+N[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~R))+N[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~U))+N[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~M))+N[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~C))+N[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~R))+N[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~U))+N[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~M))+N[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=M+(R^(U|~C))+N[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var C=R-this.blockSize,N=this.B,M=this.h,U=0;U<R;){if(M==0)for(;U<=C;)i(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(N[M++]=k.charCodeAt(U++),M==this.blockSize){i(this,N),M=0;break}}else for(;U<R;)if(N[M++]=k[U++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var C=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.u(k),k=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)k[C++]=this.g[R]>>>N&255;return k};function a(k,R){var C=l;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=R(k)}function u(k,R){this.h=R;for(var C=[],N=!0,M=k.length-1;0<=M;M--){var U=k[M]|0;N&&U==R||(C[M]=U,N=!1)}this.g=C}var l={};function d(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return I(p(-k));for(var R=[],C=1,N=0;k>=C;N++)R[N]=k/C|0,C*=4294967296;return new u(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return I(m(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),N=v,M=0;M<k.length;M+=8){var U=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+U),R);8>U?(U=p(Math.pow(R,U)),N=N.j(U).add(p(D))):(N=N.j(C),N=N.add(p(D)))}return N}var v=d(0),_=d(1),E=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-I(this).m();for(var k=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(S(this))return"-"+I(this).toString(k);for(var R=p(Math.pow(k,6)),C=this,N="";;){var M=V(C,R).g;C=A(C,M.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=M,b(C))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}n.l=function(k){return k=A(this,k),S(k)?-1:b(k)?0:1};function I(k){for(var R=k.g.length,C=[],N=0;N<R;N++)C[N]=~k.g[N];return new u(C,~k.h).add(_)}n.abs=function(){return S(this)?I(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0,M=0;M<=R;M++){var U=N+(this.i(M)&65535)+(k.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);N=D>>>16,U&=65535,D&=65535,C[M]=D<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function A(k,R){return k.add(I(R))}n.j=function(k){if(b(this)||b(k))return v;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<k.g.length;M++){var U=this.i(N)>>>16,D=this.i(N)&65535,ce=k.i(M)>>>16,Te=k.i(M)&65535;C[2*N+2*M]+=D*Te,P(C,2*N+2*M),C[2*N+2*M+1]+=U*Te,P(C,2*N+2*M+1),C[2*N+2*M+1]+=D*ce,P(C,2*N+2*M+1),C[2*N+2*M+2]+=U*ce,P(C,2*N+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new u(C,0)};function P(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function F(k,R){this.g=k,this.h=R}function V(k,R){if(b(R))throw Error("division by zero");if(b(k))return new F(v,v);if(S(k))return R=V(I(k),R),new F(I(R.g),I(R.h));if(S(R))return R=V(k,I(R)),new F(I(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var C=_,N=R;0>=N.l(k);)C=H(C),N=H(N);var M=z(C,1),U=z(N,1);for(N=z(N,2),C=z(C,2);!b(N);){var D=U.add(N);0>=D.l(k)&&(M=M.add(C),U=D),N=z(N,1),C=z(C,1)}return R=A(k,M.j(R)),new F(M,R)}for(M=v;0<=k.l(R);){for(C=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(C),D=U.j(R);S(D)||0<D.l(k);)C-=N,U=p(C),D=U.j(R);b(U)&&(U=_),M=M.add(U),k=A(k,D)}return new F(M,k)}n.A=function(k){return V(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&k.i(N);return new u(C,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|k.i(N);return new u(C,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^k.i(N);return new u(C,this.h^k.h)};function H(k){for(var R=k.g.length+1,C=[],N=0;N<R;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(C,k.h)}function z(k,R){var C=R>>5;R%=32;for(var N=k.g.length-C,M=[],U=0;U<N;U++)M[U]=0<R?k.i(U+C)>>>R|k.i(U+C+1)<<32-R:k.i(U+C);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,va=u}).apply(typeof F1<"u"?F1:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oA,hl,uA,sf,k_,lA,cA,dA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,T){return f==Array.prototype||f==Object.prototype||(f[y]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,y){if(y)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var K=f[O];if(!(K in T))break e;T=T[K]}f=f[f.length-1],O=T[f],y=y(O),y!=O&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}function a(f,y){f instanceof String&&(f+="");var T=0,O=!1,K={next:function(){if(!O&&T<f.length){var J=T++;return{value:y(J,f[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(f){return f||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},l=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function m(f,y,T){return f.call.apply(f.bind,arguments)}function v(f,y,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function _(f,y,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,_.apply(null,arguments)}function E(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function b(f,y){function T(){}T.prototype=y.prototype,f.aa=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,K,J){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return y.prototype[K].apply(O,le)}}function S(f){const y=f.length;if(0<y){const T=Array(y);for(let O=0;O<y;O++)T[O]=f[O];return T}return[]}function I(f,y){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const K=f.length||0,J=O.length||0;f.length=K+J;for(let le=0;le<J;le++)f[K+le]=O[le]}else f.push(O)}}class A{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function V(f){return V[" "](f),f}V[" "]=function(){};var H=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function z(f,y,T){for(const O in f)y.call(T,f[O],O,f)}function k(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function R(f){const y={};for(const T in f)y[T]=f[T];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let T,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(T in O)f[T]=O[T];for(let J=0;J<C.length;J++)T=C[J],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function M(f){var y=1;f=f.split(":");const T=[];for(;0<y&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function U(f){l.setTimeout(()=>{throw f},0)}function D(){var f=de;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ce{constructor(){this.h=this.g=null}add(y,T){const O=Te.get();O.set(y,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Te=new A(()=>new we,f=>f.reset());class we{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,te=!1,de=new ce,ue=()=>{const f=l.Promise.resolve(void 0);ye=()=>{f.then(W)}};var W=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){U(T)}var y=Te;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}te=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};l.addEventListener("test",T,y),l.removeEventListener("test",T,y)}catch{}return f}();function xe(f,y){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(H){e:{try{V(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}b(xe,fe);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ge(f,y,T,O,K){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!O,this.ha=K,this.key=++Me,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function yn(f){this.src=f,this.g={},this.h=0}yn.prototype.add=function(f,y,T,O,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var le=Un(f,y,O,K);return-1<le?(y=f[le],T||(y.fa=!1)):(y=new Ge(y,this.src,J,!!O,K),y.fa=T,f.push(y)),y};function Fr(f,y){var T=y.type;if(T in f.g){var O=f.g[T],K=Array.prototype.indexOf.call(O,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(O,K,1),J&&(vt(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Un(f,y,T,O){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==y&&J.capture==!!T&&J.ha==O)return K}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),qe={};function qn(f,y,T,O,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)qn(f,y[J],T,O,K);return null}return T=zn(T),f&&f[Le]?f.K(y,T,p(O)?!!O.capture:!1,K):Ve(f,y,T,!1,O,K)}function Ve(f,y,T,O,K,J){if(!y)throw Error("Invalid event type");var le=p(K)?!!K.capture:!!K,Xe=ot(f);if(Xe||(f[gr]=Xe=new yn(f)),T=Xe.add(y,T,O,le,J),T.proxy)return T;if(O=$n(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)Ce||(K=le),K===void 0&&(K=!1),f.addEventListener(y.toString(),O,K);else if(f.attachEvent)f.attachEvent(Ot(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $n(){function f(T){return y.call(f.src,f.listener,T)}const y=Qt;return f}function _n(f,y,T,O,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)_n(f,y[J],T,O,K);else O=p(O)?!!O.capture:!!O,T=zn(T),f&&f[Le]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],T=Un(J,T,O,K),-1<T&&(vt(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=ot(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Un(y,T,O,K)),(T=-1<f?y[f]:null)&&Dt(T))}function Dt(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Le])Fr(y.i,f);else{var T=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(T,O,f.capture):y.detachEvent?y.detachEvent(Ot(T),O):y.addListener&&y.removeListener&&y.removeListener(O),(T=ot(y))?(Fr(T,f),T.h==0&&(T.src=null,y[gr]=null)):vt(f)}}}function Ot(f){return f in qe?qe[f]:qe[f]="on"+f}function Qt(f,y){if(f.da)f=!0;else{y=new xe(y,this);var T=f.listener,O=f.ha||f.src;f.fa&&Dt(f),f=T.call(O,y)}return f}function ot(f){return f=f[gr],f instanceof yn?f:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(f){return typeof f=="function"?f:(f[wn]||(f[wn]=function(y){return f.handleEvent(y)}),f[wn])}function ut(){Z.call(this),this.i=new yn(this),this.M=this,this.F=null}b(ut,Z),ut.prototype[Le]=!0,ut.prototype.removeEventListener=function(f,y,T,O){_n(this,f,y,T,O)};function rt(f,y){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new fe(y,f);else if(y instanceof fe)y.target=y.target||f;else{var K=y;y=new fe(O,f),N(y,K)}if(K=!0,T)for(var J=T.length-1;0<=J;J--){var le=y.g=T[J];K=Nt(le,O,!0,y)&&K}if(le=y.g=f,K=Nt(le,O,!0,y)&&K,K=Nt(le,O,!1,y)&&K,T)for(J=0;J<T.length;J++)le=y.g=T[J],K=Nt(le,O,!1,y)&&K}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var T=f.g[y],O=0;O<T.length;O++)vt(T[O]);delete f.g[y],f.h--}}this.F=null},ut.prototype.K=function(f,y,T,O){return this.i.add(String(f),y,!1,T,O)},ut.prototype.L=function(f,y,T,O){return this.i.add(String(f),y,!0,T,O)};function Nt(f,y,T,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var le=y[J];if(le&&!le.da&&le.capture==T){var Xe=le.listener,Mt=le.ha||le.src;le.fa&&Fr(f.i,le),K=Xe.call(Mt,O)!==!1&&K}}return K&&!O.defaultPrevented}function Bi(f,y,T){if(typeof f=="function")T&&(f=_(f,T));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(f,y||0)}function vr(f){f.g=Bi(()=>{f.g=null,f.i&&(f.i=!1,vr(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class di extends Z{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(f){Z.call(this),this.h=f,this.g={}}b(jr,Z);var In=[];function Bn(f){z(f.g,function(y,T){this.g.hasOwnProperty(T)&&Dt(y)},f),f.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Bn(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mu=l.JSON.stringify,gu=l.JSON.parse,vu=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function qs(){}qs.prototype.h=null;function ja(f){return f.h||(f.h=f.i())}function Ua(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){fe.call(this,"d")}b(Ur,fe);function qa(){fe.call(this,"c")}b(qa,fe);var qr={},yu=null;function $s(){return yu=yu||new ut}qr.La="serverreachability";function _u(f){fe.call(this,qr.La,f)}b(_u,fe);function fi(f){const y=$s();rt(y,new _u(y))}qr.STAT_EVENT="statevent";function wu(f,y){fe.call(this,qr.STAT_EVENT,f),this.stat=y}b(wu,fe);function Tt(f){const y=$s();rt(y,new wu(y,f))}qr.Ma="timingevent";function $a(f,y){fe.call(this,qr.Ma,f),this.size=y}b($a,fe);function yr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},y)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function Bs(f,y,T,O,K,J){f.info(function(){if(f.g)if(J)for(var le="",Xe=J.split("&"),Mt=0;Mt<Xe.length;Mt++){var Be=Xe[Mt].split("=");if(1<Be.length){var zt=Be[0];Be=Be[1];var Ct=zt.split("_");le=2<=Ct.length&&Ct[1]=="type"?le+(zt+"="+Be+"&"):le+(zt+"=redacted&")}}else le=null;else le=J;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+y+`
`+T+`
`+le})}function za(f,y,T,O,K,J,le){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+y+`
`+T+`
`+J+" "+le})}function _r(f,y,T,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bh(f,T)+(O?" "+O:"")})}function Eu(f,y){f.info(function(){return"TIMEOUT: "+y})}zs.prototype.info=function(){};function Bh(f,y){if(!f.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var le=1;le<K.length;le++)K[le]=""}}}}return mu(T)}catch{return y}}var Ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Hs(){}b(Hs,qs),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},wr=new Hs;function Er(f,y,T,O){this.j=f,this.i=y,this.l=T,this.R=O||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}var Tu={},Ha={};function Wa(f,y,T){f.L=1,f.v=Yi(Wn(y)),f.m=T,f.P=!0,bu(f,null)}function bu(f,y){f.F=Date.now(),tt(f),f.A=Wn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Xi(T.i,"t",O),f.C=0,T=f.j.J,f.h=new Ic,f.g=zc(f.j,T?y:null,!f.m),0<f.O&&(f.M=new di(_(f.Y,f,f.g),f.O)),y=f.U,T=f.g,O=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(In[0]=K.toString()),K=In);for(var J=0;J<K.length;J++){var le=qn(T,K[J],O||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),fi(),Bs(f.i,f.u,f.A,f.l,f.R,f.m)}Er.prototype.ca=function(f){f=f.target;const y=this.M;y&&xn(f)==3?y.j():this.Y(f)},Er.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const rr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=rr?fi(3):fi(2)),Ws(this);var T=this.g.Z();this.X=T;t:if(Rc(this)){var O=Au(this.g);f="";var K=O.length,J=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Hi(this);var le="";break t}this.h.i=new l.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(J&&y==K-1)});O.length=0,this.h.g+=f,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,za(this.i,this.u,this.A,this.l,this.R,Ct,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Mt=this.g;if((Xe=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Xe)){var Be=Xe;break t}}Be=null}if(T=Be)_r(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Su(this,T);else{this.o=!1,this.s=3,Tt(12),tr(this),Hi(this);break e}}if(this.P){T=!0;let Kn;for(;!this.J&&this.C<le.length;)if(Kn=Hh(this,le),Kn==Ha){Ct==4&&(this.s=4,Tt(14),T=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Tu){this.s=4,Tt(15),_r(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else _r(this.i,this.l,Kn,null),Su(this,Kn);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||le.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)_r(this.i,this.l,le,"[Invalid Chunked Response]"),tr(this),Hi(this);else if(0<le.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ku(zt),zt.M=!0,Tt(11))}}else _r(this.i,this.l,le,null),Su(this,le);Ct==4&&tr(this),this.o&&!this.J&&(Ct==4?ro(this.j,this):(this.o=!1,tt(this)))}else Ja(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),tr(this),Hi(this)}}}catch{}finally{}};function Rc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Hh(f,y){var T=f.C,O=y.indexOf(`
`,T);return O==-1?Ha:(T=Number(y.substring(T,O)),isNaN(T)?Tu:(O+=1,O+T>y.length?Ha:(y=y.slice(O,O+T),f.C=O+T,y)))}Er.prototype.cancel=function(){this.J=!0,tr(this)};function tt(f){f.S=Date.now()+f.I,xc(f,f.I)}function xc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yr(_(f.ba,f),y)}function Ws(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Er.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Eu(this.i,this.A),this.L!=2&&(fi(),Tt(17)),tr(this),this.s=2,Hi(this)):xc(this,this.S-f)};function Hi(f){f.j.G==0||f.J||ro(f.j,f)}function tr(f){Ws(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Bn(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Su(f,y){try{var T=f.j;if(T.G!=0&&(T.g==f||En(T.h,f))){if(!f.K&&En(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)no(T),Rr(T);else break e;to(T),Tt(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=yr(_(T.Za,T),6e3));if(1>=Ac(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vi(T,11)}else if((f.K||T.g==f)&&no(T),!P(y))for(K=T.Da.g.parse(y),y=0;y<K.length;y++){let Be=K[y];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const zt=Be[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Ct=Be[4];Ct!=null&&(T.Aa=Ct,T.j.info("SVER="+T.Aa));const rr=Be[5];rr!=null&&typeof rr=="number"&&0<rr&&(O=1.5*rr,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Kn=f.g;if(Kn){const Zs=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var J=O.h;J.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Iu(J,J.h),J.h=null))}if(O.D){const so=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(O.ya=so,Ze(O.I,O.D,so))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var le=f;if(O.qa=$c(O,O.J?O.ia:null,O.W),le.K){Pc(O.h,le);var Xe=le,Mt=O.L;Mt&&(Xe.I=Mt),Xe.B&&(Ws(Xe),tt(Xe)),O.g=le}else Js(O);0<T.i.length&&Hr(T)}else Be[0]!="stop"&&Be[0]!="close"||vi(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?vi(T,7):Jt(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}fi(4)}catch{}}var Cc=class{constructor(f,y){this.g=f,this.map=y}};function Gs(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ac(f){return f.h?1:f.g?f.g.size:0}function En(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Iu(f,y){f.g?f.g.add(y):f.h=y}function Pc(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Gs.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function kc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.D);return y}return S(f.i)}function Ga(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],T=f.length,O=0;O<T;O++)y.push(f[O]);return y}y=[],T=0;for(O in f)y[T++]=f[O];return y}function Ka(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var T=0;T<f;T++)y.push(T);return y}y=[],T=0;for(const O in f)y[T++]=O;return y}}}function Wi(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var T=Ka(f),O=Ga(f),K=O.length,J=0;J<K;J++)y.call(void 0,O[J],T&&T[J],f)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(f,y){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),K=null;if(0<=O){var J=f[T].substring(0,O);K=f[T].substring(O+1)}else J=f[T];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function hi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof hi){this.h=f.h,Ys(this,f.j),this.o=f.o,this.g=f.g,Gi(this,f.s),this.l=f.l;var y=f.i,T=new $r;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Ki(this,T),this.m=f.m}else f&&(y=String(f).match(Ks))?(this.h=!1,Ys(this,y[1]||"",!0),this.o=$e(y[2]||""),this.g=$e(y[3]||"",!0),Gi(this,y[4]),this.l=$e(y[5]||"",!0),Ki(this,y[6]||"",!0),this.m=$e(y[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}hi.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Qi(y,Ya,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Qi(y,Ya,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Qi(T,T.charAt(0)=="/"?Nc:Oc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Qi(T,Ru)),f.join("")};function Wn(f){return new hi(f)}function Ys(f,y,T){f.j=T?$e(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Gi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Ki(f,y,T){y instanceof $r?(f.i=y,zr(f.i,f.h)):(T||(y=Qi(y,Mc)),f.i=new $r(y,f.h))}function Ze(f,y,T){f.i.set(y,T)}function Yi(f){return Ze(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $e(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,Dc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,Oc=/[#\?:]/g,Nc=/[#\?]/g,Mc=/[#\?@]/g,Ru=/#/g;function $r(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Xt(f){f.g||(f.g=new Map,f.h=0,f.i&&Wh(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=$r.prototype,n.add=function(f,y){Xt(this),this.i=null,f=nr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Tr(f,y){Xt(f),y=nr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function br(f,y){return Xt(f),y=nr(f,y),f.g.has(y)}n.forEach=function(f,y){Xt(this),this.g.forEach(function(T,O){T.forEach(function(K){f.call(y,K,O,this)},this)},this)},n.na=function(){Xt(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let O=0;O<y.length;O++){const K=f[O];for(let J=0;J<K.length;J++)T.push(y[O])}return T},n.V=function(f){Xt(this);let y=[];if(typeof f=="string")br(this,f)&&(y=y.concat(this.g.get(nr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)y=y.concat(f[T])}return y},n.set=function(f,y){return Xt(this),this.i=null,f=nr(this,f),br(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Xi(f,y,T){Tr(f,y),0<T.length&&(f.i=null,f.g.set(nr(f,y),S(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var O=y[T];const J=encodeURIComponent(String(O)),le=this.V(O);for(O=0;O<le.length;O++){var K=J;le[O]!==""&&(K+="="+encodeURIComponent(String(le[O]))),f.push(K)}}return this.i=f.join("&")};function nr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function zr(f,y){y&&!f.j&&(Xt(f),f.i=null,f.g.forEach(function(T,O){var K=O.toLowerCase();O!=K&&(Tr(this,O),Xi(this,K,T))},f)),f.j=y}function Gh(f,y){const T=new zs;if(l.Image){const O=new Image;O.onload=E(Rn,T,"TestLoadImage: loaded",!0,y,O),O.onerror=E(Rn,T,"TestLoadImage: error",!1,y,O),O.onabort=E(Rn,T,"TestLoadImage: abort",!1,y,O),O.ontimeout=E(Rn,T,"TestLoadImage: timeout",!1,y,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function Lc(f,y){const T=new zs,O=new AbortController,K=setTimeout(()=>{O.abort(),Rn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(J=>{clearTimeout(K),J.ok?Rn(T,"TestPingServer: ok",!0,y):Rn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Rn(T,"TestPingServer: error",!1,y)})}function Rn(f,y,T,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(T)}catch{}}function Kh(){this.g=new vu}function Vc(f,y,T){const O=T||"";try{Wi(f,function(K,J){let le=K;p(K)&&(le=mu(K)),y.push(O+J+"="+encodeURIComponent(le))})}catch(K){throw y.push(O+"type="+encodeURIComponent("_badmap")),K}}function pi(f){this.l=f.Ub||null,this.j=f.eb||!1}b(pi,qs),pi.prototype.g=function(){return new Qs(this.l,this.j)},pi.prototype.i=function(f){return function(){return f}}({});function Qs(f,y){ut.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Qs,ut),n=Qs.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Sr(this):Ir(this),this.readyState==3&&Fc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Sr(this))},n.Qa=function(f){this.g&&(this.response=f,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mi(f){let y="";return z(f,function(T,O){y+=O,y+=":",y+=T,y+=`\r
`}),y}function Ji(f,y,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=mi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ze(f,y,T))}function lt(f){ut.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(lt,ut);var Yh=/^https?$/i,xu=["POST","PUT"];n=lt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?ja(this.o):ja(wr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){Xs(this,J);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)T.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())T.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(xu,y,void 0))||O||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,le]of T)this.g.setRequestHeader(J,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Xs(this,J)}};function Xs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Qa(f),Gn(f)}function Qa(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Cu(this):this.bb())},n.bb=function(){Cu(this)};function Cu(f){if(f.h&&typeof u<"u"&&(!f.v[1]||xn(f)!=4||f.Z()!=2)){if(f.u&&xn(f)==4)Bi(f.Ea,0,f);else if(rt(f,"readystatechange"),xn(f)==4){f.h=!1;try{const le=f.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var O;if(O=le===0){var K=String(f.D).match(Ks)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),O=!Yh.test(K?K.toLowerCase():"")}T=O}if(T)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<xn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Qa(f)}}finally{Gn(f)}}}}function Gn(f,y){if(f.g){Xa(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||rt(f,"ready");try{T.onreadystatechange=O}catch{}}}function Xa(f){f.I&&(l.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function xn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),gu(y)}};function Au(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(f){const y={};f=(f.g&&2<=xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(P(f[O]))continue;var T=M(f[O]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=y[K]||[];y[K]=J,J.push(T)}k(y,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Pu(f){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,f),this.cb=Br("retryDelaySeedMs",1e4,f),this.Wa=Br("forwardChannelMaxRetries",2,f),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(f&&f.concurrentRequestLimit),this.Da=new Kh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pu.prototype,n.la=8,n.G=1,n.connect=function(f,y,T,O){Tt(0),this.W=f,this.H=y||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=$c(this,null,this.W),Hr(this)};function Jt(f){if(Za(f),f.G==3){var y=f.U++,T=Wn(f.I);if(Ze(T,"SID",f.K),Ze(T,"RID",y),Ze(T,"TYPE","terminate"),gi(f,T),y=new Er(f,f.j,y),y.L=2,y.v=Yi(Wn(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=y.v,T=!0),T||(y.g=zc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tt(y)}qc(f)}function Rr(f){f.g&&(ku(f),f.g.cancel(),f.g=null)}function Za(f){Rr(f),f.u&&(l.clearTimeout(f.u),f.u=null),no(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Hr(f){if(!Hn(f.h)&&!f.s){f.s=!0;var y=f.Ga;ye||ue(),te||(ye(),te=!0),de.add(y,f),f.B=0}}function Qh(f,y){return Ac(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yr(_(f.Ga,f,y),Uc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Er(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Zi(this,K,y),T=Wn(this.I),Ze(T,"RID",f),Ze(T,"CVER",22),this.D&&Ze(T,"X-HTTP-Session-Id",this.D),gi(this,T),J&&(this.O?y="headers="+encodeURIComponent(String(mi(J)))+"&"+y:this.m&&Ji(T,this.m,J)),Iu(this.h,K),this.Ua&&Ze(T,"TYPE","init"),this.P?(Ze(T,"$req",y),Ze(T,"SID","null"),K.T=!0,Wa(K,T,null)):Wa(K,T,y),this.G=2}}else this.G==3&&(f?eo(this,f):this.i.length==0||Hn(this.h)||eo(this))};function eo(f,y){var T;y?T=y.l:T=f.U++;const O=Wn(f.I);Ze(O,"SID",f.K),Ze(O,"RID",T),Ze(O,"AID",f.T),gi(f,O),f.m&&f.o&&Ji(O,f.m,f.o),T=new Er(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Zi(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Iu(f.h,T),Wa(T,O,y)}function gi(f,y){f.H&&z(f.H,function(T,O){Ze(y,O,T)}),f.l&&Wi({},function(T,O){Ze(y,O,T)})}function Zi(f,y,T){T=Math.min(f.i.length,T);var O=f.l?_(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const le=["count="+T];J==-1?0<T?(J=K[0].g,le.push("ofs="+J)):J=0:le.push("ofs="+J);let Xe=!0;for(let Mt=0;Mt<T;Mt++){let Be=K[Mt].g;const zt=K[Mt].map;if(Be-=J,0>Be)J=Math.max(0,K[Mt].g-100),Xe=!1;else try{Vc(zt,le,"req"+Be+"_")}catch{O&&O(zt)}}if(Xe){O=le.join("&");break e}}}return f=f.i.splice(0,T),y.D=f,O}function Js(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ye||ue(),te||(ye(),te=!0),de.add(y,f),f.v=0}}function to(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yr(_(f.Fa,f),Uc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Rr(this),jc(this))};function ku(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function jc(f){f.g=new Er(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Wn(f.qa);Ze(y,"RID","rpc"),Ze(y,"SID",f.K),Ze(y,"AID",f.T),Ze(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ze(y,"TO",f.ja),Ze(y,"TYPE","xmlhttp"),gi(f,y),f.m&&f.o&&Ji(y,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Yi(Wn(y)),T.m=null,T.P=!0,bu(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Rr(this),to(this),Tt(19))};function no(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ro(f,y){var T=null;if(f.g==y){no(f),ku(f),f.g=null;var O=2}else if(En(f.h,y))T=y.D,Pc(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;O=$s(),rt(O,new $a(O,T)),Hr(f)}else Js(f);else if(K=y.s,K==3||K==0&&0<y.X||!(O==1&&Qh(f,y)||O==2&&to(f)))switch(T&&0<T.length&&(y=f.h,y.i=y.i.concat(T)),K){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function Uc(f,y){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*y}function vi(f,y){if(f.j.info("Error code "+y),y==2){var T=_(f.fb,f),O=f.Xa;const K=!O;O=new hi(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ys(O,"https"),Yi(O),K?Gh(O.toString(),T):Lc(O.toString(),T)}else Tt(2);f.G=0,f.l&&f.l.sa(y),qc(f),Za(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function qc(f){if(f.G=0,f.ka=[],f.l){const y=kc(f.h);(y.length!=0||f.i.length!=0)&&(I(f.ka,y),I(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function $c(f,y,T){var O=T instanceof hi?Wn(T):new hi(T);if(O.g!="")y&&(O.g=y+"."+O.g),Gi(O,O.s);else{var K=l.location;O=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new hi(null);O&&Ys(J,O),y&&(J.g=y),K&&Gi(J,K),T&&(J.l=T),O=J}return T=f.D,y=f.ya,T&&y&&Ze(O,T,y),Ze(O,"VER",f.la),gi(f,O),O}function zc(f,y,T){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new lt(new pi({eb:T})):new lt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}n=Du.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(f,y){return new Tn(f,y)};function Tn(f,y){ut.call(this),this.g=new Pu(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!P(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!P(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Wr(this)}b(Tn,ut),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Jt(this.g)},Tn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=mu(f),f=T);y.i.push(new Cc(y.Ya++,f)),y.G==3&&Hr(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,Tn.aa.N.call(this)};function Bc(f){Ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}b(Bc,Ur);function Hc(){qa.call(this),this.status=1}b(Hc,qa);function Wr(f){this.g=f}b(Wr,Du),Wr.prototype.ua=function(){rt(this.g,"a")},Wr.prototype.ta=function(f){rt(this.g,new Bc(f))},Wr.prototype.sa=function(f){rt(this.g,new Hc)},Wr.prototype.ra=function(){rt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,dA=function(){return new io},cA=function(){return $s()},lA=qr,k_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,sf=Ba,Sc.COMPLETE="complete",uA=Sc,Ua.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",ut.prototype.listen=ut.prototype.K,hl=Ua,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,oA=lt}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const j1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new fw("@firebase/firestore");function Co(){return ba.logLevel}function me(n,...e){if(ba.logLevel<=je.DEBUG){const t=e.map(Rw);ba.debug(`Firestore (${iu}): ${n}`,...t)}}function Vi(n,...e){if(ba.logLevel<=je.ERROR){const t=e.map(Rw);ba.error(`Firestore (${iu}): ${n}`,...t)}}function jo(n,...e){if(ba.logLevel<=je.WARN){const t=e.map(Rw);ba.warn(`Firestore (${iu}): ${n}`,...t)}}function Rw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function Qe(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends $i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class n4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},l=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new fA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new hn(e)}}class i4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class s4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new i4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new a4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function Uo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new kt(0,0))}static max(){return new De(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dt extends Ol{construct(e,t,r){return new dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ol{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(r+=l,i++):(a(),i++)}if(a(),u)throw new be(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(dt.fromString(e))}static fromName(e){return new Re(dt.fromString(e).popFirst(5))}static empty(){return new Re(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new dt(e.slice()))}}function c4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new Rs(i,Re.empty(),e)}function d4(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rs(De.min(),Re.empty(),-1)}static max(){return new Rs(De.max(),Re.empty(),-1)}}function f4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==h4)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,a=0,u=!1;e.forEach(l=>{++i,l.next(()=>{++a,u&&a===i&&t()},d=>r(d))}),u=!0,a===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const a=e.length,u=new Array(a);let l=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(m=>{u[p]=m,++l,l===a&&r(u)},m=>i(m))}})}static doWhile(e,t){return new ee((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function m4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ih.oe=-1;function sh(n){return n==null}function Pf(n){return n===0&&1/n==-1/0}function g4(n){return typeof n=="number"&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U1(e)),e=y4(n.get(t),e);return U1(e)}function y4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function U1(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=a??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new tn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,i,a){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $1(this.data.getIterator())}getIteratorFrom(e){return new $1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class $1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new jt(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mA("Invalid base64 string: "+a):a}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const _4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=_4.exec(n);if(Qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ah(n){const e=n.mapValue.fields.__previous_value__;return xw(e)?ah(e):e}function Nl(n){const e=xs(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t,r,i,a,u,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=p}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xw(n)?4:T4(n)?9007199254740991:E4(n)?10:11:ke()}function si(n,e){if(n===e)return!0;const t=As(n);if(t!==As(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=xs(i.timestampValue),l=xs(a.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Cs(i.bytesValue).isEqual(Cs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=St(i.doubleValue),l=St(a.doubleValue);return u===l?Pf(u)===Pf(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},l=a.mapValue.fields||{};if(q1(u)!==q1(l))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(l[d]===void 0||!si(u[d],l[d])))return!1;return!0}(n,e);default:return ke()}}function Ll(n,e){return(n.values||[]).find(t=>si(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=As(n),r=As(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const l=St(a.integerValue||a.doubleValue),d=St(u.integerValue||u.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return z1(n.timestampValue,e.timestampValue);case 4:return z1(Nl(n),Nl(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(a,u){const l=Cs(a),d=Cs(u);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const l=a.split("/"),d=u.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=ze(l[p],d[p]);if(m!==0)return m}return ze(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const l=ze(St(a.latitude),St(u.latitude));return l!==0?l:ze(St(a.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return B1(n.arrayValue,e.arrayValue);case 10:return function(a,u){var l,d,p,m;const v=a.fields||{},_=u.fields||{},E=(l=v.value)===null||l===void 0?void 0:l.arrayValue,b=(d=_.value)===null||d===void 0?void 0:d.arrayValue,S=ze(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:B1(E,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Bd.mapValue&&u===Bd.mapValue)return 0;if(a===Bd.mapValue)return 1;if(u===Bd.mapValue)return-1;const l=a.fields||{},d=Object.keys(l),p=u.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const _=ze(d[v],m[v]);if(_!==0)return _;const E=qo(l[d[v]],p[m[v]]);if(E!==0)return E}return ze(d.length,m.length)}(n.mapValue,e.mapValue);default:throw ke()}}function z1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=xs(n),r=xs(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function B1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=qo(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function $o(n){return D_(n)}function D_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=D_(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${D_(t.fields[u])}`;return i+"}"}(n.mapValue):ke()}function af(n){switch(As(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(n);return e?16+af(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+af(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ls(r.fields,(a,u)=>{i+=a.length+af(u)}),i}(n.mapValue);default:throw ke()}}function O_(n){return!!n&&"integerValue"in n}function Cw(n){return!!n&&"arrayValue"in n}function H1(n){return!!n&&"nullValue"in n}function W1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function of(n){return!!n&&"mapValue"in n}function E4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function El(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=El(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=El(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=nn.emptyPath(),r={},i=[];e.forEach((u,l)=>{if(!t.isImmediateParentOf(l)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=l.popLast()}u?r[l.lastSegment()]=El(u):i.push(l.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];of(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ls(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Mn(El(this.value))}}function gA(n){const e=[];return Ls(n.fields,(t,r)=>{const i=new nn([t]);if(of(r)){const a=gA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,i,a,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=l}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.position=e,this.inclusive=t}}function G1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(u.referenceValue),t.key):r=qo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function K1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t="asc"){this.field=e,this.dir=t}}function b4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class Ft extends vA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new I4(e,t,r):t==="array-contains"?new C4(e,r):t==="in"?new A4(e,r):t==="not-in"?new P4(e,r):t==="array-contains-any"?new k4(e,r):new Ft(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new R4(e,r):new x4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qo(t,this.value)):t!==null&&As(this.value)===As(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends vA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ai(e,t)}matches(e){return yA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yA(n){return n.op==="and"}function _A(n){return S4(n)&&yA(n)}function S4(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function N_(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(_A(n))return n.filters.map(e=>N_(e)).join(",");{const e=n.filters.map(t=>N_(t)).join(",");return`${n.op}(${e})`}}function wA(n,e){return n instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(n,e):n instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,l)=>a&&wA(u,i.filters[l]),!0):!1}(n,e):void ke()}function EA(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"}(n):"Filter"}class I4 extends Ft{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class R4 extends Ft{constructor(e,t){super(e,"in",t),this.keys=TA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class x4 extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=TA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}class C4 extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cw(t)&&Ll(t.arrayValue,this.value)}}class A4 extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class P4 extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ll(this.value.arrayValue,t)}}class k4 extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t=null,r=[],i=[],a=null,u=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=l,this.ue=null}}function Y1(n,e=null,t=[],r=[],i=null,a=null,u=null){return new D4(n,e,t,r,i,a,u)}function Aw(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>N_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$o(r)).join(",")),e.ue=t}return e.ue}function Pw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!b4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!K1(n.startAt,e.startAt)&&K1(n.endAt,e.endAt)}function M_(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t=null,r=[],i=[],a=null,u="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=l,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O4(n,e,t,r,i,a,u,l){return new oh(n,e,t,r,i,a,u,l)}function bA(n){return new oh(n)}function Q1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function N4(n){return n.collectionGroup!==null}function Tl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new jt(nn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Df(a,r))}),t.has(nn.keyField().canonicalString())||e.ce.push(new Df(nn.keyField(),r))}return e.ce}function ti(n){const e=Oe(n);return e.le||(e.le=M4(e,Tl(n))),e.le}function M4(n,e){if(n.limitType==="F")return Y1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Df(i.field,a)});const t=n.endAt?new kf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new kf(n.startAt.position,n.startAt.inclusive):null;return Y1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L_(n,e,t){return new oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return Pw(ti(n),ti(e))&&n.limitType===e.limitType}function SA(n){return`${Aw(ti(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EA(i)).join(", ")}]`),sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$o(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(ti(n))}; limitType=${n.limitType})`}function lh(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Tl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,l,d){const p=G1(u,l,d);return u.inclusive?p<=0:p<0}(r.startAt,Tl(r),i)||r.endAt&&!function(u,l,d){const p=G1(u,l,d);return u.inclusive?p>=0:p>0}(r.endAt,Tl(r),i))}(n,e)}function L4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IA(n){return(e,t)=>{let r=!1;for(const i of Tl(n)){const a=V4(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function V4(n,e,t){const r=n.field.isKeyField()?Re.comparator(e.key,t.key):function(a,u,l){const d=u.data.field(a),p=l.data.field(a);return d!==null&&p!==null?qo(d,p):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return pA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new gt(Re.comparator);function Fi(){return F4}const RA=new gt(Re.comparator);function pl(...n){let e=RA;for(const t of n)e=e.insert(t.key,t);return e}function xA(n){let e=RA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ga(){return bl()}function CA(){return bl()}function bl(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const j4=new gt(Re.comparator),U4=new jt(Re.comparator);function Ue(...n){let e=U4;for(const t of n)e=e.add(t);return e}const q4=new jt(ze);function $4(){return q4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function AA(n){return{integerValue:""+n}}function z4(n,e){return g4(e)?AA(e):kw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function B4(n,e,t){return n instanceof Of?function(i,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&xw(a)&&(a=ah(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof zo?kA(n,e):n instanceof Vl?DA(n,e):function(i,a){const u=PA(i,a),l=X1(u)+X1(i.Pe);return O_(u)&&O_(i.Pe)?AA(l):kw(i.serializer,l)}(n,e)}function H4(n,e,t){return n instanceof zo?kA(n,e):n instanceof Vl?DA(n,e):t}function PA(n,e){return n instanceof Nf?function(r){return O_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Of extends ch{}class zo extends ch{constructor(e){super(),this.elements=e}}function kA(n,e){const t=OA(e);for(const r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vl extends ch{constructor(e){super(),this.elements=e}}function DA(n,e){let t=OA(e);for(const r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}class Nf extends ch{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function X1(n){return St(n.integerValue||n.doubleValue)}function OA(n){return Cw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t){this.field=e,this.transform=t}}function G4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof zo&&i instanceof zo||r instanceof Vl&&i instanceof Vl?Uo(r.elements,i.elements,si):r instanceof Nf&&i instanceof Nf?si(r.Pe,i.Pe):r instanceof Of&&i instanceof Of}(n.transform,e.transform)}class K4{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dh{}function NA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dw(n.key,Mr.none()):new ac(n.key,n.data,Mr.none());{const t=n.data,r=Mn.empty();let i=new jt(nn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Vs(n.key,r,new Jn(i.toArray()),Mr.none())}}function Y4(n,e,t){n instanceof ac?function(i,a,u){const l=i.value.clone(),d=Z1(i.fieldTransforms,a,u.transformResults);l.setAll(d),a.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Vs?function(i,a,u){if(!uf(i.precondition,a))return void a.convertToUnknownDocument(u.version);const l=Z1(i.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(MA(i)),d.setAll(l),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof ac?function(a,u,l,d){if(!uf(a.precondition,u))return l;const p=a.value.clone(),m=eb(a.fieldTransforms,d,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vs?function(a,u,l,d){if(!uf(a.precondition,u))return l;const p=eb(a.fieldTransforms,d,u),m=u.data;return m.setAll(MA(a)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,l){return uf(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l}(n,e,t)}function Q4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=PA(r.transform,i||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function J1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uo(r,i,(a,u)=>G4(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ac extends dh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends dh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Z1(n,e,t){const r=new Map;Qe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,l=e.data.field(a.field);r.set(a.field,H4(u,l,t[i]))}return r}function eb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,B4(a,u,e))}return r}class Dw extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X4 extends dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Y4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CA();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let l=this.applyToLocalView(u,a.mutatedFields);l=t.has(i.key)?null:l;const d=NA(u,l);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,r)=>J1(t,r))&&Uo(this.baseMutations,e.baseMutations,(t,r)=>J1(t,r))}}class Ow{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length);let i=function(){return j4}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Ow(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z4=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,He;function tF(n){switch(n){default:return ke();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function LA(n){if(n===void 0)return Vi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return ke()}}(He=Pt||(Pt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new va([4294967295,4294967295],0);function tb(n){const e=nF().encode(n),t=new aA;return t.update(e),new Uint8Array(t.digest())}function nb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new va([t,r],0),new va([i,a],0)]}class Nw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=va.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(va.fromNumber(r)));return i.compare(rF)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=tb(e),[r,i]=nb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Nw(a,i,t);return r.forEach(l=>u.insert(l)),u}insert(e){if(this.Te===0)return;const t=tb(e),[r,i]=nb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fh(De.min(),i,new gt(ze),Fi(),Ue())}}class oc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new oc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class VA{constructor(e,t){this.targetId=e,this.me=t}}class FA{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rb{constructor(){this.fe=0,this.ge=ib(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),r=Ue();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new oc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ib()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=Hd(),this.Qe=Hd(),this.Ke=new gt(ze)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const a=i.target;if(M_(a))if(r===0){const u=new Re(a.path);this.We(t,u,pn.newNoDocument(u,De.min()))}else Qe(r===1);else{const u=this.Ze(t);if(u!==r){const l=this.Xe(e),d=l?this.et(l,e,u):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,l;try{u=Cs(r).toUint8Array()}catch(d){if(d instanceof mA)return jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new Nw(u,i,a)}catch(d){return jo(d instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const u=this.Le.nt(),l=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.We(t,a,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((a,u)=>{const l=this.Ye(u);if(l){if(a.current&&M_(l.target)){const d=new Re(l.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,pn.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Ue();this.Qe.forEach((a,u)=>{let l=!0;u.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const i=new fh(e,t,this.Ke,this.ke,r);return this.ke=Fi(),this.qe=Hd(),this.Qe=Hd(),this.Ke=new gt(ze),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new rb,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new jt(ze),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new jt(ze),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new rb),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Hd(){return new gt(Re.comparator)}function ib(){return new gt(Re.comparator)}const sF={asc:"ASCENDING",desc:"DESCENDING"},aF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oF={and:"AND",or:"OR"};class uF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function V_(n,e){return n.useProto3Json||sh(e)?e:{value:e}}function Mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lF(n,e){return Mf(n,e.toTimestamp())}function ni(n){return Qe(!!n),De.fromTimestamp(function(t){const r=xs(t);return new kt(r.seconds,r.nanos)}(n))}function Mw(n,e){return F_(n,e).canonicalString()}function F_(n,e){const t=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UA(n){const e=dt.fromString(n);return Qe(HA(e)),e}function j_(n,e){return Mw(n.databaseId,e.path)}function Pm(n,e){const t=UA(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re($A(t))}function qA(n,e){return Mw(n.databaseId,e)}function cF(n){const e=UA(n);return e.length===4?dt.emptyPath():$A(e)}function U_(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $A(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function sb(n,e,t){return{name:j_(n,e),fields:t.value.mapValue.fields}}function dF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Qe(m===void 0||typeof m=="string"),sn.fromBase64String(m||"")):(Qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&function(p){const m=p.code===void 0?ie.UNKNOWN:LA(p.code);return new be(m,p.message||"")}(u);t=new FA(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pm(n,r.document.name),a=ni(r.document.updateTime),u=r.document.createTime?ni(r.document.createTime):De.min(),l=new Mn({mapValue:{fields:r.document.fields}}),d=pn.newFoundDocument(i,a,u,l),p=r.targetIds||[],m=r.removedTargetIds||[];t=new lf(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pm(n,r.document),a=r.readTime?ni(r.readTime):De.min(),u=pn.newNoDocument(i,a),l=r.removedTargetIds||[];t=new lf([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pm(n,r.document),a=r.removedTargetIds||[];t=new lf([],a,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new eF(i,a),l=r.targetId;t=new VA(l,u)}}return t}function fF(n,e){let t;if(e instanceof ac)t={update:sb(n,e.key,e.value)};else if(e instanceof Dw)t={delete:j_(n,e.key)};else if(e instanceof Vs)t={update:sb(n,e.key,e.data),updateMask:EF(e.fieldMask)};else{if(!(e instanceof X4))return ke();t={verify:j_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const l=u.transform;if(l instanceof Of)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Nf)return{fieldPath:u.field.canonicalString(),increment:l.Pe};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:lF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()}(n,e.precondition)),t}function hF(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(i,a){let u=i.updateTime?ni(i.updateTime):ni(a);return u.isEqual(De.min())&&(u=ni(a)),new K4(u,i.transformResults||[])}(t,e))):[]}function pF(n,e){return{documents:[qA(n,e.path)]}}function mF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qA(n,i);const a=function(p){if(p.length!==0)return BA(ai.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(m=>function(_){return{field:Po(_.field),direction:yF(_.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=V_(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function gF(n){let e=cF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const _=zA(v);return _ instanceof ai&&_A(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(_=>function(b){return new Df(ko(b.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(t.orderBy));let l=null;t.limit&&(l=function(v){let _;return _=typeof v=="object"?v.value:v,sh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(v){const _=!!v.before,E=v.values||[];return new kf(E,_)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const _=!v.before,E=v.values||[];return new kf(E,_)}(t.endAt)),O4(e,i,u,a,l,"F",d,p)}function vF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ko(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ko(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ko(t.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ko(t.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(ko(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(r=>zA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function yF(n){return sF[n]}function _F(n){return aF[n]}function wF(n){return oF[n]}function Po(n){return{fieldPath:n.canonicalString()}}function ko(n){return nn.fromServerFormat(n.fieldPath)}function BA(n){return n instanceof Ft?function(t){if(t.op==="=="){if(W1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(H1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(W1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(H1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:_F(t.op),value:t.value}}}(n):n instanceof ai?function(t){const r=t.getFilters().map(i=>BA(i));return r.length===1?r[0]:{compositeFilter:{op:wF(t.op),filters:r}}}(n):ke()}function EF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,r,i,a=De.min(),u=De.min(),l=sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.ht=e}}function bF(n){const e=gF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?L_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.ln=new IF}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Rs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class IF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jt(dt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bo(0)}static Qn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class RF{constructor(e){this.Gn=e,this.buffer=new jt(ob),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ob(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){au(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await su(t)}await this.Yn(3e5)})}}class CF{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(ih.oe);const r=new RF(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,a,u,l,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,l=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Co()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${a} targets in `+(d-l)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function AF(n,e){return new CF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Sl(r.mutation,i,Jn.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=pl();return a.forEach((l,d)=>{u=u.insert(l,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,l)=>{t.set(u,l)})})}computeViews(e,t,r,i){let a=Fi();const u=bl(),l=function(){return bl()}();return t.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Vs)?a=a.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),Sl(m.mutation,p,m.mutation.getFieldMask(),kt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>u.set(p,m)),t.forEach((p,m)=>{var v;return l.set(p,new kF(m,(v=u.get(p))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,t){const r=bl();let i=new gt((u,l)=>u-l),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const l of u)l.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Jn.empty();m=l.applyToLocalView(p,m),r.set(d,m);const v=(i.get(l.batchId)||Ue()).add(d);i=i.insert(l.batchId,v)})}).next(()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),p=d.key,m=d.value,v=CA();m.forEach(_=>{if(!a.has(_)){const E=NA(t.get(_),r.get(_));E!==null&&v.set(_,E),a=a.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):N4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ee.resolve(ga());let l=-1,d=a;return u.next(p=>ee.forEach(p,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),a.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Ue())).next(m=>({batchId:l,changes:xA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next(l=>ee.forEach(l,d=>{const p=function(v,_){return new oh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(u=>{a.forEach((d,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,pn.newInvalidDocument(m)))});let l=pl();return u.forEach((d,p)=>{const m=a.get(d);m!==void 0&&Sl(m.mutation,p,Jn.empty(),kt.now()),lh(t,p)&&(l=l.insert(d,p))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:bF(i.bundledQuery),readTime:ni(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.overlays=new gt(Re.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ga();return ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Tt(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=ga(),a=t.length+1,u=new Re(t.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const d=l.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gt((p,m)=>p-m);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=ga(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const l=ga(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>l.set(p,m)),!(l.size()>=i)););return ee.resolve(l)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Z4(t,r));let a=this.Er.get(t);a===void 0&&(a=Ue(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.dr=new jt(Gt.Ar),this.Rr=new jt(Gt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Gt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Re(new dt([])),r=new Gt(t,e),i=new Gt(t,e+1),a=[];return this.Rr.forEachInRange([r,i],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Re(new dt([])),r=new Gt(t,e),i=new Gt(t,e+1);let a=Ue();return this.Rr.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Gt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Re.comparator(e.key,t.key)||ze(e.br,t.br)}static Vr(e,t){return ze(e.br,t.br)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new jt(Gt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new J4(a,t,r,i);this.mutationQueue.push(u);for(const l of i)this.vr=this.vr.add(new Gt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),i=new Gt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],u=>{const l=this.Cr(u.br);a.push(l)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jt(ze);return t.forEach(i=>{const a=new Gt(i,0),u=new Gt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],l=>{r=r.add(l.br)})}),ee.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const u=new Gt(new Re(a),0);let l=new jt(ze);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(d.br)),!0)},u),ee.resolve(this.Mr(l))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ee.forEach(t.mutations,i=>{const a=new Gt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Gt(t,0),i=this.vr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.Nr=e,this.docs=function(){return new gt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Fi();const u=t.path,l=new Re(u.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||f4(d4(m),r)<=0||(i.has(m.key)||lh(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke()}Lr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FF(this)}getSize(e){return ee.resolve(this.size)}}class FF extends PF{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.persistence=e,this.Br=new La(t=>Aw(t),Pw),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new Lw,this.targetCount=0,this.Qr=Bo.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Br.forEach((u,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ih(0),this.Ur=!1,this.Ur=!0,this.Wr=new MF,this.referenceDelegate=e(this),this.Gr=new jF(this),this.indexManager=new SF,this.remoteDocumentCache=function(i){return new VF(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new TF(t),this.jr=new OF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new LF(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new UF(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,t){return ee.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class UF extends p4{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Zr=new Lw,this.Xr=null}static ei(e){return new Vw(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,r=>{const i=Re.fromPath(r);return this.ni(e,i).next(a=>{a||t.removeEntry(i,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Lf{constructor(e,t){this.persistence=e,this.ri=new La(r=>v4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=AF(this,t)}static ei(e,t){return new Lf(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,u=>this.ir(e,u,t).next(l=>{l||(r++,a.removeEntry(u,De.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=af(e.data.value)),t}ir(e,t,r){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Ue(),i=Ue();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TN()?8:m4(mn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new qF;return this.ts(e,t,u).next(l=>{if(a.result=l,this.Hi)return this.ns(e,t,u,l.size)})}).next(()=>a.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Co()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(Co()<=je.DEBUG&&me("QueryEngine","Query:",Ao(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Co()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):ee.resolve())}Xi(e,t){if(Q1(t))return ee.resolve(null);let r=ti(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=L_(t,null,"F"),r=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ue(...a);return this.Zi.getDocuments(e,u).next(l=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,l);return this.ss(t,p,u,d.readTime)?this.Xi(e,L_(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,i){return Q1(t)||i.isEqual(De.min())?ee.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,i)?ee.resolve(null):(Co()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(t)),this.os(e,u,t,c4(i,-1)).next(l=>l))})}rs(e,t){let r=new jt(IA(e));return t.forEach((i,a)=>{lh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,t,r){return Co()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.Zi.getDocumentsMatchingQuery(e,t,Rs.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new gt(ze),this.cs=new La(a=>Aw(a),Pw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function BF(n,e,t,r){return new zF(n,e,t,r)}async function GA(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],l=[];let d=Ue();for(const p of i){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:l}))})})}function HF(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(l,d,p,m){const v=p.batch,_=v.keys();let E=ee.resolve();return _.forEach(b=>{E=E.next(()=>m.getEntry(d,b)).next(S=>{const I=p.docVersions.get(b);Qe(I!==null),S.version.compareTo(I)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let d=Ue();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function KA(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function WF(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const l=[];e.targetChanges.forEach((m,v)=>{const _=i.get(v);if(!_)return;l.push(t.Gr.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,m.addedDocuments,v)));let E=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),function(S,I,A){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(_,E,m)&&l.push(t.Gr.updateTargetData(a,E))});let d=Fi(),p=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(GF(a,u,e.documentUpdates).next(m=>{d=m.Is,p=m.Es})),!r.isEqual(De.min())){const m=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(m)}return ee.waitFor(l).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.us=i,a))}function GF(n,e,t){let r=Ue(),i=Ue();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Fi();return t.forEach((l,d)=>{const p=a.get(l);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(l,d.readTime),u=u.insert(l,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(l,d)):me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",d.version)}),{Is:u,Es:i}})}function KF(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YF(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):t.Gr.allocateTargetId(r).next(u=>(i=new _s(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function q_(n,e,t){const r=Oe(n),i=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!au(u))throw u;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ub(n,e,t){const r=Oe(n);let i=De.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,m){const v=Oe(d),_=v.cs.get(m);return _!==void 0?ee.resolve(v.us.get(_)):v.Gr.getTargetData(p,m)}(r,u,ti(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,l.targetId).next(d=>{a=d})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?i:De.min(),t?a:Ue())).next(l=>(QF(r,L4(e),l),{documents:l,ds:a})))}function QF(n,e,t){let r=n.ls.get(e)||De.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class lb{constructor(){this.activeTargetIds=$4()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XF{constructor(){this._o=new lb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new lb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function km(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class tj extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(t,r,i,a,u){const l=km(),d=this.No(t,r.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${l}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,d,p,i).then(m=>(me("RestConnection",`Received RPC '${t}' ${l}: `,m),m),m=>{throw jo("RestConnection",`RPC '${t}' ${l} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,a,u,l){return this.Oo(t,r,i,a,u)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),i&&i.headers.forEach((a,u)=>t[u]=a)}No(t,r){const i=ZF[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const a=km();return new Promise((u,l)=>{const d=new oA;d.setWithCredentials(!0),d.listenOnce(uA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case sf.NO_ERROR:const m=d.getResponseJson();me(dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),u(m);break;case sf.TIMEOUT:me(dn,`RPC '${e}' ${a} timed out`),l(new be(ie.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const v=d.getStatus();if(me(dn,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const b=function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(A)>=0?A:ie.UNKNOWN}(E.status);l(new be(b,E.message))}else l(new be(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new be(ie.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(dn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);me(dn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",p,r,15)})}qo(e,t,r){const i=km(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dA(),l=cA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");me(dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=u.createWebChannel(m,d);let _=!1,E=!1;const b=new ej({Eo:I=>{E?me(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(_||(me(dn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),me(dn,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Ao:()=>v.close()}),S=(I,A,P)=>{I.listen(A,F=>{try{P(F)}catch(V){setTimeout(()=>{throw V},0)}})};return S(v,hl.EventType.OPEN,()=>{E||(me(dn,`RPC '${e}' stream ${i} transport opened.`),b.So())}),S(v,hl.EventType.CLOSE,()=>{E||(E=!0,me(dn,`RPC '${e}' stream ${i} transport closed`),b.Do())}),S(v,hl.EventType.ERROR,I=>{E||(E=!0,jo(dn,`RPC '${e}' stream ${i} transport errored:`,I),b.Do(new be(ie.UNAVAILABLE,"The operation could not be completed")))}),S(v,hl.EventType.MESSAGE,I=>{var A;if(!E){const P=I.data[0];Qe(!!P);const F=P,V=(F==null?void 0:F.error)||((A=F[0])===null||A===void 0?void 0:A.error);if(V){me(dn,`RPC '${e}' stream ${i} received error:`,V);const H=V.status;let z=function(C){const N=Pt[C];if(N!==void 0)return LA(N)}(H),k=V.message;z===void 0&&(z=ie.INTERNAL,k="Unknown error status: "+H+" with message "+V.message),E=!0,b.Do(new be(z,k)),v.close()}else me(dn,`RPC '${e}' stream ${i} received:`,P),b.vo(P)}}),S(l,lA.STAT_EVENT,I=>{I.stat===k_.PROXY?me(dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===k_.NOPROXY&&me(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n){return new uF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t,r,i,a,u,l,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new YA(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new be(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nj extends QA{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=dF(this.serializer,e),r=function(a){if(!("targetChange"in a))return De.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?ni(u.readTime):De.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=U_(this.serializer),t.addTarget=function(a,u){let l;const d=u.target;if(l=M_(d)?{documents:pF(a,d)}:{query:mF(a,d).ct},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=jA(a,u.resumeToken);const p=V_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}else if(u.snapshotVersion.compareTo(De.min())>0){l.readTime=Mf(a,u.snapshotVersion.toTimestamp());const p=V_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}return l}(this.serializer,e);const r=vF(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=U_(this.serializer),t.removeTarget=e,this.c_(t)}}class rj extends QA{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hF(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=U_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fF(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,F_(t,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(ie.UNKNOWN,a.toString())})}ko(e,t,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.ko(e,F_(t,r),i,u,l,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ie.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vi(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Va(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Oe(d);p.k_.add(4),await uc(p),p.K_.set("Unknown"),p.k_.delete(4),await ph(p)}(this))})}),this.K_=new sj(r,i)}}async function ph(n){if(Va(n))for(const e of n.q_)await e(!0)}async function uc(n){for(const e of n.q_)await e(!1)}function XA(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),$w(t)?qw(t):ou(t).s_()&&Uw(t,e))}function jw(n,e){const t=Oe(n),r=ou(t);t.B_.delete(e),r.s_()&&JA(t,e),t.B_.size===0&&(r.s_()?r.a_():Va(t)&&t.K_.set("Unknown"))}function Uw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(n).V_(e)}function JA(n,e){n.U_.xe(e),ou(n).m_(e)}function qw(n){n.U_=new iF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.K_.F_()}function $w(n){return Va(n)&&!ou(n).i_()&&n.B_.size>0}function Va(n){return Oe(n).k_.size===0}function ZA(n){n.U_=void 0}async function oj(n){n.K_.set("Online")}async function uj(n){n.B_.forEach((e,t)=>{Uw(n,e)})}async function lj(n,e){ZA(n),$w(n)?(n.K_.O_(e),qw(n)):n.K_.set("Unknown")}async function cj(n,e,t){if(n.K_.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const l of a.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i.B_.delete(l),i.U_.removeTarget(l))}(n,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(n,r)}else if(e instanceof lf?n.U_.$e(e):e instanceof VA?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const r=await KA(n.localStore);t.compareTo(r)>=0&&await function(a,u){const l=a.U_.it(u);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.B_.get(p);m&&a.B_.set(p,m.withResumeToken(d.resumeToken,u))}}),l.targetMismatches.forEach((d,p)=>{const m=a.B_.get(d);if(!m)return;a.B_.set(d,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),JA(a,d);const v=new _s(m.target,d,p,m.sequenceNumber);Uw(a,v)}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await Vf(n,r)}}async function Vf(n,e,t){if(!au(e))throw e;n.k_.add(1),await uc(n),n.K_.set("Offline"),t||(t=()=>KA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ph(n)})}function eP(n,e){return e().catch(t=>Vf(n,t,e))}async function mh(n){const e=Oe(n),t=Ps(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;dj(e);)try{const i=await KF(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,fj(e,i)}catch(i){await Vf(e,i)}tP(e)&&nP(e)}function dj(n){return Va(n)&&n.L_.length<10}function fj(n,e){n.L_.push(e);const t=Ps(n);t.s_()&&t.f_&&t.g_(e.mutations)}function tP(n){return Va(n)&&!Ps(n).i_()&&n.L_.length>0}function nP(n){Ps(n).start()}async function hj(n){Ps(n).w_()}async function pj(n){const e=Ps(n);for(const t of n.L_)e.g_(t.mutations)}async function mj(n,e,t){const r=n.L_.shift(),i=Ow.from(r,e,t);await eP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await mh(n)}async function gj(n,e){e&&Ps(n).f_&&await async function(r,i){if(function(u){return tF(u)&&u!==ie.ABORTED}(i.code)){const a=r.L_.shift();Ps(r).__(),await eP(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await mh(r)}}(n,e),tP(n)&&nP(n)}async function db(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Va(t);t.k_.add(3),await uc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ph(t)}async function vj(n,e){const t=Oe(n);e?(t.k_.delete(2),await ph(t)):e||(t.k_.add(2),await uc(t),t.K_.set("Unknown"))}function ou(n){return n.W_||(n.W_=function(t,r,i){const a=Oe(t);return a.b_(),new nj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:oj.bind(null,n),mo:uj.bind(null,n),po:lj.bind(null,n),R_:cj.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),$w(n)?qw(n):n.K_.set("Unknown")):(await n.W_.stop(),ZA(n))})),n.W_}function Ps(n){return n.G_||(n.G_=function(t,r,i){const a=Oe(t);return a.b_(),new rj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:hj.bind(null,n),po:gj.bind(null,n),p_:pj.bind(null,n),y_:mj.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await mh(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,l=new zw(e,t,u,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bw(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),au(n))return new be(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Re.comparator(t.key,r.key):(t,r)=>Re.comparator(t.key,r.key),this.keyedMap=pl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.z_=new gt(Re.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ho{constructor(e,t,r,i,a,u,l,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new Ho(e,t,Lo.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _j{constructor(){this.queries=hb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Oe(t),a=i.queries;i.queries=hb(),a.forEach((u,l)=>{for(const d of l.J_)d.onError(r)})})(this,new be(ie.ABORTED,"Firestore shutting down"))}}function hb(){return new La(n=>SA(n),uh)}async function wj(n,e){const t=Oe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new yj,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(i,!0);break;case 1:a.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const l=Bw(u,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Hw(t)}async function Ej(n,e){const t=Oe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Tj(n,e){const t=Oe(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const l of u.J_)l.ta(i)&&(r=!0);u.H_=i}}r&&Hw(t)}function bj(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(t);r.queries.delete(e)}function Hw(n){n.X_.forEach(e=>{e.next()})}var $_,pb;(pb=$_||($_={})).na="default",pb.Cache="cache";class Sj{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.key=e}}class iP{constructor(e){this.key=e}}class Ij{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=IA(e),this.ma=new Lo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new fb,i=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const _=i.get(m),E=lh(this.query,v)?v:null,b=!!_&&this.mutatedKeys.has(_.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?b!==S&&(r.track({type:3,doc:E}),I=!0):this.ya(_,E)||(r.track({type:2,doc:E}),I=!0,(d&&this.Va(E,d)>0||p&&this.Va(E,p)<0)&&(l=!0)):!_&&E?(r.track({type:0,doc:E}),I=!0):_&&!E&&(r.track({type:1,doc:_}),I=!0,(d||p)&&(l=!0)),I&&(E?(u=u.add(E),a=S?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{ma:u,pa:r,ss:l,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((m,v)=>function(E,b){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return S(E)-S(b)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(r),i=i!=null&&i;const l=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,u.length!==0||p?{snapshot:new Ho(this.query,e.ma,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new fb,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new iP(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new rP(r))}),t}va(e){this.da=e.ds,this.Ra=Ue();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ho.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Rj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xj{constructor(e){this.key=e,this.Fa=!1}}class Cj{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new La(l=>SA(l),uh),this.Oa=new Map,this.Na=new Set,this.La=new gt(Re.comparator),this.Ba=new Map,this.ka=new Lw,this.qa={},this.Qa=new Map,this.Ka=Bo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Aj(n,e,t=!0){const r=cP(n);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await sP(r,e,t,!0),i}async function Pj(n,e){const t=cP(n);await sP(t,e,!0,!1)}async function sP(n,e,t,r){const i=await YF(n.localStore,ti(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let l;return r&&(l=await kj(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&XA(n.remoteStore,i),l}async function kj(n,e,t,r,i){n.Ua=(v,_,E)=>async function(S,I,A,P){let F=I.view.ga(A);F.ss&&(F=await ub(S.localStore,I.query,!1).then(({documents:k})=>I.view.ga(k,F)));const V=P&&P.targetChanges.get(I.targetId),H=P&&P.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(F,S.isPrimaryClient,V,H);return gb(S,I.targetId,z.ba),z.snapshot}(n,v,_,E);const a=await ub(n.localStore,e,!0),u=new Ij(e,a.ds),l=u.ga(a.documents),d=oc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(l,n.isPrimaryClient,d);gb(n,t,p.ba);const m=new Rj(e,t,u);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function Dj(n,e,t){const r=Oe(n),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(u=>!uh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await q_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&jw(r.remoteStore,i.targetId),z_(r,i.targetId)}).catch(su)):(z_(r,i.targetId),await q_(r.localStore,i.targetId,!0))}async function Oj(n,e){const t=Oe(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jw(t.remoteStore,r.targetId))}async function Nj(n,e,t){const r=qj(n);try{const i=await function(u,l){const d=Oe(u),p=kt.now(),m=l.reduce((E,b)=>E.add(b.key),Ue());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let b=Fi(),S=Ue();return d.hs.getEntries(E,m).next(I=>{b=I,b.forEach((A,P)=>{P.isValidDocument()||(S=S.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,b)).next(I=>{v=I;const A=[];for(const P of l){const F=Q4(P,v.get(P.key).overlayedDocument);F!=null&&A.push(new Vs(P.key,F,gA(F.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,A,l)}).next(I=>{_=I;const A=I.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,I.batchId,A)})}).then(()=>({batchId:_.batchId,changes:xA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,d){let p=u.qa[u.currentUser.toKey()];p||(p=new gt(ze)),p=p.insert(l,d),u.qa[u.currentUser.toKey()]=p}(r,i.batchId,t),await lc(r,i.changes),await mh(r.remoteStore)}catch(i){const a=Bw(i,"Failed to persist write");t.reject(a)}}async function aP(n,e){const t=Oe(n);try{const r=await WF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.Ba.get(a);u&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Fa=!0:i.modifiedDocuments.size>0?Qe(u.Fa):i.removedDocuments.size>0&&(Qe(u.Fa),u.Fa=!1))}),await lc(t,r,e)}catch(r){await su(r)}}function mb(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((a,u)=>{const l=u.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(u,l){const d=Oe(u);d.onlineState=l;let p=!1;d.queries.forEach((m,v)=>{for(const _ of v.J_)_.ea(l)&&(p=!0)}),p&&Hw(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Mj(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),a=i&&i.key;if(a){let u=new gt(Re.comparator);u=u.insert(a,pn.newNoDocument(a,De.min()));const l=Ue().add(a),d=new fh(De.min(),new Map,new gt(ze),u,l);await aP(r,d),r.La=r.La.remove(a),r.Ba.delete(e),Ww(r)}else await q_(r.localStore,e,!1).then(()=>z_(r,e,t)).catch(su)}async function Lj(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=await HF(t.localStore,e);uP(t,r,null),oP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lc(t,i)}catch(i){await su(i)}}async function Vj(n,e,t){const r=Oe(n);try{const i=await function(u,l){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,l).next(v=>(Qe(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);uP(r,e,t),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lc(r,i)}catch(i){await su(i)}}function oP(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function uP(n,e,t){const r=Oe(n);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function z_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||lP(n,r)})}function lP(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(jw(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Ww(n))}function gb(n,e,t){for(const r of t)r instanceof rP?(n.ka.addReference(r.key,e),Fj(n,r)):r instanceof iP?(me("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||lP(n,r.key)):ke()}function Fj(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(r),Ww(n))}function Ww(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Re(dt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new xj(t)),n.La=n.La.insert(t,r),XA(n.remoteStore,new _s(ti(bA(t.path)),r,"TargetPurposeLimboResolution",ih.oe))}}async function lc(n,e,t){const r=Oe(n),i=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((l,d)=>{u.push(r.Ua(d,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Fw.zi(d.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Ma.R_(i),await async function(d,p){const m=Oe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,_=>ee.forEach(_.Wi,E=>m.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>ee.forEach(_.Gi,E=>m.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!au(v))throw v;me("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const E=m.us.get(_),b=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(b);m.us=m.us.insert(_,S)}}}(r.localStore,a))}async function jj(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await GA(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(l=>{l.forEach(d=>{d.reject(new be(ie.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(t,r.Ts)}}function Uj(n,e){const t=Oe(n),r=t.Ba.get(e);if(r&&r.Fa)return Ue().add(r.key);{let i=Ue();const a=t.Oa.get(e);if(!a)return i;for(const u of a){const l=t.xa.get(u);i=i.unionWith(l.view.fa)}return i}}function cP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mj.bind(null,e),e.Ma.R_=Tj.bind(null,e.eventManager),e.Ma.Wa=bj.bind(null,e.eventManager),e}function qj(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vj.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return BF(this.persistence,new $F,e.initialUser,this.serializer)}ja(e){return new WA(Vw.ei,this.serializer)}za(e){return new XF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class $j extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof Lf);const r=this.persistence.referenceDelegate.garbageCollector;return new xF(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new WA(r=>Lf.ei(r,t),this.serializer)}}class B_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jj.bind(null,this.syncEngine),await vj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _j}()}createDatastore(e){const t=hh(e.databaseInfo.databaseId),r=function(a){return new tj(a)}(e.databaseInfo);return function(a,u,l,d){return new ij(a,u,l,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,u,l){return new aj(r,i,a,u,l)}(this.localStore,this.datastore,e.asyncQueue,t=>mb(this.syncEngine,t,0),function(){return cb.p()?new cb:new JF}())}createSyncEngine(e,t){return function(i,a,u,l,d,p,m){const v=new Cj(i,a,u,l,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Oe(i);me("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=hA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Bw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Om(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Hj(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>db(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>db(e.remoteStore,i)),n._onlineComponents=e}async function Hj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Om(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Om(n,new Ff)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Om(n,new $j(void 0));return n._offlineComponents}async function dP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await vb(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await vb(n,new B_))),n._onlineComponents}function Wj(n){return dP(n).then(e=>e.syncEngine)}async function Gj(n){const e=await dP(n),t=e.eventManager;return t.onListen=Aj.bind(null,e.syncEngine),t.onUnlisten=Dj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Oj.bind(null,e.syncEngine),t}function Kj(n,e,t={}){const r=new bs;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,l,d,p){const m=new zj({next:_=>{m.eu(),u.enqueueAndForget(()=>Ej(a,v)),_.fromCache&&d.source==="server"?p.reject(new be(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new Sj(l,m,{includeMetadataChanges:!0,ua:!0});return wj(a,v)}(await Gj(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n,e,t){if(!t)throw new be(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Yj(n,e,t,r){if(e===!0&&r===!0)throw new be(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _b(n){if(!Re.isDocumentKey(n))throw new be(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wb(n){if(Re.isDocumentKey(n))throw new be(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Sa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gw(n);throw new be(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t4;switch(r.type){case"firstParty":return new s4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=yb.get(t);r&&(me("ComponentProvider","Removing Datastore"),yb.delete(t),r.terminate())}(this),Promise.resolve()}}function Qj(n,e,t,r={}){var i;const a=(n=Sa(n,gh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let l,d;if(typeof r.mockUserToken=="string")l=r.mockUserToken,d=hn.MOCK_USER;else{l=mN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new be(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hn(p)}n._authCredentials=new n4(new fA(l,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vh(this.firestore,e,this._query)}}class cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Ss extends vh{constructor(e,t,r){super(e,t,bA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new Re(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function pP(n,e,...t){if(n=rn(n),hP("collection","path",e),n instanceof gh){const r=dt.fromString(e,...t);return wb(r),new Ss(n,null,r)}{if(!(n instanceof cr||n instanceof Ss))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return wb(r),new Ss(n.firestore,null,r)}}function jf(n,e,...t){if(n=rn(n),arguments.length===1&&(e=hA.newId()),hP("doc","path",e),n instanceof gh){const r=dt.fromString(e,...t);return _b(r),new cr(n,null,new Re(r))}{if(!(n instanceof cr||n instanceof Ss))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return _b(r),new cr(n.firestore,n instanceof Ss?n.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new YA(this,"async_queue_retry"),this.fu=()=>{const r=Dm();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new bs;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!au(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),l}(r);throw Vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=zw.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class cc extends gh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function Xj(n,e){const t=typeof n=="object"?n:TC(),r=typeof n=="string"?n:"(default)",i=pw(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=hN("firestore");a&&Qj(i,...a)}return i}function mP(n){if(n._terminated)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jj(n),n._firestoreClient}function Jj(n){var e,t,r;const i=n._freezeSettings(),a=function(l,d,p,m){return new w4(l,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fP(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Bj(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(sn.fromBase64String(e))}catch(t){throw new be(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^__.*__$/;class e3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class gP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class wh{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Uf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(vP(this.Mu)&&Zj.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class t3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hh(e)}$u(e,t,r,i=!1){return new wh({Mu:e,methodName:t,Ku:r,path:nn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yP(n){const e=n._freezeSettings(),t=hh(n._databaseId);return new t3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function n3(n,e,t,r,i,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,i);Xw("Data must be an object, but it was:",u,r);const l=_P(r,u);let d,p;if(a.merge)d=new Jn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const _=H_(e,v,t);if(!u.contains(_))throw new be(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);EP(m,_)||m.push(_)}d=new Jn(m),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new e3(new Mn(l),d,p)}class Eh extends _h{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function r3(n,e,t){return new wh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qw extends _h{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=r3(this,e,!0),r=this.Uu.map(a=>dc(a,t)),i=new zo(r);return new W4(e.path,i)}isEqual(e){return e instanceof Qw&&Al(this.Uu,e.Uu)}}function i3(n,e,t,r){const i=n.$u(1,e,t);Xw("Data must be an object, but it was:",i,r);const a=[],u=Mn.empty();Ls(r,(d,p)=>{const m=Jw(e,d,t);p=rn(p);const v=i.Bu(m);if(p instanceof Eh)a.push(m);else{const _=dc(p,v);_!=null&&(a.push(m),u.set(m,_))}});const l=new Jn(a);return new gP(u,l,i.fieldTransforms)}function s3(n,e,t,r,i,a){const u=n.$u(1,e,t),l=[H_(e,r,t)],d=[i];if(a.length%2!=0)throw new be(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)l.push(H_(e,a[_])),d.push(a[_+1]);const p=[],m=Mn.empty();for(let _=l.length-1;_>=0;--_)if(!EP(p,l[_])){const E=l[_];let b=d[_];b=rn(b);const S=u.Bu(E);if(b instanceof Eh)p.push(E);else{const I=dc(b,S);I!=null&&(p.push(E),m.set(E,I))}}const v=new Jn(p);return new gP(m,v,u.fieldTransforms)}function dc(n,e){if(wP(n=rn(n)))return Xw("Unsupported field value:",e,n),_P(n,e);if(n instanceof _h)return function(r,i){if(!vP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const l of r){let d=dc(l,i.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:Mf(i.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(i.serializer,a)}}if(r instanceof Kw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:jA(i.serializer,r._byteString)};if(r instanceof cr){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yw)return function(u,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw l.qu("VectorValues must only contain numeric values.");return kw(l.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Gw(r)}`)}(n,e)}function _P(n,e){const t={};return pA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(r,i)=>{const a=dc(i,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function wP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Kw||n instanceof Wo||n instanceof cr||n instanceof _h||n instanceof Yw)}function Xw(n,e,t){if(!wP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Gw(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function H_(n,e,t){if((e=rn(e))instanceof yh)return e._internalPath;if(typeof e=="string")return Jw(n,e);throw Uf("Field path arguments must be of type string or ",n,!1,void 0,t)}const a3=new RegExp("[~\\*/\\[\\]]");function Jw(n,e,t){if(e.search(a3)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uf(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new be(ie.INVALID_ARGUMENT,l+n+d)}function EP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class o3 extends TP{data(){return super.data()}}function bP(n,e){return typeof e=="string"?Jw(n,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l3{convertValue(e,t="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ls(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>St(u.doubleValue));return new Yw(a)}convertGeoPoint(e){return new Kw(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ah(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=xs(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dt.fromString(e);Qe(HA(r));const i=new Ml(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(t)||Vi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d3 extends TP{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cf extends d3{data(e={}){return super.data(e)}}class f3{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cf(this._firestore,this._userDataWriter,r.key,r,new Gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(l=>{const d=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const d=new cf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),m=u.indexOf(l.doc.key)),{type:h3(l.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class p3 extends l3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}function SP(n){n=Sa(n,vh);const e=Sa(n.firestore,cc),t=mP(e),r=new p3(e);return u3(n._query),Kj(t,n._query).then(i=>new f3(e,r,n,i))}function IP(n,e,t,...r){n=Sa(n,cr);const i=Sa(n.firestore,cc),a=yP(i);let u;return u=typeof(e=rn(e))=="string"||e instanceof yh?s3(a,"updateDoc",n._key,e,t,r):i3(a,"updateDoc",n._key,e),Zw(i,[u.toMutation(n._key,Mr.exists(!0))])}function m3(n){return Zw(Sa(n.firestore,cc),[new Dw(n._key,Mr.none())])}function g3(n,e){const t=Sa(n.firestore,cc),r=jf(n),i=c3(n.converter,e);return Zw(t,[n3(yP(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function Zw(n,e){return function(r,i){const a=new bs;return r.asyncQueue.enqueueAndForget(async()=>Nj(await Wj(r),i,a)),a.promise}(mP(n),e)}function v3(...n){return new Qw("arrayUnion",n)}(function(e,t=!0){(function(i){iu=i})(nu),Fo(new wa("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),l=new cc(new r4(r.getProvider("auth-internal")),new o4(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(p.options.projectId,m)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ts(j1,"4.7.5",e),Ts(j1,"4.7.5","esm2017")})();const y3={apiKey:"AIzaSyC3DZIHW49UVq2uYJt5M8SXbgo3nVfXnjU",authDomain:"fretnot-attendance-b3026.firebaseapp.com",projectId:"fretnot-attendance-b3026",storageBucket:"fretnot-attendance-b3026.firebasestorage.app",messagingSenderId:"1068497148466",appId:"1:1068497148466:web:538e53b89fc500b9ce3a2b"},RP=EC(y3),Ia=XV(RP),xP=new Ai,Il=Xj(RP);var CP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bb=G.createContext&&G.createContext(CP),_3=["attr","size","title"];function w3(n,e){if(n==null)return{};var t=E3(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function E3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qf(){return qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qf.apply(this,arguments)}function Sb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $f(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(t),!0).forEach(function(r){T3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function T3(n,e,t){return e=b3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b3(n){var e=S3(n,"string");return typeof e=="symbol"?e:e+""}function S3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AP(n){return n&&n.map((e,t)=>G.createElement(e.tag,$f({key:t},e.attr),AP(e.child)))}function fc(n){return e=>G.createElement(I3,qf({attr:$f({},n.attr)},e),AP(n.child))}function I3(n){var e=t=>{var{attr:r,size:i,title:a}=n,u=w3(n,_3),l=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),G.createElement("svg",qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:$f($f({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),n.children)};return bb!==void 0?G.createElement(bb.Consumer,null,t=>e(t)):e(CP)}function PP(n){return fc({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kP=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...l},d)=>$.createElement("svg",{ref:d,...x3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:kP("lucide",i),...l},[...u.map(([p,m])=>$.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(n,e)=>{const t=$.forwardRef(({className:r,...i},a)=>$.createElement(C3,{ref:a,iconNode:e,className:kP(`lucide-${R3(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=Ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Ut("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ut("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=Ut("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ut("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),VP="/attendio/assets/bg-BJQISwya.jpeg",U3=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState({}),[a,u]=$.useState(""),[l,d]=$.useState(!1),[p,m]=$.useState(!1);$.useEffect(()=>{a&&u("")},[e]);const v=()=>{const I={},A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?A.test(e.email)||(I.email="Please enter a valid email"):I.email="Email is required",e.password?e.password.length<6&&(I.password="Password must be at least 6 characters"):I.password="Password is required",i(I),Object.keys(I).length===0},_=I=>{const{name:A,value:P}=I.target;t(F=>({...F,[A]:P})),r[A]&&i(F=>({...F,[A]:""}))},E=async I=>{if(I.preventDefault(),!!v()){d(!0);try{await LL(Ia,e.email,e.password),t({email:"",password:""})}catch(A){const P=S(A.code);u(P)}finally{d(!1)}}},b=async()=>{d(!0);try{await iA(Ia,xP)}catch(I){const A=S(I.code);u(A)}finally{d(!1)}},S=I=>{switch(I){case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password must be at least 6 characters.";default:return"An error occurred. Please try again."}};return L.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${VP})`,backgroundSize:"cover"},children:L.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white  p-8 rounded-xl shadow-2xl",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up"}),L.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign up to continue"})]}),a&&L.jsx("p",{className:"text-red-600 mb-4",children:a}),L.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:_,placeholder:"Email address",className:`appearance-none relative block w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),r.email&&L.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:_,placeholder:"Password",className:`appearance-none relative block w-full px-3 py-2 border ${r.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),L.jsx("button",{type:"button",onClick:()=>m(I=>!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":p?"Hide password":"Show password",children:p?L.jsx(OP,{size:16}):L.jsx(NP,{size:16})}),r.password&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:r.password})]}),L.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?L.jsx(MP,{className:"animate-spin mx-auto"}):"Sign Up"})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-0 flex items-center",children:L.jsx("div",{className:"w-full border-t border-gray-300"})}),L.jsx("div",{className:"relative flex justify-center text-sm",children:L.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),L.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[L.jsx(PP,{className:"h-5 w-5 mr-2"}),"Sign Up with Google"]}),L.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",L.jsx("button",{onClick:()=>n(!1),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Log in"})]})]})})},q3=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState(!1),[a,u]=$.useState(!1),[l,d]=$.useState(""),[p,m]=$.useState({}),v=Ma();$.useEffect(()=>{l&&d("")},[e]);const _=()=>{const A={},P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?P.test(e.email)||(A.email="Please enter a valid email"):A.email="Email is required",e.password?e.password.length<6&&(A.password="Password must be at least 6 characters"):A.password="Password is required",m(A),Object.keys(A).length===0},E=A=>{const{name:P,value:F}=A.target;t(V=>({...V,[P]:F})),p[P]&&m(V=>({...V,[P]:""}))},b=async A=>{if(A.preventDefault(),!!_()){u(!0);try{await VL(Ia,e.email,e.password),v("/home")}catch(P){const F=I(P.code);d(F)}finally{u(!1)}}},S=async()=>{u(!0);try{await iA(Ia,xP),v("/home")}catch(A){const P=I(A.code);d(P)}finally{u(!1)}},I=A=>{switch(A){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};return L.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${VP})`,backgroundSize:"cover"},children:L.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),L.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to continue"})]}),L.jsxs("form",{onSubmit:b,className:"mt-8 space-y-6",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),L.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address","aria-invalid":p.email?"true":"false","aria-describedby":p.email?"email-error":void 0}),p.email&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"email-error",children:p.email})]}),L.jsxs("div",{className:"relative",children:[L.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),L.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Password","aria-invalid":p.password?"true":"false","aria-describedby":p.password?"password-error":void 0}),L.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":r?"Hide password":"Show password",children:r?L.jsx(OP,{size:16}):L.jsx(NP,{size:16})}),p.password&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:p.password})]})]}),l&&L.jsx("div",{className:"rounded-md bg-red-50 p-4",children:L.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})}),L.jsx("div",{children:L.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?L.jsx(MP,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}):"Sign in"})})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-0 flex items-center",children:L.jsx("div",{className:"w-full border-t border-gray-300"})}),L.jsx("div",{className:"relative flex justify-center text-sm",children:L.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),L.jsxs("button",{onClick:S,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[L.jsx(PP,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),L.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",L.jsx("button",{onClick:()=>n(!0),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Sign up"})]})]})})},$3=({title:n,description:e,onClick:t,bgColor:r="bg-white"})=>L.jsx("button",{onClick:t,className:`${r} rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-200 w-full text-left hover:scale-105`,children:L.jsxs("div",{className:"flex flex-col space-y-2",children:[L.jsx("h3",{className:"text-xl font-bold",children:n}),L.jsx("p",{className:"text-gray-600 text-sm",children:e})]})}),z3=()=>L.jsxs("div",{className:"bg-zen-gradient rounded-lg shadow-lg p-8 text-white relative overflow-hidden",children:[L.jsx("div",{className:"relative z-10",children:L.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to the Dashboard"})}),L.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 transform rotate-45 -translate-y-8 translate-x-8"})]}),B3=()=>{const n=Ma(),e=[{title:"Students",description:"Edit or view all students or add new ones",onClick:()=>n("/students"),bgColor:"bg-blue-50 hover:bg-blue-100"},{title:"Attendance",description:"Mark and view student attendance",onClick:()=>n("/attendance"),bgColor:"bg-purple-50 hover:bg-purple-100"},{title:"Teaching Schedule",description:"View or edit your teaching schedule",onClick:()=>n("/schedule"),bgColor:"bg-green-50 hover:bg-green-100"},{title:"Settings",description:"Manage your preferences and profile settings",onClick:()=>n("/settings"),bgColor:"bg-yellow-50 hover:bg-yellow-100"}];return L.jsxs("div",{className:"px-4 sm:px-6 pb-24 py-6 md:ml-16 max-w-7xl mx-auto space-y-6 transition-all duration-300",children:[L.jsx(z3,{}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>L.jsx($3,{title:t.title,description:t.description,onClick:t.onClick,bgColor:t.bgColor},r))})]})},H3=({student:n,index:e,handleInputChange:t,toggleEditMode:r,handleRemoveRow:i})=>L.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden ",children:[L.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(LP,{className:"w-5 h-5 text-gray-400"}),L.jsx("h2",{className:"font-semibold text-gray-800",children:n.name||"New Student"})]}),L.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm bg-gray-100 text-gray-600",children:n.day||"No Day Set"})]}),L.jsxs("div",{className:"p-4 space-y-4",children:[n.isEditable?L.jsxs(L.Fragment,{children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),L.jsx("input",{type:"text",value:n.name,onChange:a=>t(a,e,"name"),placeholder:"Enter Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument"}),L.jsx("input",{type:"text",value:n.instrument,onChange:a=>t(a,e,"instrument"),placeholder:"Enter Instrument",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),L.jsxs("select",{value:n.day,onChange:a=>t(a,e,"day"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[L.jsx("option",{value:"",children:"Select Day"}),L.jsx("option",{value:"Monday",children:"Monday"}),L.jsx("option",{value:"Tuesday",children:"Tuesday"}),L.jsx("option",{value:"Wednesday",children:"Wednesday"}),L.jsx("option",{value:"Thursday",children:"Thursday"}),L.jsx("option",{value:"Friday",children:"Friday"})]})]})]}):L.jsxs("div",{className:"space-y-2",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(N3,{className:"w-4 h-4 text-gray-400"}),L.jsx("span",{className:"text-sm text-gray-600",children:n.instrument||"No Instrument"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(DP,{className:"w-4 h-4 text-gray-400"}),L.jsx("span",{className:"text-sm text-gray-600",children:n.day||"No Day"})]})]}),L.jsxs("div",{className:"flex gap-2 pt-2 border-t mt-4",children:[L.jsx("button",{onClick:()=>r(e),className:`flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n.isEditable?"bg-green text-white":"bg-blue text-white"}`,children:n.isEditable?L.jsxs(L.Fragment,{children:[L.jsx(V3,{className:"h-4 w-4"}),"Save"]}):L.jsxs(L.Fragment,{children:[L.jsx(M3,{className:"h-4 w-4"}),"Edit"]})}),L.jsxs("button",{onClick:()=>i(e),className:"flex-1 bg-red text-white inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:[L.jsx(F3,{className:"h-4 w-4"}),"Remove"]})]})]})]}),W3=()=>{const[n,e]=$.useState([]),t=pP(Il,"students");$.useEffect(()=>{(async()=>{try{const p=(await SP(t)).docs.map(m=>({id:m.id,...m.data(),isEditable:!1}));e(p)}catch(d){console.error("Error fetching students: ",d)}})()},[]);const r=()=>{e([{name:"",instrument:"",day:"",isEditable:!0},...n])},i=(l,d,p)=>{const{value:m}=l.target,v=n.map((_,E)=>E===d?{..._,[p]:m}:_);e(v)},a=async l=>{const d=n[l],p=n.map((m,v)=>v===l?{...m,isEditable:!m.isEditable}:m);if(d.isEditable)try{if(d.id)await IP(jf(Il,"students",d.id),{name:d.name,instrument:d.instrument,day:d.day});else{const m=await g3(t,{name:d.name,instrument:d.instrument,day:d.day});p[l].id=m.id}}catch(m){console.error("Error saving document: ",m);return}e(p)},u=async l=>{try{const d=n[l];d.id&&await m3(jf(Il,"students",d.id));const p=n.filter((m,v)=>v!==l);e(p)}catch(d){console.error("Error deleting document: ",d)}};return L.jsx("div",{className:"max-w-6xl mx-auto my-8 px-4 pb-20",children:L.jsxs("div",{className:"overflow-hidden",children:[L.jsx("div",{className:"px-4 md:px-6 py-4 ",children:L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[L.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 mb-6",children:[L.jsx(O3,{className:"h-8 w-8 "}),"Students"]}),L.jsxs("button",{onClick:r,className:"w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue text-white rounded-md transition-colors duration-200",children:[L.jsx(L3,{className:"w-4 h-4 mr-2"}),"Add Student"]})]})}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:n.map((l,d)=>L.jsx(H3,{student:l,index:d,handleInputChange:i,toggleEditMode:a,handleRemoveRow:u},l.id||d))})]})})},G3=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(!0),[i,a]=$.useState(null),[u,l]=$.useState(null),[d,p]=$.useState(null);$.useEffect(()=>{(async()=>{try{const I=(await SP(pP(Il,"students"))).docs.map(A=>({id:A.id,...A.data(),attendanceHistory:A.data().attendanceHistory||[]}));e(I),a(null)}catch(S){a("Failed to fetch students. Please try again later."),console.error("Error fetching students:",S)}finally{r(!1)}})()},[]);const m=async(b,S)=>{l(b);try{const I=jf(Il,"students",b),A={status:S,timestamp:kt.now(),date:new Date().toISOString().split("T")[0]};await IP(I,{attendance:S,attendanceHistory:v3(A)}),e(P=>P.map(F=>F.id===b?{...F,attendance:S,attendanceHistory:[...F.attendanceHistory||[],A]}:F))}catch(I){a("Failed to update attendance. Please try again."),console.error("Error updating attendance:",I)}finally{l(null)}},v=b=>!b||b.length===0?{present:0,absent:0}:b.reduce((S,I)=>({present:S.present+(I.status==="Present"?1:0),absent:S.absent+(I.status==="Absent"?1:0)}),{present:0,absent:0}),_=b=>b!=null&&b.seconds?new Date(b.seconds*1e3).toLocaleDateString():new Date(b).toLocaleDateString(),E=b=>b!=null&&b.seconds?new Date(b.seconds*1e3).toLocaleTimeString():new Date(b).toLocaleTimeString();return t?L.jsx("div",{className:"flex items-center justify-center min-h-screen",children:L.jsx(Lm,{className:"h-8 w-8 animate-spin text-blue-500"})}):L.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[L.jsx(j3,{className:"h-6 w-6"}),L.jsx("h1",{className:"text-2xl font-bold",children:"Student Attendance"})]}),i&&L.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-center gap-2 text-red-700",children:[L.jsx(k3,{className:"h-5 w-5"}),L.jsx("p",{children:i})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>{const S=v(b.attendanceHistory);return L.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[L.jsx("div",{className:"p-4 border-b bg-gray-50",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(LP,{className:"h-5 w-5 text-gray-400"}),L.jsx("h2",{className:"font-semibold text-gray-800",children:b.name})]}),L.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm ${b.attendance==="Present"?"bg-green-100 text-green-600":b.attendance==="Absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[b.attendance==="Present"&&L.jsx(Nm,{className:"h-4 w-4"}),b.attendance==="Absent"&&L.jsx(Mm,{className:"h-4 w-4"}),b.attendance||"Not marked"]})]})}),L.jsxs("div",{className:"p-4 bg-white",children:[L.jsxs("div",{className:"flex justify-around mb-4",children:[L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-green-600 font-semibold",children:S.present}),L.jsx("div",{className:"text-sm text-gray-500",children:"Present"})]}),L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-red-600 font-semibold",children:S.absent}),L.jsx("div",{className:"text-sm text-gray-500",children:"Absent"})]})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:()=>m(b.id,"Present"),disabled:u===b.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===b.id?L.jsx(Lm,{className:"h-4 w-4 animate-spin"}):L.jsxs(L.Fragment,{children:[L.jsx(Nm,{className:"h-4 w-4"}),"Present"]})}),L.jsx("button",{onClick:()=>m(b.id,"Absent"),disabled:u===b.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===b.id?L.jsx(Lm,{className:"h-4 w-4 animate-spin"}):L.jsxs(L.Fragment,{children:[L.jsx(Mm,{className:"h-4 w-4"}),"Absent"]})})]}),L.jsx("button",{onClick:()=>p(d===b.id?null:b.id),className:"w-full mt-4 flex items-center justify-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:d===b.id?L.jsxs(L.Fragment,{children:["Hide History ",L.jsx(P3,{className:"h-4 w-4"})]}):L.jsxs(L.Fragment,{children:["View History ",L.jsx(A3,{className:"h-4 w-4"})]})}),d===b.id&&L.jsx("div",{className:"mt-4 space-y-2 border-t pt-4",children:[...b.attendanceHistory].sort((I,A)=>A.timestamp.seconds-I.timestamp.seconds).slice(0,5).map((I,A)=>L.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b last:border-0",children:[L.jsxs("span",{className:`flex items-center gap-1
                            ${I.status==="Present"?"text-green-600":"text-red-600"}`,children:[I.status==="Present"?L.jsx(Nm,{className:"h-4 w-4"}):L.jsx(Mm,{className:"h-4 w-4"}),I.status]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[L.jsx(DP,{className:"h-4 w-4"}),_(I.timestamp)]}),L.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[L.jsx(D3,{className:"h-4 w-4"}),E(I.timestamp)]})]})]},A))})]})]},b.id)})})]})};function ji(n){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(n)}function K3(n,e){if(ji(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FP(n){var e=K3(n,"string");return ji(e)=="symbol"?e:e+""}function pa(n,e,t){return(e=FP(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ib(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(t),!0).forEach(function(r){pa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ib(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Th(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function oi(n,e){if(n==null)return{};var t,r,i=Th(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function qt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,FP(r.key),r)}}function $t(n,e,t){return e&&Rb(n.prototype,e),t&&Rb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function zf(n){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zf(n)}function jP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jP=function(){return!!n})()}function Y3(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q3(n,e){if(e&&(ji(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y3(n)}function gn(n,e,t){return e=zf(e),Q3(n,jP()?Reflect.construct(e,t||[],zf(n).constructor):e.apply(n,t))}function Bf(n,e){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Bf(n,e)}function vn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Bf(n,e)}function UP(n){if(Array.isArray(n))return n}function X3(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,u,l=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(d=(r=a.call(t)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(m){p=!0,i=m}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw i}}return l}}function W_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function eE(n,e){if(n){if(typeof n=="string")return W_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W_(n,e):void 0}}function qP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(n,e){return UP(n)||X3(n,e)||eE(n,e)||qP()}function $P(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=$P(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function wt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=$P(n))&&(r&&(r+=" "),r+=e);return r}function _t(){return _t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_t.apply(null,arguments)}var Vm,xb;function J3(){if(xb)return Vm;xb=1;var n=function(e,t,r,i,a,u,l,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,a,u,l,d],v=0;p=new Error(t.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Vm=n,Vm}var Z3=J3();const Fl=jn(Z3);var e6=function(){};function t6(n,e){var t={};return Object.keys(n).forEach(function(r){t[df(r)]=e6}),t}function Cb(n,e){return n[e]!==void 0}function df(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function n6(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function r6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Bf(n,e)}function zP(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function BP(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function HP(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}zP.__suppressDeprecationWarning=!0;BP.__suppressDeprecationWarning=!0;HP.__suppressDeprecationWarning=!0;function i6(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var a=n.displayName||n.name,u=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+u+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=zP,e.componentWillReceiveProps=BP),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=HP;var l=e.componentDidUpdate;e.componentDidUpdate=function(p,m,v){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;l.call(this,p,m,_)}}return n}var s6="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function WP(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=n6(n),a=Object.keys(e),u=a.map(df);i||!t.length||Fl(!1);var l=function(p){r6(m,p);function m(){for(var _,E=arguments.length,b=new Array(E),S=0;S<E;S++)b[S]=arguments[S];_=p.call.apply(p,[this].concat(b))||this,_.handlers=Object.create(null),a.forEach(function(A){var P=e[A],F=function(H){if(_.props[P]){var z;_._notifying=!0;for(var k=arguments.length,R=new Array(k>1?k-1:0),C=1;C<k;C++)R[C-1]=arguments[C];(z=_.props)[P].apply(z,[H].concat(R)),_._notifying=!1}_.unmounted||_.setState(function(N){var M,U=N.values;return{values:_t(Object.create(null),U,(M={},M[A]=H,M))}})};_.handlers[P]=F}),t.length&&(_.attachRef=function(A){_.inner=A});var I=Object.create(null);return a.forEach(function(A){I[A]=_.props[df(A)]}),_.state={values:I,prevProps:{}},_}var v=m.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(E,b){var S=b.values,I=b.prevProps,A={values:_t(Object.create(null),S),prevProps:{}};return a.forEach(function(P){A.prevProps[P]=E[P],!Cb(E,P)&&Cb(I,P)&&(A.values[P]=E[df(P)])}),A},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var E=this,b=this.props,S=b.innerRef,I=Th(b,["innerRef"]);u.forEach(function(P){delete I[P]});var A={};return a.forEach(function(P){var F=E.props[P];A[P]=F!==void 0?F:E.state.values[P]}),G.createElement(n,_t({},I,A,this.handlers,{ref:S||this.attachRef}))},m}(G.Component);i6(l),l.displayName="Uncontrolled("+r+")",l.propTypes=_t({innerRef:function(){}},t6(e)),t.forEach(function(p){l.prototype[p]=function(){var v;return(v=this.inner)[p].apply(v,arguments)}});var d=l;return G.forwardRef&&(d=G.forwardRef(function(p,m){return G.createElement(l,_t({},p,{innerRef:m,__source:{fileName:s6,lineNumber:128},__self:this}))}),d.propTypes=l.propTypes),d.ControlledComponent=n,d.deferControlTo=function(p,m,v){return m===void 0&&(m={}),WP(p,_t({},e,m),v)},d}var Fm={exports:{}},jm,Ab;function a6(){if(Ab)return jm;Ab=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jm=n,jm}var Um,Pb;function o6(){if(Pb)return Um;Pb=1;var n=a6();function e(){}function t(){}return t.resetWarningCache=e,Um=function(){function r(u,l,d,p,m,v){if(v!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Um}var kb;function u6(){return kb||(kb=1,Fm.exports=o6()()),Fm.exports}var l6=u6();const oe=jn(l6);var Hf="milliseconds",jl="seconds",Ul="minutes",ql="hours",xa="day",Go="week",$l="month",Ca="year",Aa="decade",Pa="century",GP={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},c6={month:1,year:12,decade:10*12,century:100*12};function d6(n){return[31,f6(n),31,30,31,30,31,31,30,31,30,31]}function f6(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Lr(n,e,t){switch(n=new Date(n),t){case Hf:case jl:case Ul:case ql:case xa:case Go:return h6(n,e*GP[t]);case $l:case Ca:case Aa:case Pa:return p6(n,e*c6[t])}throw new TypeError('Invalid units: "'+t+'"')}function h6(n,e){var t=new Date(+n+e);return m6(n,t)}function p6(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),a=t*12+r+e,u=Math.trunc(a/12),l=a%12,d=Math.min(i,d6(u)[l]),p=new Date(n);return p.setFullYear(u),p.setDate(1),p.setMonth(l),p.setDate(d),p}function m6(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*GP.minutes)}function zl(n,e,t){return Lr(n,-e,t)}function an(n,e,t){switch(n=new Date(n),e){case Pa:case Aa:case Ca:n=Gf(n,0);case $l:n=JP(n,1);case Go:case xa:n=Wl(n,0);case ql:n=Ko(n,0);case Ul:n=Hl(n,0);case jl:n=Bl(n,0)}return e===Aa&&(n=zl(n,ka(n)%10,"year")),e===Pa&&(n=zl(n,ka(n)%100,"year")),e===Go&&(n=ZP(n,0,t)),n}function Wf(n,e,t){switch(n=new Date(n),n=an(n,e,t),e){case Pa:case Aa:case Ca:case $l:case Go:n=Lr(n,1,e),n=zl(n,1,xa),n.setHours(23,59,59,999);break;case xa:n.setHours(23,59,59,999);break;case ql:case Ul:case jl:n=Lr(n,1,e),n=zl(n,1,Hf)}return n}var uu=cu(function(n,e){return n===e}),tE=cu(function(n,e){return n!==e}),bh=cu(function(n,e){return n>e}),hc=cu(function(n,e){return n>=e}),nE=cu(function(n,e){return n<e}),lu=cu(function(n,e){return n<=e});function KP(){return new Date(Math.min.apply(Math,arguments))}function YP(){return new Date(Math.max.apply(Math,arguments))}function QP(n,e,t,r){return r=r||"day",(!e||hc(n,e,r))&&(!t||lu(n,t,r))}var Bl=Fs("Milliseconds"),Hl=Fs("Seconds"),Ko=Fs("Minutes"),Wl=Fs("Hours"),XP=Fs("Day"),JP=Fs("Date"),Gf=Fs("Month"),ka=Fs("FullYear");function g6(n,e){return e===void 0?ka(an(n,Aa)):Lr(n,e+10,Ca)}function v6(n,e){return e===void 0?ka(an(n,Pa)):Lr(n,e+100,Ca)}function ZP(n,e,t){var r=(XP(n)+7-(t||0))%7;return e===void 0?r:Lr(n,e-r,xa)}function y6(n,e,t,r){var i,a,u;switch(t){case Hf:case jl:case Ul:case ql:case xa:case Go:i=e.getTime()-n.getTime();break;case $l:case Ca:case Aa:case Pa:i=(ka(e)-ka(n))*12+Gf(e)-Gf(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case Hf:a=1;break;case jl:a=1e3;break;case Ul:a=1e3*60;break;case ql:a=1e3*60*60;break;case xa:a=1e3*60*60*24;break;case Go:a=1e3*60*60*24*7;break;case $l:a=1;break;case Ca:a=12;break;case Aa:a=120;break;case Pa:a=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return u=i/a,r?u:Math.round(u)}function Fs(n){var e=function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function cu(n){return function(e,t,r){return n(+an(e,r),+an(t,r))}}const Db=Object.freeze(Object.defineProperty({__proto__:null,add:Lr,century:v6,date:JP,day:XP,decade:g6,diff:y6,endOf:Wf,eq:uu,gt:bh,gte:hc,hours:Wl,inRange:QP,lt:nE,lte:lu,max:YP,milliseconds:Bl,min:KP,minutes:Ko,month:Gf,neq:tE,seconds:Hl,startOf:an,subtract:zl,weekday:ZP,year:ka},Symbol.toStringTag,{value:"Module"}));function _6(n){if(Array.isArray(n))return W_(n)}function ek(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function w6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ff(n){return _6(n)||ek(n)||eE(n)||w6()}var qm,Ob;function tk(){if(Ob)return qm;Ob=1;function n(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var u=Array(a);++i<a;)u[i]=e[i+t];return u}return qm=n,qm}var $m,Nb;function pc(){if(Nb)return $m;Nb=1;function n(e,t){return e===t||e!==e&&t!==t}return $m=n,$m}var zm,Mb;function nk(){if(Mb)return zm;Mb=1;var n=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd;return zm=n,zm}var Bm,Lb;function ci(){if(Lb)return Bm;Lb=1;var n=nk(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Bm=t,Bm}var Hm,Vb;function du(){if(Vb)return Hm;Vb=1;var n=ci(),e=n.Symbol;return Hm=e,Hm}var Wm,Fb;function E6(){if(Fb)return Wm;Fb=1;var n=du(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(u){var l=t.call(u,i),d=u[i];try{u[i]=void 0;var p=!0}catch{}var m=r.call(u);return p&&(l?u[i]=d:delete u[i]),m}return Wm=a,Wm}var Gm,jb;function T6(){if(jb)return Gm;jb=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Gm=t,Gm}var Km,Ub;function fu(){if(Ub)return Km;Ub=1;var n=du(),e=E6(),t=T6(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function u(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):t(l)}return Km=u,Km}var Ym,qb;function zi(){if(qb)return Ym;qb=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Ym=n,Ym}var Qm,$b;function rE(){if($b)return Qm;$b=1;var n=fu(),e=zi(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(l){if(!e(l))return!1;var d=n(l);return d==r||d==i||d==t||d==a}return Qm=u,Qm}var Xm,zb;function iE(){if(zb)return Xm;zb=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Xm=e,Xm}var Jm,Bb;function mc(){if(Bb)return Jm;Bb=1;var n=rE(),e=iE();function t(r){return r!=null&&e(r.length)&&!n(r)}return Jm=t,Jm}var Zm,Hb;function sE(){if(Hb)return Zm;Hb=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Zm=t,Zm}var eg,Wb;function Sh(){if(Wb)return eg;Wb=1;var n=pc(),e=mc(),t=sE(),r=zi();function i(a,u,l){if(!r(l))return!1;var d=typeof u;return(d=="number"?e(l)&&t(u,l.length):d=="string"&&u in l)?n(l[u],a):!1}return eg=i,eg}var tg,Gb;function b6(){if(Gb)return tg;Gb=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return tg=e,tg}var ng,Kb;function S6(){if(Kb)return ng;Kb=1;var n=b6(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return ng=t,ng}var rg,Yb;function js(){if(Yb)return rg;Yb=1;function n(e){return e!=null&&typeof e=="object"}return rg=n,rg}var ig,Qb;function gc(){if(Qb)return ig;Qb=1;var n=fu(),e=js(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return ig=r,ig}var sg,Xb;function I6(){if(Xb)return sg;Xb=1;var n=S6(),e=zi(),t=gc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var v=a.test(p);return v||u.test(p)?l(p.slice(2),v?2:8):i.test(p)?r:+p}return sg=d,sg}var ag,Jb;function rk(){if(Jb)return ag;Jb=1;var n=I6(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-1/0){var a=i<0?-1:1;return a*t}return i===i?i:0}return ag=r,ag}var og,Zb;function ik(){if(Zb)return og;Zb=1;var n=rk();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return og=e,og}var ug,eS;function R6(){if(eS)return ug;eS=1;var n=tk(),e=Sh(),t=ik(),r=Math.ceil,i=Math.max;function a(u,l,d){(d?e(u,l,d):l===void 0)?l=1:l=i(t(l),0);var p=u==null?0:u.length;if(!p||l<1)return[];for(var m=0,v=0,_=Array(r(p/l));m<p;)_[v++]=n(u,m,m+=l);return _}return ug=a,ug}var x6=R6();const C6=jn(x6);function vc(n){return n&&n.ownerDocument||document}function A6(n){var e=vc(n);return e&&e.defaultView||window}function P6(n,e){return A6(n).getComputedStyle(n,e)}var k6=/([A-Z])/g;function D6(n){return n.replace(k6,"-$1").toLowerCase()}var O6=/^ms-/;function Kd(n){return D6(n).replace(O6,"-ms-")}var N6=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function M6(n){return!!(n&&N6.test(n))}function Do(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Kd(e))||P6(n).getPropertyValue(Kd(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Kd(i)):M6(i)?r+=i+"("+a+") ":t+=Kd(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function Gl(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function L6(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function aE(n){return"window"in n&&n.window===n?n:L6(n)&&n.defaultView||!1}function sk(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var a=aE(r);if(i===void 0)return a?a[n]:r[e];a?a.scrollTo(a[n],i):r[e]=i}return t}const ak=sk("pageXOffset"),ok=sk("pageYOffset");function ya(n){var e=vc(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Gl(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+ok(r)-(r.clientTop||0),left:t.left+ak(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var V6=function(e){return!!e&&"offsetParent"in e};function F6(n){for(var e=vc(n),t=n&&n.offsetParent;V6(t)&&t.nodeName!=="HTML"&&Do(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var j6=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function uk(n,e){var t={top:0,left:0},r;if(Do(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||F6(n);r=ya(n),j6(i)!=="html"&&(t=ya(i));var a=String(Do(i,"borderTopWidth")||0);t.top+=parseInt(a,10)-ok(i)||0;var u=String(Do(i,"borderLeftWidth")||0);t.left+=parseInt(u,10)-ak(i)||0}var l=String(Do(n,"marginTop")||0),d=String(Do(n,"marginLeft")||0);return _t({},r,{top:r.top-t.top-(parseInt(l,10)||0),left:r.left-t.left-(parseInt(d,10)||0)})}const oE=!!(typeof window<"u"&&window.document&&window.document.createElement);var tS=new Date().getTime();function U6(n){var e=new Date().getTime(),t=Math.max(0,16-(e-tS)),r=setTimeout(n,t);return tS=e,r}var q6=["","webkit","moz","o","ms"],G_="clearTimeout",K_=U6,nS=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};oE&&q6.some(function(n){var e=nS(n,"request");return e in window&&(G_=nS(n,"cancel"),K_=function(r){return window[e](r)}),!!K_});var rS=function(e){typeof window[G_]=="function"&&window[G_](e)},lk=K_,lg;function $6(n,e){if(!lg){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;lg=function(a,u){return r.call(a,u)}}return lg(n,e)}var z6=Function.prototype.bind.call(Function.prototype.call,[].slice);function B6(n,e){return z6(n.querySelectorAll(e))}var Y_=!1,Q_=!1;try{var cg={get passive(){return Y_=!0},get once(){return Q_=Y_=!0}};oE&&(window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,!0))}catch{}function H6(n,e,t,r){if(r&&typeof r!="boolean"&&!Q_){var i=r.once,a=r.capture,u=t;!Q_&&i&&(u=t.__once||function l(d){this.removeEventListener(e,l,a),t.call(this,d)},t.__once=u),n.addEventListener(e,u,Y_?r:a)}n.addEventListener(e,t,r)}function W6(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function iS(n){const e=W6(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function sS(){return $.useState(null)}function G6(){const n=$.useRef(!0),e=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function K6(n){const e=G6();return[n[0],$.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Ln="top",hr="bottom",pr="right",Vn="left",uE="auto",yc=[Ln,hr,pr,Vn],Yo="start",Kl="end",Y6="clippingParents",ck="viewport",sl="popper",Q6="reference",aS=yc.reduce(function(n,e){return n.concat([e+"-"+Yo,e+"-"+Kl])},[]),lE=[].concat(yc,[uE]).reduce(function(n,e){return n.concat([e,e+"-"+Yo,e+"-"+Kl])},[]),X6="beforeRead",J6="read",Z6="afterRead",eU="beforeMain",tU="main",nU="afterMain",rU="beforeWrite",iU="write",sU="afterWrite",aU=[X6,J6,Z6,eU,tU,nU,rU,iU,sU];function ri(n){return n.split("-")[0]}function Zn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Da(n){var e=Zn(n).Element;return n instanceof e||n instanceof Element}function ii(n){var e=Zn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function cE(n){if(typeof ShadowRoot>"u")return!1;var e=Zn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var _a=Math.max,Kf=Math.min,Qo=Math.round;function X_(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dk(){return!/^((?!chrome|android).)*safari/i.test(X_())}function Xo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&ii(n)&&(i=n.offsetWidth>0&&Qo(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Qo(r.height)/n.offsetHeight||1);var u=Da(n)?Zn(n):window,l=u.visualViewport,d=!dk()&&t,p=(r.left+(d&&l?l.offsetLeft:0))/i,m=(r.top+(d&&l?l.offsetTop:0))/a,v=r.width/i,_=r.height/a;return{width:v,height:_,top:m,right:p+v,bottom:m+_,left:p,x:p,y:m}}function dE(n){var e=Xo(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function fk(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&cE(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ks(n){return n?(n.nodeName||"").toLowerCase():null}function Ui(n){return Zn(n).getComputedStyle(n)}function oU(n){return["table","td","th"].indexOf(ks(n))>=0}function Us(n){return((Da(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ih(n){return ks(n)==="html"?n:n.assignedSlot||n.parentNode||(cE(n)?n.host:null)||Us(n)}function oS(n){return!ii(n)||Ui(n).position==="fixed"?null:n.offsetParent}function uU(n){var e=/firefox/i.test(X_()),t=/Trident/i.test(X_());if(t&&ii(n)){var r=Ui(n);if(r.position==="fixed")return null}var i=Ih(n);for(cE(i)&&(i=i.host);ii(i)&&["html","body"].indexOf(ks(i))<0;){var a=Ui(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function _c(n){for(var e=Zn(n),t=oS(n);t&&oU(t)&&Ui(t).position==="static";)t=oS(t);return t&&(ks(t)==="html"||ks(t)==="body"&&Ui(t).position==="static")?e:t||uU(n)||e}function fE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Rl(n,e,t){return _a(n,Kf(e,t))}function lU(n,e,t){var r=Rl(n,e,t);return r>t?t:r}function hk(){return{top:0,right:0,bottom:0,left:0}}function pk(n){return Object.assign({},hk(),n)}function mk(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var cU=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,pk(typeof e!="number"?e:mk(e,yc))};function dU(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,l=ri(t.placement),d=fE(l),p=[Vn,pr].indexOf(l)>=0,m=p?"height":"width";if(!(!a||!u)){var v=cU(i.padding,t),_=dE(a),E=d==="y"?Ln:Vn,b=d==="y"?hr:pr,S=t.rects.reference[m]+t.rects.reference[d]-u[d]-t.rects.popper[m],I=u[d]-t.rects.reference[d],A=_c(a),P=A?d==="y"?A.clientHeight||0:A.clientWidth||0:0,F=S/2-I/2,V=v[E],H=P-_[m]-v[b],z=P/2-_[m]/2+F,k=Rl(V,z,H),R=d;t.modifiersData[r]=(e={},e[R]=k,e.centerOffset=k-z,e)}}function fU(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||fk(e.elements.popper,i)&&(e.elements.arrow=i))}const hU={name:"arrow",enabled:!0,phase:"main",fn:dU,effect:fU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jo(n){return n.split("-")[1]}var pU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mU(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Qo(t*i)/i||0,y:Qo(r*i)/i||0}}function uS(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,u=n.offsets,l=n.position,d=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,_=u.x,E=_===void 0?0:_,b=u.y,S=b===void 0?0:b,I=typeof m=="function"?m({x:E,y:S}):{x:E,y:S};E=I.x,S=I.y;var A=u.hasOwnProperty("x"),P=u.hasOwnProperty("y"),F=Vn,V=Ln,H=window;if(p){var z=_c(t),k="clientHeight",R="clientWidth";if(z===Zn(t)&&(z=Us(t),Ui(z).position!=="static"&&l==="absolute"&&(k="scrollHeight",R="scrollWidth")),z=z,i===Ln||(i===Vn||i===pr)&&a===Kl){V=hr;var C=v&&z===H&&H.visualViewport?H.visualViewport.height:z[k];S-=C-r.height,S*=d?1:-1}if(i===Vn||(i===Ln||i===hr)&&a===Kl){F=pr;var N=v&&z===H&&H.visualViewport?H.visualViewport.width:z[R];E-=N-r.width,E*=d?1:-1}}var M=Object.assign({position:l},p&&pU),U=m===!0?mU({x:E,y:S},Zn(t)):{x:E,y:S};if(E=U.x,S=U.y,d){var D;return Object.assign({},M,(D={},D[V]=P?"0":"",D[F]=A?"0":"",D.transform=(H.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",D))}return Object.assign({},M,(e={},e[V]=P?S+"px":"",e[F]=A?E+"px":"",e.transform="",e))}function gU(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,l=t.roundOffsets,d=l===void 0?!0:l,p={placement:ri(e.placement),variation:Jo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uS(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uS(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const vU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gU,data:{}};var Yd={passive:!0};function yU(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,u=r.resize,l=u===void 0?!0:u,d=Zn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(m){m.addEventListener("scroll",t.update,Yd)}),l&&d.addEventListener("resize",t.update,Yd),function(){a&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Yd)}),l&&d.removeEventListener("resize",t.update,Yd)}}const _U={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yU,data:{}};var wU={left:"right",right:"left",bottom:"top",top:"bottom"};function hf(n){return n.replace(/left|right|bottom|top/g,function(e){return wU[e]})}var EU={start:"end",end:"start"};function lS(n){return n.replace(/start|end/g,function(e){return EU[e]})}function hE(n){var e=Zn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function pE(n){return Xo(Us(n)).left+hE(n).scrollLeft}function TU(n,e){var t=Zn(n),r=Us(n),i=t.visualViewport,a=r.clientWidth,u=r.clientHeight,l=0,d=0;if(i){a=i.width,u=i.height;var p=dk();(p||!p&&e==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:u,x:l+pE(n),y:d}}function bU(n){var e,t=Us(n),r=hE(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=_a(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=_a(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+pE(n),d=-r.scrollTop;return Ui(i||t).direction==="rtl"&&(l+=_a(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:u,x:l,y:d}}function mE(n){var e=Ui(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function gk(n){return["html","body","#document"].indexOf(ks(n))>=0?n.ownerDocument.body:ii(n)&&mE(n)?n:gk(Ih(n))}function xl(n,e){var t;e===void 0&&(e=[]);var r=gk(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Zn(r),u=i?[a].concat(a.visualViewport||[],mE(r)?r:[]):r,l=e.concat(u);return i?l:l.concat(xl(Ih(u)))}function J_(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function SU(n,e){var t=Xo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function cS(n,e,t){return e===ck?J_(TU(n,t)):Da(e)?SU(e,t):J_(bU(Us(n)))}function IU(n){var e=xl(Ih(n)),t=["absolute","fixed"].indexOf(Ui(n).position)>=0,r=t&&ii(n)?_c(n):n;return Da(r)?e.filter(function(i){return Da(i)&&fk(i,r)&&ks(i)!=="body"}):[]}function RU(n,e,t,r){var i=e==="clippingParents"?IU(n):[].concat(e),a=[].concat(i,[t]),u=a[0],l=a.reduce(function(d,p){var m=cS(n,p,r);return d.top=_a(m.top,d.top),d.right=Kf(m.right,d.right),d.bottom=Kf(m.bottom,d.bottom),d.left=_a(m.left,d.left),d},cS(n,u,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function vk(n){var e=n.reference,t=n.element,r=n.placement,i=r?ri(r):null,a=r?Jo(r):null,u=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,d;switch(i){case Ln:d={x:u,y:e.y-t.height};break;case hr:d={x:u,y:e.y+e.height};break;case pr:d={x:e.x+e.width,y:l};break;case Vn:d={x:e.x-t.width,y:l};break;default:d={x:e.x,y:e.y}}var p=i?fE(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(a){case Yo:d[p]=d[p]-(e[m]/2-t[m]/2);break;case Kl:d[p]=d[p]+(e[m]/2-t[m]/2);break}}return d}function Yl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,l=t.boundary,d=l===void 0?Y6:l,p=t.rootBoundary,m=p===void 0?ck:p,v=t.elementContext,_=v===void 0?sl:v,E=t.altBoundary,b=E===void 0?!1:E,S=t.padding,I=S===void 0?0:S,A=pk(typeof I!="number"?I:mk(I,yc)),P=_===sl?Q6:sl,F=n.rects.popper,V=n.elements[b?P:_],H=RU(Da(V)?V:V.contextElement||Us(n.elements.popper),d,m,u),z=Xo(n.elements.reference),k=vk({reference:z,element:F,strategy:"absolute",placement:i}),R=J_(Object.assign({},F,k)),C=_===sl?R:z,N={top:H.top-C.top+A.top,bottom:C.bottom-H.bottom+A.bottom,left:H.left-C.left+A.left,right:C.right-H.right+A.right},M=n.modifiersData.offset;if(_===sl&&M){var U=M[i];Object.keys(N).forEach(function(D){var ce=[pr,hr].indexOf(D)>=0?1:-1,Te=[Ln,hr].indexOf(D)>=0?"y":"x";N[D]+=U[Te]*ce})}return N}function xU(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,u=t.padding,l=t.flipVariations,d=t.allowedAutoPlacements,p=d===void 0?lE:d,m=Jo(r),v=m?l?aS:aS.filter(function(b){return Jo(b)===m}):yc,_=v.filter(function(b){return p.indexOf(b)>=0});_.length===0&&(_=v);var E=_.reduce(function(b,S){return b[S]=Yl(n,{placement:S,boundary:i,rootBoundary:a,padding:u})[ri(S)],b},{});return Object.keys(E).sort(function(b,S){return E[b]-E[S]})}function CU(n){if(ri(n)===uE)return[];var e=hf(n);return[lS(n),e,lS(e)]}function AU(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!0:u,d=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,E=t.flipVariations,b=E===void 0?!0:E,S=t.allowedAutoPlacements,I=e.options.placement,A=ri(I),P=A===I,F=d||(P||!b?[hf(I)]:CU(I)),V=[I].concat(F).reduce(function(Ce,xe){return Ce.concat(ri(xe)===uE?xU(e,{placement:xe,boundary:m,rootBoundary:v,padding:p,flipVariations:b,allowedAutoPlacements:S}):xe)},[]),H=e.rects.reference,z=e.rects.popper,k=new Map,R=!0,C=V[0],N=0;N<V.length;N++){var M=V[N],U=ri(M),D=Jo(M)===Yo,ce=[Ln,hr].indexOf(U)>=0,Te=ce?"width":"height",we=Yl(e,{placement:M,boundary:m,rootBoundary:v,altBoundary:_,padding:p}),ye=ce?D?pr:Vn:D?hr:Ln;H[Te]>z[Te]&&(ye=hf(ye));var te=hf(ye),de=[];if(a&&de.push(we[U]<=0),l&&de.push(we[ye]<=0,we[te]<=0),de.every(function(Ce){return Ce})){C=M,R=!1;break}k.set(M,de)}if(R)for(var ue=b?3:1,W=function(xe){var Ne=V.find(function(Le){var Me=k.get(Le);if(Me)return Me.slice(0,xe).every(function(Ge){return Ge})});if(Ne)return C=Ne,"break"},Z=ue;Z>0;Z--){var fe=W(Z);if(fe==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const PU={name:"flip",enabled:!0,phase:"main",fn:AU,requiresIfExists:["offset"],data:{_skip:!1}};function dS(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function fS(n){return[Ln,pr,hr,Vn].some(function(e){return n[e]>=0})}function kU(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,u=Yl(e,{elementContext:"reference"}),l=Yl(e,{altBoundary:!0}),d=dS(u,r),p=dS(l,i,a),m=fS(d),v=fS(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const DU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kU};function OU(n,e,t){var r=ri(n),i=[Vn,Ln].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],l=a[1];return u=u||0,l=(l||0)*i,[Vn,pr].indexOf(r)>=0?{x:l,y:u}:{x:u,y:l}}function NU(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,u=lE.reduce(function(m,v){return m[v]=OU(v,e.rects,a),m},{}),l=u[e.placement],d=l.x,p=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=u}const MU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NU};function LU(n){var e=n.state,t=n.name;e.modifiersData[t]=vk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const VU={name:"popperOffsets",enabled:!0,phase:"read",fn:LU,data:{}};function FU(n){return n==="x"?"y":"x"}function jU(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!1:u,d=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,_=t.tether,E=_===void 0?!0:_,b=t.tetherOffset,S=b===void 0?0:b,I=Yl(e,{boundary:d,rootBoundary:p,padding:v,altBoundary:m}),A=ri(e.placement),P=Jo(e.placement),F=!P,V=fE(A),H=FU(V),z=e.modifiersData.popperOffsets,k=e.rects.reference,R=e.rects.popper,C=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,N=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(z){if(a){var D,ce=V==="y"?Ln:Vn,Te=V==="y"?hr:pr,we=V==="y"?"height":"width",ye=z[V],te=ye+I[ce],de=ye-I[Te],ue=E?-R[we]/2:0,W=P===Yo?k[we]:R[we],Z=P===Yo?-R[we]:-k[we],fe=e.elements.arrow,Ce=E&&fe?dE(fe):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hk(),Ne=xe[ce],Le=xe[Te],Me=Rl(0,k[we],Ce[we]),Ge=F?k[we]/2-ue-Me-Ne-N.mainAxis:W-Me-Ne-N.mainAxis,vt=F?-k[we]/2+ue+Me+Le+N.mainAxis:Z+Me+Le+N.mainAxis,yn=e.elements.arrow&&_c(e.elements.arrow),Fr=yn?V==="y"?yn.clientTop||0:yn.clientLeft||0:0,Un=(D=M==null?void 0:M[V])!=null?D:0,gr=ye+Ge-Un-Fr,qe=ye+vt-Un,qn=Rl(E?Kf(te,gr):te,ye,E?_a(de,qe):de);z[V]=qn,U[V]=qn-ye}if(l){var Ve,$n=V==="x"?Ln:Vn,_n=V==="x"?hr:pr,Dt=z[H],Ot=H==="y"?"height":"width",Qt=Dt+I[$n],ot=Dt-I[_n],wn=[Ln,Vn].indexOf(A)!==-1,zn=(Ve=M==null?void 0:M[H])!=null?Ve:0,ut=wn?Qt:Dt-k[Ot]-R[Ot]-zn+N.altAxis,rt=wn?Dt+k[Ot]+R[Ot]-zn-N.altAxis:ot,Nt=E&&wn?lU(ut,Dt,rt):Rl(E?ut:Qt,Dt,E?rt:ot);z[H]=Nt,U[H]=Nt-Dt}e.modifiersData[r]=U}}const UU={name:"preventOverflow",enabled:!0,phase:"main",fn:jU,requiresIfExists:["offset"]};function qU(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function $U(n){return n===Zn(n)||!ii(n)?hE(n):qU(n)}function zU(n){var e=n.getBoundingClientRect(),t=Qo(e.width)/n.offsetWidth||1,r=Qo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function BU(n,e,t){t===void 0&&(t=!1);var r=ii(e),i=ii(e)&&zU(e),a=Us(e),u=Xo(n,i,t),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((ks(e)!=="body"||mE(a))&&(l=$U(e)),ii(e)?(d=Xo(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=pE(a))),{x:u.left+l.scrollLeft-d.x,y:u.top+l.scrollTop-d.y,width:u.width,height:u.height}}function HU(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(l){if(!t.has(l)){var d=e.get(l);d&&i(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function WU(n){var e=HU(n);return aU.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function GU(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function KU(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var hS={placement:"bottom",modifiers:[],strategy:"absolute"};function pS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?hS:i;return function(l,d,p){p===void 0&&(p=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},hS,a),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],_=!1,E={state:m,setOptions:function(A){var P=typeof A=="function"?A(m.options):A;S(),m.options=Object.assign({},a,m.options,P),m.scrollParents={reference:Da(l)?xl(l):l.contextElement?xl(l.contextElement):[],popper:xl(d)};var F=WU(KU([].concat(r,m.options.modifiers)));return m.orderedModifiers=F.filter(function(V){return V.enabled}),b(),E.update()},forceUpdate:function(){if(!_){var A=m.elements,P=A.reference,F=A.popper;if(pS(P,F)){m.rects={reference:BU(P,_c(F),m.options.strategy==="fixed"),popper:dE(F)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var V=0;V<m.orderedModifiers.length;V++){if(m.reset===!0){m.reset=!1,V=-1;continue}var H=m.orderedModifiers[V],z=H.fn,k=H.options,R=k===void 0?{}:k,C=H.name;typeof z=="function"&&(m=z({state:m,options:R,name:C,instance:E})||m)}}}},update:GU(function(){return new Promise(function(I){E.forceUpdate(),I(m)})}),destroy:function(){S(),_=!0}};if(!pS(l,d))return E;E.setOptions(p).then(function(I){!_&&p.onFirstUpdate&&p.onFirstUpdate(I)});function b(){m.orderedModifiers.forEach(function(I){var A=I.name,P=I.options,F=P===void 0?{}:P,V=I.effect;if(typeof V=="function"){var H=V({state:m,name:A,instance:E,options:F}),z=function(){};v.push(H||z)}})}function S(){v.forEach(function(I){return I()}),v=[]}return E}}var QU=YU({defaultModifiers:[DU,VU,vU,_U,MU,PU,UU,hU]}),mS=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},XU={name:"applyStyles",enabled:!1},JU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,a=r.popper;if("removeAttribute"in i){var u=(i.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});u.length?i.setAttribute("aria-describedby",u.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,a=i.popper,u=i.reference,l=(t=a.getAttribute("role"))==null?void 0:t.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in u){var d=u.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(a.id)!==-1)return;u.setAttribute("aria-describedby",d?d+","+a.id:a.id)}}},ZU=[];function eq(n,e,t){var r=t===void 0?{}:t,i=r.enabled,a=i===void 0?!0:i,u=r.placement,l=u===void 0?"bottom":u,d=r.strategy,p=d===void 0?"absolute":d,m=r.modifiers,v=m===void 0?ZU:m,_=Th(r,["enabled","placement","strategy","modifiers"]),E=$.useRef(),b=$.useCallback(function(){var V;(V=E.current)==null||V.update()},[]),S=$.useCallback(function(){var V;(V=E.current)==null||V.forceUpdate()},[]),I=K6($.useState({placement:l,update:b,forceUpdate:S,attributes:{},styles:{popper:mS(p),arrow:{}}})),A=I[0],P=I[1],F=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(H){var z=H.state,k={},R={};Object.keys(z.elements).forEach(function(C){k[C]=z.styles[C],R[C]=z.attributes[C]}),P({state:z,styles:k,attributes:R,update:b,forceUpdate:S,placement:z.placement})}}},[b,S,P]);return $.useEffect(function(){!E.current||!a||E.current.setOptions({placement:l,strategy:p,modifiers:[].concat(v,[F,XU])})},[p,l,F,a]),$.useEffect(function(){if(!(!a||n==null||e==null))return E.current=QU(n,e,_t({},_,{placement:l,strategy:p,modifiers:[].concat(v,[JU,F])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,P(function(V){return _t({},V,{attributes:{},styles:{popper:mS(p)}})}))}},[a,n,e]),A}function tq(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function gl(n,e,t,r){return H6(n,e,t,r),function(){tq(n,e,t,r)}}var dg,gS;function nq(){if(gS)return dg;gS=1;var n=function(){};return dg=n,dg}var rq=nq();const iq=jn(rq);function sq(n){return n&&"setState"in n?fC.findDOMNode(n):n??null}const aq=function(n){return vc(sq(n))};var oq=27,vS=function(){};function uq(n){return n.button===0}function lq(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var yS=function(e){return e&&("current"in e?e.current:e)};function cq(n,e,t){var r=t===void 0?{}:t,i=r.disabled,a=r.clickTrigger,u=a===void 0?"click":a,l=$.useRef(!1),d=e||vS,p=$.useCallback(function(_){var E,b=yS(n);iq(!!b,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!b||lq(_)||!uq(_)||!!Gl(b,(E=_.composedPath==null?void 0:_.composedPath()[0])!=null?E:_.target)},[n]),m=iS(function(_){l.current||d(_)}),v=iS(function(_){_.keyCode===oq&&d(_)});$.useEffect(function(){if(!(i||n==null)){var _=window.event,E=aq(yS(n)),b=gl(E,u,p,!0),S=gl(E,u,function(P){if(P===_){_=void 0;return}m(P)}),I=gl(E,"keyup",function(P){if(P===_){_=void 0;return}v(P)}),A=[];return"ontouchstart"in E.documentElement&&(A=[].slice.call(E.body.children).map(function(P){return gl(P,"mousemove",vS)})),function(){b(),S(),I(),A.forEach(function(P){return P()})}}},[n,i,u,p,m,v])}function dq(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function fq(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function hq(n){var e,t,r,i,a=n.enabled,u=n.enableEvents,l=n.placement,d=n.flip,p=n.offset,m=n.fixed,v=n.containerPadding,_=n.arrowElement,E=n.popperConfig,b=E===void 0?{}:E,S=dq(b.modifiers);return _t({},b,{placement:l,enabled:a,strategy:m?"fixed":b.strategy,modifiers:fq(_t({},S,{eventListeners:{enabled:u},preventOverflow:_t({},S.preventOverflow,{options:v?_t({padding:v},(e=S.preventOverflow)==null?void 0:e.options):(t=S.preventOverflow)==null?void 0:t.options}),offset:{options:_t({offset:p},(r=S.offset)==null?void 0:r.options)},arrow:_t({},S.arrow,{enabled:!!_,options:_t({},(i=S.arrow)==null?void 0:i.options,{element:_})}),flip:_t({enabled:!!d},S.flip)}))})}function pq(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function mq(n,e){n.classList?n.classList.add(e):pq(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function _S(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gq(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=_S(n.className,e):n.setAttribute("class",_S(n.className&&n.className.baseVal||"",e))}var Qd;function gE(n){if((!Qd&&Qd!==0||n)&&oE){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qd}var fg=function(e){var t;return typeof document>"u"?null:e==null?vc().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function wS(n,e){var t=$.useState(function(){return fg(n)}),r=t[0],i=t[1];if(!r){var a=fg(n);a&&i(a)}return $.useEffect(function(){},[e,r]),$.useEffect(function(){var u=fg(n);u!==r&&i(u)},[n,r]),r}const ES=n=>!n||typeof n=="function"?n:e=>{n.current=e};function vq(n,e){const t=ES(n),r=ES(e);return i=>{t&&t(i),r&&r(i)}}function yq(n,e){return $.useMemo(()=>vq(n,e),[n,e])}var vE=G.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,a=n.containerPadding,u=a===void 0?5:a,l=n.popperConfig,d=l===void 0?{}:l,p=n.transition,m=sS(),v=m[0],_=m[1],E=sS(),b=E[0],S=E[1],I=yq(_,e),A=wS(n.container),P=wS(n.target),F=$.useState(!n.show),V=F[0],H=F[1],z=eq(P,v,hq({placement:i,enableEvents:!!n.show,containerPadding:u||5,flip:t,offset:r,arrowElement:b,popperConfig:d})),k=z.styles,R=z.attributes,C=Th(z,["styles","attributes"]);n.show?V&&H(!1):!n.transition&&!V&&H(!0);var N=function(){H(!0),n.onExited&&n.onExited.apply(n,arguments)},M=n.show||p&&!V;if(cq(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!M)return null;var U=n.children(_t({},C,{show:!!n.show,props:_t({},R.popper,{style:k.popper,ref:I}),arrowProps:_t({},R.arrow,{style:k.arrow,ref:S})}));if(p){var D=n.onExit,ce=n.onExiting,Te=n.onEnter,we=n.onEntering,ye=n.onEntered;U=G.createElement(p,{in:n.show,appear:!0,onExit:D,onExiting:ce,onExited:N,onEnter:Te,onEntering:we,onEntered:ye},U)}return A?fC.createPortal(U,A):null});vE.displayName="Overlay";vE.propTypes={show:oe.bool,placement:oe.oneOf(lE),target:oe.any,container:oe.any,flip:oe.bool,children:oe.func.isRequired,containerPadding:oe.number,popperConfig:oe.object,rootClose:oe.bool,rootCloseEvent:oe.oneOf(["click","mousedown"]),rootCloseDisabled:oe.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var a;return(a=oe.func).isRequired.apply(a,[e].concat(r))}return oe.func.apply(oe,[e].concat(r))},transition:oe.elementType,onEnter:oe.func,onEntering:oe.func,onEntered:oe.func,onExit:oe.func,onExiting:oe.func,onExited:oe.func};var hg,TS;function _q(){if(TS)return hg;TS=1;function n(){this.__data__=[],this.size=0}return hg=n,hg}var pg,bS;function Rh(){if(bS)return pg;bS=1;var n=pc();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return pg=e,pg}var mg,SS;function wq(){if(SS)return mg;SS=1;var n=Rh(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,u=n(a,i);if(u<0)return!1;var l=a.length-1;return u==l?a.pop():t.call(a,u,1),--this.size,!0}return mg=r,mg}var gg,IS;function Eq(){if(IS)return gg;IS=1;var n=Rh();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return gg=e,gg}var vg,RS;function Tq(){if(RS)return vg;RS=1;var n=Rh();function e(t){return n(this.__data__,t)>-1}return vg=e,vg}var yg,xS;function bq(){if(xS)return yg;xS=1;var n=Rh();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return yg=e,yg}var _g,CS;function xh(){if(CS)return _g;CS=1;var n=_q(),e=wq(),t=Eq(),r=Tq(),i=bq();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,_g=a,_g}var wg,AS;function Sq(){if(AS)return wg;AS=1;var n=xh();function e(){this.__data__=new n,this.size=0}return wg=e,wg}var Eg,PS;function Iq(){if(PS)return Eg;PS=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Eg=n,Eg}var Tg,kS;function Rq(){if(kS)return Tg;kS=1;function n(e){return this.__data__.get(e)}return Tg=n,Tg}var bg,DS;function xq(){if(DS)return bg;DS=1;function n(e){return this.__data__.has(e)}return bg=n,bg}var Sg,OS;function Cq(){if(OS)return Sg;OS=1;var n=ci(),e=n["__core-js_shared__"];return Sg=e,Sg}var Ig,NS;function Aq(){if(NS)return Ig;NS=1;var n=Cq(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Ig=t,Ig}var Rg,MS;function yk(){if(MS)return Rg;MS=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Rg=t,Rg}var xg,LS;function Pq(){if(LS)return xg;LS=1;var n=rE(),e=Aq(),t=zi(),r=yk(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,d=u.toString,p=l.hasOwnProperty,m=RegExp("^"+d.call(p).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(_){if(!t(_)||e(_))return!1;var E=n(_)?m:a;return E.test(r(_))}return xg=v,xg}var Cg,VS;function kq(){if(VS)return Cg;VS=1;function n(e,t){return e==null?void 0:e[t]}return Cg=n,Cg}var Ag,FS;function Fa(){if(FS)return Ag;FS=1;var n=Pq(),e=kq();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return Ag=t,Ag}var Pg,jS;function yE(){if(jS)return Pg;jS=1;var n=Fa(),e=ci(),t=n(e,"Map");return Pg=t,Pg}var kg,US;function Ch(){if(US)return kg;US=1;var n=Fa(),e=n(Object,"create");return kg=e,kg}var Dg,qS;function Dq(){if(qS)return Dg;qS=1;var n=Ch();function e(){this.__data__=n?n(null):{},this.size=0}return Dg=e,Dg}var Og,$S;function Oq(){if($S)return Og;$S=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Og=n,Og}var Ng,zS;function Nq(){if(zS)return Ng;zS=1;var n=Ch(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var u=this.__data__;if(n){var l=u[a];return l===e?void 0:l}return r.call(u,a)?u[a]:void 0}return Ng=i,Ng}var Mg,BS;function Mq(){if(BS)return Mg;BS=1;var n=Ch(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return Mg=r,Mg}var Lg,HS;function Lq(){if(HS)return Lg;HS=1;var n=Ch(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return Lg=t,Lg}var Vg,WS;function Vq(){if(WS)return Vg;WS=1;var n=Dq(),e=Oq(),t=Nq(),r=Mq(),i=Lq();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Vg=a,Vg}var Fg,GS;function Fq(){if(GS)return Fg;GS=1;var n=Vq(),e=xh(),t=yE();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Fg=r,Fg}var jg,KS;function jq(){if(KS)return jg;KS=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return jg=n,jg}var Ug,YS;function Ah(){if(YS)return Ug;YS=1;var n=jq();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ug=e,Ug}var qg,QS;function Uq(){if(QS)return qg;QS=1;var n=Ah();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return qg=e,qg}var $g,XS;function qq(){if(XS)return $g;XS=1;var n=Ah();function e(t){return n(this,t).get(t)}return $g=e,$g}var zg,JS;function $q(){if(JS)return zg;JS=1;var n=Ah();function e(t){return n(this,t).has(t)}return zg=e,zg}var Bg,ZS;function zq(){if(ZS)return Bg;ZS=1;var n=Ah();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return Bg=e,Bg}var Hg,eI;function _E(){if(eI)return Hg;eI=1;var n=Fq(),e=Uq(),t=qq(),r=$q(),i=zq();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Hg=a,Hg}var Wg,tI;function Bq(){if(tI)return Wg;tI=1;var n=xh(),e=yE(),t=_E(),r=200;function i(a,u){var l=this.__data__;if(l instanceof n){var d=l.__data__;if(!e||d.length<r-1)return d.push([a,u]),this.size=++l.size,this;l=this.__data__=new t(d)}return l.set(a,u),this.size=l.size,this}return Wg=i,Wg}var Gg,nI;function wE(){if(nI)return Gg;nI=1;var n=xh(),e=Sq(),t=Iq(),r=Rq(),i=xq(),a=Bq();function u(l){var d=this.__data__=new n(l);this.size=d.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=i,u.prototype.set=a,Gg=u,Gg}var Kg,rI;function Hq(){if(rI)return Kg;rI=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Kg=e,Kg}var Yg,iI;function Wq(){if(iI)return Yg;iI=1;function n(e){return this.__data__.has(e)}return Yg=n,Yg}var Qg,sI;function Gq(){if(sI)return Qg;sI=1;var n=_E(),e=Hq(),t=Wq();function r(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new n;++a<u;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Qg=r,Qg}var Xg,aI;function Kq(){if(aI)return Xg;aI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return Xg=n,Xg}var Jg,oI;function Yq(){if(oI)return Jg;oI=1;function n(e,t){return e.has(t)}return Jg=n,Jg}var Zg,uI;function _k(){if(uI)return Zg;uI=1;var n=Gq(),e=Kq(),t=Yq(),r=1,i=2;function a(u,l,d,p,m,v){var _=d&r,E=u.length,b=l.length;if(E!=b&&!(_&&b>E))return!1;var S=v.get(u),I=v.get(l);if(S&&I)return S==l&&I==u;var A=-1,P=!0,F=d&i?new n:void 0;for(v.set(u,l),v.set(l,u);++A<E;){var V=u[A],H=l[A];if(p)var z=_?p(H,V,A,l,u,v):p(V,H,A,u,l,v);if(z!==void 0){if(z)continue;P=!1;break}if(F){if(!e(l,function(k,R){if(!t(F,R)&&(V===k||m(V,k,d,p,v)))return F.push(R)})){P=!1;break}}else if(!(V===H||m(V,H,d,p,v))){P=!1;break}}return v.delete(u),v.delete(l),P}return Zg=a,Zg}var ev,lI;function wk(){if(lI)return ev;lI=1;var n=ci(),e=n.Uint8Array;return ev=e,ev}var tv,cI;function Qq(){if(cI)return tv;cI=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return tv=n,tv}var nv,dI;function Xq(){if(dI)return nv;dI=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return nv=n,nv}var rv,fI;function Jq(){if(fI)return rv;fI=1;var n=du(),e=wk(),t=pc(),r=_k(),i=Qq(),a=Xq(),u=1,l=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",_="[object Number]",E="[object RegExp]",b="[object Set]",S="[object String]",I="[object Symbol]",A="[object ArrayBuffer]",P="[object DataView]",F=n?n.prototype:void 0,V=F?F.valueOf:void 0;function H(z,k,R,C,N,M,U){switch(R){case P:if(z.byteLength!=k.byteLength||z.byteOffset!=k.byteOffset)return!1;z=z.buffer,k=k.buffer;case A:return!(z.byteLength!=k.byteLength||!M(new e(z),new e(k)));case d:case p:case _:return t(+z,+k);case m:return z.name==k.name&&z.message==k.message;case E:case S:return z==k+"";case v:var D=i;case b:var ce=C&u;if(D||(D=a),z.size!=k.size&&!ce)return!1;var Te=U.get(z);if(Te)return Te==k;C|=l,U.set(z,k);var we=r(D(z),D(k),C,N,M,U);return U.delete(z),we;case I:if(V)return V.call(z)==V.call(k)}return!1}return rv=H,rv}var iv,hI;function EE(){if(hI)return iv;hI=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return iv=n,iv}var sv,pI;function mr(){if(pI)return sv;pI=1;var n=Array.isArray;return sv=n,sv}var av,mI;function Ek(){if(mI)return av;mI=1;var n=EE(),e=mr();function t(r,i,a){var u=i(r);return e(r)?u:n(u,a(r))}return av=t,av}var ov,gI;function Zq(){if(gI)return ov;gI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,u=[];++r<i;){var l=e[r];t(l,r,e)&&(u[a++]=l)}return u}return ov=n,ov}var uv,vI;function Tk(){if(vI)return uv;vI=1;function n(){return[]}return uv=n,uv}var lv,yI;function TE(){if(yI)return lv;yI=1;var n=Zq(),e=Tk(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),n(i(u),function(l){return r.call(u,l)}))}:e;return lv=a,lv}var cv,_I;function e9(){if(_I)return cv;_I=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return cv=n,cv}var dv,wI;function t9(){if(wI)return dv;wI=1;var n=fu(),e=js(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return dv=r,dv}var fv,EI;function bE(){if(EI)return fv;EI=1;var n=t9(),e=js(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!i.call(u,"callee")};return fv=a,fv}var vl={exports:{}},hv,TI;function n9(){if(TI)return hv;TI=1;function n(){return!1}return hv=n,hv}vl.exports;var bI;function Ph(){return bI||(bI=1,function(n,e){var t=ci(),r=n9(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===i,l=u?t.Buffer:void 0,d=l?l.isBuffer:void 0,p=d||r;n.exports=p}(vl,vl.exports)),vl.exports}var pv,SI;function r9(){if(SI)return pv;SI=1;var n=fu(),e=iE(),t=js(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",_="[object RegExp]",E="[object Set]",b="[object String]",S="[object WeakMap]",I="[object ArrayBuffer]",A="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",H="[object Int16Array]",z="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",M={};M[P]=M[F]=M[V]=M[H]=M[z]=M[k]=M[R]=M[C]=M[N]=!0,M[r]=M[i]=M[I]=M[a]=M[A]=M[u]=M[l]=M[d]=M[p]=M[m]=M[v]=M[_]=M[E]=M[b]=M[S]=!1;function U(D){return t(D)&&e(D.length)&&!!M[n(D)]}return pv=U,pv}var mv,II;function kh(){if(II)return mv;II=1;function n(e){return function(t){return e(t)}}return mv=n,mv}var yl={exports:{}};yl.exports;var RI;function SE(){return RI||(RI=1,function(n,e){var t=nk(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a&&t.process,l=function(){try{var d=i&&i.require&&i.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();n.exports=l}(yl,yl.exports)),yl.exports}var gv,xI;function IE(){if(xI)return gv;xI=1;var n=r9(),e=kh(),t=SE(),r=t&&t.isTypedArray,i=r?e(r):n;return gv=i,gv}var vv,CI;function bk(){if(CI)return vv;CI=1;var n=e9(),e=bE(),t=mr(),r=Ph(),i=sE(),a=IE(),u=Object.prototype,l=u.hasOwnProperty;function d(p,m){var v=t(p),_=!v&&e(p),E=!v&&!_&&r(p),b=!v&&!_&&!E&&a(p),S=v||_||E||b,I=S?n(p.length,String):[],A=I.length;for(var P in p)(m||l.call(p,P))&&!(S&&(P=="length"||E&&(P=="offset"||P=="parent")||b&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,A)))&&I.push(P);return I}return vv=d,vv}var yv,AI;function RE(){if(AI)return yv;AI=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return yv=e,yv}var _v,PI;function Sk(){if(PI)return _v;PI=1;function n(e,t){return function(r){return e(t(r))}}return _v=n,_v}var wv,kI;function i9(){if(kI)return wv;kI=1;var n=Sk(),e=n(Object.keys,Object);return wv=e,wv}var Ev,DI;function s9(){if(DI)return Ev;DI=1;var n=RE(),e=i9(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var u=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&u.push(l);return u}return Ev=i,Ev}var Tv,OI;function wc(){if(OI)return Tv;OI=1;var n=bk(),e=s9(),t=mc();function r(i){return t(i)?n(i):e(i)}return Tv=r,Tv}var bv,NI;function Ik(){if(NI)return bv;NI=1;var n=Ek(),e=TE(),t=wc();function r(i){return n(i,t,e)}return bv=r,bv}var Sv,MI;function a9(){if(MI)return Sv;MI=1;var n=Ik(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l,d,p,m){var v=l&e,_=n(a),E=_.length,b=n(u),S=b.length;if(E!=S&&!v)return!1;for(var I=E;I--;){var A=_[I];if(!(v?A in u:r.call(u,A)))return!1}var P=m.get(a),F=m.get(u);if(P&&F)return P==u&&F==a;var V=!0;m.set(a,u),m.set(u,a);for(var H=v;++I<E;){A=_[I];var z=a[A],k=u[A];if(d)var R=v?d(k,z,A,u,a,m):d(z,k,A,a,u,m);if(!(R===void 0?z===k||p(z,k,l,d,m):R)){V=!1;break}H||(H=A=="constructor")}if(V&&!H){var C=a.constructor,N=u.constructor;C!=N&&"constructor"in a&&"constructor"in u&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(V=!1)}return m.delete(a),m.delete(u),V}return Sv=i,Sv}var Iv,LI;function o9(){if(LI)return Iv;LI=1;var n=Fa(),e=ci(),t=n(e,"DataView");return Iv=t,Iv}var Rv,VI;function u9(){if(VI)return Rv;VI=1;var n=Fa(),e=ci(),t=n(e,"Promise");return Rv=t,Rv}var xv,FI;function l9(){if(FI)return xv;FI=1;var n=Fa(),e=ci(),t=n(e,"Set");return xv=t,xv}var Cv,jI;function c9(){if(jI)return Cv;jI=1;var n=Fa(),e=ci(),t=n(e,"WeakMap");return Cv=t,Cv}var Av,UI;function Dh(){if(UI)return Av;UI=1;var n=o9(),e=yE(),t=u9(),r=l9(),i=c9(),a=fu(),u=yk(),l="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",_="[object DataView]",E=u(n),b=u(e),S=u(t),I=u(r),A=u(i),P=a;return(n&&P(new n(new ArrayBuffer(1)))!=_||e&&P(new e)!=l||t&&P(t.resolve())!=p||r&&P(new r)!=m||i&&P(new i)!=v)&&(P=function(F){var V=a(F),H=V==d?F.constructor:void 0,z=H?u(H):"";if(z)switch(z){case E:return _;case b:return l;case S:return p;case I:return m;case A:return v}return V}),Av=P,Av}var Pv,qI;function d9(){if(qI)return Pv;qI=1;var n=wE(),e=_k(),t=Jq(),r=a9(),i=Dh(),a=mr(),u=Ph(),l=IE(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",_=Object.prototype,E=_.hasOwnProperty;function b(S,I,A,P,F,V){var H=a(S),z=a(I),k=H?m:i(S),R=z?m:i(I);k=k==p?v:k,R=R==p?v:R;var C=k==v,N=R==v,M=k==R;if(M&&u(S)){if(!u(I))return!1;H=!0,C=!1}if(M&&!C)return V||(V=new n),H||l(S)?e(S,I,A,P,F,V):t(S,I,k,A,P,F,V);if(!(A&d)){var U=C&&E.call(S,"__wrapped__"),D=N&&E.call(I,"__wrapped__");if(U||D){var ce=U?S.value():S,Te=D?I.value():I;return V||(V=new n),F(ce,Te,A,P,V)}}return M?(V||(V=new n),r(S,I,A,P,F,V)):!1}return Pv=b,Pv}var kv,$I;function xE(){if($I)return kv;$I=1;var n=d9(),e=js();function t(r,i,a,u,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,u,t,l)}return kv=t,kv}var Dv,zI;function f9(){if(zI)return Dv;zI=1;var n=xE();function e(t,r){return n(t,r)}return Dv=e,Dv}var h9=f9();const p9=jn(h9);function Ov(n,e){var t=aE(n);return t?t.innerHeight:ya(n).height}function Rk(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if($6(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var Nv,BI;function m9(){if(BI)return Nv;BI=1;function n(e,t,r,i){for(var a=e.length,u=r+(i?1:-1);i?u--:++u<a;)if(t(e[u],u,e))return u;return-1}return Nv=n,Nv}var Mv,HI;function g9(){if(HI)return Mv;HI=1;var n=wE(),e=xE(),t=1,r=2;function i(a,u,l,d){var p=l.length,m=p,v=!d;if(a==null)return!m;for(a=Object(a);p--;){var _=l[p];if(v&&_[2]?_[1]!==a[_[0]]:!(_[0]in a))return!1}for(;++p<m;){_=l[p];var E=_[0],b=a[E],S=_[1];if(v&&_[2]){if(b===void 0&&!(E in a))return!1}else{var I=new n;if(d)var A=d(b,S,E,a,u,I);if(!(A===void 0?e(S,b,t|r,d,I):A))return!1}}return!0}return Mv=i,Mv}var Lv,WI;function xk(){if(WI)return Lv;WI=1;var n=zi();function e(t){return t===t&&!n(t)}return Lv=e,Lv}var Vv,GI;function v9(){if(GI)return Vv;GI=1;var n=xk(),e=wc();function t(r){for(var i=e(r),a=i.length;a--;){var u=i[a],l=r[u];i[a]=[u,l,n(l)]}return i}return Vv=t,Vv}var Fv,KI;function Ck(){if(KI)return Fv;KI=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return Fv=n,Fv}var jv,YI;function y9(){if(YI)return jv;YI=1;var n=g9(),e=v9(),t=Ck();function r(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(u){return u===i||n(u,i,a)}}return jv=r,jv}var Uv,QI;function CE(){if(QI)return Uv;QI=1;var n=mr(),e=gc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){if(n(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!t.test(a)||u!=null&&a in Object(u)}return Uv=i,Uv}var qv,XI;function _9(){if(XI)return qv;XI=1;var n=_E(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var u=arguments,l=i?i.apply(this,u):u[0],d=a.cache;if(d.has(l))return d.get(l);var p=r.apply(this,u);return a.cache=d.set(l,p)||d,p};return a.cache=new(t.Cache||n),a}return t.Cache=n,qv=t,qv}var $v,JI;function w9(){if(JI)return $v;JI=1;var n=_9(),e=500;function t(r){var i=n(r,function(u){return a.size===e&&a.clear(),u}),a=i.cache;return i}return $v=t,$v}var zv,ZI;function E9(){if(ZI)return zv;ZI=1;var n=w9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(u,l,d,p){a.push(d?p.replace(t,"$1"):l||u)}),a});return zv=r,zv}var Bv,eR;function AE(){if(eR)return Bv;eR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}return Bv=n,Bv}var Hv,tR;function T9(){if(tR)return Hv;tR=1;var n=du(),e=AE(),t=mr(),r=gc(),i=n?n.prototype:void 0,a=i?i.toString:void 0;function u(l){if(typeof l=="string")return l;if(t(l))return e(l,u)+"";if(r(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Hv=u,Hv}var Wv,nR;function b9(){if(nR)return Wv;nR=1;var n=T9();function e(t){return t==null?"":n(t)}return Wv=e,Wv}var Gv,rR;function Oh(){if(rR)return Gv;rR=1;var n=mr(),e=CE(),t=E9(),r=b9();function i(a,u){return n(a)?a:e(a,u)?[a]:t(r(a))}return Gv=i,Gv}var Kv,iR;function Ec(){if(iR)return Kv;iR=1;var n=gc();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Kv=e,Kv}var Yv,sR;function Nh(){if(sR)return Yv;sR=1;var n=Oh(),e=Ec();function t(r,i){i=n(i,r);for(var a=0,u=i.length;r!=null&&a<u;)r=r[e(i[a++])];return a&&a==u?r:void 0}return Yv=t,Yv}var Qv,aR;function S9(){if(aR)return Qv;aR=1;var n=Nh();function e(t,r,i){var a=t==null?void 0:n(t,r);return a===void 0?i:a}return Qv=e,Qv}var Xv,oR;function I9(){if(oR)return Xv;oR=1;function n(e,t){return e!=null&&t in Object(e)}return Xv=n,Xv}var Jv,uR;function R9(){if(uR)return Jv;uR=1;var n=Oh(),e=bE(),t=mr(),r=sE(),i=iE(),a=Ec();function u(l,d,p){d=n(d,l);for(var m=-1,v=d.length,_=!1;++m<v;){var E=a(d[m]);if(!(_=l!=null&&p(l,E)))break;l=l[E]}return _||++m!=v?_:(v=l==null?0:l.length,!!v&&i(v)&&r(E,v)&&(t(l)||e(l)))}return Jv=u,Jv}var Zv,lR;function x9(){if(lR)return Zv;lR=1;var n=I9(),e=R9();function t(r,i){return r!=null&&e(r,i,n)}return Zv=t,Zv}var ey,cR;function C9(){if(cR)return ey;cR=1;var n=xE(),e=S9(),t=x9(),r=CE(),i=xk(),a=Ck(),u=Ec(),l=1,d=2;function p(m,v){return r(m)&&i(v)?a(u(m),v):function(_){var E=e(_,m);return E===void 0&&E===v?t(_,m):n(v,E,l|d)}}return ey=p,ey}var ty,dR;function Mh(){if(dR)return ty;dR=1;function n(e){return e}return ty=n,ty}var ny,fR;function A9(){if(fR)return ny;fR=1;function n(e){return function(t){return t==null?void 0:t[e]}}return ny=n,ny}var ry,hR;function P9(){if(hR)return ry;hR=1;var n=Nh();function e(t){return function(r){return n(r,t)}}return ry=e,ry}var iy,pR;function k9(){if(pR)return iy;pR=1;var n=A9(),e=P9(),t=CE(),r=Ec();function i(a){return t(a)?n(r(a)):e(a)}return iy=i,iy}var sy,mR;function Lh(){if(mR)return sy;mR=1;var n=y9(),e=C9(),t=Mh(),r=mr(),i=k9();function a(u){return typeof u=="function"?u:u==null?t:typeof u=="object"?r(u)?e(u[0],u[1]):n(u):i(u)}return sy=a,sy}var ay,gR;function D9(){if(gR)return ay;gR=1;var n=m9(),e=Lh(),t=ik(),r=Math.max;function i(a,u,l){var d=a==null?0:a.length;if(!d)return-1;var p=l==null?0:t(l);return p<0&&(p=r(d+p,0)),n(a,e(u,3),p)}return ay=i,ay}var O9=D9();const N9=jn(O9);var oy,vR;function M9(){if(vR)return oy;vR=1;var n=Math.ceil,e=Math.max;function t(r,i,a,u){for(var l=-1,d=e(n((i-r)/(a||1)),0),p=Array(d);d--;)p[u?d:++l]=r,r+=a;return p}return oy=t,oy}var uy,yR;function L9(){if(yR)return uy;yR=1;var n=M9(),e=Sh(),t=rk();function r(i){return function(a,u,l){return l&&typeof l!="number"&&e(a,u,l)&&(u=l=void 0),a=t(a),u===void 0?(u=a,a=0):u=t(u),l=l===void 0?a<u?1:-1:t(l),n(a,u,l,i)}}return uy=r,uy}var ly,_R;function V9(){if(_R)return ly;_R=1;var n=L9(),e=n();return ly=e,ly}var F9=V9();const j9=jn(F9);var wR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function U9(n,e){return!!(n===e||wR(n)&&wR(e))}function q9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!U9(n[t],e[t]))return!1;return!0}function Ak(n,e){e===void 0&&(e=q9);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var u=n.apply(this,i);return t={lastResult:u,lastArgs:i,lastThis:this},u}return r.clear=function(){t=null},r}function Z_(n,e){var t=aE(n);return t?t.innerWidth:ya(n).width}var cy,ER;function $9(){if(ER)return cy;ER=1;var n=du(),e=bE(),t=mr(),r=n?n.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(r&&a&&a[r])}return cy=i,cy}var dy,TR;function Pk(){if(TR)return dy;TR=1;var n=EE(),e=$9();function t(r,i,a,u,l){var d=-1,p=r.length;for(a||(a=e),l||(l=[]);++d<p;){var m=r[d];i>0&&a(m)?i>1?t(m,i-1,a,u,l):n(l,m):u||(l[l.length]=m)}return l}return dy=t,dy}var fy,bR;function z9(){if(bR)return fy;bR=1;function n(e){return function(t,r,i){for(var a=-1,u=Object(t),l=i(t),d=l.length;d--;){var p=l[e?d:++a];if(r(u[p],p,u)===!1)break}return t}}return fy=n,fy}var hy,SR;function B9(){if(SR)return hy;SR=1;var n=z9(),e=n();return hy=e,hy}var py,IR;function PE(){if(IR)return py;IR=1;var n=B9(),e=wc();function t(r,i){return r&&n(r,i,e)}return py=t,py}var my,RR;function H9(){if(RR)return my;RR=1;var n=mc();function e(t,r){return function(i,a){if(i==null)return i;if(!n(i))return t(i,a);for(var u=i.length,l=r?u:-1,d=Object(i);(r?l--:++l<u)&&a(d[l],l,d)!==!1;);return i}}return my=e,my}var gy,xR;function W9(){if(xR)return gy;xR=1;var n=PE(),e=H9(),t=e(n);return gy=t,gy}var vy,CR;function G9(){if(CR)return vy;CR=1;var n=W9(),e=mc();function t(r,i){var a=-1,u=e(r)?Array(r.length):[];return n(r,function(l,d,p){u[++a]=i(l,d,p)}),u}return vy=t,vy}var yy,AR;function K9(){if(AR)return yy;AR=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return yy=n,yy}var _y,PR;function Y9(){if(PR)return _y;PR=1;var n=gc();function e(t,r){if(t!==r){var i=t!==void 0,a=t===null,u=t===t,l=n(t),d=r!==void 0,p=r===null,m=r===r,v=n(r);if(!p&&!v&&!l&&t>r||l&&d&&m&&!p&&!v||a&&d&&m||!i&&m||!u)return 1;if(!a&&!l&&!v&&t<r||v&&i&&u&&!a&&!l||p&&i&&u||!d&&u||!m)return-1}return 0}return _y=e,_y}var wy,kR;function Q9(){if(kR)return wy;kR=1;var n=Y9();function e(t,r,i){for(var a=-1,u=t.criteria,l=r.criteria,d=u.length,p=i.length;++a<d;){var m=n(u[a],l[a]);if(m){if(a>=p)return m;var v=i[a];return m*(v=="desc"?-1:1)}}return t.index-r.index}return wy=e,wy}var Ey,DR;function X9(){if(DR)return Ey;DR=1;var n=AE(),e=Nh(),t=Lh(),r=G9(),i=K9(),a=kh(),u=Q9(),l=Mh(),d=mr();function p(m,v,_){v.length?v=n(v,function(S){return d(S)?function(I){return e(I,S.length===1?S[0]:S)}:S}):v=[l];var E=-1;v=n(v,a(t));var b=r(m,function(S,I,A){var P=n(v,function(F){return F(S)});return{criteria:P,index:++E,value:S}});return i(b,function(S,I){return u(S,I,_)})}return Ey=p,Ey}var Ty,OR;function J9(){if(OR)return Ty;OR=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Ty=n,Ty}var by,NR;function kk(){if(NR)return by;NR=1;var n=J9(),e=Math.max;function t(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var u=arguments,l=-1,d=e(u.length-i,0),p=Array(d);++l<d;)p[l]=u[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=u[l];return m[i]=a(p),n(r,this,m)}}return by=t,by}var Sy,MR;function Z9(){if(MR)return Sy;MR=1;function n(e){return function(){return e}}return Sy=n,Sy}var Iy,LR;function Dk(){if(LR)return Iy;LR=1;var n=Fa(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Iy=e,Iy}var Ry,VR;function e5(){if(VR)return Ry;VR=1;var n=Z9(),e=Dk(),t=Mh(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return Ry=r,Ry}var xy,FR;function t5(){if(FR)return xy;FR=1;var n=800,e=16,t=Date.now;function r(i){var a=0,u=0;return function(){var l=t(),d=e-(l-u);if(u=l,d>0){if(++a>=n)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return xy=r,xy}var Cy,jR;function Ok(){if(jR)return Cy;jR=1;var n=e5(),e=t5(),t=e(n);return Cy=t,Cy}var Ay,UR;function Nk(){if(UR)return Ay;UR=1;var n=Mh(),e=kk(),t=Ok();function r(i,a){return t(e(i,a,n),i+"")}return Ay=r,Ay}var Py,qR;function n5(){if(qR)return Py;qR=1;var n=Pk(),e=X9(),t=Nk(),r=Sh(),i=t(function(a,u){if(a==null)return[];var l=u.length;return l>1&&r(a,u[0],u[1])?u=[]:l>2&&r(u[0],u[1],u[2])&&(u=[u[0]]),e(a,n(u,1),[])});return Py=i,Py}var r5=n5();const i5=jn(r5);function Mk(n){return UP(n)||ek(n)||eE(n)||qP()}var ky,$R;function s5(){if($R)return ky;$R=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return ky=n,ky}var Dy,zR;function a5(){if(zR)return Dy;zR=1;var n=zi(),e=RE(),t=s5(),r=Object.prototype,i=r.hasOwnProperty;function a(u){if(!n(u))return t(u);var l=e(u),d=[];for(var p in u)p=="constructor"&&(l||!i.call(u,p))||d.push(p);return d}return Dy=a,Dy}var Oy,BR;function Vh(){if(BR)return Oy;BR=1;var n=bk(),e=a5(),t=mc();function r(i){return t(i)?n(i,!0):e(i)}return Oy=r,Oy}var Ny,HR;function o5(){if(HR)return Ny;HR=1;var n=Nk(),e=pc(),t=Sh(),r=Vh(),i=Object.prototype,a=i.hasOwnProperty,u=n(function(l,d){l=Object(l);var p=-1,m=d.length,v=m>2?d[2]:void 0;for(v&&t(d[0],d[1],v)&&(m=1);++p<m;)for(var _=d[p],E=r(_),b=-1,S=E.length;++b<S;){var I=E[b],A=l[I];(A===void 0||e(A,i[I])&&!a.call(l,I))&&(l[I]=_[I])}return l});return Ny=u,Ny}var u5=o5();const l5=jn(u5);var My,WR;function kE(){if(WR)return My;WR=1;var n=Dk();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return My=e,My}var Ly,GR;function c5(){if(GR)return Ly;GR=1;var n=kE(),e=PE(),t=Lh();function r(i,a){var u={};return a=t(a,3),e(i,function(l,d,p){n(u,d,a(l,d,p))}),u}return Ly=r,Ly}var d5=c5();const f5=jn(d5);var Vy,KR;function Lk(){if(KR)return Vy;KR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return Vy=n,Vy}var Fy,YR;function Vk(){if(YR)return Fy;YR=1;var n=kE(),e=pc(),t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l){var d=a[u];(!(r.call(a,u)&&e(d,l))||l===void 0&&!(u in a))&&n(a,u,l)}return Fy=i,Fy}var jy,QR;function Tc(){if(QR)return jy;QR=1;var n=Vk(),e=kE();function t(r,i,a,u){var l=!a;a||(a={});for(var d=-1,p=i.length;++d<p;){var m=i[d],v=u?u(a[m],r[m],m,a,r):void 0;v===void 0&&(v=r[m]),l?e(a,m,v):n(a,m,v)}return a}return jy=t,jy}var Uy,XR;function h5(){if(XR)return Uy;XR=1;var n=Tc(),e=wc();function t(r,i){return r&&n(i,e(i),r)}return Uy=t,Uy}var qy,JR;function p5(){if(JR)return qy;JR=1;var n=Tc(),e=Vh();function t(r,i){return r&&n(i,e(i),r)}return qy=t,qy}var _l={exports:{}};_l.exports;var ZR;function m5(){return ZR||(ZR=1,function(n,e){var t=ci(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a?t.Buffer:void 0,l=u?u.allocUnsafe:void 0;function d(p,m){if(m)return p.slice();var v=p.length,_=l?l(v):new p.constructor(v);return p.copy(_),_}n.exports=d}(_l,_l.exports)),_l.exports}var $y,ex;function g5(){if(ex)return $y;ex=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return $y=n,$y}var zy,tx;function v5(){if(tx)return zy;tx=1;var n=Tc(),e=TE();function t(r,i){return n(r,e(r),i)}return zy=t,zy}var By,nx;function Fh(){if(nx)return By;nx=1;var n=Sk(),e=n(Object.getPrototypeOf,Object);return By=e,By}var Hy,rx;function Fk(){if(rx)return Hy;rx=1;var n=EE(),e=Fh(),t=TE(),r=Tk(),i=Object.getOwnPropertySymbols,a=i?function(u){for(var l=[];u;)n(l,t(u)),u=e(u);return l}:r;return Hy=a,Hy}var Wy,ix;function y5(){if(ix)return Wy;ix=1;var n=Tc(),e=Fk();function t(r,i){return n(r,e(r),i)}return Wy=t,Wy}var Gy,sx;function jk(){if(sx)return Gy;sx=1;var n=Ek(),e=Fk(),t=Vh();function r(i){return n(i,t,e)}return Gy=r,Gy}var Ky,ax;function _5(){if(ax)return Ky;ax=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Ky=t,Ky}var Yy,ox;function DE(){if(ox)return Yy;ox=1;var n=wk();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return Yy=e,Yy}var Qy,ux;function w5(){if(ux)return Qy;ux=1;var n=DE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return Qy=e,Qy}var Xy,lx;function E5(){if(lx)return Xy;lx=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return Xy=e,Xy}var Jy,cx;function T5(){if(cx)return Jy;cx=1;var n=du(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return Jy=r,Jy}var Zy,dx;function b5(){if(dx)return Zy;dx=1;var n=DE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return Zy=e,Zy}var e_,fx;function S5(){if(fx)return e_;fx=1;var n=DE(),e=w5(),t=E5(),r=T5(),i=b5(),a="[object Boolean]",u="[object Date]",l="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",v="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",F="[object Int32Array]",V="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",k="[object Uint32Array]";function R(C,N,M){var U=C.constructor;switch(N){case E:return n(C);case a:case u:return new U(+C);case b:return e(C,M);case S:case I:case A:case P:case F:case V:case H:case z:case k:return i(C,M);case l:return new U;case d:case v:return new U(C);case p:return t(C);case m:return new U;case _:return r(C)}}return e_=R,e_}var t_,hx;function Uk(){if(hx)return t_;hx=1;var n=zi(),e=Object.create,t=function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return t_=t,t_}var n_,px;function I5(){if(px)return n_;px=1;var n=Uk(),e=Fh(),t=RE();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return n_=r,n_}var r_,mx;function R5(){if(mx)return r_;mx=1;var n=Dh(),e=js(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return r_=r,r_}var i_,gx;function x5(){if(gx)return i_;gx=1;var n=R5(),e=kh(),t=SE(),r=t&&t.isMap,i=r?e(r):n;return i_=i,i_}var s_,vx;function C5(){if(vx)return s_;vx=1;var n=Dh(),e=js(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return s_=r,s_}var a_,yx;function A5(){if(yx)return a_;yx=1;var n=C5(),e=kh(),t=SE(),r=t&&t.isSet,i=r?e(r):n;return a_=i,a_}var o_,_x;function P5(){if(_x)return o_;_x=1;var n=wE(),e=Lk(),t=Vk(),r=h5(),i=p5(),a=m5(),u=g5(),l=v5(),d=y5(),p=Ik(),m=jk(),v=Dh(),_=_5(),E=S5(),b=I5(),S=mr(),I=Ph(),A=x5(),P=zi(),F=A5(),V=wc(),H=Vh(),z=1,k=2,R=4,C="[object Arguments]",N="[object Array]",M="[object Boolean]",U="[object Date]",D="[object Error]",ce="[object Function]",Te="[object GeneratorFunction]",we="[object Map]",ye="[object Number]",te="[object Object]",de="[object RegExp]",ue="[object Set]",W="[object String]",Z="[object Symbol]",fe="[object WeakMap]",Ce="[object ArrayBuffer]",xe="[object DataView]",Ne="[object Float32Array]",Le="[object Float64Array]",Me="[object Int8Array]",Ge="[object Int16Array]",vt="[object Int32Array]",yn="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Un="[object Uint16Array]",gr="[object Uint32Array]",qe={};qe[C]=qe[N]=qe[Ce]=qe[xe]=qe[M]=qe[U]=qe[Ne]=qe[Le]=qe[Me]=qe[Ge]=qe[vt]=qe[we]=qe[ye]=qe[te]=qe[de]=qe[ue]=qe[W]=qe[Z]=qe[yn]=qe[Fr]=qe[Un]=qe[gr]=!0,qe[D]=qe[ce]=qe[fe]=!1;function qn(Ve,$n,_n,Dt,Ot,Qt){var ot,wn=$n&z,zn=$n&k,ut=$n&R;if(_n&&(ot=Ot?_n(Ve,Dt,Ot,Qt):_n(Ve)),ot!==void 0)return ot;if(!P(Ve))return Ve;var rt=S(Ve);if(rt){if(ot=_(Ve),!wn)return u(Ve,ot)}else{var Nt=v(Ve),Bi=Nt==ce||Nt==Te;if(I(Ve))return a(Ve,wn);if(Nt==te||Nt==C||Bi&&!Ot){if(ot=zn||Bi?{}:b(Ve),!wn)return zn?d(Ve,i(ot,Ve)):l(Ve,r(ot,Ve))}else{if(!qe[Nt])return Ot?Ve:{};ot=E(Ve,Nt,wn)}}Qt||(Qt=new n);var vr=Qt.get(Ve);if(vr)return vr;Qt.set(Ve,ot),F(Ve)?Ve.forEach(function(In){ot.add(qn(In,$n,_n,In,Ve,Qt))}):A(Ve)&&Ve.forEach(function(In,Bn){ot.set(Bn,qn(In,$n,_n,Bn,Ve,Qt))});var di=ut?zn?m:p:zn?H:V,jr=rt?void 0:di(Ve);return e(jr||Ve,function(In,Bn){jr&&(Bn=In,In=Ve[Bn]),t(ot,Bn,qn(In,$n,_n,Bn,Ve,Qt))}),ot}return o_=qn,o_}var u_,wx;function k5(){if(wx)return u_;wx=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return u_=n,u_}var l_,Ex;function D5(){if(Ex)return l_;Ex=1;var n=Nh(),e=tk();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return l_=t,l_}var c_,Tx;function O5(){if(Tx)return c_;Tx=1;var n=Oh(),e=k5(),t=D5(),r=Ec();function i(a,u){return u=n(u,a),a=t(a,u),a==null||delete a[r(e(u))]}return c_=i,c_}var d_,bx;function N5(){if(bx)return d_;bx=1;var n=fu(),e=Fh(),t=js(),r="[object Object]",i=Function.prototype,a=Object.prototype,u=i.toString,l=a.hasOwnProperty,d=u.call(Object);function p(m){if(!t(m)||n(m)!=r)return!1;var v=e(m);if(v===null)return!0;var _=l.call(v,"constructor")&&v.constructor;return typeof _=="function"&&_ instanceof _&&u.call(_)==d}return d_=p,d_}var f_,Sx;function M5(){if(Sx)return f_;Sx=1;var n=N5();function e(t){return n(t)?void 0:t}return f_=e,f_}var h_,Ix;function L5(){if(Ix)return h_;Ix=1;var n=Pk();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return h_=e,h_}var p_,Rx;function V5(){if(Rx)return p_;Rx=1;var n=L5(),e=kk(),t=Ok();function r(i){return t(e(i,void 0,n),i+"")}return p_=r,p_}var m_,xx;function F5(){if(xx)return m_;xx=1;var n=AE(),e=P5(),t=O5(),r=Oh(),i=Tc(),a=M5(),u=V5(),l=jk(),d=1,p=2,m=4,v=u(function(_,E){var b={};if(_==null)return b;var S=!1;E=n(E,function(A){return A=r(A,_),S||(S=A.length>1),A}),i(_,l(_),b),S&&(b=e(b,d|p|m,a));for(var I=E.length;I--;)t(b,E[I]);return b});return m_=v,m_}var j5=F5();const U5=jn(j5);var g_,Cx;function q5(){if(Cx)return g_;Cx=1;var n=Lk(),e=Uk(),t=PE(),r=Lh(),i=Fh(),a=mr(),u=Ph(),l=rE(),d=zi(),p=IE();function m(v,_,E){var b=a(v),S=b||u(v)||p(v);if(_=r(_,4),E==null){var I=v&&v.constructor;S?E=b?new I:[]:d(v)?E=l(I)?e(i(v)):{}:E={}}return(S?n:t)(v,function(A,P,F){return _(E,A,P,F)}),E}return g_=m,g_}var $5=q5();const z5=jn($5);var pf={exports:{}},B5=pf.exports,Ax;function H5(){return Ax||(Ax=1,function(n,e){(function(t,r){n.exports=r()})(B5,function(){return function(t,r,i){r.prototype.isBetween=function(a,u,l,d){var p=i(a),m=i(u),v=(d=d||"()")[0]==="(",_=d[1]===")";return(v?this.isAfter(p,l):!this.isBefore(p,l))&&(_?this.isBefore(m,l):!this.isAfter(m,l))||(v?this.isBefore(p,l):!this.isAfter(p,l))&&(_?this.isAfter(m,l):!this.isBefore(m,l))}}})}(pf)),pf.exports}H5();var mf={exports:{}},W5=mf.exports,Px;function G5(){return Px||(Px=1,function(n,e){(function(t,r){n.exports=r()})(W5,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})}(mf)),mf.exports}G5();var gf={exports:{}},K5=gf.exports,kx;function Y5(){return kx||(kx=1,function(n,e){(function(t,r){n.exports=r()})(K5,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})}(gf)),gf.exports}Y5();var vf={exports:{}},Q5=vf.exports,Dx;function X5(){return Dx||(Dx=1,function(n,e){(function(t,r){n.exports=r()})(Q5,function(){return function(t,r,i){var a=r.prototype,u=function(v){return v&&(v.indexOf?v:v.s)},l=function(v,_,E,b,S){var I=v.name?v:v.$locale(),A=u(I[_]),P=u(I[E]),F=A||P.map(function(H){return H.slice(0,b)});if(!S)return F;var V=I.weekStart;return F.map(function(H,z){return F[(z+(V||0))%7]})},d=function(){return i.Ls[i.locale()]},p=function(v,_){return v.formats[_]||function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,S,I){return S||I.slice(1)})}(v.formats[_.toUpperCase()])},m=function(){var v=this;return{months:function(_){return _?_.format("MMMM"):l(v,"months")},monthsShort:function(_){return _?_.format("MMM"):l(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):l(v,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):l(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):l(v,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return p(v.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(_){return p(v,_)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return l(d(),"months")},i.monthsShort=function(){return l(d(),"monthsShort","months",3)},i.weekdays=function(v){return l(d(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return l(d(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return l(d(),"weekdaysMin","weekdays",2,v)}}})}(vf)),vf.exports}X5();var yf={exports:{}},J5=yf.exports,Ox;function Z5(){return Ox||(Ox=1,function(n,e){(function(t,r){n.exports=r()})(J5,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var u=i.prototype,l=u.format;a.en.formats=t,u.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,m=function(v,_){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,b,S){var I=S&&S.toUpperCase();return b||_[S]||t[S]||_[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,P,F){return P||F.slice(1)})})}(d,p===void 0?{}:p);return l.call(this,m)}}})}(yf)),yf.exports}Z5();var _f={exports:{}},e$=_f.exports,Nx;function t$(){return Nx||(Nx=1,function(n,e){(function(t,r){n.exports=r()})(e$,function(){return function(t,r,i){var a=function(u,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var d;l.length===1&&l[0].length>0&&(l=l[0]),d=(l=l.filter(function(m){return m}))[0];for(var p=1;p<l.length;p+=1)l[p].isValid()&&!l[p][u](d)||(d=l[p]);return d};i.max=function(){var u=[].slice.call(arguments,0);return a("isAfter",u)},i.min=function(){var u=[].slice.call(arguments,0);return a("isBefore",u)}}})}(_f)),_f.exports}t$();var wf={exports:{}},n$=wf.exports,Mx;function r$(){return Mx||(Mx=1,function(n,e){(function(t,r){n.exports=r()})(n$,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,u,l){var d=u.prototype;l.utc=function(S){var I={date:S,utc:!0,args:arguments};return new u(I)},d.utc=function(S){var I=l(this.toDate(),{locale:this.$L,utc:!0});return S?I.add(this.utcOffset(),t):I},d.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var p=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var m=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var v=d.utcOffset;d.utcOffset=function(S,I){var A=this.$utils().u;if(A(S))return this.$u?0:A(this.$offset)?v.call(this):this.$offset;if(typeof S=="string"&&(S=function(H){H===void 0&&(H="");var z=H.match(r);if(!z)return null;var k=(""+z[0]).match(i)||["-",0,0],R=k[0],C=60*+k[1]+ +k[2];return C===0?0:R==="+"?C:-C}(S),S===null))return this;var P=Math.abs(S)<=16?60*S:S,F=this;if(I)return F.$offset=P,F.$u=S===0,F;if(S!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(P+V,t)).$offset=P,F.$x.$localOffset=V}else F=this.utc();return F};var _=d.format;d.format=function(S){var I=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return _.call(this,I)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var E=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var b=d.diff;d.diff=function(S,I,A){if(S&&this.$u===S.$u)return b.call(this,S,I,A);var P=this.local(),F=l(S).local();return b.call(P,F,I,A)}}})}(wf)),wf.exports}r$();function Ci(n){return n.children}var Fn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Kt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Lx=Object.keys(Kt).map(function(n){return Kt[n]});oe.oneOfType([oe.string,oe.func]);oe.any;oe.func;oe.oneOfType([oe.arrayOf(oe.oneOf(Lx)),oe.objectOf(function(n,e){var t=Lx.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return oe.elementType.apply(oe,[n,e].concat(i))})]);oe.oneOfType([oe.oneOf(["overlap","no-overlap"]),oe.func]);var Vx={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function qk(n,e){var t=an(n,"month");return an(t,"week",e.startOfWeek())}function $k(n,e){var t=Wf(n,"month");return Wf(t,"week",e.startOfWeek())}function i$(n,e){for(var t=qk(n,e),r=$k(n,e),i=[];lu(t,r,"day");)i.push(t),t=Lr(t,1,"day");return i}function s$(n,e){var t=an(n,e);return uu(t,n)?t:Lr(t,1,e)}function a$(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];lu(r,e,t);)i.push(r),r=Lr(r,1,t);return i}function o$(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=an(n,"day"),n=Wl(n,Wl(e)),n=Ko(n,Ko(e)),n=Hl(n,Hl(e)),Bl(n,Bl(e)))}function Fx(n){return Wl(n)===0&&Ko(n)===0&&Hl(n)===0&&Bl(n)===0}function u$(n,e,t,r){return t==="day"&&(t="date"),Math.abs(Db[t](n,void 0,r)-Db[t](e,void 0,r))}function OE(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+an(n,t)/Vx[t]-+an(e,t)/Vx[t]))}var l$=oe.oneOfType([oe.string,oe.func]);function c$(n,e,t,r,i){var a=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return Fl(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function d$(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function NE(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function f$(n,e){return OE(n,e,"minutes")+NE(n,e)}function h$(n){var e=an(n,"day");return OE(e,n,"minutes")+NE(e,n)}function p$(n,e){return nE(n,e,"day")}function m$(n,e,t){var r=uu(n,e,"minutes");return r?hc(e,t,"minutes"):bh(e,t,"minutes")}function ew(n,e){return u$(n,e,"day")}function g$(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,a=n.evtB,u=a.start,l=a.end,d=a.allDay,p=+an(t,"day")-+an(u,"day"),m=ew(t,r),v=ew(u,l);return p||v-m||!!d-!!i||+t-+u||+r-+l}function v$(n){var e=n.event,t=e.start,r=e.end,i=n.range,a=i.start,u=i.end,l=an(t,"day"),d=lu(l,u,"day"),p=tE(l,r,"minutes"),m=p?bh(r,a,"minutes"):hc(r,a,"minutes");return d&&m}function y$(n,e){return uu(n,e,"day")}function _$(n,e){return Fx(n)&&Fx(e)}var w$=$t(function n(e){var t=this;qt(this,n),Fl(typeof e.format=="function","date localizer `format(..)` must be a function"),Fl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||l$,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return c$.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||o$,this.inRange=e.inRange||QP,this.lt=e.lt||nE,this.lte=e.lte||lu,this.gt=e.gt||bh,this.gte=e.gte||hc,this.eq=e.eq||uu,this.neq=e.neq||tE,this.startOf=e.startOf||an,this.endOf=e.endOf||Wf,this.add=e.add||Lr,this.range=e.range||a$,this.diff=e.diff||OE,this.ceil=e.ceil||s$,this.min=e.min||KP,this.max=e.max||YP,this.minutes=e.minutes||Ko,this.daySpan=e.daySpan||ew,this.firstVisibleDay=e.firstVisibleDay||qk,this.lastVisibleDay=e.lastVisibleDay||$k,this.visibleDays=e.visibleDays||i$,this.getSlotDate=e.getSlotDate||d$,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||NE,this.getTotalMin=e.getTotalMin||f$,this.getMinutesFromMidnight=e.getMinutesFromMidnight||h$,this.continuesPrior=e.continuesPrior||p$,this.continuesAfter=e.continuesAfter||m$,this.sortEvents=e.sortEvents||g$,this.inEventRange=e.inEventRange||v$,this.isSameDate=e.isSameDate||y$,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||_$,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function E$(n,e,t,r){var i=et(et({},n.formats),t);return et(et({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(u,l){return n.format(u,i[l]||l,e)}})}var T$=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.navigate=function(u){t.props.onNavigate(u)},t.view=function(u){t.props.onView(u)},t}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,a=r.label;return G.createElement("div",{className:"rbc-toolbar"},G.createElement("span",{className:"rbc-btn-group"},G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.TODAY)},i.today),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.PREVIOUS)},i.previous),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.NEXT)},i.next)),G.createElement("span",{className:"rbc-toolbar-label"},a),G.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,a=this.props.views,u=this.props.view;if(a.length>1)return a.map(function(l){return G.createElement("button",{type:"button",key:l,className:wt({"rbc-active":u===l}),onClick:i.view.bind(null,l)},r[l])})}}])}(G.Component);function at(n,e){n&&n.apply(null,[].concat(e))}var b$={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function S$(n){return et(et({},b$),n)}function I$(n){var e=n.ref,t=n.callback;$.useEffect(function(){var r=function(a){e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var R$=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],zk=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,u=r.event,l=r.selected,d=r.isAllDay,p=r.onSelect,m=r.onDoubleClick,v=r.onKeyPress,_=r.localizer,E=r.continuesPrior,b=r.continuesAfter,S=r.accessors,I=r.getters,A=r.children,P=r.components,F=P.event,V=P.eventWrapper,H=r.slotStart,z=r.slotEnd,k=oi(r,R$);delete k.resizable;var R=S.title(u),C=S.tooltip(u),N=S.end(u),M=S.start(u),U=S.allDay(u),D=d||U||_.diff(M,_.ceil(N,"day"),"day")>1,ce=I.eventProp(u,M,N,l),Te=G.createElement("div",{className:"rbc-event-content",title:C||void 0},F?G.createElement(F,{event:u,continuesPrior:E,continuesAfter:b,title:R,isAllDay:U,localizer:_,slotStart:H,slotEnd:z}):R);return G.createElement(V,Object.assign({},this.props,{type:"date"}),G.createElement("div",Object.assign({},k,{style:et(et({},ce.style),i),className:wt("rbc-event",a,ce.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":E,"rbc-event-continues-after":b}),onClick:function(ye){return p&&p(u,ye)},onDoubleClick:function(ye){return m&&m(u,ye)},onKeyDown:function(ye){return v&&v(u,ye)}}),typeof A=="function"?A(Te):Te))}}])}(G.Component);function jh(n,e){return!n||e==null?!1:p9(n,e)}function Bk(n,e){var t=n.right-n.left,r=t/e;return r}function Hk(n,e,t,r){var i=Bk(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function x$(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function C$(n,e,t,r,i){var a=-1,u=-1,l=r-1,d=Bk(e,r),p=Hk(e,t.x,i,r),m=e.top<t.y&&e.bottom>t.y,v=e.top<n.y&&e.bottom>n.y,_=n.y>e.bottom,E=e.top>n.y,b=t.top<e.top&&t.bottom>e.bottom;return b&&(a=0,u=l),m&&(E?(a=0,u=p):_&&(a=p,u=l)),v&&(a=u=i?l-Math.floor((n.x-e.left)/d):Math.floor((n.x-e.left)/d),m?p<a?a=p:u=p:n.y<t.y?u=l:a=0),{startIdx:a,endIdx:u}}function A$(n){var e=n.target,t=n.offset,r=n.container,i=n.box,a=ya(e),u=a.top,l=a.left,d=a.width,p=a.height,m=ya(r),v=m.top,_=m.left,E=m.width,b=m.height,S=ya(i),I=S.width,A=S.height,P=v+b,F=_+E,V=u+A,H=l+I,z=t.x,k=t.y,R=V>P?u-A-k:u+k+p,C=H>F?l+z-I+d:l+z;return{topOffset:R,leftOffset:C}}function P$(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,a=n.components,u=n.localizer,l=n.position,d=n.show,p=n.events,m=n.slotStart,v=n.slotEnd,_=n.onSelect,E=n.onDoubleClick,b=n.onKeyPress,S=n.handleDragStart,I=n.popperRef,A=n.target,P=n.offset;I$({ref:I,callback:d}),$.useLayoutEffect(function(){var H=A$({target:A,offset:P,container:e.current,box:I.current}),z=H.topOffset,k=H.leftOffset;I.current.style.top="".concat(z,"px"),I.current.style.left="".concat(k,"px")},[P.x,P.y,A]);var F=l.width,V={minWidth:F+F/2};return G.createElement("div",{style:V,className:"rbc-overlay",ref:I},G.createElement("div",{className:"rbc-overlay-header"},u.format(m,"dayHeaderFormat")),p.map(function(H,z){return G.createElement(zk,{key:z,type:"popup",localizer:u,event:H,getters:r,onSelect:_,accessors:t,components:a,onDoubleClick:E,onKeyPress:b,continuesPrior:u.lt(t.end(H),m,"day"),continuesAfter:u.gte(t.start(H),v,"day"),slotStart:m,slotEnd:v,selected:jh(H,i),draggable:!0,onDragStart:function(){return S(H)},onDragEnd:function(){return d()}})}))}var Wk=G.forwardRef(function(n,e){return G.createElement(P$,Object.assign({},n,{popperRef:e}))});Wk.propTypes={accessors:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,components:oe.object.isRequired,localizer:oe.object.isRequired,position:oe.object.isRequired,show:oe.func.isRequired,events:oe.array.isRequired,slotStart:oe.instanceOf(Date).isRequired,slotEnd:oe.instanceOf(Date),onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func,handleDragStart:oe.func,style:oe.object,offset:oe.shape({x:oe.number,y:oe.number})};function k$(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,a=n.accessors,u=n.localizer,l=n.components,d=n.getters,p=n.selected,m=n.handleSelectEvent,v=n.handleDoubleClickEvent,_=n.handleKeyPressEvent,E=n.handleDragStart,b=n.onHide,S=n.overlayDisplay,I=$.useRef(null);if(!i.position)return null;var A=r;isNaN(r)||(A={x:r,y:r});var P=i.position,F=i.events,V=i.date,H=i.end;return G.createElement(vE,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:b,target:i.target},function(z){var k=z.props;return G.createElement(Wk,Object.assign({},k,{containerRef:e,ref:I,target:i.target,offset:A,accessors:a,getters:d,selected:p,components:l,localizer:u,position:P,show:S,events:F,slotStart:V,slotEnd:H,onSelect:m,onDoubleClick:v,onKeyPress:_,handleDragStart:E}))})}var ME=G.forwardRef(function(n,e){return G.createElement(k$,Object.assign({},n,{containerRef:e}))});ME.propTypes={popupOffset:oe.oneOfType([oe.number,oe.shape({x:oe.number,y:oe.number})]),overlay:oe.shape({position:oe.object,events:oe.array,date:oe.instanceOf(Date),end:oe.instanceOf(Date)}),accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,handleSelectEvent:oe.func,handleDoubleClickEvent:oe.func,handleKeyPressEvent:oe.func,handleDragStart:oe.func,onHide:oe.func,overlayDisplay:oe.func};function fn(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return gl(t,n,e,{passive:!1})}function D$(n,e,t){return!n||Gl(n,document.elementFromPoint(e,t))}function O$(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Rk(i,".rbc-event",n)}function N$(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Rk(i,".rbc-show-more",n)}function Yf(n,e){return!!O$(n,e)}function M$(n,e){return!!N$(n,e)}function al(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var jx=5,L$=250,Gk=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,u=a===void 0?250:a,l=t.validContainers,d=l===void 0?[]:l;qt(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=u,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=fn("touchmove",function(){},window),this._removeKeyDownListener=fn("keydown",this._keyListener),this._removeKeyUpListener=fn("keyup",this._keyListener),this._removeDropFromOutsideListener=fn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=fn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return $t(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var u=i.indexOf(r);u!==-1&&i.splice(u,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u,l=this._listeners[t]||[];return l.forEach(function(d){u===void 0&&(u=d.apply(void 0,i))}),u}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:Ux(r,Oa(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,u=null,l=null,d=function(_){a=setTimeout(function(){m(),t(_)},i.longPressThreshold),u=fn("touchmove",function(){return m()}),l=fn("touchend",function(){return m()})},p=fn("touchstart",d),m=function(){a&&clearTimeout(a),u&&u(),l&&l(),a=null,u=null,l=null};return r&&d(r),function(){m(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=fn("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=fn("mousedown",t._handleInitialEvent)}),i=fn("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=al(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=al(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=al(t),i=r.clientX,a=r.clientY,u=r.pageX,l=r.pageY,d=this.container(),p,m;if(!(t.which===3||t.button===2||!D$(d,i,a))){if(!this.globalMouse&&d&&!Gl(d,t.target)){var v=V$(0),_=v.top,E=v.left,b=v.bottom,S=v.right;if(m=Oa(d),p=Ux({top:m.top-_,left:m.left-E,bottom:m.bottom+b,right:m.right+S},{top:l,left:u}),!p)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:u,y:l,clientX:i,clientY:a});if(I!==!1)switch(t.type){case"mousedown":this._removeEndListener=fn("mouseup",this._handleTerminatingEvent),this._onEscListener=fn("keydown",this._handleTerminatingEvent),this._removeMoveListener=fn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=fn("touchend",this._handleTerminatingEvent),this._removeMoveListener=fn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||Gl(this.container(),t.target),u=this._isWithinValidContainer(t);return t.key==="Escape"||!u?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=al(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<L$?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:u,clientY:l})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:a,clientX:u,clientY:l}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,u=al(t),l=u.pageX,d=u.pageY,p=Math.abs(i-l),m=Math.abs(a-d),v=Math.min(l,i),_=Math.min(d,a),E=this.selecting,b=this.isClick(l,d);b&&!E&&!(p||m)||(!E&&!b&&this.emit("selectStart",this._initialEventData),b||(this.selecting=!0,this._selectRect={top:_,left:v,x:l,y:d,right:v+p,bottom:_+m},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,u=i.y,l=i.isTouch;return!l&&Math.abs(t-a)<=jx&&Math.abs(r-u)<=jx}}])}();function V$(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ji(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function Ux(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Oa(n),i=r.top,a=r.left,u=r.right,l=u===void 0?a:u,d=r.bottom,p=d===void 0?i:d,m=Oa(e),v=m.top,_=m.left,E=m.right,b=E===void 0?_:E,S=m.bottom,I=S===void 0?v:S;return!(p-t<v||i+t>I||l-t<_||a+t>b)}function Oa(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+qx("left"),r=e.top+qx("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function qx(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var F$=function(n){function e(t,r){var i;return qt(this,e),i=gn(this,e,[t,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,a=r.getNow,u=r.getters,l=r.date,d=r.components.dateCellWrapper,p=r.localizer,m=this.state,v=m.selecting,_=m.startIdx,E=m.endIdx,b=a();return G.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(S,I){var A=v&&I>=_&&I<=E,P=u.dayProp(S),F=P.className,V=P.style;return G.createElement(d,{key:I,value:S,range:i},G.createElement("div",{style:V,className:wt("rbc-day-bg",F,A&&"rbc-selected-cell",p.isSameDate(S,b)&&"rbc-today",l&&p.neq(l,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,a=this._selector=new Gk(this.props.container,{longPressThreshold:this.props.longPressThreshold}),u=function(d,p){if(!Yf(i,d)&&!M$(i,d)){var m=Oa(i),v=r.props,_=v.range,E=v.rtl;if(x$(m,d)){var b=Hk(m,d.x,E,_.length);r._selectSlot({startIdx:b,endIdx:b,action:p,box:d})}}r._initial={},r.setState({selecting:!1})};a.on("selecting",function(l){var d=r.props,p=d.range,m=d.rtl,v=-1,_=-1;if(r.state.selecting||(at(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),a.isSelected(i)){var E=Oa(i),b=C$(r._initial,E,l,p.length,m);v=b.startIdx,_=b.endIdx}r.setState({selecting:!0,startIdx:v,endIdx:_})}),a.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!Yf(r.containerRef.current,l)}),a.on("click",function(l){return u(l,"click")}),a.on("doubleClick",function(l){return u(l,"doubleClick")}),a.on("select",function(l){r._selectSlot(et(et({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),at(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,a=r.startIdx,u=r.action,l=r.bounds,d=r.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:u,bounds:l,box:d,resourceId:this.props.resourceId})}}])}(G.Component),Xr={propTypes:{slotMetrics:oe.object.isRequired,selected:oe.object,isAllDay:oe.bool,accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,u=e.onSelect,l=e.onDoubleClick,d=e.onKeyPress,p=e.localizer,m=e.slotMetrics,v=e.components,_=e.resizable,E=m.continuesPrior(t),b=m.continuesAfter(t);return G.createElement(zk,{event:t,getters:a,localizer:p,accessors:i,components:v,onSelect:u,onDoubleClick:l,onKeyPress:d,continuesPrior:E,continuesAfter:b,slotStart:m.first,slotEnd:m.last,selected:jh(t,r),resizable:_})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/e*100+"%";return G.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},Kk=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,u=i.slotMetrics.slots,l=i.className,d=1;return G.createElement("div",{className:wt(l,"rbc-row")},a.reduce(function(p,m,v){var _=m.event,E=m.left,b=m.right,S=m.span,I="_lvl_"+v,A=E-d,P=Xr.renderEvent(r.props,_);return A&&p.push(Xr.renderSpan(u,A,"".concat(I,"_gap"))),p.push(Xr.renderSpan(u,S,I,P)),d=b+1,p},[]))}}])}(G.Component);Kk.defaultProps=et({},Xr.defaultProps);function Yk(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function j$(n,e,t,r){var i=Yk({dateRange:e,localizer:r}),a=i.first,u=i.last,l=r.diff(a,u,"day"),d=r.max(r.startOf(t.start(n),"day"),a),p=r.min(r.ceil(t.end(n),"day"),u),m=N9(e,function(_){return r.isSameDate(_,d)}),v=r.diff(d,p,"day");return v=Math.min(v,l),v=Math.max(v-r.segmentOffset,1),{event:n,span:v,left:m+1,right:Math.max(m+v,1)}}function Qk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],u=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<a.length&&U$(i,a[r]);r++);r>=e?u.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(l,d){return l.left-d.left});return{levels:a,extra:u}}function Ql(n,e,t,r,i){var a={start:r.start(n),end:r.end(n)},u={start:e,end:t};return i.inEventRange({event:a,range:u})}function U$(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function q$(n,e,t){var r=ff(n),i=[],a=[];r.forEach(function(d){var p=e.start(d),m=e.end(d);t.daySpan(p,m)>1?i.push(d):a.push(d)});var u=i.sort(function(d,p){return tw(d,p,e,t)}),l=a.sort(function(d,p){return tw(d,p,e,t)});return[].concat(ff(u),ff(l))}function tw(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},a={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:a})}var Xk=function(e,t){return e.left<=t&&e.right>=t},$x=function(e,t){return e.filter(function(r){return Xk(r,t)}).map(function(r){return r.event})},Jk=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,a=r.slotMetrics.slots,u=Qk(i).levels[0],l=1,d=1,p=[];l<=a;){var m="_lvl_"+l,v=u.filter(function(P){return Xk(P,l)})[0]||{},_=v.event,E=v.left,b=v.right,S=v.span;if(!_){l++;continue}var I=Math.max(0,E-d);if(this.canRenderSlotEvent(E,S)){var A=Xr.renderEvent(this.props,_);I&&p.push(Xr.renderSpan(a,I,m+"_gap")),p.push(Xr.renderSpan(a,S,m,A)),d=l=b+1}else I&&p.push(Xr.renderSpan(a,I,m+"_gap")),p.push(Xr.renderSpan(a,1,m,this.renderShowMore(i,l))),d=l=l+1}return G.createElement("div",{className:"rbc-row"},p)}},{key:"canRenderSlotEvent",value:function(r,i){var a=this.props.segments;return j9(r,r+i).every(function(u){var l=$x(a,u).length;return l===1})}},{key:"renderShowMore",value:function(r,i){var a=this,u=this.props,l=u.localizer,d=u.slotMetrics,p=u.components,m=d.getEventsForSlot(i),v=$x(r,i),_=v.length;if(p!=null&&p.showMore){var E=p.showMore,b=d.getDateForSlot(i-1);return _?G.createElement(E,{localizer:l,slotDate:b,slot:i,count:_,events:m,remainingEvents:v}):!1}return _?G.createElement("button",{type:"button",key:"sm_"+i,className:wt("rbc-button-link","rbc-show-more"),onClick:function(I){return a.showMore(i,I)}},l.messages.showMore(_,v,m)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(G.Component);Jk.defaultProps=et({},Xr.defaultProps);var $$=function(e){var t=e.children;return G.createElement("div",{className:"rbc-row-content-scroll-container"},t)},z$=function(e,t){return e.left<=t&&e.right>=t},B$=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function Zk(){return Ak(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,a=n.accessors,u=n.localizer,l=Yk({dateRange:e,localizer:u}),d=l.first,p=l.last,m=t.map(function(S){return j$(S,e,a,u)}),v=Qk(m,Math.max(r-1,1)),_=v.levels,E=v.extra,b=E.length>0?i-1:i;_.length<b;)_.push([]);return{first:d,last:p,levels:_,extra:E,range:e,slots:e.length,clone:function(I){var A=Zk();return A(et(et({},n),I))},getDateForSlot:function(I){return e[I]},getSlotForDate:function(I){return e.find(function(A){return u.isSameDate(A,I)})},getEventsForSlot:function(I){return m.filter(function(A){return z$(A,I)}).map(function(A){return A.event})},continuesPrior:function(I){return u.continuesPrior(a.start(I),d)},continuesAfter:function(I){var A=a.start(I),P=a.end(I);return u.continuesAfter(A,P,p)}}},B$)}var Xl=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleSelectSlot=function(u){var l=t.props,d=l.range,p=l.onSelectSlot;p(d.slice(u.start,u.end+1),u)},t.handleShowMore=function(u,l){var d=t.props,p=d.range,m=d.onShowMore,v=t.slotMetrics(t.props),_=B6(t.containerRef.current,".rbc-row-bg")[0],E;_&&(E=_.children[u-1]);var b=v.getEventsForSlot(u);m(b,p[u-1],E,u,l)},t.getContainer=function(){var u=t.props.container;return u?u():t.containerRef.current},t.renderHeadingCell=function(u,l){var d=t.props,p=d.renderHeader,m=d.getNow,v=d.localizer;return p({date:u,key:"header_".concat(l),className:wt("rbc-date-cell",v.isSameDate(u,m())&&"rbc-now")})},t.renderDummy=function(){var u=t.props,l=u.className,d=u.range,p=u.renderHeader,m=u.showAllEvents;return G.createElement("div",{className:l,ref:t.containerRef},G.createElement("div",{className:wt("rbc-row-content",m&&"rbc-row-content-scrollable")},p&&G.createElement("div",{className:"rbc-row",ref:t.headingRowRef},d.map(t.renderHeadingCell)),G.createElement("div",{className:"rbc-row",ref:t.eventRowRef},G.createElement("div",{className:"rbc-row-segment"},G.createElement("div",{className:"rbc-event"},G.createElement("div",{className:"rbc-event-content"}," "))))))},t.containerRef=$.createRef(),t.headingRowRef=$.createRef(),t.eventRowRef=$.createRef(),t.slotMetrics=Zk(),t}return vn(e,n),$t(e,[{key:"getRowLimit",value:function(){var r,i=Ov(this.eventRowRef.current),a=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Ov(this.headingRowRef.current):0,u=Ov(this.containerRef.current)-a;return Math.max(Math.floor(u/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.rtl,u=r.range,l=r.className,d=r.selected,p=r.selectable,m=r.renderForMeasure,v=r.accessors,_=r.getters,E=r.components,b=r.getNow,S=r.renderHeader,I=r.onSelect,A=r.localizer,P=r.onSelectStart,F=r.onSelectEnd,V=r.onDoubleClick,H=r.onKeyPress,z=r.resourceId,k=r.longPressThreshold,R=r.isAllDay,C=r.resizable,N=r.showAllEvents;if(m)return this.renderDummy();var M=this.slotMetrics(this.props),U=M.levels,D=M.extra,ce=N?$$:Ci,Te=E.weekWrapper,we={selected:d,accessors:v,getters:_,localizer:A,components:E,onSelect:I,onDoubleClick:V,onKeyPress:H,resourceId:z,slotMetrics:M,resizable:C};return G.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},G.createElement(F$,{localizer:A,date:i,getNow:b,rtl:a,range:u,selectable:p,container:this.getContainer,getters:_,onSelectStart:P,onSelectEnd:F,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:k,resourceId:z}),G.createElement("div",{className:wt("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},S&&G.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},u.map(this.renderHeadingCell)),G.createElement(ce,null,G.createElement(Te,Object.assign({isAllDay:R},we,{rtl:this.props.rtl}),U.map(function(ye,te){return G.createElement(Kk,Object.assign({key:te,segments:ye},we))}),!!D.length&&G.createElement(Jk,Object.assign({segments:D,onShowMore:this.handleShowMore},we))))))}}])}(G.Component);Xl.defaultProps={minRows:0,maxRows:1/0};var LE=function(e){var t=e.label;return G.createElement("span",{role:"columnheader","aria-sort":"none"},t)},H$=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):G.createElement("span",null,t)},W$=["date","className"],G$=function(e,t,r,i,a){return e.filter(function(u){return Ql(u,t,r,i,a)})},Uh=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(u,l){var d=t.props,p=d.events,m=d.components,v=d.selectable,_=d.getNow,E=d.selected,b=d.date,S=d.localizer,I=d.longPressThreshold,A=d.accessors,P=d.getters,F=d.showAllEvents,V=t.state,H=V.needLimitMeasure,z=V.rowLimit,k=G$(ff(p),u[0],u[u.length-1],A,S),R=q$(k,A,S);return G.createElement(Xl,{key:l,ref:l===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:_,date:b,range:u,events:R,maxRows:F?1/0:z,selected:E,selectable:v,components:m,accessors:A,getters:P,localizer:S,renderHeader:t.readerDateHeading,renderForMeasure:H,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:I,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:F})},t.readerDateHeading=function(u){var l=u.date,d=u.className,p=oi(u,W$),m=t.props,v=m.date,_=m.getDrilldownView,E=m.localizer,b=E.neq(l,v,"month"),S=E.isSameDate(l,v),I=_(l),A=E.format(l,"dateFormat"),P=t.props.components.dateHeader||H$;return G.createElement("div",Object.assign({},p,{className:wt(d,b&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),G.createElement(P,{label:A,date:l,drilldownView:I,isOffRange:b,onDrillDown:function(V){return t.handleHeadingClick(l,I,V)}}))},t.handleSelectSlot=function(u,l){t._pendingSelection=t._pendingSelection.concat(u),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(l)})},t.handleHeadingClick=function(u,l,d){d.preventDefault(),t.clearSelection(),at(t.props.onDrillDown,[u,l])},t.handleSelectEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleShowMore=function(u,l,d,p,m){var v=t.props,_=v.popup,E=v.onDrillDown,b=v.onShowMore,S=v.getDrilldownView,I=v.doShowMoreDrillDown;if(t.clearSelection(),_){var A=uk(d,t.containerRef.current);t.setState({overlay:{date:l,events:u,position:A,target:m}})}else I&&at(E,[l,S(l)||Kt.DAY]);at(b,[u,l,p])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=$.createRef(),t.slotRowRef=$.createRef(),t._bgRows=[],t._pendingSelection=[],t}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||lk(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.className,l=a.visibleDays(i,a),d=C6(l,7);return this._weekCount=d.length,G.createElement("div",{className:wt("rbc-month-view",u),role:"table","aria-label":"Month View",ref:this.containerRef},G.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,a=i.localizer,u=i.components,l=r[0],d=r[r.length-1],p=u.header||LE;return a.range(l,d,"day").map(function(m,v){return G.createElement("div",{key:"header_"+v,className:"rbc-header"},G.createElement(p,{date:m,localizer:a,label:a.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,_=l.selected,E=l.popupOffset,b=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(ME,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:_,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(l,d){return+l-+d});var a=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),at(this.props.onSelectSlot,{slots:i,start:a,end:u,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var a=r.date,u=r.localizer;return{date:a,needLimitMeasure:u.neq(a,i.date,"month")}}}])}(G.Component);Uh.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};Uh.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"month");case Fn.NEXT:return r.add(n,1,"month");default:return n}};Uh.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var zx=function(e){var t=e.min,r=e.max,i=e.step,a=e.slots,u=e.localizer;return"".concat(+u.startOf(t,"minutes"))+"".concat(+u.startOf(r,"minutes"))+"".concat(i,"-").concat(a)};function VE(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,a=n.localizer,u=zx({start:e,end:t,step:r,timeslots:i,localizer:a}),l=1+a.getTotalMin(e,t),d=a.getMinutesFromMidnight(e),p=Math.ceil((l-1)/(r*i)),m=p*i,v=new Array(p),_=new Array(m),E=0;E<p;E++){v[E]=new Array(i);for(var b=0;b<i;b++){var S=E*i+b,I=S*r;_[S]=v[E][b]=a.getSlotDate(e,d,I)}}var A=_.length*r;_.push(a.getSlotDate(e,d,A));function P(F){var V=a.diff(e,F,"minutes")+a.getDstOffset(e,F);return Math.min(V,l)}return{groups:v,update:function(V){return zx(V)!==u?VE(V):this},dateIsInGroup:function(V,H){var z=v[H+1];return a.inRange(V,v[H][0],z?z[0]:t,"minutes")},nextSlot:function(V){var H=_[Math.min(_.findIndex(function(z){return z===V||a.eq(z,V)})+1,_.length-1)];return a.eq(H,V)&&(H=a.add(V,r,"minutes")),H},closestSlotToPosition:function(V){var H=Math.min(_.length-1,Math.max(0,Math.floor(V*m)));return _[H]},closestSlotFromPoint:function(V,H){var z=Math.abs(H.top-H.bottom);return this.closestSlotToPosition((V.y-H.top)/z)},closestSlotFromDate:function(V){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(V,e,"minutes"))return _[0];if(a.gt(V,t,"minutes"))return _[_.length-1];var z=a.diff(e,V,"minutes");return _[(z-z%r)/r+H]},startsBeforeDay:function(V){return a.lt(V,e,"day")},startsAfterDay:function(V){return a.gt(V,t,"day")},startsBefore:function(V){return a.lt(a.merge(e,V),e,"minutes")},startsAfter:function(V){return a.gt(a.merge(t,V),t,"minutes")},getRange:function(V,H,z,k){z||(V=a.min(t,a.max(e,V))),k||(H=a.min(t,a.max(e,H)));var R=P(V),C=P(H),N=C>r*m&&!a.eq(t,H)?(R-r)/(r*m)*100:R/(r*m)*100;return{top:N,height:C/(r*m)*100-N,start:P(V),startDate:V,end:P(H),endDate:H}},getCurrentTimePosition:function(V){var H=P(V),z=H/(r*m)*100;return z}}}var K$=function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;qt(this,n);var a=i.getRange(r.start(e),r.end(e)),u=a.start,l=a.startDate,d=a.end,p=a.endDate,m=a.top,v=a.height;this.start=u,this.end=d,this.startMs=+l,this.endMs=+p,this.top=m,this.height=v,this.data=e}return $t(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,a=t._width,u=r.indexOf(this)+1;return i+u*a}}])}();function Y$(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function Q$(n){for(var e=i5(n,["startMs",function(l){return-l.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var a=e[i];if(!(r.endMs>a.startMs)){if(i>0){var u=e.splice(i,1)[0];t.push(u)}break}}}return t}function eD(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=e.map(function(m){return new K$(m,{slotMetrics:r,accessors:i})}),u=Q$(a),l=[],d=function(){var v=u[p],_=l.find(function(S){return S.end>v.start||Math.abs(v.start-S.start)<t});if(!_)return v.rows=[],l.push(v),1;v.container=_;for(var E=null,b=_.rows.length-1;!E&&b>=0;b--)Y$(_.rows[b],v,t)&&(E=_.rows[b]);E?(E.leaves.push(v),v.row=E):(v.leaves=[],_.rows.push(v))},p=0;p<u.length;p++)d();return u.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function tD(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=tD(n.friends[r],e,t);e=e>i?e:i}return e}function X$(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=eD({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});a.sort(function(Te,we){return Te=Te.style,we=we.style,Te.top!==we.top?Te.top>we.top?1:-1:Te.height!==we.height?Te.top+Te.height<we.top+we.height?1:-1:0});for(var u=0;u<a.length;++u)a[u].friends=[],delete a[u].style.left,delete a[u].style.left,delete a[u].idx,delete a[u].size;for(var l=0;l<a.length-1;++l)for(var d=a[l],p=d.style.top,m=d.style.top+d.style.height,v=l+1;v<a.length;++v){var _=a[v],E=_.style.top,b=_.style.top+_.style.height;(E>=p&&b<=m||b>p&&b<=m||E>=p&&E<m)&&(d.friends.push(_),_.friends.push(d))}for(var S=0;S<a.length;++S){for(var I=a[S],A=[],P=0;P<100;++P)A.push(1);for(var F=0;F<I.friends.length;++F)I.friends[F].idx!==void 0&&(A[I.friends[F].idx]=0);I.idx=A.indexOf(1)}for(var V=0;V<a.length;++V){var H=0;if(!a[V].size){var z=[],k=tD(a[V],0,z);H=100/(k+1),a[V].size=H;for(var R=0;R<z.length;++R)z[R].size=H}}for(var C=0;C<a.length;++C){var N=a[C];N.style.left=N.idx*N.size;for(var M=0,U=0;U<N.friends.length;++U){var D=N.friends[U].idx;M=M>D?M:D}M<=N.idx&&(N.size=100-N.idx*N.size);var ce=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(ce,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(ce,"px)")}return a}var Bx={overlap:eD,"no-overlap":X$};function J$(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Z$(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in Bx&&(t=Bx[e]),J$(t)?t.apply(this,arguments):[]}var nD=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,a=r.resource,u=r.group,l=r.getters,d=r.components,p=d===void 0?{}:d,m=p.timeSlotWrapper,v=m===void 0?Ci:m,_=l?l.slotGroupProp(u):{};return G.createElement("div",Object.assign({className:"rbc-timeslot-group"},_),u.map(function(E,b){var S=l?l.slotProp(E,a):{};return G.createElement(v,{key:b,value:E,resource:a},G.createElement("div",Object.assign({},S,{className:wt("rbc-time-slot",S.className)}),i&&i(E,b)))}))}}])}($.Component);function Xd(n){return typeof n=="string"?n:n+"%"}function ez(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,a=n.rtl,u=n.selected,l=n.label,d=n.continuesPrior,p=n.continuesAfter,m=n.getters,v=n.onClick,_=n.onDoubleClick,E=n.isBackgroundEvent,b=n.onKeyPress,S=n.components,I=S.event,A=S.eventWrapper,P=i.title(r),F=i.tooltip(r),V=i.end(r),H=i.start(r),z=m.eventProp(r,H,V,u),k=[G.createElement("div",{key:"1",className:"rbc-event-label"},l),G.createElement("div",{key:"2",className:"rbc-event-content"},I?G.createElement(I,{event:r,title:P}):P)],R=e.height,C=e.top,N=e.width,M=e.xOffset,U=et(et({},z.style),{},pa({top:Xd(C),height:Xd(R),width:Xd(N)},a?"right":"left",Xd(M)));return G.createElement(A,Object.assign({type:"time"},n),G.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:_,style:U,onKeyDown:b,title:F?(typeof l=="string"?l+": ":"")+F:void 0,className:wt(E?"rbc-background-event":"rbc-event",t,z.className,{"rbc-selected":u,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},k))}var tz=function(e){var t=e.children,r=e.className,i=e.style,a=e.innerRef;return G.createElement("div",{className:r,style:i,ref:a},t)},nz=G.forwardRef(function(n,e){return G.createElement(tz,Object.assign({},n,{innerRef:e}))}),rz=["dayProp"],iz=["eventContainerWrapper"],rD=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(u){var l=u.events,d=u.isBackgroundEvent,p=t.props,m=p.rtl,v=p.selected,_=p.accessors,E=p.localizer,b=p.getters,S=p.components,I=p.step,A=p.timeslots,P=p.dayLayoutAlgorithm,F=p.resizable,V=t,H=V.slotMetrics,z=E.messages,k=Z$({events:l,accessors:_,slotMetrics:H,minimumStartDifference:Math.ceil(I*A/2),dayLayoutAlgorithm:P});return k.map(function(R,C){var N,M=R.event,U=R.style,D=_.end(M),ce=_.start(M),Te=(N=_.eventId(M))!==null&&N!==void 0?N:"evt_"+C,we="eventTimeRangeFormat",ye,te=H.startsBeforeDay(ce),de=H.startsAfterDay(D);te?we="eventTimeRangeEndFormat":de&&(we="eventTimeRangeStartFormat"),te&&de?ye=z.allDay:ye=E.format({start:ce,end:D},we);var ue=te||H.startsBefore(ce),W=de||H.startsAfter(D);return G.createElement(ez,{style:U,event:M,label:ye,key:Te,getters:b,rtl:m,components:S,continuesPrior:ue,continuesAfter:W,accessors:_,resource:t.props.resource,selected:jh(M,v),onClick:function(fe){return t._select(et(et(et({},M),t.props.resource&&{sourceResource:t.props.resource}),d&&{isBackgroundEvent:!0}),fe)},onDoubleClick:function(fe){return t._doubleClick(M,fe)},isBackgroundEvent:d,onKeyPress:function(fe){return t._keyPress(M,fe)},resizable:F})})},t._selectable=function(){var u=t.containerRef.current,l=t.props,d=l.longPressThreshold,p=l.localizer,m=t._selector=new Gk(function(){return u},{longPressThreshold:d}),v=function(S){var I=t.props.onSelecting,A=t.state||{},P=_(S),F=P.startDate,V=P.endDate;I&&(p.eq(A.startDate,F,"minutes")&&p.eq(A.endDate,V,"minutes")||I({start:F,end:V,resourceId:t.props.resource})===!1)||(t.state.start!==P.start||t.state.end!==P.end||t.state.selecting!==P.selecting)&&t.setState(P)},_=function(S){var I=t.slotMetrics.closestSlotFromPoint(S,Oa(u));t.state.selecting||(t._initialSlot=I);var A=t._initialSlot;p.lte(A,I)?I=t.slotMetrics.nextSlot(I):p.gt(A,I)&&(A=t.slotMetrics.nextSlot(A));var P=t.slotMetrics.getRange(p.min(A,I),p.max(A,I));return et(et({},P),{},{selecting:!0,top:"".concat(P.top,"%"),height:"".concat(P.height,"%")})},E=function(S,I){if(!Yf(t.containerRef.current,S)){var A=_(S),P=A.startDate,F=A.endDate;t._selectSlot({startDate:P,endDate:F,action:I,box:S})}t.setState({selecting:!1})};m.on("selecting",v),m.on("selectStart",v),m.on("beforeSelect",function(b){if(t.props.selectable==="ignoreEvents")return!Yf(t.containerRef.current,b)}),m.on("click",function(b){return E(b,"click")}),m.on("doubleClick",function(b){return E(b,"doubleClick")}),m.on("select",function(b){t.state.selecting&&(t._selectSlot(et(et({},t.state),{},{action:"select",bounds:b})),t.setState({selecting:!1}))}),m.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(u){for(var l=u.startDate,d=u.endDate,p=u.action,m=u.bounds,v=u.box,_=l,E=[];t.props.localizer.lte(_,d);)E.push(_),_=new Date(+_+t.props.step*60*1e3);at(t.props.onSelectSlot,{slots:E,start:l,end:d,resourceId:t.props.resource,action:p,bounds:m,box:v})},t._select=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t._doubleClick=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t._keyPress=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.slotMetrics=VE(t.props),t.containerRef=$.createRef(),t}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var a=this.props,u=a.getNow,l=a.isNow,d=a.localizer,p=a.date,m=a.min,v=a.max,_=d.neq(r.getNow(),u(),"minutes");if(r.isNow!==l||_){if(this.clearTimeIndicatorInterval(),l){var E=!_&&d.eq(r.date,p,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else l&&(d.neq(r.min,m,"minutes")||d.neq(r.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,a=r.max,u=r.getNow,l=u();if(l>=i&&l<=a){var d=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.max,u=r.rtl,l=r.isNow,d=r.resource,p=r.accessors,m=r.localizer,v=r.getters,_=v.dayProp,E=oi(v,rz),b=r.components,S=b.eventContainerWrapper,I=oi(b,iz);this.slotMetrics=this.slotMetrics.update(this.props);var A=this.slotMetrics,P=this.state,F=P.selecting,V=P.top,H=P.height,z=P.startDate,k=P.endDate,R={start:z,end:k},C=_(a,d),N=C.className,M=C.style,U=I.dayColumnWrapper||nz;return G.createElement(U,{ref:this.containerRef,date:i,style:M,className:wt(N,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:A,resource:d},A.groups.map(function(D,ce){return G.createElement(nD,{key:ce,group:D,resource:d,getters:E,components:I})}),G.createElement(S,{localizer:m,resource:d,accessors:p,getters:E,components:I,slotMetrics:A},G.createElement("div",{className:wt("rbc-events-container",u&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&G.createElement("div",{className:"rbc-slot-selection",style:{top:V,height:H}},G.createElement("span",null,m.format(R,"selectRangeFormat"))),l&&this.intervalTriggered&&G.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(G.Component);rD.defaultProps={dragThroughEvents:!0,timeslots:2};var iD=function(e){var t=e.label;return G.createElement(G.Fragment,null,t)},sz=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t.renderRow=function(u){var l=t.props,d=l.events,p=l.rtl,m=l.selectable,v=l.getNow,_=l.range,E=l.getters,b=l.localizer,S=l.accessors,I=l.components,A=l.resizable,P=S.resourceId(u),F=u?d.filter(function(V){return S.resource(V)===P}):d;return G.createElement(Xl,{isAllDay:!0,rtl:p,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:_,events:F,resourceId:P,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:I,accessors:S,getters:E,localizer:b,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:A})},t}return vn(e,n),$t(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components.header,v=m===void 0?LE:m,_=d();return r.map(function(E,b){var S=l(E),I=u.format(E,"dayFormat"),A=p(E),P=A.className,F=A.style,V=G.createElement(v,{date:E,label:I,localizer:u});return G.createElement("div",{key:b,style:F,className:wt("rbc-header",P,u.isSameDate(E,_)&&"rbc-today")},S?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(E,S,z)}},V):G.createElement("span",null,V))})}},{key:"render",value:function(){var r=this,i=this.props,a=i.width,u=i.rtl,l=i.resources,d=i.range,p=i.events,m=i.getNow,v=i.accessors,_=i.selectable,E=i.components,b=i.getters,S=i.scrollRef,I=i.localizer,A=i.isOverflowing,P=i.components,F=P.timeGutterHeader,V=P.resourceHeader,H=V===void 0?iD:V,z=i.resizable,k={};A&&(k[u?"marginLeft":"marginRight"]="".concat(gE()-1,"px"));var R=l.groupEvents(p);return G.createElement("div",{style:k,ref:S,className:wt("rbc-time-header",A&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},F&&G.createElement(F,null)),l.map(function(C,N){var M=Ra(C,2),U=M[0],D=M[1];return G.createElement("div",{className:"rbc-time-header-content",key:U||N},D&&G.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},G.createElement("div",{className:"rbc-header"},G.createElement(H,{index:N,label:v.resourceTitle(D),resource:D}))),G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),G.createElement(Xl,{isAllDay:!0,rtl:u,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:R.get(U)||[],resourceId:D&&U,className:"rbc-allday-cell",selectable:_,selected:r.props.selected,components:E,accessors:v,getters:b,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])}(G.Component),az=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t}return vn(e,n),$t(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components,v=m.header,_=v===void 0?LE:v,E=m.resourceHeader,b=E===void 0?iD:E,S=a.resources,I=a.accessors,A=a.events,P=a.rtl,F=a.selectable,V=a.components,H=a.getters,z=a.resizable,k=d(),R=S.groupEvents(A);return r.map(function(C,N){var M=l(C),U=u.format(C,"dayFormat"),D=p(C),ce=D.className,Te=D.style,we=G.createElement(_,{date:C,label:U,localizer:u});return G.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},G.createElement("div",{style:Te,className:wt("rbc-header",ce,u.isSameDate(C,k)&&"rbc-today")},M?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(te){return i.handleHeaderClick(C,M,te)}},we):G.createElement("span",null,we))),G.createElement("div",{className:"rbc-row"},S.map(function(ye,te){var de=Ra(ye,2),ue=de[0],W=de[1];return G.createElement("div",{key:"resource_".concat(ue,"_").concat(te),className:wt("rbc-header",ce,u.isSameDate(C,k)&&"rbc-today")},G.createElement(b,{index:te,label:I.resourceTitle(W),resource:W}))})),G.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},S.map(function(ye,te){var de=Ra(ye,2),ue=de[0],W=de[1],Z=(R.get(ue)||[]).filter(function(fe){return u.isSameDate(fe.start,C)||u.isSameDate(fe.end,C)});return G.createElement(Xl,{key:"resource_".concat(ue,"_").concat(te),isAllDay:!0,rtl:P,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[C],events:Z,resourceId:W&&ue,className:"rbc-allday-cell",selectable:F,selected:i.props.selected,components:V,accessors:I,getters:H,localizer:u,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,a=r.rtl,u=r.range,l=r.scrollRef,d=r.isOverflowing,p=r.components.timeGutterHeader,m={};return d&&(m[a?"marginLeft":"marginRight"]="".concat(gE()-1,"px")),G.createElement("div",{style:m,ref:l,className:wt("rbc-time-header",d&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},p&&G.createElement(p,null)),this.renderHeaderCells(u))}}])}(G.Component);function oz(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var uz=function(e){var t=e.min,r=e.max,i=e.timeslots,a=e.step,u=e.localizer,l=e.getNow,d=e.resource,p=e.components,m=e.getters,v=e.gutterRef,_=p.timeGutterWrapper,E=$.useMemo(function(){return oz({min:t,max:r,localizer:u})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),u]),b=E.start,S=E.end,I=$.useState(VE({min:b,max:S,timeslots:i,step:a,localizer:u})),A=Ra(I,2),P=A[0],F=A[1];$.useEffect(function(){P&&F(P.update({min:b,max:S,timeslots:i,step:a,localizer:u}))},[b==null?void 0:b.toISOString(),S==null?void 0:S.toISOString(),i,a]);var V=$.useCallback(function(H,z){if(z)return null;var k=P.dateIsInGroup(l(),z);return G.createElement("span",{className:wt("rbc-label",k&&"rbc-now")},u.format(H,"timeGutterFormat"))},[P,u,l]);return G.createElement(_,{slotMetrics:P},G.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},P.groups.map(function(H,z){return G.createElement(nD,{key:z,group:H,resource:d,components:p,renderSlot:V,getters:m})})))},lz=G.forwardRef(function(n,e){return G.createElement(uz,Object.assign({gutterRef:e},n))}),v_={};function cz(n,e){return{map:function(r){return n?n.map(function(i,a){return r([e.resourceId(i),i],a)}):[r([v_,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(a){var u=e.resource(a)||v_;if(Array.isArray(u))u.forEach(function(d){var p=i.get(d)||[];p.push(a),i.set(d,p)});else{var l=i.get(u)||[];l.push(a),i.set(u,l)}}),i):(i.set(v_,r),i)}}}var hu=function(n){function e(t){var r;return qt(this,e),r=gn(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){rS(r.rafHandle),r.rafHandle=lk(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onKeyPressEvent,a)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onDoubleClickEvent,a)},r.handleShowMore=function(i,a,u,l,d){var p=r.props,m=p.popup,v=p.onDrillDown,_=p.onShowMore,E=p.getDrilldownView,b=p.doShowMoreDrillDown;if(r.clearSelection(),m){var S=uk(u,r.containerRef.current);r.setState({overlay:{date:a,events:i,position:et(et({},S),{},{width:"200px"}),target:d}})}else b&&at(v,[a,E(a)||Kt.DAY]);at(_,[i,a,l])},r.handleSelectAllDaySlot=function(i,a){var u=r.props.onSelectSlot,l=new Date(i[0]),d=new Date(i[i.length-1]);d.setDate(i[i.length-1].getDate()+1),at(u,{slots:i,start:l,end:d,action:a.action,resourceId:a.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==a&&(r._updatingOverflow=!0,r.setState({isOverflowing:a},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=Ak(function(i,a){return cz(i,a)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=G.createRef(),r.contentRef=G.createRef(),r.containerRef=G.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return vn(e,n),$t(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),rS(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,a,u,l,d,p,m,v,_){var E=this.props,b=E.min,S=E.max,I=(u.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")}),A=(l.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")});return G.createElement(rD,Object.assign({},this.props,{localizer:d,min:d.merge(r,b),max:d.merge(r,S),resource:a&&i,components:m,isNow:d.isSameDate(r,_),key:"".concat(i,"-").concat(r),date:r,events:I,backgroundEvents:A,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(r,i,a,u,l,d,p,m,v){var _=this;return i.map(function(E){var b=Ra(E,2),S=b[0],I=b[1];return r.map(function(A){return _.renderDayColumn(A,S,I,a,u,l,d,m,v,p)})})}},{key:"renderRangeFirst",value:function(r,i,a,u,l,d,p,m,v){var _=this;return r.map(function(E){return G.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},i.map(function(b){var S=Ra(b,2),I=S[0],A=S[1];return G.createElement("div",{style:{flex:1},key:d.resourceId(A)},_.renderDayColumn(E,I,A,a,u,l,d,m,v,p))}))})}},{key:"renderEvents",value:function(r,i,a,u){var l=this.props,d=l.accessors,p=l.localizer,m=l.resourceGroupingLayout,v=l.components,_=l.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,d),b=E.groupEvents(i),S=E.groupEvents(a);return m?this.renderRangeFirst(r,E,b,S,p,d,u,v,_):this.renderResourcesFirst(r,E,b,S,p,d,u,v,_)}},{key:"render",value:function(){var r,i=this.props,a=i.events,u=i.backgroundEvents,l=i.range,d=i.width,p=i.rtl,m=i.selected,v=i.getNow,_=i.resources,E=i.components,b=i.accessors,S=i.getters,I=i.localizer,A=i.min,P=i.max,F=i.showMultiDayTimes,V=i.longPressThreshold,H=i.resizable,z=i.resourceGroupingLayout;d=d||this.state.gutterWidth;var k=l[0],R=l[l.length-1];this.slots=l.length;var C=[],N=[],M=[];a.forEach(function(D){if(Ql(D,k,R,b,I)){var ce=b.start(D),Te=b.end(D);b.allDay(D)||I.startAndEndAreDateOnly(ce,Te)||!F&&!I.isSameDate(ce,Te)?C.push(D):N.push(D)}}),u.forEach(function(D){Ql(D,k,R,b,I)&&M.push(D)}),C.sort(function(D,ce){return tw(D,ce,b,I)});var U={range:l,events:C,width:d,rtl:p,getNow:v,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(_,b),selectable:this.props.selectable,accessors:b,getters:S,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:V,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:H};return G.createElement("div",{className:wt("rbc-time-view",_&&"rbc-time-view-resources"),ref:this.containerRef},_&&_.length>1&&z?G.createElement(az,U):G.createElement(sz,U),this.props.popup&&this.renderOverlay(),G.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},G.createElement(lz,{date:k,ref:this.gutterRef,localizer:I,min:I.merge(k,A),max:I.merge(k,P),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:S}),this.renderEvents(l,N,M,v())))}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,_=l.selected,E=l.popupOffset,b=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(ME,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:_,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Z_(r.gutterRef.current):void 0;a&&r.state.gutterWidth!==a&&r.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,a=r.max,u=r.scrollToTime,l=r.localizer,d=l.diff(l.merge(u,i),u,"milliseconds"),p=l.diff(i,a,"milliseconds");this._scrollRatio=d/p}}])}($.Component);hu.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var dz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],qh=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,_=r.enableAutoScroll,E=_===void 0?!0:_,b=oi(r,dz),S=e.range(i,{localizer:a});return G.createElement(hu,Object.assign({},b,{range:S,eventOffset:10,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);qh.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};qh.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"day");case Fn.NEXT:return r.add(n,1,"day");default:return n}};qh.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var fz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ds=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,_=r.enableAutoScroll,E=_===void 0?!0:_,b=oi(r,fz),S=e.range(i,this.props);return G.createElement(hu,Object.assign({},b,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Ds.defaultProps=hu.defaultProps;Ds.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"week");case Fn.NEXT:return r.add(n,1,"week");default:return n}};Ds.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),a=t.endOf(n,"week",r);return t.range(i,a)};Ds.title=function(n,e){var t=e.localizer,r=Ds.range(n,{localizer:t}),i=Mk(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var hz=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function FE(n,e){return Ds.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var bc=function(n){function e(){return qt(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,_=r.enableAutoScroll,E=_===void 0?!0:_,b=oi(r,hz),S=FE(i,this.props);return G.createElement(hu,Object.assign({},b,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);bc.defaultProps=hu.defaultProps;bc.range=FE;bc.navigate=Ds.navigate;bc.title=function(n,e){var t=e.localizer,r=FE(n,{localizer:t}),i=Mk(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var $h=30;function zh(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,a=n.getters,u=n.length,l=u===void 0?$h:u,d=n.localizer,p=n.onDoubleClickEvent,m=n.onSelectEvent,v=n.selected,_=$.useRef(null),E=$.useRef(null),b=$.useRef(null),S=$.useRef(null),I=$.useRef(null);$.useEffect(function(){F()});var A=function(R,C,N){var M=t.event,U=t.date;return C=C.filter(function(D){return Ql(D,d.startOf(R,"day"),d.endOf(R,"day"),e,d)}),C.map(function(D,ce){var Te=e.title(D),we=e.end(D),ye=e.start(D),te=a.eventProp(D,ye,we,jh(D,v)),de=ce===0&&d.format(R,"agendaDateFormat"),ue=ce===0?G.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},U?G.createElement(U,{day:R,label:de}):de):!1;return G.createElement("tr",{key:N+"_"+ce,className:te.className,style:te.style},ue,G.createElement("td",{className:"rbc-agenda-time-cell"},P(R,D)),G.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return m&&m(D,Z)},onDoubleClick:function(Z){return p&&p(D,Z)}},M?G.createElement(M,{event:D,title:Te}):Te))},[])},P=function(R,C){var N="",M=t.time,U=d.messages.allDay,D=e.end(C),ce=e.start(C);return e.allDay(C)||(d.eq(ce,D)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(ce,D)?U=d.format({start:ce,end:D},"agendaTimeRangeFormat"):d.isSameDate(R,ce)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(R,D)&&(U=d.format(D,"agendaTimeFormat"))),d.gt(R,ce,"day")&&(N="rbc-continues-prior"),d.lt(R,D,"day")&&(N+=" rbc-continues-after"),G.createElement("span",{className:N.trim()},M?G.createElement(M,{event:C,day:R,label:U}):U)},F=function(){if(I.current){var R=_.current,C=I.current.firstChild;if(C){var N=S.current.scrollHeight>S.current.clientHeight,M=[],U=M;M=[Z_(C.children[0]),Z_(C.children[1])],(U[0]!==M[0]||U[1]!==M[1])&&(E.current.style.width=M[0]+"px",b.current.style.width=M[1]+"px"),N?(mq(R,"rbc-header-overflowing"),R.style.marginRight=gE()+"px"):gq(R,"rbc-header-overflowing")}}},V=d.messages,H=d.add(r,l,"day"),z=d.range(r,H,"day");return i=i.filter(function(k){return Ql(k,d.startOf(r,"day"),d.endOf(H,"day"),e,d)}),i.sort(function(k,R){return+e.start(k)-+e.start(R)}),G.createElement("div",{className:"rbc-agenda-view"},i.length!==0?G.createElement(G.Fragment,null,G.createElement("table",{ref:_,className:"rbc-agenda-table"},G.createElement("thead",null,G.createElement("tr",null,G.createElement("th",{className:"rbc-header",ref:E},V.date),G.createElement("th",{className:"rbc-header",ref:b},V.time),G.createElement("th",{className:"rbc-header"},V.event)))),G.createElement("div",{className:"rbc-agenda-content",ref:S},G.createElement("table",{className:"rbc-agenda-table"},G.createElement("tbody",{ref:I},z.map(function(k,R){return A(k,i,R)}))))):G.createElement("span",{className:"rbc-agenda-empty"},V.noEventsInRange))}zh.range=function(n,e){var t=e.length,r=t===void 0?$h:t,i=e.localizer,a=i.add(n,r,"day");return{start:n,end:a}};zh.navigate=function(n,e,t){var r=t.length,i=r===void 0?$h:r,a=t.localizer;switch(e){case Fn.PREVIOUS:return a.add(n,-i,"day");case Fn.NEXT:return a.add(n,i,"day");default:return n}};zh.title=function(n,e){var t=e.length,r=t===void 0?$h:t,i=e.localizer,a=i.add(n,r,"day");return i.format({start:n,end:a},"agendaHeaderFormat")};var Ef=pa(pa(pa(pa(pa({},Kt.MONTH,Uh),Kt.WEEK,Ds),Kt.WORK_WEEK,bc),Kt.DAY,qh),Kt.AGENDA,zh),pz=["action","date","today"];function mz(n,e){var t=e.action,r=e.date,i=e.today,a=oi(e,pz);switch(n=typeof n=="string"?Ef[n]:n,t){case Fn.TODAY:r=i||new Date;break;case Fn.DATE:break;default:Fl(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,a)}return r}function gz(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&ji(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var Ri=function(e){return function(t){return gz(t,e)}},vz=["view","date","getNow","onNavigate"],yz=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function sD(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=Ra(r[t],2),a=i[0],u=i[1];u&&e.push(a)}return e}function _z(n,e){var t=e.views,r=sD(t);return r.indexOf(n)!==-1}var aD=function(n){function e(){var t;qt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getViews=function(){var u=t.props.views;return Array.isArray(u)?z5(u,function(l,d){return l[d]=Ef[d]},{}):ji(u)==="object"?f5(u,function(l,d){return l===!0?Ef[d]:l}):Ef},t.getView=function(){var u=t.getViews();return u[t.props.view]},t.getDrilldownView=function(u){var l=t.props,d=l.view,p=l.drilldownView,m=l.getDrilldownView;return m?m(u,d,Object.keys(t.getViews())):p},t.handleRangeChange=function(u,l,d){var p=t.props,m=p.onRangeChange,v=p.localizer;m&&l.range&&m(l.range(u,{localizer:v}),d)},t.handleNavigate=function(u,l){var d=t.props,p=d.view,m=d.date,v=d.getNow,_=d.onNavigate,E=oi(d,vz),b=t.getView(),S=v();m=mz(b,et(et({},E),{},{action:u,date:l||m||S,today:S})),_(m,p,u),t.handleRangeChange(m,b)},t.handleViewChange=function(u){u!==t.props.view&&_z(u,t.props)&&t.props.onView(u);var l=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),l[u],u)},t.handleSelectEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleSelectSlot=function(u){at(t.props.onSelectSlot,u)},t.handleDrillDown=function(u,l){var d=t.props.onDrillDown;if(d){d(u,l,t.drilldownView);return}l&&t.handleViewChange(l),t.handleNavigate(Fn.DATE,u)},t.state={context:e.getContext(t.props)},t}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.view,a=r.toolbar,u=r.events,l=r.backgroundEvents,d=r.resourceGroupingLayout,p=r.style,m=r.className,v=r.elementProps,_=r.date,E=r.getNow,b=r.length,S=r.showMultiDayTimes,I=r.onShowMore,A=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var P=oi(r,yz);_=_||E();var F=this.getView(),V=this.state.context,H=V.accessors,z=V.components,k=V.getters,R=V.localizer,C=V.viewNames,N=z.toolbar||T$,M=F.title(_,{localizer:R,length:b});return G.createElement("div",Object.assign({},v,{className:wt(m,"rbc-calendar",P.rtl&&"rbc-rtl"),style:p}),a&&G.createElement(N,{date:_,view:i,views:C,label:M,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),G.createElement(F,Object.assign({},P,{events:u,backgroundEvents:l,date:_,getNow:E,length:b,localizer:R,getters:k,components:z,accessors:H,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:I,doShowMoreDrillDown:A,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,a=r.endAccessor,u=r.allDayAccessor,l=r.tooltipAccessor,d=r.titleAccessor,p=r.resourceAccessor,m=r.resourceIdAccessor,v=r.resourceTitleAccessor,_=r.eventIdAccessor,E=r.eventPropGetter,b=r.backgroundEventPropGetter,S=r.slotPropGetter,I=r.slotGroupPropGetter,A=r.dayPropGetter,P=r.view,F=r.views,V=r.localizer,H=r.culture,z=r.messages,k=z===void 0?{}:z,R=r.components,C=R===void 0?{}:R,N=r.formats,M=N===void 0?{}:N,U=sD(F),D=S$(k);return{viewNames:U,localizer:E$(V,H,M,D),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return I&&I.apply(void 0,arguments)||{}},dayProp:function(){return A&&A.apply(void 0,arguments)||{}}},components:l5(C[P]||{},U5(C,U),{eventWrapper:Ci,backgroundEventWrapper:Ci,eventContainerWrapper:Ci,dateCellWrapper:Ci,weekWrapper:Ci,timeSlotWrapper:Ci,timeGutterWrapper:Ci}),accessors:{start:Ri(i),end:Ri(a),allDay:Ri(u),tooltip:Ri(l),title:Ri(d),resource:Ri(p),resourceId:Ri(m),resourceTitle:Ri(v),eventId:Ri(_)}}}}])}(G.Component);aD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Kt.MONTH,views:[Kt.MONTH,Kt.WEEK,Kt.DAY,Kt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Kt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var wz=WP(aD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Ez=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"P",t)," – ").concat(r.format(a,"P",t))},y_=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"p",t)," – ").concat(r.format(a,"p",t))},Tz=function(e,t,r){var i=e.start;return"".concat(r.format(i,"h:mma",t)," – ")},bz=function(e,t,r){var i=e.end;return" – ".concat(r.format(i,"h:mma",t))},Sz=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"MMMM dd",t)," – ").concat(r.format(a,uu(i,a,"month")?"dd":"MMMM dd",t))},Iz={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:y_,eventTimeRangeFormat:y_,eventTimeRangeStartFormat:Tz,eventTimeRangeEndFormat:bz,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Sz,agendaHeaderFormat:Ez,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:y_},Rz=function(e){var t=e.startOfWeek,r=e.getDay,i=e.format,a=e.locales;return new w$({formats:Iz,firstOfWeek:function(l){return r(t(new Date,{locale:a[l]}))},format:function(l,d,p){return i(new Date(l),d,{locale:a[p]})}})};const oD=6048e5,xz=864e5,Cz=6e4,Az=36e5,Pz=1e3,Hx=Symbol.for("constructDateFrom");function Yt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Hx in n?n[Hx](e):n instanceof Date?new n.constructor(e):new Date(e)}function xt(n,e){return Yt(e||n,n)}function uD(n,e,t){const r=xt(n,t==null?void 0:t.in);return isNaN(e)?Yt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}let kz={};function pu(){return kz}function qi(n,e){var l,d,p,m;const t=pu(),r=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=xt(n,e==null?void 0:e.in),a=i.getDay(),u=(a<r?7:0)+a-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Zo(n,e){return qi(n,{...e,weekStartsOn:1})}function lD(n,e){const t=xt(n,e==null?void 0:e.in),r=t.getFullYear(),i=Yt(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Zo(i),u=Yt(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const l=Zo(u);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Qf(n){const e=xt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Dz(n,...e){const t=Yt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Wx(n,e){const t=xt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Oz(n,e,t){const[r,i]=Dz(t==null?void 0:t.in,n,e),a=Wx(r),u=Wx(i),l=+a-Qf(a),d=+u-Qf(u);return Math.round((l-d)/xz)}function Nz(n,e){const t=lD(n,e),r=Yt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zo(r)}function Mz(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Lz(n){return!(!Mz(n)&&typeof n!="number"||isNaN(+xt(n)))}function Vz(n,e){const t=xt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Fz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cD=(n,e,t)=>{let r;const i=Fz[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Vo(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const jz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$z={date:Vo({formats:jz,defaultWidth:"full"}),time:Vo({formats:Uz,defaultWidth:"full"}),dateTime:Vo({formats:qz,defaultWidth:"full"})},zz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dD=(n,e,t,r)=>zz[n];function ol(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):u;i=n.formattingValues[l]||n.formattingValues[u]}else{const u=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[u]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const Bz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qz=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fD={ordinalNumber:Qz,era:ol({values:Bz,defaultWidth:"wide"}),quarter:ol({values:Hz,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ol({values:Wz,defaultWidth:"wide"}),day:ol({values:Gz,defaultWidth:"wide"}),dayPeriod:ol({values:Kz,defaultWidth:"wide",formattingValues:Yz,defaultFormattingWidth:"wide"})};function ul(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const u=a[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(l)?Jz(l,v=>v.test(u)):Xz(l,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function Xz(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Jz(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Zz(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let u=n.valueCallback?n.valueCallback(a[0]):a[0];u=t.valueCallback?t.valueCallback(u):u;const l=e.slice(i.length);return{value:u,rest:l}}}const eB=/^(\d+)(th|st|nd|rd)?/i,tB=/\d+/i,nB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rB={any:[/^b/i,/^(a|c)/i]},iB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sB={any:[/1/i,/2/i,/3/i,/4/i]},aB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hD={ordinalNumber:Zz({matchPattern:eB,parsePattern:tB,valueCallback:n=>parseInt(n,10)}),era:ul({matchPatterns:nB,defaultMatchWidth:"wide",parsePatterns:rB,defaultParseWidth:"any"}),quarter:ul({matchPatterns:iB,defaultMatchWidth:"wide",parsePatterns:sB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ul({matchPatterns:aB,defaultMatchWidth:"wide",parsePatterns:oB,defaultParseWidth:"any"}),day:ul({matchPatterns:uB,defaultMatchWidth:"wide",parsePatterns:lB,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:cB,defaultMatchWidth:"any",parsePatterns:dB,defaultParseWidth:"any"})},pD={code:"en-US",formatDistance:cD,formatLong:$z,formatRelative:dD,localize:fD,match:hD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fB(n,e){const t=xt(n,e==null?void 0:e.in);return Oz(t,Vz(t))+1}function mD(n,e){const t=xt(n,e==null?void 0:e.in),r=+Zo(t)-+Nz(t);return Math.round(r/oD)+1}function jE(n,e){var m,v,_,E;const t=xt(n,e==null?void 0:e.in),r=t.getFullYear(),i=pu(),a=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(_=i.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,u=Yt((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const l=qi(u,e),d=Yt((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const p=qi(d,e);return+t>=+l?r+1:+t>=+p?r:r-1}function hB(n,e){var l,d,p,m;const t=pu(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=jE(n,e),a=Yt((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),qi(a,e)}function gD(n,e){const t=xt(n,e==null?void 0:e.in),r=+qi(t,e)-+hB(t,e);return Math.round(r/oD)+1}function Je(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ms={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Je(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Je(t+1,2)},d(n,e){return Je(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Je(n.getHours()%12||12,e.length)},H(n,e){return Je(n.getHours(),e.length)},m(n,e){return Je(n.getMinutes(),e.length)},s(n,e){return Je(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Je(i,e.length)}},xo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gx={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return ms.y(n,e)},Y:function(n,e,t,r){const i=jE(n,r),a=i>0?i:1-i;if(e==="YY"){const u=a%100;return Je(u,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Je(a,e.length)},R:function(n,e){const t=lD(n);return Je(t,e.length)},u:function(n,e){const t=n.getFullYear();return Je(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ms.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=gD(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(n,e,t){const r=mD(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ms.d(n,e)},D:function(n,e,t){const r=fB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Je(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Je(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=xo.noon:r===0?i=xo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=xo.evening:r>=12?i=xo.afternoon:r>=4?i=xo.morning:i=xo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ms.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ms.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ms.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ms.s(n,e)},S:function(n,e){return ms.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Yx(r);case"XXXX":case"XX":return ha(r);case"XXXXX":case"XXX":default:return ha(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Yx(r);case"xxxx":case"xx":return ha(r);case"xxxxx":case"xxx":default:return ha(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Kx(r,":");case"OOOO":default:return"GMT"+ha(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Kx(r,":");case"zzzz":default:return"GMT"+ha(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Je(r,e.length)},T:function(n,e,t){return Je(+n,e.length)}};function Kx(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Je(a,2)}function Yx(n,e){return n%60===0?(n>0?"-":"+")+Je(Math.abs(n)/60,2):ha(n,e)}function ha(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Je(Math.trunc(r/60),2),a=Je(r%60,2);return t+i+e+a}const Qx=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Qx(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Qx(r,e)).replace("{{time}}",vD(i,e))},nw={p:vD,P:pB},mB=/^D+$/,gB=/^Y+$/,vB=["D","DD","YY","YYYY"];function yD(n){return mB.test(n)}function _D(n){return gB.test(n)}function rw(n,e,t){const r=yB(n,e,t);if(console.warn(r),vB.includes(n))throw new RangeError(r)}function yB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _B=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EB=/^'([^]*?)'?$/,TB=/''/g,bB=/[a-zA-Z]/;function SB(n,e,t){var m,v,_,E,b,S,I,A;const r=pu(),i=(t==null?void 0:t.locale)??r.locale??pD,a=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(_=r.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((S=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((A=(I=r.locale)==null?void 0:I.options)==null?void 0:A.weekStartsOn)??0,l=xt(n,t==null?void 0:t.in);if(!Lz(l))throw new RangeError("Invalid time value");let d=e.match(wB).map(P=>{const F=P[0];if(F==="p"||F==="P"){const V=nw[F];return V(P,i.formatLong)}return P}).join("").match(_B).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const F=P[0];if(F==="'")return{isToken:!1,value:IB(P)};if(Gx[F])return{isToken:!0,value:P};if(F.match(bB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const F=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&_D(F)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&yD(F))&&rw(F,e,String(n));const V=Gx[F[0]];return V(l,F,i.localize,p)}).join("")}function IB(n){const e=n.match(EB);return e?e[1].replace(TB,"'"):n}function RB(n,e){return xt(n,e==null?void 0:e.in).getDay()}function xB(){return Object.assign({},pu())}function CB(n,e){const t=xt(n,e==null?void 0:e.in).getDay();return t===0?7:t}function AB(n,e){const t=PB(e)?new e(0):Yt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function PB(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const kB=10;class wD{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class DB extends wD{constructor(e,t,r,i,a){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class OB extends wD{constructor(t,r){super();pe(this,"priority",kB);pe(this,"subPriority",-1);this.context=t||(i=>Yt(r,i))}set(t,r){return r.timestampIsSet?t:Yt(t,AB(t,this.context))}}class Ye{run(e,t,r,i){const a=this.parse(e,t,r,i);return a?{setter:new DB(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,r){return!0}}class NB extends Ye{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(n,e){return n&&{value:e(n.value),rest:n.rest}}function mt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Zr(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:r*(i*Az+a*Cz+u*Pz),rest:e.slice(t[0].length)}}function ED(n){return mt(It.anyDigitsSigned,n)}function Et(n,e){switch(n){case 1:return mt(It.singleDigit,e);case 2:return mt(It.twoDigits,e);case 3:return mt(It.threeDigits,e);case 4:return mt(It.fourDigits,e);default:return mt(new RegExp("^\\d{1,"+n+"}"),e)}}function Xf(n,e){switch(n){case 1:return mt(It.singleDigitSigned,e);case 2:return mt(It.twoDigitsSigned,e);case 3:return mt(It.threeDigitsSigned,e);case 4:return mt(It.fourDigitsSigned,e);default:return mt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function UE(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function TD(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const a=r+50,u=Math.trunc(a/100)*100,l=n>=a%100;i=n+u-(l?100:0)}return t?i:1-i}function bD(n){return n%400===0||n%4===0&&n%100!==0}class MB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Rt(Et(4,t),a);case"yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=TD(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const u=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class LB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Rt(Et(4,t),a);case"Yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const u=jE(t,a);if(i.isTwoDigitYear){const d=TD(i.year,u);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),qi(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),qi(t,a)}}class VB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Xf(r==="R"?4:r.length,t)}set(t,r,i){const a=Yt(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Zo(a)}}class FB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Xf(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class jB extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Et(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class UB extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Et(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class qB extends Ye{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,r,i){const a=u=>u-1;switch(r){case"M":return Rt(mt(It.month,t),a);case"MM":return Rt(Et(2,t),a);case"Mo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class $B extends Ye{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=u=>u-1;switch(r){case"L":return Rt(mt(It.month,t),a);case"LL":return Rt(Et(2,t),a);case"Lo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function zB(n,e,t){const r=xt(n,t==null?void 0:t.in),i=gD(r,t)-e;return r.setDate(r.getDate()-i*7),xt(r,t==null?void 0:t.in)}class BB extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return mt(It.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return qi(zB(t,i,a),a)}}function HB(n,e,t){const r=xt(n,t==null?void 0:t.in),i=mD(r,t)-e;return r.setDate(r.getDate()-i*7),r}class WB extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return mt(It.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Zo(HB(t,i))}}const GB=[31,28,31,30,31,30,31,31,30,31,30,31],KB=[31,29,31,30,31,30,31,31,30,31,30,31];class YB extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return mt(It.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=bD(i),u=t.getMonth();return a?r>=1&&r<=KB[u]:r>=1&&r<=GB[u]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class QB extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return mt(It.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear();return bD(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function qE(n,e,t){var v,_,E,b;const r=pu(),i=(t==null?void 0:t.weekStartsOn)??((_=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((b=(E=r.locale)==null?void 0:E.options)==null?void 0:b.weekStartsOn)??0,a=xt(n,t==null?void 0:t.in),u=a.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(u+p)%7:(d+p)%7-(u+p)%7;return uD(a,m,t)}class XB extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=qE(t,i,a),t.setHours(0,0,0,0),t}}class JB extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return Rt(Et(r.length,t),u);case"eo":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=qE(t,i,a),t.setHours(0,0,0,0),t}}class ZB extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return Rt(Et(r.length,t),u);case"co":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=qE(t,i,a),t.setHours(0,0,0,0),t}}function eH(n,e,t){const r=xt(n,t==null?void 0:t.in),i=CB(r,t),a=e-i;return uD(r,a,t)}class tH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=u=>u===0?7:u;switch(r){case"i":case"ii":return Et(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Rt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Rt(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Rt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Rt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=eH(t,i),t.setHours(0,0,0,0),t}}class nH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(UE(i),0,0,0),t}}class rH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(UE(i),0,0,0),t}}class iH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(UE(i),0,0,0),t}}class sH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return mt(It.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class aH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return mt(It.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class oH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return mt(It.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class uH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return mt(It.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class lH extends Ye{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return mt(It.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class cH extends Ye{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return mt(It.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class dH extends Ye{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Rt(Et(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class fH extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Zr(Jr.basicOptionalMinutes,t);case"XX":return Zr(Jr.basic,t);case"XXXX":return Zr(Jr.basicOptionalSeconds,t);case"XXXXX":return Zr(Jr.extendedOptionalSeconds,t);case"XXX":default:return Zr(Jr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Yt(t,t.getTime()-Qf(t)-i)}}class hH extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Zr(Jr.basicOptionalMinutes,t);case"xx":return Zr(Jr.basic,t);case"xxxx":return Zr(Jr.basicOptionalSeconds,t);case"xxxxx":return Zr(Jr.extendedOptionalSeconds,t);case"xxx":default:return Zr(Jr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Yt(t,t.getTime()-Qf(t)-i)}}class pH extends Ye{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return ED(t)}set(t,r,i){return[Yt(t,i*1e3),{timestampIsSet:!0}]}}class mH extends Ye{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return ED(t)}set(t,r,i){return[Yt(t,i),{timestampIsSet:!0}]}}const gH={G:new NB,y:new MB,Y:new LB,R:new VB,u:new FB,Q:new jB,q:new UB,M:new qB,L:new $B,w:new BB,I:new WB,d:new YB,D:new QB,E:new XB,e:new JB,c:new ZB,i:new tH,a:new nH,b:new rH,B:new iH,h:new sH,H:new aH,K:new oH,k:new uH,m:new lH,s:new cH,S:new dH,X:new fH,x:new hH,t:new pH,T:new mH},vH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_H=/^'([^]*?)'?$/,wH=/''/g,EH=/\S/,TH=/[a-zA-Z]/;function bH(n,e,t,r){var I,A,P,F,V,H,z,k;const i=()=>Yt((r==null?void 0:r.in)||t,NaN),a=xB(),u=(r==null?void 0:r.locale)??a.locale??pD,l=(r==null?void 0:r.firstWeekContainsDate)??((A=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:A.firstWeekContainsDate)??a.firstWeekContainsDate??((F=(P=a.locale)==null?void 0:P.options)==null?void 0:F.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((H=(V=r==null?void 0:r.locale)==null?void 0:V.options)==null?void 0:H.weekStartsOn)??a.weekStartsOn??((k=(z=a.locale)==null?void 0:z.options)==null?void 0:k.weekStartsOn)??0;if(!e)return n?i():xt(t,r==null?void 0:r.in);const p={firstWeekContainsDate:l,weekStartsOn:d,locale:u},m=[new OB(r==null?void 0:r.in,t)],v=e.match(yH).map(R=>{const C=R[0];if(C in nw){const N=nw[C];return N(R,u.formatLong)}return R}).join("").match(vH),_=[];for(let R of v){!(r!=null&&r.useAdditionalWeekYearTokens)&&_D(R)&&rw(R,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&yD(R)&&rw(R,e,n);const C=R[0],N=gH[C];if(N){const{incompatibleTokens:M}=N;if(Array.isArray(M)){const D=_.find(ce=>M.includes(ce.token)||ce.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${R}\` at the same time`)}else if(N.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);_.push({token:C,fullToken:R});const U=N.run(n,R,u.match,p);if(!U)return i();m.push(U.setter),n=U.rest}else{if(C.match(TH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(R==="''"?R="'":C==="'"&&(R=SH(R)),n.indexOf(R)===0)n=n.slice(R.length);else return i()}}if(n.length>0&&EH.test(n))return i();const E=m.map(R=>R.priority).sort((R,C)=>C-R).filter((R,C,N)=>N.indexOf(R)===C).map(R=>m.filter(C=>C.priority===R).sort((C,N)=>N.subPriority-C.subPriority)).map(R=>R[0]);let b=xt(t,r==null?void 0:r.in);if(isNaN(+b))return i();const S={};for(const R of E){if(!R.validate(b,p))return i();const C=R.set(b,S,p);Array.isArray(C)?(b=C[0],Object.assign(S,C[1])):b=C}return b}function SH(n){return n.match(_H)[1].replace(wH,"'")}const IH={full:"EEEE, dd MMMM yyyy",long:"dd MMMM yyyy",medium:"dd MMM yyyy",short:"yyyy/MM/dd"},RH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CH={date:Vo({formats:IH,defaultWidth:"full"}),time:Vo({formats:RH,defaultWidth:"full"}),dateTime:Vo({formats:xH,defaultWidth:"full"})},AH={code:"en-ZA",formatDistance:cD,formatLong:CH,formatRelative:dD,localize:fD,match:hD,options:{weekStartsOn:0,firstWeekContainsDate:1}},PH={"en-ZA":AH},kH=Rz({format:SB,parse:bH,startOfWeek:qi,getDay:RB,locales:PH}),DH=()=>{const[n,e]=$.useState([{title:"Math Class",start:new Date,end:new Date(new Date().getTime()+36e5)}]),[t,r]=$.useState(Kt.WEEK);return $.useEffect(()=>{const i=()=>{window.innerWidth<768?r(Kt.DAY):r(Kt.WEEK)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),L.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8 px-4 sm:px-6 ",children:L.jsx("div",{className:"shadow-lg rounded-xl p-4 sm:p-8 max-w-full mx-auto lg:ml-16 ml-0",children:L.jsx(wz,{localizer:kH,events:Array.isArray(n)?n.filter(i=>(i==null?void 0:i.title)&&(i==null?void 0:i.start)&&(i==null?void 0:i.end)):[],startAccessor:"start",endAccessor:"end",views:{day:!0,week:!0},defaultView:t,style:{height:"80vh",width:"100%"},showMultiDayTimes:!0})})})},OH=()=>{const n=Ma(),e=async()=>{try{await qL(Ia),alert("You have been successfully signed out!"),n("/")}catch(t){console.error("Logout Failed:",t.message)}};return L.jsxs("div",{className:"px-4 sm:px-6 py-6 md:ml-16 max-w-2xl mx-auto space-y-6",children:[L.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),L.jsx("div",{className:"border-t pt-6",children:L.jsx("button",{onClick:e,className:"bg-red text-white py-2 px-4 rounded hover:bg-red-700 transition",children:"Log Out"})})]})};function NH(n){return fc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function MH(n){return fc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(n)}function LH(n){return fc({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(n)}function VH(n){return fc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"},child:[]}]})(n)}const __=()=>{const[n,e]=$.useState(!1),t=li();Ma(),$.useEffect(()=>{e(!1)},[t]),$.useEffect(()=>{const a=u=>{u.key==="Escape"&&e(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const r=()=>{e(!n)},i=[{path:"#home",icon:L.jsx(NH,{className:"h-6 w-6"}),label:"Home"},{path:"#students",icon:L.jsx(MH,{className:"h-6 w-6"}),label:"Students"},{path:"#attendance",icon:L.jsx(LH,{className:"h-6 w-6"}),label:"Attendance"},{path:"#schedule",icon:L.jsx(VH,{className:"h-6 w-6"}),label:"Schedule"}];return L.jsxs("div",{className:"relative",children:[L.jsxs("nav",{className:`fixed top-0 left-0 h-full bg-black text-white hidden md:flex flex-col ${n?"md:w-64":"md:w-16"} transition-all duration-300 ease-in-out z-40 shadow-lg`,"aria-expanded":n,role:"navigation",children:[L.jsxs("div",{className:"relative h-16 flex items-center border-b border-white/10",children:[L.jsx("button",{onClick:r,className:`p-2 text-white hover:bg-white/10 focus:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 rounded-md transition-all duration-300 ${n?"ml-52":"ml-3"}`,"aria-label":n?"Close navigation":"Open navigation",children:n?L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),n&&L.jsx("h1",{className:"text-xl font-semibold absolute left-4",children:"Attendio"})]}),L.jsx("div",{className:"flex flex-col space-y-2 mt-6 px-3",children:i.map(a=>{const u=t.pathname===a.path;return L.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex items-center px-3 py-3 rounded-md transition-all duration-200 ${n?"":"justify-center"} ${u?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"}`,"aria-current":u?"page":void 0,children:[L.jsx("span",{className:"flex items-center justify-center w-6",children:a.icon}),n&&L.jsx("span",{className:"ml-4 font-medium",children:a.label})]},a.path)})}),n&&L.jsx("div",{className:"mt-auto p-4 border-t border-white/10",children:L.jsx("div",{className:"text-sm text-white/60",children:"© 2025 Fretnot Music School"})})]}),L.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black text-white z-40 shadow-lg mt-16",children:L.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(a=>{const u=t.pathname===a.path;return L.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex flex-col items-center justify-center w-full h-full ${u?"bg-white/20 text-white":"text-white/80 hover:text-white active:bg-white/10"}`,"aria-current":u?"page":void 0,children:[L.jsx("span",{className:"flex items-center justify-center",children:a.icon}),L.jsx("span",{className:"text-xs mt-1",children:a.label})]},a.path)})})}),n&&L.jsx("div",{onClick:r,className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur-sm transition-all duration-300 z-30 hidden md:block","aria-hidden":"true"})]})},ll=({children:n})=>{const e=li(),[t,r]=$.useState(localStorage.getItem("isAuthenticated")==="true"),[i,a]=$.useState(!0);return $.useEffect(()=>{const u=Ia.onAuthStateChanged(d=>{d?(r(!0),localStorage.setItem("isAuthenticated","true")):(r(!1),localStorage.removeItem("isAuthenticated")),a(!1)});return localStorage.getItem("isAuthenticated")==="true"&&r(!0),()=>u()},[]),i?localStorage.getItem("isAuthenticated")==="true"?L.jsxs("div",{children:[L.jsx(__,{}),L.jsx("main",{children:n})]}):L.jsxs("div",{children:[L.jsx(__,{}),"Loading..."]}):t?L.jsxs("div",{children:[L.jsx(__,{}),L.jsx("main",{children:n})]}):L.jsx(cl,{to:"/login",state:{from:e},replace:!0})},FH="/attendio/assets/Calendar-bro-ByK5CIeR.svg",jH=()=>{const n=Ma();return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-200 flex flex-col justify-between",children:[L.jsxs("section",{className:"px-6 py-20 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[L.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-center md:text-left",children:[L.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:"Attendance, Simplified."}),L.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"A clean, intuitive way to track and manage student presence."}),L.jsx("button",{onClick:()=>n("/login"),className:"mt-8 px-6 py-3 bg-black text-white text-lg rounded-lg hover:bg-blue-700 transition",children:"Get Started / Login"})]}),L.jsx("div",{className:"w-full flex justify-center",children:L.jsx("img",{src:FH,alt:"Calendar illustration",className:"w-full max-w-md"})})]}),L.jsx("footer",{className:"bg-black text-white text-center py-4 text-sm",children:"© 2025 Attendio by Waldo Oosthuizen"})]})},UH=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState(!1),[i,a]=$.useState(!1);return $.useEffect(()=>{const u=UL(Ia,l=>{a(!!l),r(!0)});return()=>u()},[]),t?L.jsx(Y2,{children:L.jsxs(I2,{children:[L.jsx(xi,{path:"/",element:i?L.jsx(cl,{to:"/home"}):L.jsx(jH,{})}),L.jsx(xi,{path:"/login",element:i?L.jsx(cl,{to:"/home"}):n?L.jsx(U3,{setShowSignUp:e}):L.jsx(q3,{setShowSignUp:e})}),L.jsx(xi,{path:"/home",element:L.jsx(ll,{children:L.jsx(B3,{})})}),L.jsx(xi,{path:"/students",element:L.jsx(ll,{children:L.jsx(W3,{})})}),L.jsx(xi,{path:"/attendance",element:L.jsx(ll,{children:L.jsx(G3,{})})}),L.jsx(xi,{path:"/schedule",element:L.jsx(ll,{children:L.jsx(DH,{})})}),L.jsx(xi,{path:"/settings",element:L.jsx(ll,{children:L.jsx(OH,{})})}),L.jsx(xi,{path:"*",element:i?L.jsx(cl,{to:"/home"}):L.jsx(cl,{to:"/login"})})]})}):null};MO.createRoot(document.getElementById("root")).render(L.jsx($.StrictMode,{children:L.jsx(UH,{})}));
