(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mm={exports:{}},hu={},Lm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function PN(){if(IT)return Fe;IT=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function b(H,Z,he){this.props=H,this.context=Z,this.refs=T,this.updater=he||E}b.prototype.isReactComponent={},b.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=b.prototype;function D(H,Z,he){this.props=H,this.context=Z,this.refs=T,this.updater=he||E}var M=D.prototype=new C;M.constructor=D,I(M,b.prototype),M.isPureReactComponent=!0;var F=Array.isArray,W=Object.prototype.hasOwnProperty,z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(H,Z,he){var Ce,Re={},Ne=null,Le=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(Le=Z.ref),Z.key!==void 0&&(Ne=""+Z.key),Z)W.call(Z,Ce)&&!k.hasOwnProperty(Ce)&&(Re[Ce]=Z[Ce]);var Oe=arguments.length-2;if(Oe===1)Re.children=he;else if(1<Oe){for(var He=Array(Oe),mt=0;mt<Oe;mt++)He[mt]=arguments[mt+2];Re.children=He}if(H&&H.defaultProps)for(Ce in Oe=H.defaultProps,Oe)Re[Ce]===void 0&&(Re[Ce]=Oe[Ce]);return{$$typeof:n,type:H,key:Ne,ref:Le,props:Re,_owner:z.current}}function P(H,Z){return{$$typeof:n,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return Z[he]})}var U=/\/+/g;function O(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):Z.toString(36)}function ce(H,Z,he,Ce,Re){var Ne=typeof H;(Ne==="undefined"||Ne==="boolean")&&(H=null);var Le=!1;if(H===null)Le=!0;else switch(Ne){case"string":case"number":Le=!0;break;case"object":switch(H.$$typeof){case n:case e:Le=!0}}if(Le)return Le=H,Re=Re(Le),H=Ce===""?"."+O(Le,0):Ce,F(Re)?(he="",H!=null&&(he=H.replace(U,"$&/")+"/"),ce(Re,Z,he,"",function(mt){return mt})):Re!=null&&(L(Re)&&(Re=P(Re,he+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+H)),Z.push(Re)),1;if(Le=0,Ce=Ce===""?".":Ce+":",F(H))for(var Oe=0;Oe<H.length;Oe++){Ne=H[Oe];var He=Ce+O(Ne,Oe);Le+=ce(Ne,Z,he,He,Re)}else if(He=y(H),typeof He=="function")for(H=He.call(H),Oe=0;!(Ne=H.next()).done;)Ne=Ne.value,He=Ce+O(Ne,Oe++),Le+=ce(Ne,Z,he,He,Re);else if(Ne==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Le}function Te(H,Z,he){if(H==null)return H;var Ce=[],Re=0;return ce(H,Ce,"","",function(Ne){return Z.call(he,Ne,Re++)}),Ce}function _e(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var ye={current:null},ne={transition:null},de={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ne,ReactCurrentOwner:z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Te,forEach:function(H,Z,he){Te(H,function(){Z.apply(this,arguments)},he)},count:function(H){var Z=0;return Te(H,function(){Z++}),Z},toArray:function(H){return Te(H,function(Z){return Z})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fe.Component=b,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=D,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=le,Fe.cloneElement=function(H,Z,he){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ce=I({},H.props),Re=H.key,Ne=H.ref,Le=H._owner;if(Z!=null){if(Z.ref!==void 0&&(Ne=Z.ref,Le=z.current),Z.key!==void 0&&(Re=""+Z.key),H.type&&H.type.defaultProps)var Oe=H.type.defaultProps;for(He in Z)W.call(Z,He)&&!k.hasOwnProperty(He)&&(Ce[He]=Z[He]===void 0&&Oe!==void 0?Oe[He]:Z[He])}var He=arguments.length-2;if(He===1)Ce.children=he;else if(1<He){Oe=Array(He);for(var mt=0;mt<He;mt++)Oe[mt]=arguments[mt+2];Ce.children=Oe}return{$$typeof:n,type:H.type,key:Re,ref:Ne,props:Ce,_owner:Le}},Fe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Fe.createElement=A,Fe.createFactory=function(H){var Z=A.bind(null,H);return Z.type=H,Z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(H){return{$$typeof:u,render:H}},Fe.isValidElement=L,Fe.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:_e}},Fe.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},Fe.startTransition=function(H){var Z=ne.transition;ne.transition={};try{H()}finally{ne.transition=Z}},Fe.unstable_act=le,Fe.useCallback=function(H,Z){return ye.current.useCallback(H,Z)},Fe.useContext=function(H){return ye.current.useContext(H)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(H){return ye.current.useDeferredValue(H)},Fe.useEffect=function(H,Z){return ye.current.useEffect(H,Z)},Fe.useId=function(){return ye.current.useId()},Fe.useImperativeHandle=function(H,Z,he){return ye.current.useImperativeHandle(H,Z,he)},Fe.useInsertionEffect=function(H,Z){return ye.current.useInsertionEffect(H,Z)},Fe.useLayoutEffect=function(H,Z){return ye.current.useLayoutEffect(H,Z)},Fe.useMemo=function(H,Z){return ye.current.useMemo(H,Z)},Fe.useReducer=function(H,Z,he){return ye.current.useReducer(H,Z,he)},Fe.useRef=function(H){return ye.current.useRef(H)},Fe.useState=function(H){return ye.current.useState(H)},Fe.useSyncExternalStore=function(H,Z,he){return ye.current.useSyncExternalStore(H,Z,he)},Fe.useTransition=function(){return ye.current.useTransition()},Fe.version="18.3.1",Fe}var RT;function Aw(){return RT||(RT=1,Lm.exports=PN()),Lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function kN(){if(xT)return hu;xT=1;var n=Aw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var m,v={},y=null,E=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:y,ref:E,props:v,_owner:i.current}}return hu.Fragment=t,hu.jsx=l,hu.jsxs=l,hu}var AT;function DN(){return AT||(AT=1,Mm.exports=kN()),Mm.exports}var x=DN(),q=Aw();const G=Mn(q);var Yd={},Vm={exports:{}},An={},Fm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function NN(){return CT||(CT=1,(function(n){function e(ne,de){var le=ne.length;ne.push(de);e:for(;0<le;){var H=le-1>>>1,Z=ne[H];if(0<i(Z,de))ne[H]=de,ne[le]=Z,le=H;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],le=ne.pop();if(le!==de){ne[0]=le;e:for(var H=0,Z=ne.length,he=Z>>>1;H<he;){var Ce=2*(H+1)-1,Re=ne[Ce],Ne=Ce+1,Le=ne[Ne];if(0>i(Re,le))Ne<Z&&0>i(Le,Re)?(ne[H]=Le,ne[Ne]=le,H=Ne):(ne[H]=Re,ne[Ce]=le,H=Ce);else if(Ne<Z&&0>i(Le,le))ne[H]=Le,ne[Ne]=le,H=Ne;else break e}}return de}function i(ne,de){var le=ne.sortIndex-de.sortIndex;return le!==0?le:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,y=3,E=!1,I=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ne){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(p)}}function F(ne){if(T=!1,M(ne),!I)if(t(d)!==null)I=!0,_e(W);else{var de=t(p);de!==null&&ye(F,de.startTime-ne)}}function W(ne,de){I=!1,T&&(T=!1,C(A),A=-1),E=!0;var le=y;try{for(M(de),v=t(d);v!==null&&(!(v.expirationTime>de)||ne&&!V());){var H=v.callback;if(typeof H=="function"){v.callback=null,y=v.priorityLevel;var Z=H(v.expirationTime<=de);de=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),M(de)}else r(d);v=t(d)}if(v!==null)var he=!0;else{var Ce=t(p);Ce!==null&&ye(F,Ce.startTime-de),he=!1}return he}finally{v=null,y=le,E=!1}}var z=!1,k=null,A=-1,P=5,L=-1;function V(){return!(n.unstable_now()-L<P)}function U(){if(k!==null){var ne=n.unstable_now();L=ne;var de=!0;try{de=k(!0,ne)}finally{de?O():(z=!1,k=null)}}else z=!1}var O;if(typeof D=="function")O=function(){D(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Te=ce.port2;ce.port1.onmessage=U,O=function(){Te.postMessage(null)}}else O=function(){b(U,0)};function _e(ne){k=ne,z||(z=!0,O())}function ye(ne,de){A=b(function(){ne(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){I||E||(I=!0,_e(W))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var le=y;y=de;try{return ne()}finally{y=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=y;y=ne;try{return de()}finally{y=le}},n.unstable_scheduleCallback=function(ne,de,le){var H=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,ne={id:m++,callback:de,priorityLevel:ne,startTime:le,expirationTime:Z,sortIndex:-1},le>H?(ne.sortIndex=le,e(p,ne),t(d)===null&&ne===t(p)&&(T?(C(A),A=-1):T=!0,ye(F,le-H))):(ne.sortIndex=Z,e(d,ne),I||E||(I=!0,_e(W))),ne},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ne){var de=y;return function(){var le=y;y=de;try{return ne.apply(this,arguments)}finally{y=le}}}})(jm)),jm}var PT;function ON(){return PT||(PT=1,Fm.exports=NN()),Fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function MN(){if(kT)return An;kT=1;var n=Aw(),e=ON();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function E(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,f){if(a===null||typeof a>"u"||E(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(s,a,c,f,g,w,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=R}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new T(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,D);b[a]=new T(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,D);b[a]=new T(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,D);b[a]=new T(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,f){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,g,f)&&(c=null),f||g===null?y(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,H;function Z(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var he=!1;function Ce(s,a){if(!s||he)return"";he=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(X){var f=X}Reflect.construct(s,[],a)}else{try{a.call()}catch(X){f=X}s.call(a.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=f.stack.split(`
`),R=g.length-1,j=w.length-1;1<=R&&0<=j&&g[R]!==w[j];)j--;for(;1<=R&&0<=j;R--,j--)if(g[R]!==w[j]){if(R!==1||j!==1)do if(R--,j--,0>j||g[R]!==w[j]){var $=`
`+g[R].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=R&&0<=j);break}}}finally{he=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Re(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case z:return"Portal";case P:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return a=s.displayName||null,a!==null?a:Ne(s.type)||"Memo";case _e:a=s._payload,s=s._init;try{return Ne(s(a))}catch{}}return null}function Le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(s){var a=He(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fn(s){s._valueTracker||(s._valueTracker=mt(s))}function $r(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=He(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Ln(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vr(s,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function qe(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Oe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Vn(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function Ve(s,a){Vn(s,a);var c=Oe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?pn(s,a.type,c):a.hasOwnProperty("defaultValue")&&pn(s,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Fn(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function pn(s,a,c){(a!=="number"||Ln(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Pt=Array.isArray;function kt(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Oe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Bt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function at(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Pt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Oe(c)}}function mn(s,a){var c=Oe(a.value),f=Oe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function jn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dt,Wi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Dt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function yr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(s){zr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),pi[a]=pi[s]})});function wn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||pi.hasOwnProperty(s)&&pi[s]?(""+a).trim():a+"px"}function Un(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=wn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Il=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(s,a){if(a){if(Il[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Xo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jo=null,Jn=null,Br=null;function Zo(s){if(s=Xl(s)){if(typeof Jo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=ud(a),Jo(s.stateNode,s.type,a))}}function Wr(s){Jn?Br?Br.push(s):Br=[s]:Jn=s}function Al(){if(Jn){var s=Jn,a=Br;if(Br=Jn=null,Zo(s),a)for(s=0;s<a.length;s++)Zo(a[s])}}function Ks(s,a){return s(a)}function Cl(){}var mi=!1;function Pl(s,a,c){if(mi)return s(a,c);mi=!0;try{return Ks(s,a,c)}finally{mi=!1,(Jn!==null||Br!==null)&&(Cl(),Al())}}function _t(s,a){var c=s.stateNode;if(c===null)return null;var f=ud(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ea=!1;if(u)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){ea=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{ea=!1}function Ys(s,a,c,f,g,w,R,j,$){var X=Array.prototype.slice.call(arguments,3);try{a.apply(c,X)}catch(ie){this.onError(ie)}}var Qs=!1,ta=null,wr=!1,kl=null,up={onError:function(s){Qs=!0,ta=s}};function na(s,a,c,f,g,w,R,j,$){Qs=!1,ta=null,Ys.apply(up,arguments)}function Oc(s,a,c,f,g,w,R,j,$){if(na.apply(this,arguments),Qs){if(Qs){var X=ta;Qs=!1,ta=null}else throw Error(t(198));wr||(wr=!0,kl=X)}}function Er(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Xs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Tr(s){if(Er(s)!==s)throw Error(t(188))}function Mc(s){var a=s.alternate;if(!a){if(a=Er(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Tr(g),s;if(w===f)return Tr(g),a;w=w.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=w;else{for(var R=!1,j=g.child;j;){if(j===c){R=!0,c=g,f=w;break}if(j===f){R=!0,f=g,c=w;break}j=j.sibling}if(!R){for(j=w.child;j;){if(j===c){R=!0,c=w,f=g;break}if(j===f){R=!0,f=w,c=g;break}j=j.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Dl(s){return s=Mc(s),s!==null?ra(s):null}function ra(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ra(s);if(a!==null)return a;s=s.sibling}return null}var ia=e.unstable_scheduleCallback,Nl=e.unstable_cancelCallback,Lc=e.unstable_shouldYield,cp=e.unstable_requestPaint,et=e.unstable_now,Vc=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,Fc=e.unstable_IdlePriority,Zs=null,qn=null;function jc(s){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:qc,Ml=Math.log,Uc=Math.LN2;function qc(s){return s>>>=0,s===0?32:31-(Ml(s)/Uc|0)|0}var sa=64,oa=4194304;function Gi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function eo(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,R=c&268435455;if(R!==0){var j=R&~g;j!==0?f=Gi(j):(w&=R,w!==0&&(f=Gi(w)))}else R=c&~g,R!==0?f=Gi(R):w!==0&&(f=Gi(w));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-gn(a),g=1<<c,f|=s[c],a&=~g;return f}function dp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var R=31-gn(w),j=1<<R,$=g[R];$===-1?((j&c)===0||(j&f)!==0)&&(g[R]=dp(j,a)):$<=a&&(s.expiredLanes|=j),w&=~j}}function $n(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(){var s=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),s}function Ki(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Yi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-gn(a),s[a]=c}function Xe(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-gn(c),w=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~w}}function Qi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-gn(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var $e=0;function Xi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var $c,aa,zc,Bc,Wc,Ll=!1,Hr=[],Wt=null,Sr=null,br=null,Ji=new Map,er=new Map,Gr=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(s,a){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ji.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(a.pointerId)}}function En(s,a,c,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Xl(a),a!==null&&aa(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function fp(s,a,c,f,g){switch(a){case"focusin":return Wt=En(Wt,s,a,c,f,g),!0;case"dragenter":return Sr=En(Sr,s,a,c,f,g),!0;case"mouseover":return br=En(br,s,a,c,f,g),!0;case"pointerover":var w=g.pointerId;return Ji.set(w,En(Ji.get(w)||null,s,a,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,er.set(w,En(er.get(w)||null,s,a,c,f,g)),!0}return!1}function Gc(s){var a=oo(s.target);if(a!==null){var c=Er(a);if(c!==null){if(a=c.tag,a===13){if(a=Xs(c),a!==null){s.blockedOn=a,Wc(s.priority,function(){zc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=la(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Gs=f,c.target.dispatchEvent(f),Gs=null}else return a=Xl(c),a!==null&&aa(a),s.blockedOn=c,!1;a.shift()}return!0}function no(s,a,c){vi(s)&&c.delete(a)}function Kc(){Ll=!1,Wt!==null&&vi(Wt)&&(Wt=null),Sr!==null&&vi(Sr)&&(Sr=null),br!==null&&vi(br)&&(br=null),Ji.forEach(no),er.forEach(no)}function Ir(s,a){s.blockedOn===a&&(s.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kc)))}function Rr(s){function a(g){return Ir(g,s)}if(0<Hr.length){Ir(Hr[0],s);for(var c=1;c<Hr.length;c++){var f=Hr[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Wt!==null&&Ir(Wt,s),Sr!==null&&Ir(Sr,s),br!==null&&Ir(br,s),Ji.forEach(a),er.forEach(a),c=0;c<Gr.length;c++)f=Gr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Gr.length&&(c=Gr[0],c.blockedOn===null);)Gc(c),c.blockedOn===null&&Gr.shift()}var yi=F.ReactCurrentBatchConfig,Zi=!0;function ut(s,a,c,f){var g=$e,w=yi.transition;yi.transition=null;try{$e=1,Vl(s,a,c,f)}finally{$e=g,yi.transition=w}}function pp(s,a,c,f){var g=$e,w=yi.transition;yi.transition=null;try{$e=4,Vl(s,a,c,f)}finally{$e=g,yi.transition=w}}function Vl(s,a,c,f){if(Zi){var g=la(s,a,c,f);if(g===null)Ip(s,a,f,ro,c),Hc(s,f);else if(fp(g,s,a,c,f))f.stopPropagation();else if(Hc(s,f),a&4&&-1<hp.indexOf(s)){for(;g!==null;){var w=Xl(g);if(w!==null&&$c(w),w=la(s,a,c,f),w===null&&Ip(s,a,f,ro,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else Ip(s,a,f,null,c)}}var ro=null;function la(s,a,c,f){if(ro=null,s=Xo(f),s=oo(s),s!==null)if(a=Er(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Xs(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ro=s,null}function Fl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vc()){case Js:return 1;case Hi:return 4;case Zn:case Ol:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var zn=null,ua=null,Tn=null;function jl(){if(Tn)return Tn;var s,a=ua,c=a.length,f,g="value"in zn?zn.value:zn.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var R=c-s;for(f=1;f<=R&&a[c-f]===g[w-f];f++);return Tn=g.slice(s,1<f?1-f:void 0)}function ca(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Kr(){return!0}function Ul(){return!1}function Ht(s){function a(c,f,g,w,R){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Kr:Ul,this.isPropagationStopped=Ul,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),a}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Ht(xr),Yr=le({},xr,{view:0,detail:0}),mp=Ht(Yr),ha,_i,es,io=le({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(ha=s.screenX-es.screenX,_i=s.screenY-es.screenY):_i=ha=0,es=s),ha)},movementY:function(s){return"movementY"in s?s.movementY:_i}}),fa=Ht(io),ql=le({},io,{dataTransfer:0}),Yc=Ht(ql),pa=le({},Yr,{relatedTarget:0}),ma=Ht(pa),Qc=le({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),wi=Ht(Qc),Xc=le({},xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jc=Ht(Xc),Zc=le({},xr,{data:0}),$l=Ht(Zc),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function td(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ed[s])?!!a[s]:!1}function Qr(){return td}var h=le({},Yr,{key:function(s){if(s.key){var a=ga[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Ht(h),S=le({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Ht(S),K=le({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),J=Ht(K),ue=le({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Ht(ue),Nt=le({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Ht(Nt),jt=[9,13,27,32],bt=u&&"CompositionEvent"in window,tr=null;u&&"documentMode"in document&&(tr=document.documentMode);var Bn=u&&"TextEvent"in window&&!tr,so=u&&(!bt||tr&&8<tr&&11>=tr),va=" ",_E=!1;function wE(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function xD(s,a){switch(s){case"compositionend":return EE(a);case"keypress":return a.which!==32?null:(_E=!0,va);case"textInput":return s=a.data,s===va&&_E?null:s;default:return null}}function AD(s,a){if(ya)return s==="compositionend"||!bt&&wE(s,a)?(s=jl(),Tn=ua=zn=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return so&&a.locale!=="ko"?null:a.data;default:return null}}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TE(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!CD[s.type]:a==="textarea"}function SE(s,a,c,f){Wr(f),a=od(a,"onChange"),0<a.length&&(c=new da("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var zl=null,Bl=null;function PD(s){qE(s,0)}function nd(s){var a=Sa(s);if($r(a))return s}function kD(s,a){if(s==="change")return a}var bE=!1;if(u){var gp;if(u){var vp="oninput"in document;if(!vp){var IE=document.createElement("div");IE.setAttribute("oninput","return;"),vp=typeof IE.oninput=="function"}gp=vp}else gp=!1;bE=gp&&(!document.documentMode||9<document.documentMode)}function RE(){zl&&(zl.detachEvent("onpropertychange",xE),Bl=zl=null)}function xE(s){if(s.propertyName==="value"&&nd(Bl)){var a=[];SE(a,Bl,s,Xo(s)),Pl(PD,a)}}function DD(s,a,c){s==="focusin"?(RE(),zl=a,Bl=c,zl.attachEvent("onpropertychange",xE)):s==="focusout"&&RE()}function ND(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(Bl)}function OD(s,a){if(s==="click")return nd(a)}function MD(s,a){if(s==="input"||s==="change")return nd(a)}function LD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ar=typeof Object.is=="function"?Object.is:LD;function Wl(s,a){if(Ar(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!d.call(a,g)||!Ar(s[g],a[g]))return!1}return!0}function AE(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function CE(s,a){var c=AE(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=AE(c)}}function PE(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?PE(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function kE(){for(var s=window,a=Ln();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Ln(s.document)}return a}function yp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function VD(s){var a=kE(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&PE(c.ownerDocument.documentElement,c)){if(f!==null&&yp(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=CE(c,w);var R=CE(c,f);g&&R&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(a),s.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var FD=u&&"documentMode"in document&&11>=document.documentMode,_a=null,_p=null,Hl=null,wp=!1;function DE(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wp||_a==null||_a!==Ln(f)||(f=_a,"selectionStart"in f&&yp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Hl&&Wl(Hl,f)||(Hl=f,f=od(_p,"onSelect"),0<f.length&&(a=new da("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=_a)))}function rd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var wa={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Ep={},NE={};u&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function id(s){if(Ep[s])return Ep[s];if(!wa[s])return s;var a=wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in NE)return Ep[s]=a[c];return s}var OE=id("animationend"),ME=id("animationiteration"),LE=id("animationstart"),VE=id("transitionend"),FE=new Map,jE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(s,a){FE.set(s,a),o(a,[s])}for(var Tp=0;Tp<jE.length;Tp++){var Sp=jE[Tp],jD=Sp.toLowerCase(),UD=Sp[0].toUpperCase()+Sp.slice(1);ts(jD,"on"+UD)}ts(OE,"onAnimationEnd"),ts(ME,"onAnimationIteration"),ts(LE,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(VE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function UE(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Oc(f,a,void 0,s),s.currentTarget=null}function qE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var w=void 0;if(a)for(var R=f.length-1;0<=R;R--){var j=f[R],$=j.instance,X=j.currentTarget;if(j=j.listener,$!==w&&g.isPropagationStopped())break e;UE(g,j,X),w=$}else for(R=0;R<f.length;R++){if(j=f[R],$=j.instance,X=j.currentTarget,j=j.listener,$!==w&&g.isPropagationStopped())break e;UE(g,j,X),w=$}}}if(wr)throw s=kl,wr=!1,kl=null,s}function it(s,a){var c=a[kp];c===void 0&&(c=a[kp]=new Set);var f=s+"__bubble";c.has(f)||($E(a,s,2,!1),c.add(f))}function bp(s,a,c){var f=0;a&&(f|=4),$E(c,s,f,a)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Kl(s){if(!s[sd]){s[sd]=!0,r.forEach(function(c){c!=="selectionchange"&&(qD.has(c)||bp(c,!1,s),bp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[sd]||(a[sd]=!0,bp("selectionchange",!1,a))}}function $E(s,a,c,f){switch(Fl(a)){case 1:var g=ut;break;case 4:g=pp;break;default:g=Vl}c=g.bind(null,a,c,s),g=void 0,!ea||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Ip(s,a,c,f,g){var w=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var j=f.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(R===4)for(R=f.return;R!==null;){var $=R.tag;if(($===3||$===4)&&($=R.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;R=R.return}for(;j!==null;){if(R=oo(j),R===null)return;if($=R.tag,$===5||$===6){f=w=R;continue e}j=j.parentNode}}f=f.return}Pl(function(){var X=w,ie=Xo(c),se=[];e:{var re=FE.get(s);if(re!==void 0){var pe=da,ve=s;switch(s){case"keypress":if(ca(c)===0)break e;case"keydown":case"keyup":pe=_;break;case"focusin":ve="focus",pe=ma;break;case"focusout":ve="blur",pe=ma;break;case"beforeblur":case"afterblur":pe=ma;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=J;break;case OE:case ME:case LE:pe=wi;break;case VE:pe=Ye;break;case"scroll":pe=mp;break;case"wheel":pe=ze;break;case"copy":case"cut":case"paste":pe=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=N}var we=(a&4)!==0,wt=!we&&s==="scroll",Y=we?re!==null?re+"Capture":null:re;we=[];for(var B=X,Q;B!==null;){Q=B;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,Y!==null&&(oe=_t(B,Y),oe!=null&&we.push(Yl(B,oe,Q)))),wt)break;B=B.return}0<we.length&&(re=new pe(re,ve,null,c,ie),se.push({event:re,listeners:we}))}}if((a&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&c!==Gs&&(ve=c.relatedTarget||c.fromElement)&&(oo(ve)||ve[Ei]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=c.relatedTarget||c.toElement,pe=X,ve=ve?oo(ve):null,ve!==null&&(wt=Er(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=X),pe!==ve)){if(we=fa,oe="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=N,oe="onPointerLeave",Y="onPointerEnter",B="pointer"),wt=pe==null?re:Sa(pe),Q=ve==null?re:Sa(ve),re=new we(oe,B+"leave",pe,c,ie),re.target=wt,re.relatedTarget=Q,oe=null,oo(ie)===X&&(we=new we(Y,B+"enter",ve,c,ie),we.target=Q,we.relatedTarget=wt,oe=we),wt=oe,pe&&ve)t:{for(we=pe,Y=ve,B=0,Q=we;Q;Q=Ea(Q))B++;for(Q=0,oe=Y;oe;oe=Ea(oe))Q++;for(;0<B-Q;)we=Ea(we),B--;for(;0<Q-B;)Y=Ea(Y),Q--;for(;B--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=Ea(we),Y=Ea(Y)}we=null}else we=null;pe!==null&&zE(se,re,pe,we,!1),ve!==null&&wt!==null&&zE(se,wt,ve,we,!0)}}e:{if(re=X?Sa(X):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ee=kD;else if(TE(re))if(bE)Ee=MD;else{Ee=ND;var be=DD}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=OD);if(Ee&&(Ee=Ee(s,X))){SE(se,Ee,c,ie);break e}be&&be(s,re,X),s==="focusout"&&(be=re._wrapperState)&&be.controlled&&re.type==="number"&&pn(re,"number",re.value)}switch(be=X?Sa(X):window,s){case"focusin":(TE(be)||be.contentEditable==="true")&&(_a=be,_p=X,Hl=null);break;case"focusout":Hl=_p=_a=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,DE(se,c,ie);break;case"selectionchange":if(FD)break;case"keydown":case"keyup":DE(se,c,ie)}var Ie;if(bt)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ya?wE(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(so&&c.locale!=="ko"&&(ya||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ya&&(Ie=jl()):(zn=ie,ua="value"in zn?zn.value:zn.textContent,ya=!0)),be=od(X,Pe),0<be.length&&(Pe=new $l(Pe,s,null,c,ie),se.push({event:Pe,listeners:be}),Ie?Pe.data=Ie:(Ie=EE(c),Ie!==null&&(Pe.data=Ie)))),(Ie=Bn?xD(s,c):AD(s,c))&&(X=od(X,"onBeforeInput"),0<X.length&&(ie=new $l("onBeforeInput","beforeinput",null,c,ie),se.push({event:ie,listeners:X}),ie.data=Ie))}qE(se,a)})}function Yl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function od(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=_t(s,c),w!=null&&f.unshift(Yl(s,w,g)),w=_t(s,a),w!=null&&f.push(Yl(s,w,g))),s=s.return}return f}function Ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function zE(s,a,c,f,g){for(var w=a._reactName,R=[];c!==null&&c!==f;){var j=c,$=j.alternate,X=j.stateNode;if($!==null&&$===f)break;j.tag===5&&X!==null&&(j=X,g?($=_t(c,w),$!=null&&R.unshift(Yl(c,$,j))):g||($=_t(c,w),$!=null&&R.push(Yl(c,$,j)))),c=c.return}R.length!==0&&s.push({event:a,listeners:R})}var $D=/\r\n?/g,zD=/\u0000|\uFFFD/g;function BE(s){return(typeof s=="string"?s:""+s).replace($D,`
`).replace(zD,"")}function ad(s,a,c){if(a=BE(a),BE(s)!==a&&c)throw Error(t(425))}function ld(){}var Rp=null,xp=null;function Ap(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,BD=typeof clearTimeout=="function"?clearTimeout:void 0,WE=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof WE<"u"?function(s){return WE.resolve(null).then(s).catch(HD)}:Cp;function HD(s){setTimeout(function(){throw s})}function Pp(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Rr(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Rr(a)}function ns(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function HE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Ta,Ql="__reactProps$"+Ta,Ei="__reactContainer$"+Ta,kp="__reactEvents$"+Ta,GD="__reactListeners$"+Ta,KD="__reactHandles$"+Ta;function oo(s){var a=s[Xr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ei]||c[Xr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=HE(s);s!==null;){if(c=s[Xr])return c;s=HE(s)}return a}s=c,c=s.parentNode}return null}function Xl(s){return s=s[Xr]||s[Ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Sa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ud(s){return s[Ql]||null}var Dp=[],ba=-1;function rs(s){return{current:s}}function st(s){0>ba||(s.current=Dp[ba],Dp[ba]=null,ba--)}function tt(s,a){ba++,Dp[ba]=s.current,s.current=a}var is={},en=rs(is),Sn=rs(!1),ao=is;function Ia(s,a){var c=s.type.contextTypes;if(!c)return is;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function cd(){st(Sn),st(en)}function GE(s,a,c){if(en.current!==is)throw Error(t(168));tt(en,a),tt(Sn,c)}function KE(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,Le(s)||"Unknown",g));return le({},c,f)}function dd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||is,ao=en.current,tt(en,s),tt(Sn,Sn.current),!0}function YE(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=KE(s,a,ao),f.__reactInternalMemoizedMergedChildContext=s,st(Sn),st(en),tt(en,s)):st(Sn),tt(Sn,c)}var Ti=null,hd=!1,Np=!1;function QE(s){Ti===null?Ti=[s]:Ti.push(s)}function YD(s){hd=!0,QE(s)}function ss(){if(!Np&&Ti!==null){Np=!0;var s=0,a=$e;try{var c=Ti;for($e=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ti=null,hd=!1}catch(g){throw Ti!==null&&(Ti=Ti.slice(s+1)),ia(Js,ss),g}finally{$e=a,Np=!1}}return null}var Ra=[],xa=0,fd=null,pd=0,nr=[],rr=0,lo=null,Si=1,bi="";function uo(s,a){Ra[xa++]=pd,Ra[xa++]=fd,fd=s,pd=a}function XE(s,a,c){nr[rr++]=Si,nr[rr++]=bi,nr[rr++]=lo,lo=s;var f=Si;s=bi;var g=32-gn(f)-1;f&=~(1<<g),c+=1;var w=32-gn(a)+g;if(30<w){var R=g-g%5;w=(f&(1<<R)-1).toString(32),f>>=R,g-=R,Si=1<<32-gn(a)+g|c<<g|f,bi=w+s}else Si=1<<w|c<<g|f,bi=s}function Op(s){s.return!==null&&(uo(s,1),XE(s,1,0))}function Mp(s){for(;s===fd;)fd=Ra[--xa],Ra[xa]=null,pd=Ra[--xa],Ra[xa]=null;for(;s===lo;)lo=nr[--rr],nr[rr]=null,bi=nr[--rr],nr[rr]=null,Si=nr[--rr],nr[rr]=null}var Wn=null,Hn=null,ct=!1,Cr=null;function JE(s,a){var c=ar(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function ZE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=ns(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Wn=s,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=lo!==null?{id:Si,overflow:bi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ar(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Wn=s,Hn=null,!0):!1;default:return!1}}function Lp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Vp(s){if(ct){var a=Hn;if(a){var c=a;if(!ZE(s,a)){if(Lp(s))throw Error(t(418));a=ns(c.nextSibling);var f=Wn;a&&ZE(s,a)?JE(f,c):(s.flags=s.flags&-4097|2,ct=!1,Wn=s)}}else{if(Lp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Wn=s}}}function e1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function md(s){if(s!==Wn)return!1;if(!ct)return e1(s),ct=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ap(s.type,s.memoizedProps)),a&&(a=Hn)){if(Lp(s))throw t1(),Error(t(418));for(;a;)JE(s,a),a=ns(a.nextSibling)}if(e1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Hn=ns(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Hn=null}}else Hn=Wn?ns(s.stateNode.nextSibling):null;return!0}function t1(){for(var s=Hn;s;)s=ns(s.nextSibling)}function Aa(){Hn=Wn=null,ct=!1}function Fp(s){Cr===null?Cr=[s]:Cr.push(s)}var QD=F.ReactCurrentBatchConfig;function Jl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(R){var j=g.refs;R===null?delete j[w]:j[w]=R},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function gd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function n1(s){var a=s._init;return a(s._payload)}function r1(s){function a(Y,B){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function c(Y,B){if(!s)return null;for(;B!==null;)a(Y,B),B=B.sibling;return null}function f(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=fs(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=2,B):Q):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function R(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,Q,oe){return B===null||B.tag!==6?(B=Cm(Q,Y.mode,oe),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function $(Y,B,Q,oe){var Ee=Q.type;return Ee===k?ie(Y,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_e&&n1(Ee)===B.type)?(oe=g(B,Q.props),oe.ref=Jl(Y,B,Q),oe.return=Y,oe):(oe=Ud(Q.type,Q.key,Q.props,null,Y.mode,oe),oe.ref=Jl(Y,B,Q),oe.return=Y,oe)}function X(Y,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Pm(Q,Y.mode,oe),B.return=Y,B):(B=g(B,Q.children||[]),B.return=Y,B)}function ie(Y,B,Q,oe,Ee){return B===null||B.tag!==7?(B=yo(Q,Y.mode,oe,Ee),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function se(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Cm(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return Q=Ud(B.type,B.key,B.props,null,Y.mode,Q),Q.ref=Jl(Y,null,B),Q.return=Y,Q;case z:return B=Pm(B,Y.mode,Q),B.return=Y,B;case _e:var oe=B._init;return se(Y,oe(B._payload),Q)}if(Pt(B)||de(B))return B=yo(B,Y.mode,Q,null),B.return=Y,B;gd(Y,B)}return null}function re(Y,B,Q,oe){var Ee=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ee!==null?null:j(Y,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Ee?$(Y,B,Q,oe):null;case z:return Q.key===Ee?X(Y,B,Q,oe):null;case _e:return Ee=Q._init,re(Y,B,Ee(Q._payload),oe)}if(Pt(Q)||de(Q))return Ee!==null?null:ie(Y,B,Q,oe,null);gd(Y,Q)}return null}function pe(Y,B,Q,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Y=Y.get(Q)||null,j(B,Y,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case W:return Y=Y.get(oe.key===null?Q:oe.key)||null,$(B,Y,oe,Ee);case z:return Y=Y.get(oe.key===null?Q:oe.key)||null,X(B,Y,oe,Ee);case _e:var be=oe._init;return pe(Y,B,Q,be(oe._payload),Ee)}if(Pt(oe)||de(oe))return Y=Y.get(Q)||null,ie(B,Y,oe,Ee,null);gd(B,oe)}return null}function ve(Y,B,Q,oe){for(var Ee=null,be=null,Ie=B,Pe=B=0,$t=null;Ie!==null&&Pe<Q.length;Pe++){Ie.index>Pe?($t=Ie,Ie=null):$t=Ie.sibling;var Ge=re(Y,Ie,Q[Pe],oe);if(Ge===null){Ie===null&&(Ie=$t);break}s&&Ie&&Ge.alternate===null&&a(Y,Ie),B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge,Ie=$t}if(Pe===Q.length)return c(Y,Ie),ct&&uo(Y,Pe),Ee;if(Ie===null){for(;Pe<Q.length;Pe++)Ie=se(Y,Q[Pe],oe),Ie!==null&&(B=w(Ie,B,Pe),be===null?Ee=Ie:be.sibling=Ie,be=Ie);return ct&&uo(Y,Pe),Ee}for(Ie=f(Y,Ie);Pe<Q.length;Pe++)$t=pe(Ie,Y,Pe,Q[Pe],oe),$t!==null&&(s&&$t.alternate!==null&&Ie.delete($t.key===null?Pe:$t.key),B=w($t,B,Pe),be===null?Ee=$t:be.sibling=$t,be=$t);return s&&Ie.forEach(function(ps){return a(Y,ps)}),ct&&uo(Y,Pe),Ee}function we(Y,B,Q,oe){var Ee=de(Q);if(typeof Ee!="function")throw Error(t(150));if(Q=Ee.call(Q),Q==null)throw Error(t(151));for(var be=Ee=null,Ie=B,Pe=B=0,$t=null,Ge=Q.next();Ie!==null&&!Ge.done;Pe++,Ge=Q.next()){Ie.index>Pe?($t=Ie,Ie=null):$t=Ie.sibling;var ps=re(Y,Ie,Ge.value,oe);if(ps===null){Ie===null&&(Ie=$t);break}s&&Ie&&ps.alternate===null&&a(Y,Ie),B=w(ps,B,Pe),be===null?Ee=ps:be.sibling=ps,be=ps,Ie=$t}if(Ge.done)return c(Y,Ie),ct&&uo(Y,Pe),Ee;if(Ie===null){for(;!Ge.done;Pe++,Ge=Q.next())Ge=se(Y,Ge.value,oe),Ge!==null&&(B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge);return ct&&uo(Y,Pe),Ee}for(Ie=f(Y,Ie);!Ge.done;Pe++,Ge=Q.next())Ge=pe(Ie,Y,Pe,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&Ie.delete(Ge.key===null?Pe:Ge.key),B=w(Ge,B,Pe),be===null?Ee=Ge:be.sibling=Ge,be=Ge);return s&&Ie.forEach(function(CN){return a(Y,CN)}),ct&&uo(Y,Pe),Ee}function wt(Y,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Ee=Q.key,be=B;be!==null;){if(be.key===Ee){if(Ee=Q.type,Ee===k){if(be.tag===7){c(Y,be.sibling),B=g(be,Q.props.children),B.return=Y,Y=B;break e}}else if(be.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_e&&n1(Ee)===be.type){c(Y,be.sibling),B=g(be,Q.props),B.ref=Jl(Y,be,Q),B.return=Y,Y=B;break e}c(Y,be);break}else a(Y,be);be=be.sibling}Q.type===k?(B=yo(Q.props.children,Y.mode,oe,Q.key),B.return=Y,Y=B):(oe=Ud(Q.type,Q.key,Q.props,null,Y.mode,oe),oe.ref=Jl(Y,B,Q),oe.return=Y,Y=oe)}return R(Y);case z:e:{for(be=Q.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(Y,B.sibling),B=g(B,Q.children||[]),B.return=Y,Y=B;break e}else{c(Y,B);break}else a(Y,B);B=B.sibling}B=Pm(Q,Y.mode,oe),B.return=Y,Y=B}return R(Y);case _e:return be=Q._init,wt(Y,B,be(Q._payload),oe)}if(Pt(Q))return ve(Y,B,Q,oe);if(de(Q))return we(Y,B,Q,oe);gd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(Y,B.sibling),B=g(B,Q),B.return=Y,Y=B):(c(Y,B),B=Cm(Q,Y.mode,oe),B.return=Y,Y=B),R(Y)):c(Y,B)}return wt}var Ca=r1(!0),i1=r1(!1),vd=rs(null),yd=null,Pa=null,jp=null;function Up(){jp=Pa=yd=null}function qp(s){var a=vd.current;st(vd),s._currentValue=a}function $p(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function ka(s,a){yd=s,jp=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(In=!0),s.firstContext=null)}function ir(s){var a=s._currentValue;if(jp!==s)if(s={context:s,memoizedValue:a,next:null},Pa===null){if(yd===null)throw Error(t(308));Pa=s,yd.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return a}var co=null;function zp(s){co===null?co=[s]:co.push(s)}function s1(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,zp(a)):(c.next=g.next,g.next=c),a.interleaved=c,Ii(s,f)}function Ii(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var os=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function as(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Ii(s,c)}return g=f.interleaved,g===null?(a.next=a,zp(f)):(a.next=g.next,g.next=a),f.interleaved=a,Ii(s,c)}function _d(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qi(s,c)}}function a1(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=R:w=w.next=R,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function wd(s,a,c,f){var g=s.updateQueue;os=!1;var w=g.firstBaseUpdate,R=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var $=j,X=$.next;$.next=null,R===null?w=X:R.next=X,R=$;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==R&&(j===null?ie.firstBaseUpdate=X:j.next=X,ie.lastBaseUpdate=$))}if(w!==null){var se=g.baseState;R=0,ie=X=$=null,j=w;do{var re=j.lane,pe=j.eventTime;if((f&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,we=j;switch(re=a,pe=c,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){se=ve.call(pe,se,re);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,se,re):ve,re==null)break e;se=le({},se,re);break e;case 2:os=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[j]:re.push(j))}else pe={eventTime:pe,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(X=ie=pe,$=se):ie=ie.next=pe,R|=re;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&($=se),g.baseState=$,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do R|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);po|=R,s.lanes=R,s.memoizedState=se}}function l1(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Zl={},Jr=rs(Zl),eu=rs(Zl),tu=rs(Zl);function ho(s){if(s===Zl)throw Error(t(174));return s}function Wp(s,a){switch(tt(tu,a),tt(eu,s),tt(Jr,Zl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=rt(a,s)}st(Jr),tt(Jr,a)}function Da(){st(Jr),st(eu),st(tu)}function u1(s){ho(tu.current);var a=ho(Jr.current),c=rt(a,s.type);a!==c&&(tt(eu,s),tt(Jr,c))}function Hp(s){eu.current===s&&(st(Jr),st(eu))}var ht=rs(0);function Ed(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gp=[];function Kp(){for(var s=0;s<Gp.length;s++)Gp[s]._workInProgressVersionPrimary=null;Gp.length=0}var Td=F.ReactCurrentDispatcher,Yp=F.ReactCurrentBatchConfig,fo=0,ft=null,Ot=null,Ut=null,Sd=!1,nu=!1,ru=0,XD=0;function tn(){throw Error(t(321))}function Qp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Ar(s[c],a[c]))return!1;return!0}function Xp(s,a,c,f,g,w){if(fo=w,ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Td.current=s===null||s.memoizedState===null?tN:nN,s=c(f,g),nu){w=0;do{if(nu=!1,ru=0,25<=w)throw Error(t(301));w+=1,Ut=Ot=null,a.updateQueue=null,Td.current=rN,s=c(f,g)}while(nu)}if(Td.current=Rd,a=Ot!==null&&Ot.next!==null,fo=0,Ut=Ot=ft=null,Sd=!1,a)throw Error(t(300));return s}function Jp(){var s=ru!==0;return ru=0,s}function Zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function sr(){if(Ot===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var a=Ut===null?ft.memoizedState:Ut.next;if(a!==null)Ut=a,Ot=s;else{if(s===null)throw Error(t(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?ft.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function iu(s,a){return typeof a=="function"?a(s):a}function Zp(s){var a=sr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Ot,g=f.baseQueue,w=c.pending;if(w!==null){if(g!==null){var R=g.next;g.next=w.next,w.next=R}f.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,f=f.baseState;var j=R=null,$=null,X=w;do{var ie=X.lane;if((fo&ie)===ie)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var se={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(j=$=se,R=f):$=$.next=se,ft.lanes|=ie,po|=ie}X=X.next}while(X!==null&&X!==w);$===null?R=f:$.next=j,Ar(f,a.memoizedState)||(In=!0),a.memoizedState=f,a.baseState=R,a.baseQueue=$,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do w=g.lane,ft.lanes|=w,po|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function em(s){var a=sr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do w=s(w,R.action),R=R.next;while(R!==g);Ar(w,a.memoizedState)||(In=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,f]}function c1(){}function d1(s,a){var c=ft,f=sr(),g=a(),w=!Ar(f.memoizedState,g);if(w&&(f.memoizedState=g,In=!0),f=f.queue,tm(p1.bind(null,c,f,s),[s]),f.getSnapshot!==a||w||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,su(9,f1.bind(null,c,f,g,a),void 0,null),qt===null)throw Error(t(349));(fo&30)!==0||h1(c,a,g)}return g}function h1(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function f1(s,a,c,f){a.value=c,a.getSnapshot=f,m1(a)&&g1(s)}function p1(s,a,c){return c(function(){m1(a)&&g1(s)})}function m1(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Ar(s,c)}catch{return!0}}function g1(s){var a=Ii(s,1);a!==null&&Nr(a,s,1,-1)}function v1(s){var a=Zr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:s},a.queue=s,s=s.dispatch=eN.bind(null,ft,s),[a.memoizedState,s]}function su(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=ft.updateQueue,a===null?(a={lastEffect:null,stores:null},ft.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function y1(){return sr().memoizedState}function bd(s,a,c,f){var g=Zr();ft.flags|=s,g.memoizedState=su(1|a,c,void 0,f===void 0?null:f)}function Id(s,a,c,f){var g=sr();f=f===void 0?null:f;var w=void 0;if(Ot!==null){var R=Ot.memoizedState;if(w=R.destroy,f!==null&&Qp(f,R.deps)){g.memoizedState=su(a,c,w,f);return}}ft.flags|=s,g.memoizedState=su(1|a,c,w,f)}function _1(s,a){return bd(8390656,8,s,a)}function tm(s,a){return Id(2048,8,s,a)}function w1(s,a){return Id(4,2,s,a)}function E1(s,a){return Id(4,4,s,a)}function T1(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function S1(s,a,c){return c=c!=null?c.concat([s]):null,Id(4,4,T1.bind(null,a,s),c)}function nm(){}function b1(s,a){var c=sr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Qp(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function I1(s,a){var c=sr();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Qp(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function R1(s,a,c){return(fo&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=c):(Ar(c,a)||(c=to(),ft.lanes|=c,po|=c,s.baseState=!0),a)}function JD(s,a){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var f=Yp.transition;Yp.transition={};try{s(!1),a()}finally{$e=c,Yp.transition=f}}function x1(){return sr().memoizedState}function ZD(s,a,c){var f=ds(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},A1(s))C1(a,c);else if(c=s1(s,a,c,f),c!==null){var g=_n();Nr(c,s,f,g),P1(c,a,f)}}function eN(s,a,c){var f=ds(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(A1(s))C1(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var R=a.lastRenderedState,j=w(R,c);if(g.hasEagerState=!0,g.eagerState=j,Ar(j,R)){var $=a.interleaved;$===null?(g.next=g,zp(a)):(g.next=$.next,$.next=g),a.interleaved=g;return}}catch{}finally{}c=s1(s,a,g,f),c!==null&&(g=_n(),Nr(c,s,f,g),P1(c,a,f))}}function A1(s){var a=s.alternate;return s===ft||a!==null&&a===ft}function C1(s,a){nu=Sd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function P1(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Qi(s,c)}}var Rd={readContext:ir,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},tN={readContext:ir,useCallback:function(s,a){return Zr().memoizedState=[s,a===void 0?null:a],s},useContext:ir,useEffect:_1,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,bd(4194308,4,T1.bind(null,a,s),c)},useLayoutEffect:function(s,a){return bd(4194308,4,s,a)},useInsertionEffect:function(s,a){return bd(4,2,s,a)},useMemo:function(s,a){var c=Zr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=Zr();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=ZD.bind(null,ft,s),[f.memoizedState,s]},useRef:function(s){var a=Zr();return s={current:s},a.memoizedState=s},useState:v1,useDebugValue:nm,useDeferredValue:function(s){return Zr().memoizedState=s},useTransition:function(){var s=v1(!1),a=s[0];return s=JD.bind(null,s[1]),Zr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=ft,g=Zr();if(ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),qt===null)throw Error(t(349));(fo&30)!==0||h1(f,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,_1(p1.bind(null,f,w,s),[s]),f.flags|=2048,su(9,f1.bind(null,f,w,c,a),void 0,null),c},useId:function(){var s=Zr(),a=qt.identifierPrefix;if(ct){var c=bi,f=Si;c=(f&~(1<<32-gn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=ru++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=XD++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},nN={readContext:ir,useCallback:b1,useContext:ir,useEffect:tm,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:E1,useMemo:I1,useReducer:Zp,useRef:y1,useState:function(){return Zp(iu)},useDebugValue:nm,useDeferredValue:function(s){var a=sr();return R1(a,Ot.memoizedState,s)},useTransition:function(){var s=Zp(iu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:c1,useSyncExternalStore:d1,useId:x1,unstable_isNewReconciler:!1},rN={readContext:ir,useCallback:b1,useContext:ir,useEffect:tm,useImperativeHandle:S1,useInsertionEffect:w1,useLayoutEffect:E1,useMemo:I1,useReducer:em,useRef:y1,useState:function(){return em(iu)},useDebugValue:nm,useDeferredValue:function(s){var a=sr();return Ot===null?a.memoizedState=s:R1(a,Ot.memoizedState,s)},useTransition:function(){var s=em(iu)[0],a=sr().memoizedState;return[s,a]},useMutableSource:c1,useSyncExternalStore:d1,useId:x1,unstable_isNewReconciler:!1};function Pr(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function rm(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:le({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var xd={isMounted:function(s){return(s=s._reactInternals)?Er(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=_n(),g=ds(s),w=Ri(f,g);w.payload=a,c!=null&&(w.callback=c),a=as(s,w,g),a!==null&&(Nr(a,s,g,f),_d(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=_n(),g=ds(s),w=Ri(f,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=as(s,w,g),a!==null&&(Nr(a,s,g,f),_d(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=_n(),f=ds(s),g=Ri(c,f);g.tag=2,a!=null&&(g.callback=a),a=as(s,g,f),a!==null&&(Nr(a,s,f,c),_d(a,s,f))}};function k1(s,a,c,f,g,w,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,R):a.prototype&&a.prototype.isPureReactComponent?!Wl(c,f)||!Wl(g,w):!0}function D1(s,a,c){var f=!1,g=is,w=a.contextType;return typeof w=="object"&&w!==null?w=ir(w):(g=bn(a)?ao:en.current,f=a.contextTypes,w=(f=f!=null)?Ia(s,g):is),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function N1(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&xd.enqueueReplaceState(a,a.state,null)}function im(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Bp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=ir(w):(w=bn(a)?ao:en.current,g.context=Ia(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(rm(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&xd.enqueueReplaceState(g,g.state,null),wd(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Na(s,a){try{var c="",f=a;do c+=Re(f),f=f.return;while(f);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function sm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function om(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var iN=typeof WeakMap=="function"?WeakMap:Map;function O1(s,a,c){c=Ri(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Od||(Od=!0,Em=f),om(s,a)},c}function M1(s,a,c){c=Ri(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){om(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){om(s,a),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function L1(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new iN;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=yN.bind(null,s,a,c),a.then(s,s))}function V1(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function F1(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ri(-1,1),a.tag=2,as(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var sN=F.ReactCurrentOwner,In=!1;function yn(s,a,c,f){a.child=s===null?i1(a,null,c,f):Ca(a,s.child,c,f)}function j1(s,a,c,f,g){c=c.render;var w=a.ref;return ka(a,g),f=Xp(s,a,c,f,w,g),c=Jp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,xi(s,a,g)):(ct&&c&&Op(a),a.flags|=1,yn(s,a,f,g),a.child)}function U1(s,a,c,f,g){if(s===null){var w=c.type;return typeof w=="function"&&!Am(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,q1(s,a,w,f,g)):(s=Ud(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&g)===0){var R=w.memoizedProps;if(c=c.compare,c=c!==null?c:Wl,c(R,f)&&s.ref===a.ref)return xi(s,a,g)}return a.flags|=1,s=fs(w,f),s.ref=a.ref,s.return=a,a.child=s}function q1(s,a,c,f,g){if(s!==null){var w=s.memoizedProps;if(Wl(w,f)&&s.ref===a.ref)if(In=!1,a.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(In=!0);else return a.lanes=s.lanes,xi(s,a,g)}return am(s,a,c,f,g)}function $1(s,a,c){var f=a.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ma,Gn),Gn|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(Ma,Gn),Gn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,tt(Ma,Gn),Gn|=f}else w!==null?(f=w.baseLanes|c,a.memoizedState=null):f=c,tt(Ma,Gn),Gn|=f;return yn(s,a,g,c),a.child}function z1(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function am(s,a,c,f,g){var w=bn(c)?ao:en.current;return w=Ia(a,w),ka(a,g),c=Xp(s,a,c,f,w,g),f=Jp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,xi(s,a,g)):(ct&&f&&Op(a),a.flags|=1,yn(s,a,c,g),a.child)}function B1(s,a,c,f,g){if(bn(c)){var w=!0;dd(a)}else w=!1;if(ka(a,g),a.stateNode===null)Cd(s,a),D1(a,c,f),im(a,c,f,g),f=!0;else if(s===null){var R=a.stateNode,j=a.memoizedProps;R.props=j;var $=R.context,X=c.contextType;typeof X=="object"&&X!==null?X=ir(X):(X=bn(c)?ao:en.current,X=Ia(a,X));var ie=c.getDerivedStateFromProps,se=typeof ie=="function"||typeof R.getSnapshotBeforeUpdate=="function";se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==f||$!==X)&&N1(a,R,f,X),os=!1;var re=a.memoizedState;R.state=re,wd(a,f,R,g),$=a.memoizedState,j!==f||re!==$||Sn.current||os?(typeof ie=="function"&&(rm(a,c,ie,f),$=a.memoizedState),(j=os||k1(a,c,j,f,re,$,X))?(se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=$),R.props=f,R.state=$,R.context=X,f=j):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{R=a.stateNode,o1(s,a),j=a.memoizedProps,X=a.type===a.elementType?j:Pr(a.type,j),R.props=X,se=a.pendingProps,re=R.context,$=c.contextType,typeof $=="object"&&$!==null?$=ir($):($=bn(c)?ao:en.current,$=Ia(a,$));var pe=c.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(j!==se||re!==$)&&N1(a,R,f,$),os=!1,re=a.memoizedState,R.state=re,wd(a,f,R,g);var ve=a.memoizedState;j!==se||re!==ve||Sn.current||os?(typeof pe=="function"&&(rm(a,c,pe,f),ve=a.memoizedState),(X=os||k1(a,c,X,f,re,ve,$)||!1)?(ie||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,ve,$),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,ve,$)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ve),R.props=f,R.state=ve,R.context=$,f=X):(typeof R.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(a.flags|=1024),f=!1)}return lm(s,a,c,f,w,g)}function lm(s,a,c,f,g,w){z1(s,a);var R=(a.flags&128)!==0;if(!f&&!R)return g&&YE(a,c,!1),xi(s,a,w);f=a.stateNode,sN.current=a;var j=R&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&R?(a.child=Ca(a,s.child,null,w),a.child=Ca(a,null,j,w)):yn(s,a,j,w),a.memoizedState=f.state,g&&YE(a,c,!0),a.child}function W1(s){var a=s.stateNode;a.pendingContext?GE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&GE(s,a.context,!1),Wp(s,a.containerInfo)}function H1(s,a,c,f,g){return Aa(),Fp(g),a.flags|=256,yn(s,a,c,f),a.child}var um={dehydrated:null,treeContext:null,retryLane:0};function cm(s){return{baseLanes:s,cachePool:null,transitions:null}}function G1(s,a,c){var f=a.pendingProps,g=ht.current,w=!1,R=(a.flags&128)!==0,j;if((j=R)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),tt(ht,g&1),s===null)return Vp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=f.children,s=f.fallback,w?(f=a.mode,w=a.child,R={mode:"hidden",children:R},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=R):w=qd(R,f,0,null),s=yo(s,f,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=cm(c),a.memoizedState=um,s):dm(a,R));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return oN(s,a,R,f,j,g,c);if(w){w=f.fallback,R=a.mode,g=s.child,j=g.sibling;var $={mode:"hidden",children:f.children};return(R&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=$,a.deletions=null):(f=fs(g,$),f.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=fs(j,w):(w=yo(w,R,c,null),w.flags|=2),w.return=a,f.return=a,f.sibling=w,a.child=f,f=w,w=a.child,R=s.child.memoizedState,R=R===null?cm(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},w.memoizedState=R,w.childLanes=s.childLanes&~c,a.memoizedState=um,f}return w=s.child,s=w.sibling,f=fs(w,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function dm(s,a){return a=qd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ad(s,a,c,f){return f!==null&&Fp(f),Ca(a,s.child,null,c),s=dm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function oN(s,a,c,f,g,w,R){if(c)return a.flags&256?(a.flags&=-257,f=sm(Error(t(422))),Ad(s,a,R,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=f.fallback,g=a.mode,f=qd({mode:"visible",children:f.children},g,0,null),w=yo(w,g,R,null),w.flags|=2,f.return=a,w.return=a,f.sibling=w,a.child=f,(a.mode&1)!==0&&Ca(a,s.child,null,R),a.child.memoizedState=cm(R),a.memoizedState=um,w);if((a.mode&1)===0)return Ad(s,a,R,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var j=f.dgst;return f=j,w=Error(t(419)),f=sm(w,f,void 0),Ad(s,a,R,f)}if(j=(R&s.childLanes)!==0,In||j){if(f=qt,f!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|R))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ii(s,g),Nr(f,s,g,-1))}return xm(),f=sm(Error(t(421))),Ad(s,a,R,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=_N.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Hn=ns(g.nextSibling),Wn=a,ct=!0,Cr=null,s!==null&&(nr[rr++]=Si,nr[rr++]=bi,nr[rr++]=lo,Si=s.id,bi=s.overflow,lo=a),a=dm(a,f.children),a.flags|=4096,a)}function K1(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),$p(s.return,a,c)}function hm(s,a,c,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function Y1(s,a,c){var f=a.pendingProps,g=f.revealOrder,w=f.tail;if(yn(s,a,f.children,c),f=ht.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&K1(s,c,a);else if(s.tag===19)K1(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(tt(ht,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Ed(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),hm(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ed(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}hm(a,!0,c,null,w);break;case"together":hm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function xi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),po|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=fs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=fs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function aN(s,a,c){switch(a.tag){case 3:W1(a),Aa();break;case 5:u1(a);break;case 1:bn(a.type)&&dd(a);break;case 4:Wp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;tt(vd,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(tt(ht,ht.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?G1(s,a,c):(tt(ht,ht.current&1),s=xi(s,a,c),s!==null?s.sibling:null);tt(ht,ht.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return Y1(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),tt(ht,ht.current),f)break;return null;case 22:case 23:return a.lanes=0,$1(s,a,c)}return xi(s,a,c)}var Q1,fm,X1,J1;Q1=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},fm=function(){},X1=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,ho(Jr.current);var w=null;switch(c){case"input":g=vr(s,g),f=vr(s,f),w=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),w=[];break;case"textarea":g=Bt(s,g),f=Bt(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ld)}Rl(c,f);var R;c=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(R in j)j.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in f){var $=f[X];if(j=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&$!==j&&($!=null||j!=null))if(X==="style")if(j){for(R in j)!j.hasOwnProperty(R)||$&&$.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in $)$.hasOwnProperty(R)&&j[R]!==$[R]&&(c||(c={}),c[R]=$[R])}else c||(w||(w=[]),w.push(X,c)),c=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(w=w||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&it("scroll",s),w||j===$||(w=[])):(w=w||[]).push(X,$))}c&&(w=w||[]).push("style",c);var X=w;(a.updateQueue=X)&&(a.flags|=4)}},J1=function(s,a,c,f){c!==f&&(a.flags|=4)};function ou(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function lN(s,a,c){var f=a.pendingProps;switch(Mp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return bn(a.type)&&cd(),nn(a),null;case 3:return f=a.stateNode,Da(),st(Sn),st(en),Kp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(md(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cr!==null&&(bm(Cr),Cr=null))),fm(s,a),nn(a),null;case 5:Hp(a);var g=ho(tu.current);if(c=a.type,s!==null&&a.stateNode!=null)X1(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return nn(a),null}if(s=ho(Jr.current),md(a)){f=a.stateNode,c=a.type;var w=a.memoizedProps;switch(f[Xr]=a,f[Ql]=w,s=(a.mode&1)!==0,c){case"dialog":it("cancel",f),it("close",f);break;case"iframe":case"object":case"embed":it("load",f);break;case"video":case"audio":for(g=0;g<Gl.length;g++)it(Gl[g],f);break;case"source":it("error",f);break;case"img":case"image":case"link":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"input":qe(f,w),it("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},it("invalid",f);break;case"textarea":at(f,w),it("invalid",f)}Rl(c,w),g=null;for(var R in w)if(w.hasOwnProperty(R)){var j=w[R];R==="children"?typeof j=="string"?f.textContent!==j&&(w.suppressHydrationWarning!==!0&&ad(f.textContent,j,s),g=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&ad(f.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(R)&&j!=null&&R==="onScroll"&&it("scroll",f)}switch(c){case"input":fn(f),Fn(f,w,!0);break;case"textarea":fn(f),jn(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=ld)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=R.createElement(c,{is:f.is}):(s=R.createElement(c),c==="select"&&(R=s,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):s=R.createElementNS(s,c),s[Xr]=a,s[Ql]=f,Q1(s,a,!1,!1),a.stateNode=s;e:{switch(R=xl(c,f),c){case"dialog":it("cancel",s),it("close",s),g=f;break;case"iframe":case"object":case"embed":it("load",s),g=f;break;case"video":case"audio":for(g=0;g<Gl.length;g++)it(Gl[g],s);g=f;break;case"source":it("error",s),g=f;break;case"img":case"image":case"link":it("error",s),it("load",s),g=f;break;case"details":it("toggle",s),g=f;break;case"input":qe(s,f),g=vr(s,f),it("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),it("invalid",s);break;case"textarea":at(s,f),g=Bt(s,f),it("invalid",s);break;default:g=f}Rl(c,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var $=j[w];w==="style"?Un(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Wi(s,$)):w==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&yr(s,$):typeof $=="number"&&yr(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&it("scroll",s):$!=null&&M(s,w,$,R))}switch(c){case"input":fn(s),Fn(s,f,!1);break;case"textarea":fn(s),jn(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Oe(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?kt(s,!!f.multiple,w,!1):f.defaultValue!=null&&kt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ld)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(s&&a.stateNode!=null)J1(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=ho(tu.current),ho(Jr.current),md(a)){if(f=a.stateNode,c=a.memoizedProps,f[Xr]=a,(w=f.nodeValue!==c)&&(s=Wn,s!==null))switch(s.tag){case 3:ad(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ad(f.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Xr]=a,a.stateNode=f}return nn(a),null;case 13:if(st(ht),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)t1(),Aa(),a.flags|=98560,w=!1;else if(w=md(a),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Xr]=a}else Aa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),w=!1}else Cr!==null&&(bm(Cr),Cr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ht.current&1)!==0?Mt===0&&(Mt=3):xm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return Da(),fm(s,a),s===null&&Kl(a.stateNode.containerInfo),nn(a),null;case 10:return qp(a.type._context),nn(a),null;case 17:return bn(a.type)&&cd(),nn(a),null;case 19:if(st(ht),w=a.memoizedState,w===null)return nn(a),null;if(f=(a.flags&128)!==0,R=w.rendering,R===null)if(f)ou(w,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(R=Ed(s),R!==null){for(a.flags|=128,ou(w,!1),f=R.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)w=c,s=f,w.flags&=14680066,R=w.alternate,R===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=R.childLanes,w.lanes=R.lanes,w.child=R.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=R.memoizedProps,w.memoizedState=R.memoizedState,w.updateQueue=R.updateQueue,w.type=R.type,s=R.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return tt(ht,ht.current&1|2),a.child}s=s.sibling}w.tail!==null&&et()>La&&(a.flags|=128,f=!0,ou(w,!1),a.lanes=4194304)}else{if(!f)if(s=Ed(R),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ou(w,!0),w.tail===null&&w.tailMode==="hidden"&&!R.alternate&&!ct)return nn(a),null}else 2*et()-w.renderingStartTime>La&&c!==1073741824&&(a.flags|=128,f=!0,ou(w,!1),a.lanes=4194304);w.isBackwards?(R.sibling=a.child,a.child=R):(c=w.last,c!==null?c.sibling=R:a.child=R,w.last=R)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=et(),a.sibling=null,c=ht.current,tt(ht,f?c&1|2:c&1),a):(nn(a),null);case 22:case 23:return Rm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Gn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function uN(s,a){switch(Mp(a),a.tag){case 1:return bn(a.type)&&cd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Da(),st(Sn),st(en),Kp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Hp(a),null;case 13:if(st(ht),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Aa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(ht),null;case 4:return Da(),null;case 10:return qp(a.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var Pd=!1,rn=!1,cN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Oa(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){gt(s,a,f)}else c.current=null}function pm(s,a,c){try{c()}catch(f){gt(s,a,f)}}var Z1=!1;function dN(s,a){if(Rp=Zi,s=kE(),yp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var R=0,j=-1,$=-1,X=0,ie=0,se=s,re=null;t:for(;;){for(var pe;se!==c||g!==0&&se.nodeType!==3||(j=R+g),se!==w||f!==0&&se.nodeType!==3||($=R+f),se.nodeType===3&&(R+=se.nodeValue.length),(pe=se.firstChild)!==null;)re=se,se=pe;for(;;){if(se===s)break t;if(re===c&&++X===g&&(j=R),re===w&&++ie===f&&($=R),(pe=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=pe}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(xp={focusedElem:s,selectionRange:c},Zi=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var ve=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,wt=ve.memoizedState,Y=a.stateNode,B=Y.getSnapshotBeforeUpdate(a.elementType===a.type?we:Pr(a.type,we),wt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){gt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return ve=Z1,Z1=!1,ve}function au(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&pm(a,c,w)}g=g.next}while(g!==f)}}function kd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function mm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function eT(s){var a=s.alternate;a!==null&&(s.alternate=null,eT(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Xr],delete a[Ql],delete a[kp],delete a[GD],delete a[KD])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function tT(s){return s.tag===5||s.tag===3||s.tag===4}function nT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||tT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function gm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ld));else if(f!==4&&(s=s.child,s!==null))for(gm(s,a,c),s=s.sibling;s!==null;)gm(s,a,c),s=s.sibling}function vm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(vm(s,a,c),s=s.sibling;s!==null;)vm(s,a,c),s=s.sibling}var Gt=null,kr=!1;function ls(s,a,c){for(c=c.child;c!==null;)rT(s,a,c),c=c.sibling}function rT(s,a,c){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Zs,c)}catch{}switch(c.tag){case 5:rn||Oa(c,a);case 6:var f=Gt,g=kr;Gt=null,ls(s,a,c),Gt=f,kr=g,Gt!==null&&(kr?(s=Gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(kr?(s=Gt,c=c.stateNode,s.nodeType===8?Pp(s.parentNode,c):s.nodeType===1&&Pp(s,c),Rr(s)):Pp(Gt,c.stateNode));break;case 4:f=Gt,g=kr,Gt=c.stateNode.containerInfo,kr=!0,ls(s,a,c),Gt=f,kr=g;break;case 0:case 11:case 14:case 15:if(!rn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,R=w.destroy;w=w.tag,R!==void 0&&((w&2)!==0||(w&4)!==0)&&pm(c,a,R),g=g.next}while(g!==f)}ls(s,a,c);break;case 1:if(!rn&&(Oa(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(j){gt(c,a,j)}ls(s,a,c);break;case 21:ls(s,a,c);break;case 22:c.mode&1?(rn=(f=rn)||c.memoizedState!==null,ls(s,a,c),rn=f):ls(s,a,c);break;default:ls(s,a,c)}}function iT(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new cN),a.forEach(function(f){var g=wN.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Dr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var w=s,R=a,j=R;e:for(;j!==null;){switch(j.tag){case 5:Gt=j.stateNode,kr=!1;break e;case 3:Gt=j.stateNode.containerInfo,kr=!0;break e;case 4:Gt=j.stateNode.containerInfo,kr=!0;break e}j=j.return}if(Gt===null)throw Error(t(160));rT(w,R,g),Gt=null,kr=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(X){gt(g,a,X)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)sT(a,s),a=a.sibling}function sT(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(a,s),ei(s),f&4){try{au(3,s,s.return),kd(3,s)}catch(we){gt(s,s.return,we)}try{au(5,s,s.return)}catch(we){gt(s,s.return,we)}}break;case 1:Dr(a,s),ei(s),f&512&&c!==null&&Oa(c,c.return);break;case 5:if(Dr(a,s),ei(s),f&512&&c!==null&&Oa(c,c.return),s.flags&32){var g=s.stateNode;try{yr(g,"")}catch(we){gt(s,s.return,we)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,R=c!==null?c.memoizedProps:w,j=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&Vn(g,w),xl(j,R);var X=xl(j,w);for(R=0;R<$.length;R+=2){var ie=$[R],se=$[R+1];ie==="style"?Un(g,se):ie==="dangerouslySetInnerHTML"?Wi(g,se):ie==="children"?yr(g,se):M(g,ie,se,X)}switch(j){case"input":Ve(g,w);break;case"textarea":mn(g,w);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?kt(g,!!w.multiple,pe,!1):re!==!!w.multiple&&(w.defaultValue!=null?kt(g,!!w.multiple,w.defaultValue,!0):kt(g,!!w.multiple,w.multiple?[]:"",!1))}g[Ql]=w}catch(we){gt(s,s.return,we)}}break;case 6:if(Dr(a,s),ei(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(we){gt(s,s.return,we)}}break;case 3:if(Dr(a,s),ei(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Rr(a.containerInfo)}catch(we){gt(s,s.return,we)}break;case 4:Dr(a,s),ei(s);break;case 13:Dr(a,s),ei(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(wm=et())),f&4&&iT(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(rn=(X=rn)||ie,Dr(a,s),rn=X):Dr(a,s),ei(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(ge=s,ie=s.child;ie!==null;){for(se=ge=ie;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:au(4,re,re.return);break;case 1:Oa(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){f=re,c=re.return;try{a=f,ve.props=a.memoizedProps,ve.state=a.memoizedState,ve.componentWillUnmount()}catch(we){gt(f,c,we)}}break;case 5:Oa(re,re.return);break;case 22:if(re.memoizedState!==null){lT(se);continue}}pe!==null?(pe.return=re,ge=pe):lT(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{g=se.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=se.stateNode,$=se.memoizedProps.style,R=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=wn("display",R))}catch(we){gt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(we){gt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Dr(a,s),ei(s),f&4&&iT(s);break;case 21:break;default:Dr(a,s),ei(s)}}function ei(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(tT(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(yr(g,""),f.flags&=-33);var w=nT(s);vm(s,w,g);break;case 3:case 4:var R=f.stateNode.containerInfo,j=nT(s);gm(s,j,R);break;default:throw Error(t(161))}}catch($){gt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hN(s,a,c){ge=s,oT(s)}function oT(s,a,c){for(var f=(s.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&f){var R=g.memoizedState!==null||Pd;if(!R){var j=g.alternate,$=j!==null&&j.memoizedState!==null||rn;j=Pd;var X=rn;if(Pd=R,(rn=$)&&!X)for(ge=g;ge!==null;)R=ge,$=R.child,R.tag===22&&R.memoizedState!==null?uT(g):$!==null?($.return=R,ge=$):uT(g);for(;w!==null;)ge=w,oT(w),w=w.sibling;ge=g,Pd=j,rn=X}aT(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ge=w):aT(s)}}function aT(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||kd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!rn)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Pr(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&l1(a,w,f);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}l1(a,R,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var X=a.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Rr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||a.flags&512&&mm(a)}catch(re){gt(a,a.return,re)}}if(a===s){ge=null;break}if(c=a.sibling,c!==null){c.return=a.return,ge=c;break}ge=a.return}}function lT(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ge=c;break}ge=a.return}}function uT(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{kd(4,a)}catch($){gt(a,c,$)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch($){gt(a,g,$)}}var w=a.return;try{mm(a)}catch($){gt(a,w,$)}break;case 5:var R=a.return;try{mm(a)}catch($){gt(a,R,$)}}}catch($){gt(a,a.return,$)}if(a===s){ge=null;break}var j=a.sibling;if(j!==null){j.return=a.return,ge=j;break}ge=a.return}}var fN=Math.ceil,Dd=F.ReactCurrentDispatcher,ym=F.ReactCurrentOwner,or=F.ReactCurrentBatchConfig,We=0,qt=null,It=null,Kt=0,Gn=0,Ma=rs(0),Mt=0,lu=null,po=0,Nd=0,_m=0,uu=null,Rn=null,wm=0,La=1/0,Ai=null,Od=!1,Em=null,us=null,Md=!1,cs=null,Ld=0,cu=0,Tm=null,Vd=-1,Fd=0;function _n(){return(We&6)!==0?et():Vd!==-1?Vd:Vd=et()}function ds(s){return(s.mode&1)===0?1:(We&2)!==0&&Kt!==0?Kt&-Kt:QD.transition!==null?(Fd===0&&(Fd=to()),Fd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Fl(s.type)),s)}function Nr(s,a,c,f){if(50<cu)throw cu=0,Tm=null,Error(t(185));Yi(s,c,f),((We&2)===0||s!==qt)&&(s===qt&&((We&2)===0&&(Nd|=c),Mt===4&&hs(s,Kt)),xn(s,f),c===1&&We===0&&(a.mode&1)===0&&(La=et()+500,hd&&ss()))}function xn(s,a){var c=s.callbackNode;gi(s,a);var f=eo(s,s===qt?Kt:0);if(f===0)c!==null&&Nl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Nl(c),a===1)s.tag===0?YD(dT.bind(null,s)):QE(dT.bind(null,s)),WD(function(){(We&6)===0&&ss()}),c=null;else{switch(Xi(f)){case 1:c=Js;break;case 4:c=Hi;break;case 16:c=Zn;break;case 536870912:c=Fc;break;default:c=Zn}c=_T(c,cT.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function cT(s,a){if(Vd=-1,Fd=0,(We&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Va()&&s.callbackNode!==c)return null;var f=eo(s,s===qt?Kt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=jd(s,f);else{a=f;var g=We;We|=2;var w=fT();(qt!==s||Kt!==a)&&(Ai=null,La=et()+500,go(s,a));do try{gN();break}catch(j){hT(s,j)}while(!0);Up(),Dd.current=w,We=g,It!==null?a=0:(qt=null,Kt=0,a=Mt)}if(a!==0){if(a===2&&(g=$n(s),g!==0&&(f=g,a=Sm(s,g))),a===1)throw c=lu,go(s,0),hs(s,f),xn(s,et()),c;if(a===6)hs(s,f);else{if(g=s.current.alternate,(f&30)===0&&!pN(g)&&(a=jd(s,f),a===2&&(w=$n(s),w!==0&&(f=w,a=Sm(s,w))),a===1))throw c=lu,go(s,0),hs(s,f),xn(s,et()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:vo(s,Rn,Ai);break;case 3:if(hs(s,f),(f&130023424)===f&&(a=wm+500-et(),10<a)){if(eo(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){_n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Cp(vo.bind(null,s,Rn,Ai),a);break}vo(s,Rn,Ai);break;case 4:if(hs(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var R=31-gn(f);w=1<<R,R=a[R],R>g&&(g=R),f&=~w}if(f=g,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*fN(f/1960))-f,10<f){s.timeoutHandle=Cp(vo.bind(null,s,Rn,Ai),f);break}vo(s,Rn,Ai);break;case 5:vo(s,Rn,Ai);break;default:throw Error(t(329))}}}return xn(s,et()),s.callbackNode===c?cT.bind(null,s):null}function Sm(s,a){var c=uu;return s.current.memoizedState.isDehydrated&&(go(s,a).flags|=256),s=jd(s,a),s!==2&&(a=Rn,Rn=c,a!==null&&bm(a)),s}function bm(s){Rn===null?Rn=s:Rn.push.apply(Rn,s)}function pN(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!Ar(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hs(s,a){for(a&=~_m,a&=~Nd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-gn(a),f=1<<c;s[c]=-1,a&=~f}}function dT(s){if((We&6)!==0)throw Error(t(327));Va();var a=eo(s,0);if((a&1)===0)return xn(s,et()),null;var c=jd(s,a);if(s.tag!==0&&c===2){var f=$n(s);f!==0&&(a=f,c=Sm(s,f))}if(c===1)throw c=lu,go(s,0),hs(s,a),xn(s,et()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,vo(s,Rn,Ai),xn(s,et()),null}function Im(s,a){var c=We;We|=1;try{return s(a)}finally{We=c,We===0&&(La=et()+500,hd&&ss())}}function mo(s){cs!==null&&cs.tag===0&&(We&6)===0&&Va();var a=We;We|=1;var c=or.transition,f=$e;try{if(or.transition=null,$e=1,s)return s()}finally{$e=f,or.transition=c,We=a,(We&6)===0&&ss()}}function Rm(){Gn=Ma.current,st(Ma)}function go(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,BD(c)),It!==null)for(c=It.return;c!==null;){var f=c;switch(Mp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&cd();break;case 3:Da(),st(Sn),st(en),Kp();break;case 5:Hp(f);break;case 4:Da();break;case 13:st(ht);break;case 19:st(ht);break;case 10:qp(f.type._context);break;case 22:case 23:Rm()}c=c.return}if(qt=s,It=s=fs(s.current,null),Kt=Gn=a,Mt=0,lu=null,_m=Nd=po=0,Rn=uu=null,co!==null){for(a=0;a<co.length;a++)if(c=co[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,w=c.pending;if(w!==null){var R=w.next;w.next=g,f.next=R}c.pending=f}co=null}return s}function hT(s,a){do{var c=It;try{if(Up(),Td.current=Rd,Sd){for(var f=ft.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Sd=!1}if(fo=0,Ut=Ot=ft=null,nu=!1,ru=0,ym.current=null,c===null||c.return===null){Mt=1,lu=a,It=null;break}e:{var w=s,R=c.return,j=c,$=a;if(a=Kt,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ie=j,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=V1(R);if(pe!==null){pe.flags&=-257,F1(pe,R,j,w,a),pe.mode&1&&L1(w,X,a),a=pe,$=X;var ve=a.updateQueue;if(ve===null){var we=new Set;we.add($),a.updateQueue=we}else ve.add($);break e}else{if((a&1)===0){L1(w,X,a),xm();break e}$=Error(t(426))}}else if(ct&&j.mode&1){var wt=V1(R);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),F1(wt,R,j,w,a),Fp(Na($,j));break e}}w=$=Na($,j),Mt!==4&&(Mt=2),uu===null?uu=[w]:uu.push(w),w=R;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=O1(w,$,a);a1(w,Y);break e;case 1:j=$;var B=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(us===null||!us.has(Q)))){w.flags|=65536,a&=-a,w.lanes|=a;var oe=M1(w,j,a);a1(w,oe);break e}}w=w.return}while(w!==null)}mT(c)}catch(Ee){a=Ee,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function fT(){var s=Dd.current;return Dd.current=Rd,s===null?Rd:s}function xm(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),qt===null||(po&268435455)===0&&(Nd&268435455)===0||hs(qt,Kt)}function jd(s,a){var c=We;We|=2;var f=fT();(qt!==s||Kt!==a)&&(Ai=null,go(s,a));do try{mN();break}catch(g){hT(s,g)}while(!0);if(Up(),We=c,Dd.current=f,It!==null)throw Error(t(261));return qt=null,Kt=0,Mt}function mN(){for(;It!==null;)pT(It)}function gN(){for(;It!==null&&!Lc();)pT(It)}function pT(s){var a=yT(s.alternate,s,Gn);s.memoizedProps=s.pendingProps,a===null?mT(s):It=a,ym.current=null}function mT(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=lN(c,a,Gn),c!==null){It=c;return}}else{if(c=uN(c,a),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Mt=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=s}while(a!==null);Mt===0&&(Mt=5)}function vo(s,a,c){var f=$e,g=or.transition;try{or.transition=null,$e=1,vN(s,a,c,f)}finally{or.transition=g,$e=f}return null}function vN(s,a,c,f){do Va();while(cs!==null);if((We&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Xe(s,w),s===qt&&(It=qt=null,Kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Md||(Md=!0,_T(Zn,function(){return Va(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=or.transition,or.transition=null;var R=$e;$e=1;var j=We;We|=4,ym.current=null,dN(s,c),sT(c,s),VD(xp),Zi=!!Rp,xp=Rp=null,s.current=c,hN(c),cp(),We=j,$e=R,or.transition=w}else s.current=c;if(Md&&(Md=!1,cs=s,Ld=g),w=s.pendingLanes,w===0&&(us=null),jc(c.stateNode),xn(s,et()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Od)throw Od=!1,s=Em,Em=null,s;return(Ld&1)!==0&&s.tag!==0&&Va(),w=s.pendingLanes,(w&1)!==0?s===Tm?cu++:(cu=0,Tm=s):cu=0,ss(),null}function Va(){if(cs!==null){var s=Xi(Ld),a=or.transition,c=$e;try{if(or.transition=null,$e=16>s?16:s,cs===null)var f=!1;else{if(s=cs,cs=null,Ld=0,(We&6)!==0)throw Error(t(331));var g=We;for(We|=4,ge=s.current;ge!==null;){var w=ge,R=w.child;if((ge.flags&16)!==0){var j=w.deletions;if(j!==null){for(var $=0;$<j.length;$++){var X=j[$];for(ge=X;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:au(8,ie,w)}var se=ie.child;if(se!==null)se.return=ie,ge=se;else for(;ge!==null;){ie=ge;var re=ie.sibling,pe=ie.return;if(eT(ie),ie===X){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var wt=we.sibling;we.sibling=null,we=wt}while(we!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,ge=R;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:au(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var B=s.current;for(ge=B;ge!==null;){R=ge;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,ge=Q;else e:for(R=B;ge!==null;){if(j=ge,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:kd(9,j)}}catch(Ee){gt(j,j.return,Ee)}if(j===R){ge=null;break e}var oe=j.sibling;if(oe!==null){oe.return=j.return,ge=oe;break e}ge=j.return}}if(We=g,ss(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Zs,s)}catch{}f=!0}return f}finally{$e=c,or.transition=a}}return!1}function gT(s,a,c){a=Na(c,a),a=O1(s,a,1),s=as(s,a,1),a=_n(),s!==null&&(Yi(s,1,a),xn(s,a))}function gt(s,a,c){if(s.tag===3)gT(s,s,c);else for(;a!==null;){if(a.tag===3){gT(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(us===null||!us.has(f))){s=Na(c,s),s=M1(a,s,1),a=as(a,s,1),s=_n(),a!==null&&(Yi(a,1,s),xn(a,s));break}}a=a.return}}function yN(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=_n(),s.pingedLanes|=s.suspendedLanes&c,qt===s&&(Kt&c)===c&&(Mt===4||Mt===3&&(Kt&130023424)===Kt&&500>et()-wm?go(s,0):_m|=c),xn(s,a)}function vT(s,a){a===0&&((s.mode&1)===0?a=1:(a=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var c=_n();s=Ii(s,a),s!==null&&(Yi(s,a,c),xn(s,c))}function _N(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),vT(s,c)}function wN(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),vT(s,c)}var yT;yT=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Sn.current)In=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return In=!1,aN(s,a,c);In=(s.flags&131072)!==0}else In=!1,ct&&(a.flags&1048576)!==0&&XE(a,pd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Cd(s,a),s=a.pendingProps;var g=Ia(a,en.current);ka(a,c),g=Xp(null,a,f,s,g,c);var w=Jp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,bn(f)?(w=!0,dd(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bp(a),g.updater=xd,a.stateNode=g,g._reactInternals=a,im(a,f,s,c),a=lm(null,a,f,!0,w,c)):(a.tag=0,ct&&w&&Op(a),yn(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Cd(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=TN(f),s=Pr(f,s),g){case 0:a=am(null,a,f,s,c);break e;case 1:a=B1(null,a,f,s,c);break e;case 11:a=j1(null,a,f,s,c);break e;case 14:a=U1(null,a,f,Pr(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),am(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),B1(s,a,f,g,c);case 3:e:{if(W1(a),s===null)throw Error(t(387));f=a.pendingProps,w=a.memoizedState,g=w.element,o1(s,a),wd(a,f,null,c);var R=a.memoizedState;if(f=R.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=Na(Error(t(423)),a),a=H1(s,a,f,c,g);break e}else if(f!==g){g=Na(Error(t(424)),a),a=H1(s,a,f,c,g);break e}else for(Hn=ns(a.stateNode.containerInfo.firstChild),Wn=a,ct=!0,Cr=null,c=i1(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Aa(),f===g){a=xi(s,a,c);break e}yn(s,a,f,c)}a=a.child}return a;case 5:return u1(a),s===null&&Vp(a),f=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,R=g.children,Ap(f,g)?R=null:w!==null&&Ap(f,w)&&(a.flags|=32),z1(s,a),yn(s,a,R,c),a.child;case 6:return s===null&&Vp(a),null;case 13:return G1(s,a,c);case 4:return Wp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ca(a,null,f,c):yn(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),j1(s,a,f,g,c);case 7:return yn(s,a,a.pendingProps,c),a.child;case 8:return yn(s,a,a.pendingProps.children,c),a.child;case 12:return yn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,w=a.memoizedProps,R=g.value,tt(vd,f._currentValue),f._currentValue=R,w!==null)if(Ar(w.value,R)){if(w.children===g.children&&!Sn.current){a=xi(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var j=w.dependencies;if(j!==null){R=w.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(w.tag===1){$=Ri(-1,c&-c),$.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?$.next=$:($.next=ie.next,ie.next=$),X.pending=$}}w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),$p(w.return,c,a),j.lanes|=c;break}$=$.next}}else if(w.tag===10)R=w.type===a.type?null:w.child;else if(w.tag===18){if(R=w.return,R===null)throw Error(t(341));R.lanes|=c,j=R.alternate,j!==null&&(j.lanes|=c),$p(R,c,a),R=w.sibling}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===a){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}yn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,ka(a,c),g=ir(g),f=f(g),a.flags|=1,yn(s,a,f,c),a.child;case 14:return f=a.type,g=Pr(f,a.pendingProps),g=Pr(f.type,g),U1(s,a,f,g,c);case 15:return q1(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Pr(f,g),Cd(s,a),a.tag=1,bn(f)?(s=!0,dd(a)):s=!1,ka(a,c),D1(a,f,g),im(a,f,g,c),lm(null,a,f,!0,s,c);case 19:return Y1(s,a,c);case 22:return $1(s,a,c)}throw Error(t(156,a.tag))};function _T(s,a){return ia(s,a)}function EN(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(s,a,c,f){return new EN(s,a,c,f)}function Am(s){return s=s.prototype,!(!s||!s.isReactComponent)}function TN(s){if(typeof s=="function")return Am(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Te)return 14}return 2}function fs(s,a){var c=s.alternate;return c===null?(c=ar(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ud(s,a,c,f,g,w){var R=2;if(f=s,typeof s=="function")Am(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case k:return yo(c.children,g,w,a);case A:R=8,g|=8;break;case P:return s=ar(12,c,a,g|2),s.elementType=P,s.lanes=w,s;case O:return s=ar(13,c,a,g),s.elementType=O,s.lanes=w,s;case ce:return s=ar(19,c,a,g),s.elementType=ce,s.lanes=w,s;case ye:return qd(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:R=10;break e;case V:R=9;break e;case U:R=11;break e;case Te:R=14;break e;case _e:R=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ar(R,c,a,g),a.elementType=s,a.type=f,a.lanes=w,a}function yo(s,a,c,f){return s=ar(7,s,f,a),s.lanes=c,s}function qd(s,a,c,f){return s=ar(22,s,f,a),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function Cm(s,a,c){return s=ar(6,s,null,a),s.lanes=c,s}function Pm(s,a,c){return a=ar(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function SN(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function km(s,a,c,f,g,w,R,j,$){return s=new SN(s,a,c,j,$),a===1?(a=1,w===!0&&(a|=8)):a=0,w=ar(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(w),s}function bN(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function wT(s){if(!s)return is;s=s._reactInternals;e:{if(Er(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(bn(c))return KE(s,c,a)}return a}function ET(s,a,c,f,g,w,R,j,$){return s=km(c,f,!0,s,g,w,R,j,$),s.context=wT(null),c=s.current,f=_n(),g=ds(c),w=Ri(f,g),w.callback=a??null,as(c,w,g),s.current.lanes=g,Yi(s,g,f),xn(s,f),s}function $d(s,a,c,f){var g=a.current,w=_n(),R=ds(g);return c=wT(c),a.context===null?a.context=c:a.pendingContext=c,a=Ri(w,R),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=as(g,a,R),s!==null&&(Nr(s,g,R,w),_d(s,g,R)),R}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function TT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Dm(s,a){TT(s,a),(s=s.alternate)&&TT(s,a)}function IN(){return null}var ST=typeof reportError=="function"?reportError:function(s){console.error(s)};function Nm(s){this._internalRoot=s}Bd.prototype.render=Nm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));$d(s,a,null,null)},Bd.prototype.unmount=Nm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mo(function(){$d(null,s,null,null)}),a[Ei]=null}};function Bd(s){this._internalRoot=s}Bd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Gr.length&&a!==0&&a<Gr[c].priority;c++);Gr.splice(c,0,s),c===0&&Gc(s)}};function Om(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function bT(){}function RN(s,a,c,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var X=zd(R);w.call(X)}}var R=ET(a,f,s,0,null,!1,!1,"",bT);return s._reactRootContainer=R,s[Ei]=R.current,Kl(s.nodeType===8?s.parentNode:s),mo(),R}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var j=f;f=function(){var X=zd($);j.call(X)}}var $=km(s,0,!1,null,null,!1,!1,"",bT);return s._reactRootContainer=$,s[Ei]=$.current,Kl(s.nodeType===8?s.parentNode:s),mo(function(){$d(a,$,c,f)}),$}function Hd(s,a,c,f,g){var w=c._reactRootContainer;if(w){var R=w;if(typeof g=="function"){var j=g;g=function(){var $=zd(R);j.call($)}}$d(a,R,s,g)}else R=RN(c,a,s,g,f);return zd(R)}$c=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Gi(a.pendingLanes);c!==0&&(Qi(a,c|1),xn(a,et()),(We&6)===0&&(La=et()+500,ss()))}break;case 13:mo(function(){var f=Ii(s,1);if(f!==null){var g=_n();Nr(f,s,1,g)}}),Dm(s,1)}},aa=function(s){if(s.tag===13){var a=Ii(s,134217728);if(a!==null){var c=_n();Nr(a,s,134217728,c)}Dm(s,134217728)}},zc=function(s){if(s.tag===13){var a=ds(s),c=Ii(s,a);if(c!==null){var f=_n();Nr(c,s,a,f)}Dm(s,a)}},Bc=function(){return $e},Wc=function(s,a){var c=$e;try{return $e=s,a()}finally{$e=c}},Jo=function(s,a,c){switch(a){case"input":if(Ve(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=ud(f);if(!g)throw Error(t(90));$r(f),Ve(f,g)}}}break;case"textarea":mn(s,c);break;case"select":a=c.value,a!=null&&kt(s,!!c.multiple,a,!1)}},Ks=Im,Cl=mo;var xN={usingClientEntryPoint:!1,Events:[Xl,Sa,ud,Wr,Al,Im]},du={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AN={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Dl(s),s===null?null:s.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{Zs=Gd.inject(AN),qn=Gd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xN,An.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(a))throw Error(t(200));return bN(s,a,null,c)},An.createRoot=function(s,a){if(!Om(s))throw Error(t(299));var c=!1,f="",g=ST;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=km(s,1,!1,null,null,c,!1,f,g),s[Ei]=a.current,Kl(s.nodeType===8?s.parentNode:s),new Nm(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Dl(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return mo(s)},An.hydrate=function(s,a,c){if(!Wd(a))throw Error(t(200));return Hd(null,s,a,!0,c)},An.hydrateRoot=function(s,a,c){if(!Om(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,w="",R=ST;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=ET(a,null,s,1,c??null,g,!1,w,R),s[Ei]=a.current,Kl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Bd(a)},An.render=function(s,a,c){if(!Wd(a))throw Error(t(200));return Hd(null,s,a,!1,c)},An.unmountComponentAtNode=function(s){if(!Wd(s))throw Error(t(40));return s._reactRootContainer?(mo(function(){Hd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ei]=null})}),!0):!1},An.unstable_batchedUpdates=Im,An.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Wd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Hd(s,a,c,!1,f)},An.version="18.3.1-next-f1338f8080-20240426",An}var DT;function YA(){if(DT)return Vm.exports;DT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vm.exports=MN(),Vm.exports}var NT;function LN(){if(NT)return Yd;NT=1;var n=YA();return Yd.createRoot=n.createRoot,Yd.hydrateRoot=n.hydrateRoot,Yd}var VN=LN();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OT="popstate";function FN(n={}){function e(i,o){let{pathname:l="/",search:u="",hash:d=""}=Wo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),V_("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");u=p===-1?d:d.slice(0,p)}return u+"#"+(typeof o=="string"?o:Vu(o))}function r(i,o){Qn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return UN(e,t,r,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jN(){return Math.random().toString(36).substring(2,10)}function MT(n,e){return{usr:n.state,key:n.key,idx:e}}function V_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||r||jN()}}function Vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UN(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let b=m(),C=b==null?null:b-p;p=b,d&&d({action:u,location:T.location,delta:C})}function y(b,C){u="PUSH";let D=V_(T.location,b,C);t&&t(D,b),p=m()+1;let M=MT(D,p),F=T.createHref(D);try{l.pushState(M,"",F)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(F)}o&&d&&d({action:u,location:T.location,delta:1})}function E(b,C){u="REPLACE";let D=V_(T.location,b,C);t&&t(D,b),p=m();let M=MT(D,p),F=T.createHref(D);l.replaceState(M,"",F),o&&d&&d({action:u,location:T.location,delta:0})}function I(b){return qN(b)}let T={get action(){return u},get location(){return n(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(OT,v),d=b,()=>{i.removeEventListener(OT,v),d=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let C=I(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:E,go(b){return l.go(b)}};return T}function qN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Vu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function QA(n,e,t="/"){return $N(n,e,t,!1)}function $N(n,e,t,r){let i=typeof e=="string"?Wo(e):e,o=Li(i.pathname||"/",t);if(o==null)return null;let l=XA(n);zN(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=eO(o);u=JN(l[d],p,r)}return u}function XA(n,e=[],t=[],r="",i=!1){let o=(l,u,d=i,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;dt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=Ni([r,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),XA(l.children,e,y,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:QN(v,l.index),routesMeta:y})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let p of JA(l.path))o(l,u,!0,p)}),e}function JA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=JA(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function zN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var BN=/^:[\w-]+$/,WN=3,HN=2,GN=1,KN=10,YN=-2,LT=n=>n==="*";function QN(n,e){let t=n.split("/"),r=t.length;return t.some(LT)&&(r+=YN),e&&(r+=HN),t.filter(i=>!LT(i)).reduce((i,o)=>i+(BN.test(o)?WN:o===""?GN:KN),r)}function XN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function JN(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),y=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=kh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Ni([o,v.pathname]),pathnameBase:sO(Ni([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=Ni([o,v.pathnameBase]))}return l}function kh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},y)=>{if(m==="*"){let I=u[y]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const E=u[y];return v&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function ZN(n,e=!1,t=!0){Qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nO=n=>tO.test(n);function rO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wo(n):n,o;if(t)if(nO(t))o=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?o=VT(t.substring(1),"/"):o=VT(t,e)}else o=e;return{pathname:o,search:oO(r),hash:aO(i)}}function VT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Um(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cw(n){let e=iO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Pw(n,e,t,r=!1){let i;typeof n=="string"?i=Wo(n):(i={...n},dt(!i.pathname||!i.pathname.includes("?"),Um("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Um("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Um("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let d=rO(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),sO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function uO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZA=["POST","PUT","PATCH","DELETE"];new Set(ZA);var cO=["GET",...ZA];new Set(cO);var ul=q.createContext(null);ul.displayName="DataRouter";var cf=q.createContext(null);cf.displayName="DataRouterState";q.createContext(!1);var eC=q.createContext({isTransitioning:!1});eC.displayName="ViewTransition";var dO=q.createContext(new Map);dO.displayName="Fetchers";var hO=q.createContext(null);hO.displayName="Await";var mr=q.createContext(null);mr.displayName="Navigation";var ac=q.createContext(null);ac.displayName="Location";var Ur=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var kw=q.createContext(null);kw.displayName="RouteError";function fO(n,{relative:e}={}){dt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(mr),{hash:i,pathname:o,search:l}=lc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ni([t,o])),r.createHref({pathname:u,search:l,hash:i})}function cl(){return q.useContext(ac)!=null}function qr(){return dt(cl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ac).location}var tC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nC(n){q.useContext(mr).static||q.useLayoutEffect(n)}function Ho(){let{isDataRoute:n}=q.useContext(Ur);return n?RO():pO()}function pO(){dt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ul),{basename:e,navigator:t}=q.useContext(mr),{matches:r}=q.useContext(Ur),{pathname:i}=qr(),o=JSON.stringify(Cw(r)),l=q.useRef(!1);return nC(()=>{l.current=!0}),q.useCallback((d,p={})=>{if(Qn(l.current,tC),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Pw(d,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ni([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}q.createContext(null);function rC(){let{matches:n}=q.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function lc(n,{relative:e}={}){let{matches:t}=q.useContext(Ur),{pathname:r}=qr(),i=JSON.stringify(Cw(t));return q.useMemo(()=>Pw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function mO(n,e){return iC(n,e)}function iC(n,e,t,r,i){var D;dt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(mr),{matches:l}=q.useContext(Ur),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";sC(p,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=qr(),E;if(e){let M=typeof e=="string"?Wo(e):e;dt(m==="/"||((D=M.pathname)==null?void 0:D.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=y;let I=E.pathname||"/",T=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");T="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=QA(n,{pathname:T});Qn(v||b!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Qn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=wO(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ni([m,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ni([m,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,t,r,i);return e&&C?q.createElement(ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function gO(){let n=IO(),e=lO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:i},t):null,l)}var vO=q.createElement(gO,null),yO=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?q.createElement(Ur.Provider,{value:this.props.routeContext},q.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _O({routeContext:n,match:e,children:t}){let r=q.useContext(ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Ur.Provider,{value:n},t)}function wO(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let m=o.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let v=o[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:y,errors:E}=t,I=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||I){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=t&&r?(m,v)=>{var y,E;r(m,{location:t.location,params:((E=(y=t.matches)==null?void 0:y[0])==null?void 0:E.params)??{},unstable_pattern:uO(t.matches),errorInfo:v})}:void 0;return o.reduceRight((m,v,y)=>{let E,I=!1,T=null,b=null;t&&(E=l&&v.route.id?l[v.route.id]:void 0,T=v.route.errorElement||vO,u&&(d<0&&y===0?(sC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):d===y&&(I=!0,b=v.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),D=()=>{let M;return E?M=T:I?M=b:v.route.Component?M=q.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=m,q.createElement(_O,{match:v,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:M})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?q.createElement(yO,{location:t.location,revalidation:t.revalidation,component:T,error:E,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):D()},null)}function Dw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EO(n){let e=q.useContext(ul);return dt(e,Dw(n)),e}function TO(n){let e=q.useContext(cf);return dt(e,Dw(n)),e}function SO(n){let e=q.useContext(Ur);return dt(e,Dw(n)),e}function Nw(n){let e=SO(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bO(){return Nw("useRouteId")}function IO(){var r;let n=q.useContext(kw),e=TO("useRouteError"),t=Nw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function RO(){let{router:n}=EO("useNavigate"),e=Nw("useNavigate"),t=q.useRef(!1);return nC(()=>{t.current=!0}),q.useCallback(async(i,o={})=>{Qn(t.current,tC),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var FT={};function sC(n,e,t){!e&&!FT[n]&&(FT[n]=!0,Qn(!1,t))}q.memo(xO);function xO({routes:n,future:e,state:t,unstable_onError:r}){return iC(n,void 0,t,r,e)}function yu({to:n,replace:e,state:t,relative:r}){dt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=q.useContext(mr);Qn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=q.useContext(Ur),{pathname:l}=qr(),u=Ho(),d=Pw(n,Cw(o),l,r==="path"),p=JSON.stringify(d);return q.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function Or(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){dt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof t=="string"&&(t=Wo(t));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:E="default"}=t,I=q.useMemo(()=>{let T=Li(p,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:y,key:E},navigationType:r}},[u,p,m,v,y,E,r]);return Qn(I!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(mr.Provider,{value:d},q.createElement(ac.Provider,{children:e,value:I}))}function CO({children:n,location:e}){return mO(F_(n),e)}function F_(n,e=[]){let t=[];return q.Children.forEach(n,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){t.push.apply(t,F_(r.props.children,o));return}dt(r.type===Or,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=F_(r.props.children,o)),t.push(l)}),t}var ah="get",lh="application/x-www-form-urlencoded";function df(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function PO(n){return df(n)&&n.tagName.toLowerCase()==="button"}function kO(n){return df(n)&&n.tagName.toLowerCase()==="form"}function DO(n){return df(n)&&n.tagName.toLowerCase()==="input"}function NO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OO(n,e){return n.button===0&&(!e||e==="_self")&&!NO(n)}var Qd=null;function MO(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var LO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(n){return n!=null&&!LO.has(n)?(Qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):n}function VO(n,e){let t,r,i,o,l;if(kO(n)){let u=n.getAttribute("action");r=u?Li(u,e):null,t=n.getAttribute("method")||ah,i=qm(n.getAttribute("enctype"))||lh,o=new FormData(n)}else if(PO(n)||DO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Li(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ah,i=qm(n.getAttribute("formenctype"))||qm(u.getAttribute("enctype"))||lh,o=new FormData(u,n),!MO()){let{name:p,type:m,value:v}=n;if(m==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,v)}}else{if(df(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,r=null,i=lh,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ow(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FO(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function jO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qO(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await jO(o,t);return l.links?l.links():[]}return[]}));return WO(r.flat(1).filter(UO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jT(n,e,t,r,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function $O(n,e,{includeHydrateFallback:t}={}){return zO(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function zO(n){return[...new Set(n)]}function BO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function WO(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(BO(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function oC(){let n=q.useContext(ul);return Ow(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HO(){let n=q.useContext(cf);return Ow(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mw=q.createContext(void 0);Mw.displayName="FrameworkContext";function aC(){let n=q.useContext(Mw);return Ow(n,"You must render this element inside a <HydratedRouter> element"),n}function GO(n,e){let t=q.useContext(Mw),[r,i]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,y=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let T=C=>{C.forEach(D=>{l(D.isIntersecting)})},b=new IntersectionObserver(T,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[n]),q.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let E=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:fu(u,E),onBlur:fu(d,I),onMouseEnter:fu(p,E),onMouseLeave:fu(m,I),onTouchStart:fu(v,E)}]:[!1,y,{}]}function fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KO({page:n,...e}){let{router:t}=oC(),r=q.useMemo(()=>QA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(QO,{page:n,matches:r,...e}):null}function YO(n){let{manifest:e,routeModules:t}=aC(),[r,i]=q.useState([]);return q.useEffect(()=>{let o=!1;return qO(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function QO({page:n,matches:e,...t}){let r=qr(),{manifest:i,routeModules:o}=aC(),{basename:l}=oC(),{loaderData:u,matches:d}=HO(),p=q.useMemo(()=>jT(n,e,d,i,r,"data"),[n,e,d,i,r]),m=q.useMemo(()=>jT(n,e,d,i,r,"assets"),[n,e,d,i,r]),v=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(C=>{var M;let D=i.routes[C.route.id];!D||!D.hasLoader||(!p.some(F=>F.route.id===C.route.id)&&C.route.id in u&&((M=o[C.route.id])!=null&&M.shouldRevalidate)||D.hasClientLoader?T=!0:I.add(C.route.id))}),I.size===0)return[];let b=FO(n,l,"data");return T&&I.size>0&&b.searchParams.set("_routes",e.filter(C=>I.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,p,e,n,o]),y=q.useMemo(()=>$O(m,i),[m,i]),E=YO(m);return q.createElement(q.Fragment,null,v.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),y.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),E.map(({key:I,link:T})=>q.createElement("link",{key:I,nonce:t.nonce,...T})))}function XO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lC&&(window.__reactRouterVersion="7.10.1")}catch{}function JO({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=q.useRef();i.current==null&&(i.current=FN({window:r,v5Compat:!0}));let o=i.current,[l,u]=q.useState({action:o.action,location:o.location}),d=q.useCallback(p=>{t===!1?u(p):q.startTransition(()=>u(p))},[t]);return q.useLayoutEffect(()=>o.listen(d),[o,d]),q.createElement(AO,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t===!0})}var uC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fu=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:m,viewTransition:v,...y},E){let{basename:I,unstable_useTransitions:T}=q.useContext(mr),b=typeof p=="string"&&uC.test(p),C,D=!1;if(typeof p=="string"&&b&&(C=p,lC))try{let L=new URL(window.location.href),V=p.startsWith("//")?new URL(L.protocol+p):new URL(p),U=Li(V.pathname,I);V.origin===L.origin&&U!=null?p=U+V.search+V.hash:D=!0}catch{Qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=fO(p,{relative:i}),[F,W,z]=GO(r,y),k=tM(p,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:v,unstable_useTransitions:T});function A(L){e&&e(L),L.defaultPrevented||k(L)}let P=q.createElement("a",{...y,...z,href:C||M,onClick:D||o?e:A,ref:XO(E,W),target:d,"data-discover":!b&&t==="render"?"true":void 0});return F&&!b?q.createElement(q.Fragment,null,P,q.createElement(KO,{page:M})):P});Fu.displayName="Link";var j_=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...p},m){let v=lc(l,{relative:p.relative}),y=qr(),E=q.useContext(cf),{navigator:I,basename:T}=q.useContext(mr),b=E!=null&&oM(v)&&u===!0,C=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,D=y.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(D=D.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&T&&(M=Li(M,T)||M);const F=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let W=D===C||!i&&D.startsWith(C)&&D.charAt(F)==="/",z=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),k={isActive:W,isPending:z,isTransitioning:b},A=W?e:void 0,P;typeof r=="function"?P=r(k):P=[r,W?"active":null,z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return q.createElement(Fu,{...p,"aria-current":A,className:P,ref:m,style:L,to:l,viewTransition:u},typeof d=="function"?d(k):d)});j_.displayName="NavLink";var ZO=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=ah,action:u,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...y},E)=>{let{unstable_useTransitions:I}=q.useContext(mr),T=iM(),b=sM(u,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&uC.test(u),M=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,z=(W==null?void 0:W.getAttribute("formmethod"))||l,k=()=>T(W||F.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:v});I&&t!==!1?q.startTransition(()=>k()):k()};return q.createElement("form",{ref:E,method:C,action:b,onSubmit:r?d:M,...y,"data-discover":!D&&n==="render"?"true":void 0})});ZO.displayName="Form";function eM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cC(n){let e=q.useContext(ul);return dt(e,eM(n)),e}function tM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_useTransitions:u}={}){let d=Ho(),p=qr(),m=lc(n,{relative:o});return q.useCallback(v=>{if(OO(v,e)){v.preventDefault();let y=t!==void 0?t:Vu(p)===Vu(m),E=()=>d(n,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l});u?q.startTransition(()=>E()):E()}},[p,d,m,t,r,e,n,i,o,l,u])}var nM=0,rM=()=>`__${String(++nM)}__`;function iM(){let{router:n}=cC("useSubmit"),{basename:e}=q.useContext(mr),t=bO(),r=n.fetch,i=n.navigate;return q.useCallback(async(o,l={})=>{let{action:u,method:d,encType:p,formData:m,body:v}=VO(o,e);if(l.navigate===!1){let y=l.fetcherKey||rM();await r(y,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await i(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function sM(n,{relative:e}={}){let{basename:t}=q.useContext(mr),r=q.useContext(Ur);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...lc(n||".",{relative:e})},l=qr();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ni([t,o.pathname])),Vu(o)}function oM(n,{relative:e}={}){let t=q.useContext(eC);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cC("useViewTransitionState"),i=lc(n,{relative:e});if(!t.isTransitioning)return!1;let o=Li(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return kh(i.pathname,l)!=null||kh(i.pathname,o)!=null}var aM=YA();const dC=Mn(aM),lM=()=>{};var UT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},fC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let y=(u&15)<<2|p>>6,E=p&63;d||(E=64,l||(y=64)),r.push(t[m],t[v],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||v==null)throw new cM;const y=o<<2|u>>4;if(r.push(y),p!==64){const E=u<<4&240|p>>2;if(r.push(E),v!==64){const I=p<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dM=function(n){const e=hC(n);return fC.encodeByteArray(e,!0)},Dh=function(n){return dM(n).replace(/\./g,"")},pC=function(n){try{return fC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=()=>hM().__FIREBASE_DEFAULTS__,pM=()=>{if(typeof process>"u"||typeof UT>"u")return;const n=UT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pC(n[1]);return e&&JSON.parse(e)},hf=()=>{try{return lM()||fM()||pM()||mM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mC=n=>{var e,t;return(t=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gM=n=>{const e=mC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},gC=()=>{var n;return(n=hf())===null||n===void 0?void 0:n.config},vC=n=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dh(JSON.stringify(t)),Dh(JSON.stringify(l)),""].join(".")}const Cu={};function _M(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?n.emulator.push(e):n.prod.push(e);return n}function wM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qT=!1;function _C(n,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Cu[n]===e||Cu[n]||qT)return;Cu[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=_M().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function p(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{qT=!0,l()},y}function m(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=wM(r),E=t("text"),I=document.getElementById(E)||document.createElement("span"),T=t("learnmore"),b=document.getElementById(T)||document.createElement("a"),C=t("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;u(M),m(b,T);const F=p();d(D,C),M.append(D,I,b,F),document.body.appendChild(M)}o?(I.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function TM(){var n;const e=(n=hf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xM(){return!TM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="FirebaseError";class zi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PM,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?kM(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new zi(i,u,r)}}function kM(n,e){return n.replace(DM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DM=/\{\$([^}]+)}/g;function NM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if($T(o)&&$T(l)){if(!Rs(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function $T(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OM(n,e){const t=new MM(n,e);return t.subscribe.bind(t)}class MM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=$m),i.error===void 0&&(i.error=$m),i.complete===void 0&&(i.complete=$m);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new vM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jM(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(n){return n===wo?void 0:n}function jM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const qM={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},$M=je.INFO,zM={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},BM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=zM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lw{constructor(e){this.name=e,this._logLevel=$M,this._logHandler=BM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const WM=(n,e)=>e.some(t=>n instanceof t);let zT,BT;function HM(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return BT||(BT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wC=new WeakMap,U_=new WeakMap,EC=new WeakMap,zm=new WeakMap,Vw=new WeakMap;function KM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Es(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&wC.set(t,n)}).catch(()=>{}),Vw.set(e,n),e}function YM(n){if(U_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});U_.set(n,e)}let q_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return U_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QM(n){q_=n(q_)}function XM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bm(this),e,...t);return EC.set(r,e.sort?e.sort():[e]),Es(r)}:GM().includes(n)?function(...e){return n.apply(Bm(this),e),Es(wC.get(this))}:function(...e){return Es(n.apply(Bm(this),e))}}function JM(n){return typeof n=="function"?XM(n):(n instanceof IDBTransaction&&YM(n),WM(n,HM())?new Proxy(n,q_):n)}function Es(n){if(n instanceof IDBRequest)return KM(n);if(zm.has(n))return zm.get(n);const e=JM(n);return e!==n&&(zm.set(n,e),Vw.set(e,n)),e}const Bm=n=>Vw.get(n);function ZM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=Es(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Es(l.result),d.oldVersion,d.newVersion,Es(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const eL=["get","getKey","getAll","getAllKeys","count"],tL=["put","add","delete","clear"],Wm=new Map;function WT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eL.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return Wm.set(e,o),o}QM(n=>({...n,get:(e,t,r)=>WT(e,t)||n.get(e,t,r),has:(e,t)=>!!WT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $_="@firebase/app",HT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Lw("@firebase/app"),iL="@firebase/app-compat",sL="@firebase/analytics-compat",oL="@firebase/analytics",aL="@firebase/app-check-compat",lL="@firebase/app-check",uL="@firebase/auth",cL="@firebase/auth-compat",dL="@firebase/database",hL="@firebase/data-connect",fL="@firebase/database-compat",pL="@firebase/functions",mL="@firebase/functions-compat",gL="@firebase/installations",vL="@firebase/installations-compat",yL="@firebase/messaging",_L="@firebase/messaging-compat",wL="@firebase/performance",EL="@firebase/performance-compat",TL="@firebase/remote-config",SL="@firebase/remote-config-compat",bL="@firebase/storage",IL="@firebase/storage-compat",RL="@firebase/firestore",xL="@firebase/ai",AL="@firebase/firestore-compat",CL="firebase",PL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="[DEFAULT]",kL={[$_]:"fire-core",[iL]:"fire-core-compat",[oL]:"fire-analytics",[sL]:"fire-analytics-compat",[lL]:"fire-app-check",[aL]:"fire-app-check-compat",[uL]:"fire-auth",[cL]:"fire-auth-compat",[dL]:"fire-rtdb",[hL]:"fire-data-connect",[fL]:"fire-rtdb-compat",[pL]:"fire-fn",[mL]:"fire-fn-compat",[gL]:"fire-iid",[vL]:"fire-iid-compat",[yL]:"fire-fcm",[_L]:"fire-fcm-compat",[wL]:"fire-perf",[EL]:"fire-perf-compat",[TL]:"fire-rc",[SL]:"fire-rc-compat",[bL]:"fire-gcs",[IL]:"fire-gcs-compat",[RL]:"fire-fst",[AL]:"fire-fst-compat",[xL]:"fire-vertex","fire-js":"fire-js",[CL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,DL=new Map,B_=new Map;function GT(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ya(n){const e=n.name;if(B_.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;B_.set(e,n);for(const t of Nh.values())GT(t,n);for(const t of DL.values())GT(t,n);return!0}function Fw(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new uc("app","Firebase",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=PL;function TC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:z_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(t||(t=gC()),!t)throw Ts.create("no-options");const o=Nh.get(i);if(o){if(Rs(t,o.options)&&Rs(r,o.config))return o;throw Ts.create("duplicate-app",{appName:i})}const l=new UM(i);for(const d of B_.values())l.addComponent(d);const u=new OL(t,r,l);return Nh.set(i,u),u}function SC(n=z_){const e=Nh.get(n);if(!e&&n===z_&&gC())return TC();if(!e)throw Ts.create("no-app",{appName:n});return e}function Ss(n,e,t){var r;let i=(r=kL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}Ya(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firebase-heartbeat-database",LL=1,ju="firebase-heartbeat-store";let Hm=null;function bC(){return Hm||(Hm=ZM(ML,LL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),Hm}async function VL(n){try{const t=(await bC()).transaction(ju),r=await t.objectStore(ju).get(IC(n));return await t.done,r}catch(e){if(e instanceof zi)Vi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(t.message)}}}async function KT(n,e){try{const r=(await bC()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,IC(n)),await r.done}catch(t){if(t instanceof zi)Vi.warn(t.message);else{const r=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(r.message)}}}function IC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,jL=30;class UL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $L(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jL){const l=zL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=YT(),{heartbeatsToSend:r,unsentEntries:i}=qL(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vi.warn(t),""}}}function YT(){return new Date().toISOString().substring(0,10)}function qL(n,e=FL){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),QT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),QT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QT(n){return Dh(JSON.stringify({version:2,heartbeats:n})).length}function zL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){Ya(new Co("platform-logger",e=>new nL(e),"PRIVATE")),Ya(new Co("heartbeat",e=>new UL(e),"PRIVATE")),Ss($_,HT,n),Ss($_,HT,"esm2017"),Ss("fire-js","")}BL("");function jw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=RC,xC=new uc("auth","Firebase",RC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Lw("@firebase/auth");function HL(n,...e){Oh.logLevel<=je.WARN&&Oh.warn(`Auth (${hl}): ${n}`,...e)}function uh(n,...e){Oh.logLevel<=je.ERROR&&Oh.error(`Auth (${hl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw qw(n,...e)}function Lr(n,...e){return qw(n,...e)}function Uw(n,e,t){const r=Object.assign(Object.assign({},WL()),{[e]:t});return new uc("auth","Firebase",r).create(e,{appName:n.name})}function Oi(n){return Uw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(n,"argument-error"),Uw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xC.create(n,...e)}function xe(n,e,...t){if(!n)throw qw(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uh(e),new Error(e)}function Fi(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KL(){return XT()==="http:"||XT()==="https:"}function XT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KL()||bM()||"connection"in navigator)?navigator.onLine:!0}function QL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=EM()||IM()}get(){return YL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZL=new dc(3e4,6e4);function js(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Us(n,e,t,r,i={}){return CC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=cc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},o);return SM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(p.credentials="include"),AC.fetch()(await PC(n,n.config.apiHost,t,u),p)})}async function CC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XL),e);try{const i=new t4(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Xd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Xd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Xd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Uw(n,m,p);dr(n,m)}}catch(i){if(i instanceof zi)throw i;dr(n,"network-request-failed",{message:String(i)})}}async function hc(n,e,t,r,i={}){const o=await Us(n,e,t,r,i);return"mfaPendingCredential"in o&&dr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function PC(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?$w(n.config,i):`${n.config.apiScheme}://${i}`;return JL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function e4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),ZL.get())})}}function Xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Lr(n,e,r);return i.customData._tokenResponse=t,i}function JT(n){return n!==void 0&&n.enterprise!==void 0}class n4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return e4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function r4(n,e){return Us(n,"GET","/v2/recaptchaConfig",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(n,e){return Us(n,"POST","/v1/accounts:delete",e)}async function Mh(n,e){return Us(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s4(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),i=zw(r);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pu(Gm(i.auth_time)),issuedAtTime:Pu(Gm(i.iat)),expirationTime:Pu(Gm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gm(n){return Number(n)*1e3}function zw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=pC(t);return i?JSON.parse(i):(uh("Failed to decode base64 JWT payload"),null)}catch(i){return uh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZT(n){const e=zw(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zi&&o4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function o4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Uu(n,Mh(t,{idToken:r}));xe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kC(o.providerUserInfo):[],u=u4(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new H_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function l4(n){const e=Ct(n);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kC(n){return n.map(e=>{var{providerId:t}=e,r=jw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e){const t=await CC(n,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await PC(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(d.credentials="include"),AC.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function d4(n,e){return Us(n,"POST","/v2/accounts:revokeToken",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=ZT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await c4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Ba;return r&&(xe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(xe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=jw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new H_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s4(this,e)}reload(){return l4(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Uu(this,i4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,T=(u=t.tenantId)!==null&&u!==void 0?u:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,D=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:F,isAnonymous:W,providerData:z,stsTokenManager:k}=t;xe(M&&k,e,"internal-error");const A=Ba.fromJSON(this.name,k);xe(typeof M=="string",e,"internal-error"),ms(v,e.name),ms(y,e.name),xe(typeof F=="boolean",e,"internal-error"),xe(typeof W=="boolean",e,"internal-error"),ms(E,e.name),ms(I,e.name),ms(T,e.name),ms(b,e.name),ms(C,e.name),ms(D,e.name);const P=new Mr({uid:M,auth:e,email:y,emailVerified:F,displayName:v,isAnonymous:W,photoURL:I,phoneNumber:E,tenantId:T,stsTokenManager:A,createdAt:C,lastLoginAt:D});return z&&Array.isArray(z)&&(P.providerData=z.map(L=>Object.assign({},L))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ba;i.updateFromServerResponse(t);const o=new Mr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];xe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?kC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Ba;u.updateFromIdToken(r);const d=new Mr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new H_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function Di(n){Fi(n instanceof Function,"Expected a class definition");let e=eS.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DC.type="NONE";const tS=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n,e,t){return`firebase:${n}:${e}:${t}`}class Wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ch(this.userKey,i.apiKey,o),this.fullPersistenceKey=ch("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mh(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wa(Di(tS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Di(tS);const l=ch(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const y=await Mh(e,{idToken:m}).catch(()=>{});if(!y)break;v=await Mr._fromGetAccountInfoResponse(e,y,m)}else v=Mr._fromJSON(e,m);p!==o&&(u=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Wa(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FC(e))return"Blackberry";if(jC(e))return"Webos";if(OC(e))return"Safari";if((e.includes("chrome/")||MC(e))&&!e.includes("edge/"))return"Chrome";if(VC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NC(n=cn()){return/firefox\//i.test(n)}function OC(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MC(n=cn()){return/crios\//i.test(n)}function LC(n=cn()){return/iemobile/i.test(n)}function VC(n=cn()){return/android/i.test(n)}function FC(n=cn()){return/blackberry/i.test(n)}function jC(n=cn()){return/webos/i.test(n)}function Bw(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h4(n=cn()){var e;return Bw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f4(){return RM()&&document.documentMode===10}function UC(n=cn()){return Bw(n)||VC(n)||jC(n)||FC(n)||/windows phone/i.test(n)||LC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n,e=[]){let t;switch(n){case"Browser":t=nS(cn());break;case"Worker":t=`${nS(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(n,e={}){return Us(n,"GET","/v2/passwordPolicy",js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=6;class v4{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:g4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rS(this),this.idTokenSubscription=new rS(this),this.beforeStateQueue=new p4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mh(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Oi(this));const t=e?Ct(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m4(this),t=new v4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await d4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qs(n){return Ct(n)}class rS{constructor(e){this.auth=e,this.observer=null,this.addObserver=OM(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _4(n){ff=n}function $C(n){return ff.loadJS(n)}function w4(){return ff.recaptchaEnterpriseScript}function E4(){return ff.gapiScript}function T4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class S4{constructor(){this.enterprise=new b4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class b4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const I4="recaptcha-enterprise",zC="NO_RECAPTCHA";class R4{constructor(e){this.type=I4,this.auth=qs(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{r4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new n4(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;JT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(zC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&JT(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=w4();d.length!==0&&(d+=u),$C(d).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function iS(n,e,t,r=!1,i=!1){const o=new R4(n);let l;if(i)l=zC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function G_(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iS(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await iS(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n,e){const t=Fw(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Rs(o,e??{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}function A4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C4(n,e,t){const r=qs(n);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=BC(e),{host:l,port:u}=P4(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Rs(p,r.config.emulator)&&Rs(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,dl(l)?(yC(`${o}//${l}${d}`),_C("Auth",!0)):k4()}function BC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P4(n){const e=BC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:sS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:sS(l)}}}function sS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function k4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function D4(n,e){return Us(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(n,e){return hc(n,"POST","/v1/accounts:signInWithPassword",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(n,e){return hc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}async function M4(n,e){return hc(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Ww{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new qu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new qu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,t,"signInWithPassword",N4);case"emailLink":return O4(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,r,"signUpPassword",D4);case"emailLink":return M4(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n,e){return hc(n,"POST","/v1/accounts:signInWithIdp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="http://localhost";class Po extends Ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=jw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Po(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ha(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ha(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ha(e,t)}buildRequest(){const e={requestUri:L4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F4(n){const e=_u(wu(n)).link,t=e?_u(wu(e)).deep_link_id:null,r=_u(wu(n)).deep_link_id;return(r?_u(wu(r)).link:null)||r||t||e||n}class Hw{constructor(e){var t,r,i,o,l,u;const d=_u(wu(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=V4((i=d.mode)!==null&&i!==void 0?i:null);xe(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=F4(e);try{return new Hw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Hw.parseLink(t);return xe(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends fc{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends fc{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends fc{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _s.credential(t,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(n,e){return hc(n,"POST","/v1/accounts:signUp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Mr._fromIdTokenResponse(e,r,i),l=oS(r);return new ko({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=oS(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function oS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends zi{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Vh(e,t,r,i)}}function WC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(n,o,e,r):o})}async function U4(n,e,t=!1){const r=await Uu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(Oi(r));const i="reauthenticate";try{const o=await Uu(n,WC(r,i,e,n),t);xe(o.idToken,r,"internal-error");const l=zw(o.idToken);xe(l,r,"internal-error");const{sub:u}=l;return xe(n.uid===u,r,"user-mismatch"),ko._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e,t=!1){if(Kn(n.app))return Promise.reject(Oi(n));const r="signIn",i=await WC(n,r,e),o=await ko._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function $4(n,e){return HC(qs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z4(n,e,t){if(Kn(n.app))return Promise.reject(Oi(n));const r=qs(n),l=await G_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&GC(n),d}),u=await ko._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function B4(n,e,t){return Kn(n.app)?Promise.reject(Oi(n)):$4(Ct(n),fl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GC(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e){return Ct(n).setPersistence(e)}function H4(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function G4(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function Do(n,e,t,r){return Ct(n).onAuthStateChanged(e,t,r)}function K4(n){return Ct(n).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1e3,Q4=10;class YC extends KC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);f4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YC.type="LOCAL";const QC=YC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC extends KC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XC.type="SESSION";const JC=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),d=await X4(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=Kw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function Z4(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function eV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nV(){return ZC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebaseLocalStorageDb",rV=1,jh="firebaseLocalStorage",tP="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mf(n,e){return n.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function iV(){const n=indexedDB.deleteDatabase(eP);return new pc(n).toPromise()}function K_(){const n=indexedDB.open(eP,rV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jh,{keyPath:tP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await iV(),e(await K_()))})})}async function aS(n,e,t){const r=mf(n,!0).put({[tP]:e,value:t});return new pc(r).toPromise()}async function sV(n,e){const t=mf(n,!1).get(e),r=await new pc(t).toPromise();return r===void 0?null:r.value}function lS(n,e){const t=mf(n,!0).delete(e);return new pc(t).toPromise()}const oV=800,aV=3;class nP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>aV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(nV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eV(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K_();return await aS(e,Fh,"1"),await lS(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>sV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mf(i,!1).getAll();return new pc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nP.type="LOCAL";const lV=nP;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n,e){return e?Di(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ha(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uV(n){return HC(n.auth,new Yw(n),n.bypassAuthState)}function cV(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),q4(t,new Yw(n),n.bypassAuthState)}async function dV(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),U4(t,new Yw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uV;case"linkViaPopup":case"linkViaRedirect":return dV;case"reauthViaPopup":case"reauthViaRedirect":return cV;default:dr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new dc(2e3,1e4);async function sP(n,e,t){if(Kn(n.app))return Promise.reject(Lr(n,"operation-not-supported-in-this-environment"));const r=qs(n);GL(n,e,Gw);const i=rP(r,t);return new So(r,"signInViaPopup",e,i).executeNotNull()}class So extends iP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hV.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="pendingRedirect",dh=new Map;class pV extends iP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await mV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mV(n,e){const t=yV(e),r=vV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function gV(n,e){dh.set(n._key(),e)}function vV(n){return Di(n._redirectPersistence)}function yV(n){return ch(fV,n.config.apiKey,n.name)}async function _V(n,e,t=!1){if(Kn(n.app))return Promise.reject(Oi(n));const r=qs(n),i=rP(r,e),l=await new pV(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=600*1e3;class EV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Lr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wV&&this.cachedEventUids.clear(),this.cachedEventUids.has(uS(e))}saveEventToCache(e){this.cachedEventUids.add(uS(e)),this.lastProcessedEventTime=Date.now()}}function uS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(n,e={}){return Us(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IV=/^https?/;async function RV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SV(n);for(const t of e)try{if(xV(t))return}catch{}dr(n,"unauthorized-domain")}function xV(n){const e=W_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!IV.test(t))return!1;if(bV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new dc(3e4,6e4);function cS(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CV(n){return new Promise((e,t)=>{var r,i,o;function l(){cS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cS(),t(Lr(n,"network-request-failed"))},timeout:AV.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ii().gapi)===null||o===void 0)&&o.load)l();else{const u=T4("iframefcb");return ii()[u]=()=>{gapi.load?l():t(Lr(n,"network-request-failed"))},$C(`${E4()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw hh=null,e})}let hh=null;function PV(n){return hh=hh||CV(n),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new dc(5e3,15e3),DV="__/auth/iframe",NV="emulator/auth/iframe",OV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LV(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$w(e,NV):`https://${n.config.authDomain}/${DV}`,r={apiKey:e.apiKey,appName:n.name,v:hl},i=MV.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cc(r).slice(1)}`}async function VV(n){const e=await PV(n),t=ii().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:LV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(n,"network-request-failed"),u=ii().setTimeout(()=>{o(l)},kV.get());function d(){ii().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jV=500,UV=600,qV="_blank",$V="http://localhost";class dS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(n,e,t,r=jV,i=UV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},FV),{width:r.toString(),height:i.toString(),top:o,left:l}),p=cn().toLowerCase();t&&(u=MC(p)?qV:t),NC(p)&&(e=e||$V,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[E,I])=>`${y}${E}=${I},`,"");if(h4(p)&&u!=="_self")return BV(e||"",u),new dS(null);const v=window.open(e||"",u,m);xe(v,n,"popup-blocked");try{v.focus()}catch{}return new dS(v)}function BV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="__/auth/handler",HV="emulator/auth/handler",GV=encodeURIComponent("fac");async function hS(n,e,t,r,i,o){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hl,eventId:i};if(e instanceof Gw){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",NM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof fc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),p=d?`#${GV}=${encodeURIComponent(d)}`:"";return`${KV(n)}?${cc(u).slice(1)}${p}`}function KV({config:n}){return n.emulator?$w(n,HV):`https://${n.authDomain}/${WV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class YV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JC,this._completeRedirectFn=_V,this._overrideRedirectResult=gV}async _openPopup(e,t,r,i){var o;Fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await hS(e,t,r,W_(),i);return zV(e,l,Kw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await hS(e,t,r,W_(),i);return Z4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await VV(e),r=new EV(e);return t.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Km,{type:Km},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Km];l!==void 0&&t(!!l),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UC()||OC()||Bw()}}const QV=YV;var fS="@firebase/auth",pS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZV(n){Ya(new Co("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(n)},p=new y4(r,i,o,d);return A4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ya(new Co("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(r=>new XV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(fS,pS,JV(n)),Ss(fS,pS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=300,t6=vC("authIdTokenMaxAge")||e6;let mS=null;const n6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>t6)return;const i=t==null?void 0:t.token;mS!==i&&(mS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xs(n=SC()){const e=Fw(n,"auth");if(e.isInitialized())return e.getImmediate();const t=x4(n,{popupRedirectResolver:QV,persistence:[lV,QC,JC]}),r=vC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=n6(o.toString());G4(t,l,()=>l(t.currentUser)),H4(t,u=>l(u))}}const i=mC("auth");return i&&C4(t,`http://${i}`),t}function r6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",r6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZV("Browser");var i6="firebase",s6="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(i6,s6,"app");var gS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,aP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function P(){}P.prototype=A.prototype,k.D=A.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(L,V,U){for(var O=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)O[ce-2]=arguments[ce];return A.prototype[V].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,A,P){P||(P=0);var L=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)L[V]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(V=0;16>V;++V)L[V]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=k.g[0],P=k.g[1],V=k.g[2];var U=k.g[3],O=A+(U^P&(V^U))+L[0]+3614090360&4294967295;A=P+(O<<7&4294967295|O>>>25),O=U+(V^A&(P^V))+L[1]+3905402710&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(P^U&(A^P))+L[2]+606105819&4294967295,V=U+(O<<17&4294967295|O>>>15),O=P+(A^V&(U^A))+L[3]+3250441966&4294967295,P=V+(O<<22&4294967295|O>>>10),O=A+(U^P&(V^U))+L[4]+4118548399&4294967295,A=P+(O<<7&4294967295|O>>>25),O=U+(V^A&(P^V))+L[5]+1200080426&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(P^U&(A^P))+L[6]+2821735955&4294967295,V=U+(O<<17&4294967295|O>>>15),O=P+(A^V&(U^A))+L[7]+4249261313&4294967295,P=V+(O<<22&4294967295|O>>>10),O=A+(U^P&(V^U))+L[8]+1770035416&4294967295,A=P+(O<<7&4294967295|O>>>25),O=U+(V^A&(P^V))+L[9]+2336552879&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(P^U&(A^P))+L[10]+4294925233&4294967295,V=U+(O<<17&4294967295|O>>>15),O=P+(A^V&(U^A))+L[11]+2304563134&4294967295,P=V+(O<<22&4294967295|O>>>10),O=A+(U^P&(V^U))+L[12]+1804603682&4294967295,A=P+(O<<7&4294967295|O>>>25),O=U+(V^A&(P^V))+L[13]+4254626195&4294967295,U=A+(O<<12&4294967295|O>>>20),O=V+(P^U&(A^P))+L[14]+2792965006&4294967295,V=U+(O<<17&4294967295|O>>>15),O=P+(A^V&(U^A))+L[15]+1236535329&4294967295,P=V+(O<<22&4294967295|O>>>10),O=A+(V^U&(P^V))+L[1]+4129170786&4294967295,A=P+(O<<5&4294967295|O>>>27),O=U+(P^V&(A^P))+L[6]+3225465664&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^P&(U^A))+L[11]+643717713&4294967295,V=U+(O<<14&4294967295|O>>>18),O=P+(U^A&(V^U))+L[0]+3921069994&4294967295,P=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(P^V))+L[5]+3593408605&4294967295,A=P+(O<<5&4294967295|O>>>27),O=U+(P^V&(A^P))+L[10]+38016083&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^P&(U^A))+L[15]+3634488961&4294967295,V=U+(O<<14&4294967295|O>>>18),O=P+(U^A&(V^U))+L[4]+3889429448&4294967295,P=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(P^V))+L[9]+568446438&4294967295,A=P+(O<<5&4294967295|O>>>27),O=U+(P^V&(A^P))+L[14]+3275163606&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^P&(U^A))+L[3]+4107603335&4294967295,V=U+(O<<14&4294967295|O>>>18),O=P+(U^A&(V^U))+L[8]+1163531501&4294967295,P=V+(O<<20&4294967295|O>>>12),O=A+(V^U&(P^V))+L[13]+2850285829&4294967295,A=P+(O<<5&4294967295|O>>>27),O=U+(P^V&(A^P))+L[2]+4243563512&4294967295,U=A+(O<<9&4294967295|O>>>23),O=V+(A^P&(U^A))+L[7]+1735328473&4294967295,V=U+(O<<14&4294967295|O>>>18),O=P+(U^A&(V^U))+L[12]+2368359562&4294967295,P=V+(O<<20&4294967295|O>>>12),O=A+(P^V^U)+L[5]+4294588738&4294967295,A=P+(O<<4&4294967295|O>>>28),O=U+(A^P^V)+L[8]+2272392833&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^P)+L[11]+1839030562&4294967295,V=U+(O<<16&4294967295|O>>>16),O=P+(V^U^A)+L[14]+4259657740&4294967295,P=V+(O<<23&4294967295|O>>>9),O=A+(P^V^U)+L[1]+2763975236&4294967295,A=P+(O<<4&4294967295|O>>>28),O=U+(A^P^V)+L[4]+1272893353&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^P)+L[7]+4139469664&4294967295,V=U+(O<<16&4294967295|O>>>16),O=P+(V^U^A)+L[10]+3200236656&4294967295,P=V+(O<<23&4294967295|O>>>9),O=A+(P^V^U)+L[13]+681279174&4294967295,A=P+(O<<4&4294967295|O>>>28),O=U+(A^P^V)+L[0]+3936430074&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^P)+L[3]+3572445317&4294967295,V=U+(O<<16&4294967295|O>>>16),O=P+(V^U^A)+L[6]+76029189&4294967295,P=V+(O<<23&4294967295|O>>>9),O=A+(P^V^U)+L[9]+3654602809&4294967295,A=P+(O<<4&4294967295|O>>>28),O=U+(A^P^V)+L[12]+3873151461&4294967295,U=A+(O<<11&4294967295|O>>>21),O=V+(U^A^P)+L[15]+530742520&4294967295,V=U+(O<<16&4294967295|O>>>16),O=P+(V^U^A)+L[2]+3299628645&4294967295,P=V+(O<<23&4294967295|O>>>9),O=A+(V^(P|~U))+L[0]+4096336452&4294967295,A=P+(O<<6&4294967295|O>>>26),O=U+(P^(A|~V))+L[7]+1126891415&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~P))+L[14]+2878612391&4294967295,V=U+(O<<15&4294967295|O>>>17),O=P+(U^(V|~A))+L[5]+4237533241&4294967295,P=V+(O<<21&4294967295|O>>>11),O=A+(V^(P|~U))+L[12]+1700485571&4294967295,A=P+(O<<6&4294967295|O>>>26),O=U+(P^(A|~V))+L[3]+2399980690&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~P))+L[10]+4293915773&4294967295,V=U+(O<<15&4294967295|O>>>17),O=P+(U^(V|~A))+L[1]+2240044497&4294967295,P=V+(O<<21&4294967295|O>>>11),O=A+(V^(P|~U))+L[8]+1873313359&4294967295,A=P+(O<<6&4294967295|O>>>26),O=U+(P^(A|~V))+L[15]+4264355552&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~P))+L[6]+2734768916&4294967295,V=U+(O<<15&4294967295|O>>>17),O=P+(U^(V|~A))+L[13]+1309151649&4294967295,P=V+(O<<21&4294967295|O>>>11),O=A+(V^(P|~U))+L[4]+4149444226&4294967295,A=P+(O<<6&4294967295|O>>>26),O=U+(P^(A|~V))+L[11]+3174756917&4294967295,U=A+(O<<10&4294967295|O>>>22),O=V+(A^(U|~P))+L[2]+718787259&4294967295,V=U+(O<<15&4294967295|O>>>17),O=P+(U^(V|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var P=A-this.blockSize,L=this.B,V=this.h,U=0;U<A;){if(V==0)for(;U<=P;)i(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(L[V++]=k.charCodeAt(U++),V==this.blockSize){i(this,L),V=0;break}}else for(;U<A;)if(L[V++]=k[U++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=A},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var P=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=P&255,P/=256;for(this.u(k),k=Array(16),A=P=0;4>A;++A)for(var L=0;32>L;L+=8)k[P++]=this.g[A]>>>L&255;return k};function o(k,A){var P=u;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=A(k)}function l(k,A){this.h=A;for(var P=[],L=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;L&&U==A||(P[V]=U,L=!1)}this.g=P}var u={};function d(k){return-128<=k&&128>k?o(k,function(A){return new l([A|0],0>A?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return b(p(-k));for(var A=[],P=1,L=0;k>=P;L++)A[L]=k/P|0,P*=4294967296;return new l(A,0)}function m(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return b(m(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(A,8)),L=v,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),O=parseInt(k.substring(V,V+U),A);8>U?(U=p(Math.pow(A,U)),L=L.j(U).add(p(O))):(L=L.j(P),L=L.add(p(O)))}return L}var v=d(0),y=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(T(this))return-b(this).m();for(var k=0,A=1,P=0;P<this.g.length;P++){var L=this.i(P);k+=(0<=L?L:4294967296+L)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(T(this))return"-"+b(this).toString(k);for(var A=p(Math.pow(k,6)),P=this,L="";;){var V=F(P,A).g;P=C(P,V.j(A));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=V,I(P))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function T(k){return k.h==-1}n.l=function(k){return k=C(this,k),T(k)?-1:I(k)?0:1};function b(k){for(var A=k.g.length,P=[],L=0;L<A;L++)P[L]=~k.g[L];return new l(P,~k.h).add(y)}n.abs=function(){return T(this)?b(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0,V=0;V<=A;V++){var U=L+(this.i(V)&65535)+(k.i(V)&65535),O=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);L=O>>>16,U&=65535,O&=65535,P[V]=O<<16|U}return new l(P,P[P.length-1]&-2147483648?-1:0)};function C(k,A){return k.add(b(A))}n.j=function(k){if(I(this)||I(k))return v;if(T(this))return T(k)?b(this).j(b(k)):b(b(this).j(k));if(T(k))return b(this.j(b(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var A=this.g.length+k.g.length,P=[],L=0;L<2*A;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<k.g.length;V++){var U=this.i(L)>>>16,O=this.i(L)&65535,ce=k.i(V)>>>16,Te=k.i(V)&65535;P[2*L+2*V]+=O*Te,D(P,2*L+2*V),P[2*L+2*V+1]+=U*Te,D(P,2*L+2*V+1),P[2*L+2*V+1]+=O*ce,D(P,2*L+2*V+1),P[2*L+2*V+2]+=U*ce,D(P,2*L+2*V+2)}for(L=0;L<A;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=A;L<2*A;L++)P[L]=0;return new l(P,0)};function D(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function M(k,A){this.g=k,this.h=A}function F(k,A){if(I(A))throw Error("division by zero");if(I(k))return new M(v,v);if(T(k))return A=F(b(k),A),new M(b(A.g),b(A.h));if(T(A))return A=F(k,b(A)),new M(b(A.g),A.h);if(30<k.g.length){if(T(k)||T(A))throw Error("slowDivide_ only works with positive integers.");for(var P=y,L=A;0>=L.l(k);)P=W(P),L=W(L);var V=z(P,1),U=z(L,1);for(L=z(L,2),P=z(P,2);!I(L);){var O=U.add(L);0>=O.l(k)&&(V=V.add(P),U=O),L=z(L,1),P=z(P,1)}return A=C(k,V.j(A)),new M(V,A)}for(V=v;0<=k.l(A);){for(P=Math.max(1,Math.floor(k.m()/A.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(P),O=U.j(A);T(O)||0<O.l(k);)P-=L,U=p(P),O=U.j(A);I(U)&&(U=y),V=V.add(U),k=C(k,O)}return new M(V,k)}n.A=function(k){return F(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)&k.i(L);return new l(P,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)|k.i(L);return new l(P,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),P=[],L=0;L<A;L++)P[L]=this.i(L)^k.i(L);return new l(P,this.h^k.h)};function W(k){for(var A=k.g.length+1,P=[],L=0;L<A;L++)P[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(P,k.h)}function z(k,A){var P=A>>5;A%=32;for(var L=k.g.length-P,V=[],U=0;U<L;U++)V[U]=0<A?k.i(U+P)>>>A|k.i(U+P+1)<<32-A:k.i(U+P);return new l(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,bs=l}).apply(typeof gS<"u"?gS:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,Eu,uP,fh,Y_,cP,dP,hP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,S){return h==Array.prototype||h==Object.prototype||(h[_]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var _=0;_<h.length;++_){var S=h[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(h,_){if(_)e:{var S=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var K=h[N];if(!(K in S))break e;S=S[K]}h=h[h.length-1],N=S[h],_=_(N),_!=N&&_!=null&&e(S,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var S=0,N=!1,K={next:function(){if(!N&&S<h.length){var J=S++;return{value:_(J,h[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(h){return h||function(){return o(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,S){return h.call.apply(h.bind,arguments)}function v(h,_,S){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,N),h.apply(_,K)}}return function(){return h.apply(_,arguments)}}function y(h,_,S){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function E(h,_){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function I(h,_){function S(){}S.prototype=_.prototype,h.aa=_.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(N,K,J){for(var ue=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ue[Ye-2]=arguments[Ye];return _.prototype[K].apply(N,ue)}}function T(h){const _=h.length;if(0<_){const S=Array(_);for(let N=0;N<_;N++)S[N]=h[N];return S}return[]}function b(h,_){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const K=h.length||0,J=N.length||0;h.length=K+J;for(let ue=0;ue<J;ue++)h[K+ue]=N[ue]}else h.push(N)}}class C{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var W=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function z(h,_,S){for(const N in h)_.call(S,h[N],N,h)}function k(h,_){for(const S in h)_.call(void 0,h[S],S,h)}function A(h){const _={};for(const S in h)_[S]=h[S];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,_){let S,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(S in N)h[S]=N[S];for(let J=0;J<P.length;J++)S=P[J],Object.prototype.hasOwnProperty.call(N,S)&&(h[S]=N[S])}}function V(h){var _=1;h=h.split(":");const S=[];for(;0<_&&h.length;)S.push(h.shift()),_--;return h.length&&S.push(h.join(":")),S}function U(h){u.setTimeout(()=>{throw h},0)}function O(){var h=de;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,S){const N=Te.get();N.set(_,S),this.h?this.h.next=N:this.g=N,this.h=N}}var Te=new C(()=>new _e,h=>h.reset());class _e{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ne=!1,de=new ce,le=()=>{const h=u.Promise.resolve(void 0);ye=()=>{h.then(H)}};var H=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(S){U(S)}var _=Te;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return h})();function Re(h,_){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(W){e:{try{F(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else S=="mouseover"?_=h.fromElement:S=="mouseout"&&(_=h.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}I(Re,he);var Ne={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function He(h,_,S,N,K){this.listener=h,this.proxy=null,this.src=_,this.type=S,this.capture=!!N,this.ha=K,this.key=++Oe,this.da=this.fa=!1}function mt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fn(h){this.src=h,this.g={},this.h=0}fn.prototype.add=function(h,_,S,N,K){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ue=Ln(h,_,N,K);return-1<ue?(_=h[ue],S||(_.fa=!1)):(_=new He(_,this.src,J,!!N,K),_.fa=S,h.push(_)),_};function $r(h,_){var S=_.type;if(S in h.g){var N=h.g[S],K=Array.prototype.indexOf.call(N,_,void 0),J;(J=0<=K)&&Array.prototype.splice.call(N,K,1),J&&(mt(_),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Ln(h,_,S,N){for(var K=0;K<h.length;++K){var J=h[K];if(!J.da&&J.listener==_&&J.capture==!!S&&J.ha==N)return K}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),qe={};function Vn(h,_,S,N,K){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Vn(h,_[J],S,N,K);return null}return S=jn(S),h&&h[Le]?h.K(_,S,p(N)?!!N.capture:!1,K):Ve(h,_,S,!1,N,K)}function Ve(h,_,S,N,K,J){if(!_)throw Error("Invalid event type");var ue=p(K)?!!K.capture:!!K,Ye=at(h);if(Ye||(h[vr]=Ye=new fn(h)),S=Ye.add(_,S,N,ue,J),S.proxy)return S;if(N=Fn(),S.proxy=N,N.src=h,N.listener=S,h.addEventListener)Ce||(K=ue),K===void 0&&(K=!1),h.addEventListener(_.toString(),N,K);else if(h.attachEvent)h.attachEvent(kt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fn(){function h(S){return _.call(h.src,h.listener,S)}const _=Bt;return h}function pn(h,_,S,N,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)pn(h,_[J],S,N,K);else N=p(N)?!!N.capture:!!N,S=jn(S),h&&h[Le]?(h=h.i,_=String(_).toString(),_ in h.g&&(J=h.g[_],S=Ln(J,S,N,K),-1<S&&(mt(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete h.g[_],h.h--)))):h&&(h=at(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ln(_,S,N,K)),(S=-1<h?_[h]:null)&&Pt(S))}function Pt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Le])$r(_.i,h);else{var S=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(S,N,h.capture):_.detachEvent?_.detachEvent(kt(S),N):_.addListener&&_.removeListener&&_.removeListener(N),(S=at(_))?($r(S,h),S.h==0&&(S.src=null,_[vr]=null)):mt(h)}}}function kt(h){return h in qe?qe[h]:qe[h]="on"+h}function Bt(h,_){if(h.da)h=!0;else{_=new Re(_,this);var S=h.listener,N=h.ha||h.src;h.fa&&Pt(h),h=S.call(N,_)}return h}function at(h){return h=h[vr],h instanceof fn?h:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(h){return typeof h=="function"?h:(h[mn]||(h[mn]=function(_){return h.handleEvent(_)}),h[mn])}function lt(){Z.call(this),this.i=new fn(this),this.M=this,this.F=null}I(lt,Z),lt.prototype[Le]=!0,lt.prototype.removeEventListener=function(h,_,S,N){pn(this,h,_,S,N)};function rt(h,_){var S,N=h.F;if(N)for(S=[];N;N=N.F)S.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new he(_,h);else if(_ instanceof he)_.target=_.target||h;else{var K=_;_=new he(N,h),L(_,K)}if(K=!0,S)for(var J=S.length-1;0<=J;J--){var ue=_.g=S[J];K=Dt(ue,N,!0,_)&&K}if(ue=_.g=h,K=Dt(ue,N,!0,_)&&K,K=Dt(ue,N,!1,_)&&K,S)for(J=0;J<S.length;J++)ue=_.g=S[J],K=Dt(ue,N,!1,_)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var S=h.g[_],N=0;N<S.length;N++)mt(S[N]);delete h.g[_],h.h--}}this.F=null},lt.prototype.K=function(h,_,S,N){return this.i.add(String(h),_,!1,S,N)},lt.prototype.L=function(h,_,S,N){return this.i.add(String(h),_,!0,S,N)};function Dt(h,_,S,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,J=0;J<_.length;++J){var ue=_[J];if(ue&&!ue.da&&ue.capture==S){var Ye=ue.listener,Nt=ue.ha||ue.src;ue.fa&&$r(h.i,ue),K=Ye.call(Nt,N)!==!1&&K}}return K&&!N.defaultPrevented}function Wi(h,_,S){if(typeof h=="function")S&&(h=y(h,S));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(h,_||0)}function yr(h){h.g=Wi(()=>{h.g=null,h.i&&(h.i=!1,yr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pi extends Z{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){Z.call(this),this.h=h,this.g={}}I(zr,Z);var wn=[];function Un(h){z(h.g,function(_,S){this.g.hasOwnProperty(S)&&Pt(_)},h),h.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Un(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=u.JSON.stringify,Rl=u.JSON.parse,xl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Gs(){}Gs.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Jo(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){he.call(this,"d")}I(Br,he);function Zo(){he.call(this,"c")}I(Zo,he);var Wr={},Al=null;function Ks(){return Al=Al||new lt}Wr.La="serverreachability";function Cl(h){he.call(this,Wr.La,h)}I(Cl,he);function mi(h){const _=Ks();rt(_,new Cl(_))}Wr.STAT_EVENT="statevent";function Pl(h,_){he.call(this,Wr.STAT_EVENT,h),this.stat=_}I(Pl,he);function _t(h){const _=Ks();rt(_,new Pl(_,h))}Wr.Ma="timingevent";function ea(h,_){he.call(this,Wr.Ma,h),this.size=_}I(ea,he);function _r(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function Qs(h,_,S,N,K,J){h.info(function(){if(h.g)if(J)for(var ue="",Ye=J.split("&"),Nt=0;Nt<Ye.length;Nt++){var ze=Ye[Nt].split("=");if(1<ze.length){var jt=ze[0];ze=ze[1];var bt=jt.split("_");ue=2<=bt.length&&bt[1]=="type"?ue+(jt+"="+ze+"&"):ue+(jt+"=redacted&")}}else ue=null;else ue=J;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+_+`
`+S+`
`+ue})}function ta(h,_,S,N,K,J,ue){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+_+`
`+S+`
`+J+" "+ue})}function wr(h,_,S,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+up(h,S)+(N?" "+N:"")})}function kl(h,_){h.info(function(){return"TIMEOUT: "+_})}Ys.prototype.info=function(){};function up(h,_){if(!h.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var N=S[h];if(!(2>N.length)){var K=N[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ue=1;ue<K.length;ue++)K[ue]=""}}}}return Il(S)}catch{return _}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Xs(){}I(Xs,Gs),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},Er=new Xs;function Tr(h,_,S,N){this.j=h,this.i=_,this.l=S,this.R=N||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var Dl={},ra={};function ia(h,_,S){h.L=1,h.v=Qi($n(_)),h.m=S,h.P=!0,Nl(h,null)}function Nl(h,_){h.F=Date.now(),et(h),h.A=$n(h.v);var S=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Ji(S.i,"t",N),h.C=0,S=h.j.J,h.h=new Mc,h.g=Zc(h.j,S?_:null,!h.m),0<h.O&&(h.M=new pi(y(h.Y,h,h.g),h.O)),_=h.U,S=h.g,N=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(wn[0]=K.toString()),K=wn);for(var J=0;J<K.length;J++){var ue=Vn(S,K[J],N||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),mi(),Qs(h.i,h.u,h.A,h.l,h.R,h.m)}Tr.prototype.ca=function(h){h=h.target;const _=this.M;_&&Tn(h)==3?_.j():this.Y(h)},Tr.prototype.Y=function(h){try{if(h==this.g)e:{const bt=Tn(this.g);var _=this.g.Ba();const tr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||jl(this.g)))){this.J||bt!=4||_==7||(_==8||0>=tr?mi(3):mi(2)),Js(this);var S=this.g.Z();this.X=S;t:if(Lc(this)){var N=jl(this.g);h="";var K=N.length,J=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Hi(this);var ue="";break t}this.h.i=new u.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,h+=this.h.i.decode(N[_],{stream:!(J&&_==K-1)});N.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=S==200,ta(this.i,this.u,this.A,this.l,this.R,bt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Nt=this.g;if((Ye=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ye)){var ze=Ye;break t}}ze=null}if(S=ze)wr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,S);else{this.o=!1,this.s=3,_t(12),Zn(this),Hi(this);break e}}if(this.P){S=!0;let Bn;for(;!this.J&&this.C<ue.length;)if(Bn=cp(this,ue),Bn==ra){bt==4&&(this.s=4,_t(14),S=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Dl){this.s=4,_t(15),wr(this.i,this.l,ue,"[Invalid Chunk]"),S=!1;break}else wr(this.i,this.l,Bn,null),Ol(this,Bn);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ue.length!=0||this.h.h||(this.s=1,_t(16),S=!1),this.o=this.o&&S,!S)wr(this.i,this.l,ue,"[Invalid Chunked Response]"),Zn(this),Hi(this);else if(0<ue.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ql(jt),jt.M=!0,_t(11))}}else wr(this.i,this.l,ue,null),Ol(this,ue);bt==4&&Zn(this),this.o&&!this.J&&(bt==4?ma(this.j,this):(this.o=!1,et(this)))}else ca(this.g),S==400&&0<ue.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Zn(this),Hi(this)}}}catch{}finally{}};function Lc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function cp(h,_){var S=h.C,N=_.indexOf(`
`,S);return N==-1?ra:(S=Number(_.substring(S,N)),isNaN(S)?Dl:(N+=1,N+S>_.length?ra:(_=_.slice(N,N+S),h.C=N+S,_)))}Tr.prototype.cancel=function(){this.J=!0,Zn(this)};function et(h){h.S=Date.now()+h.I,Vc(h,h.I)}function Vc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_r(y(h.ba,h),_)}function Js(h){h.B&&(u.clearTimeout(h.B),h.B=null)}Tr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(kl(this.i,this.A),this.L!=2&&(mi(),_t(17)),Zn(this),this.s=2,Hi(this)):Vc(this,this.S-h)};function Hi(h){h.j.G==0||h.J||ma(h.j,h)}function Zn(h){Js(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Un(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Ol(h,_){try{var S=h.j;if(S.G!=0&&(S.g==h||gn(S.h,h))){if(!h.K&&gn(S.h,h)&&S.G==3){try{var N=S.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)pa(S),xr(S);else break e;fa(S),_t(18)}}else S.za=K[1],0<S.za-S.T&&37500>K[2]&&S.F&&S.v==0&&!S.C&&(S.C=_r(y(S.Za,S),6e3));if(1>=jc(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else wi(S,11)}else if((h.K||S.g==h)&&pa(S),!D(_))for(K=S.Da.g.parse(_),_=0;_<K.length;_++){let ze=K[_];if(S.T=ze[0],ze=ze[1],S.G==2)if(ze[0]=="c"){S.K=ze[1],S.ia=ze[2];const jt=ze[3];jt!=null&&(S.la=jt,S.j.info("VER="+S.la));const bt=ze[4];bt!=null&&(S.Aa=bt,S.j.info("SVER="+S.Aa));const tr=ze[5];tr!=null&&typeof tr=="number"&&0<tr&&(N=1.5*tr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Bn=h.g;if(Bn){const so=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var J=N.h;J.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ml(J,J.h),J.h=null))}if(N.D){const va=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(N.ya=va,Xe(N.I,N.D,va))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ue=h;if(N.qa=Jc(N,N.J?N.ia:null,N.W),ue.K){Uc(N.h,ue);var Ye=ue,Nt=N.L;Nt&&(Ye.I=Nt),Ye.B&&(Js(Ye),et(Ye)),N.g=ue}else io(N);0<S.i.length&&Yr(S)}else ze[0]!="stop"&&ze[0]!="close"||wi(S,7);else S.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?wi(S,7):Ht(S):ze[0]!="noop"&&S.l&&S.l.ta(ze),S.v=0)}}mi(4)}catch{}}var Fc=class{constructor(h,_){this.g=h,this.map=_}};function Zs(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function jc(h){return h.h?1:h.g?h.g.size:0}function gn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ml(h,_){h.g?h.g.add(_):h.h=_}function Uc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zs.prototype.cancel=function(){if(this.i=qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function qc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const S of h.g.values())_=_.concat(S.D);return _}return T(h.i)}function sa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],S=h.length,N=0;N<S;N++)_.push(h[N]);return _}_=[],S=0;for(N in h)_[S++]=h[N];return _}function oa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var S=0;S<h;S++)_.push(S);return _}_=[],S=0;for(const N in h)_[S++]=N;return _}}}function Gi(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var S=oa(h),N=sa(h),K=N.length,J=0;J<K;J++)_.call(void 0,N[J],S&&S[J],h)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dp(h,_){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var N=h[S].indexOf("="),K=null;if(0<=N){var J=h[S].substring(0,N);K=h[S].substring(N+1)}else J=h[S];_(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function gi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof gi){this.h=h.h,to(this,h.j),this.o=h.o,this.g=h.g,Ki(this,h.s),this.l=h.l;var _=h.i,S=new Hr;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),Yi(this,S),this.m=h.m}else h&&(_=String(h).match(eo))?(this.h=!1,to(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),Ki(this,_[4]),this.l=$e(_[5]||"",!0),Yi(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}gi.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Xi(_,aa,!0),":");var S=this.g;return(S||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Xi(_,aa,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Xi(S,S.charAt(0)=="/"?Bc:zc,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Xi(S,Ll)),h.join("")};function $n(h){return new gi(h)}function to(h,_,S){h.j=S?$e(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ki(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function Yi(h,_,S){_ instanceof Hr?(h.i=_,Gr(h.i,h.h)):(S||(_=Xi(_,Wc)),h.i=new Hr(_,h.h))}function Xe(h,_,S){h.i.set(_,S)}function Qi(h){return Xe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xi(h,_,S){return typeof h=="string"?(h=encodeURI(h).replace(_,$c),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var aa=/[#\/\?@]/g,zc=/[#\?:]/g,Bc=/[#\?]/g,Wc=/[#\?@]/g,Ll=/#/g;function Hr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Wt(h){h.g||(h.g=new Map,h.h=0,h.i&&dp(h.i,function(_,S){h.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=Hr.prototype,n.add=function(h,_){Wt(this),this.i=null,h=er(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(_),this.h+=1,this};function Sr(h,_){Wt(h),_=er(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function br(h,_){return Wt(h),_=er(h,_),h.g.has(_)}n.forEach=function(h,_){Wt(this),this.g.forEach(function(S,N){S.forEach(function(K){h.call(_,K,N,this)},this)},this)},n.na=function(){Wt(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let N=0;N<_.length;N++){const K=h[N];for(let J=0;J<K.length;J++)S.push(_[N])}return S},n.V=function(h){Wt(this);let _=[];if(typeof h=="string")br(this,h)&&(_=_.concat(this.g.get(er(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)_=_.concat(h[S])}return _},n.set=function(h,_){return Wt(this),this.i=null,h=er(this,h),br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ji(h,_,S){Sr(h,_),0<S.length&&(h.i=null,h.g.set(er(h,_),T(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var N=_[S];const J=encodeURIComponent(String(N)),ue=this.V(N);for(N=0;N<ue.length;N++){var K=J;ue[N]!==""&&(K+="="+encodeURIComponent(String(ue[N]))),h.push(K)}}return this.i=h.join("&")};function er(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Gr(h,_){_&&!h.j&&(Wt(h),h.i=null,h.g.forEach(function(S,N){var K=N.toLowerCase();N!=K&&(Sr(this,N),Ji(this,K,S))},h)),h.j=_}function hp(h,_){const S=new Ys;if(u.Image){const N=new Image;N.onload=E(En,S,"TestLoadImage: loaded",!0,_,N),N.onerror=E(En,S,"TestLoadImage: error",!1,_,N),N.onabort=E(En,S,"TestLoadImage: abort",!1,_,N),N.ontimeout=E(En,S,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function Hc(h,_){const S=new Ys,N=new AbortController,K=setTimeout(()=>{N.abort(),En(S,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(J=>{clearTimeout(K),J.ok?En(S,"TestPingServer: ok",!0,_):En(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),En(S,"TestPingServer: error",!1,_)})}function En(h,_,S,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(S)}catch{}}function fp(){this.g=new xl}function Gc(h,_,S){const N=S||"";try{Gi(h,function(K,J){let ue=K;p(K)&&(ue=Il(K)),_.push(N+J+"="+encodeURIComponent(ue))})}catch(K){throw _.push(N+"type="+encodeURIComponent("_badmap")),K}}function vi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(vi,Gs),vi.prototype.g=function(){return new no(this.l,this.j)},vi.prototype.i=(function(h){return function(){return h}})({});function no(h,_){lt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(no,lt),n=no.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Rr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ir(this):Rr(this),this.readyState==3&&Kc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ir(this))},n.Qa=function(h){this.g&&(this.response=h,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Rr(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=_.next();return h.join(`\r
`)};function Rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function yi(h){let _="";return z(h,function(S,N){_+=N,_+=":",_+=S,_+=`\r
`}),_}function Zi(h,_,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=yi(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):Xe(h,_,S))}function ut(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ut,lt);var pp=/^https?$/i,Vl=["POST","PUT"];n=ut.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Xo(this.o):Xo(Er),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){ro(this,J);return}if(h=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)S.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())S.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vl,_,void 0))||N||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of S)this.g.setRequestHeader(J,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){ro(this,J)}};function ro(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,la(h),zn(h)}function la(h){h.A||(h.A=!0,rt(h,"complete"),rt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,rt(this,"complete"),rt(this,"abort"),zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Tn(h)!=4||h.Z()!=2)){if(h.u&&Tn(h)==4)Wi(h.Ea,0,h);else if(rt(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var N;if(N=ue===0){var K=String(h.D).match(eo)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),N=!pp.test(K?K.toLowerCase():"")}S=N}if(S)rt(h,"complete"),rt(h,"success");else{h.m=6;try{var J=2<Tn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",la(h)}}finally{zn(h)}}}}function zn(h,_){if(h.g){ua(h);const S=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||rt(h,"ready");try{S.onreadystatechange=N}catch{}}}function ua(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Rl(_)}};function jl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(h){const _={};h=(h.g&&2<=Tn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(D(h[N]))continue;var S=V(h[N]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=_[K]||[];_[K]=J,J.push(S)}k(_,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(h,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||_}function Ul(h){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,h),this.cb=Kr("retryDelaySeedMs",1e4,h),this.Wa=Kr("forwardChannelMaxRetries",2,h),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(h&&h.concurrentRequestLimit),this.Da=new fp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ul.prototype,n.la=8,n.G=1,n.connect=function(h,_,S,N){_t(0),this.W=h,this.H=_||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Jc(this,null,this.W),Yr(this)};function Ht(h){if(da(h),h.G==3){var _=h.U++,S=$n(h.I);if(Xe(S,"SID",h.K),Xe(S,"RID",_),Xe(S,"TYPE","terminate"),_i(h,S),_=new Tr(h,h.j,_),_.L=2,_.v=Qi($n(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=Zc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),et(_)}Xc(h)}function xr(h){h.g&&(ql(h),h.g.cancel(),h.g=null)}function da(h){xr(h),h.u&&(u.clearTimeout(h.u),h.u=null),pa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Yr(h){if(!qn(h.h)&&!h.s){h.s=!0;var _=h.Ga;ye||le(),ne||(ye(),ne=!0),de.add(_,h),h.B=0}}function mp(h,_){return jc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_r(y(h.Ga,h,_),Qc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new Tr(this,this.j,h);let J=this.o;if(this.S&&(J?(J=A(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=es(this,K,_),S=$n(this.I),Xe(S,"RID",h),Xe(S,"CVER",22),this.D&&Xe(S,"X-HTTP-Session-Id",this.D),_i(this,S),J&&(this.O?_="headers="+encodeURIComponent(String(yi(J)))+"&"+_:this.m&&Zi(S,this.m,J)),Ml(this.h,K),this.Ua&&Xe(S,"TYPE","init"),this.P?(Xe(S,"$req",_),Xe(S,"SID","null"),K.T=!0,ia(K,S,null)):ia(K,S,_),this.G=2}}else this.G==3&&(h?ha(this,h):this.i.length==0||qn(this.h)||ha(this))};function ha(h,_){var S;_?S=_.l:S=h.U++;const N=$n(h.I);Xe(N,"SID",h.K),Xe(N,"RID",S),Xe(N,"AID",h.T),_i(h,N),h.m&&h.o&&Zi(N,h.m,h.o),S=new Tr(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),_&&(h.i=_.D.concat(h.i)),_=es(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ml(h.h,S),ia(S,N,_)}function _i(h,_){h.H&&z(h.H,function(S,N){Xe(_,N,S)}),h.l&&Gi({},function(S,N){Xe(_,N,S)})}function es(h,_,S){S=Math.min(h.i.length,S);var N=h.l?y(h.l.Na,h.l,h):null;e:{var K=h.i;let J=-1;for(;;){const ue=["count="+S];J==-1?0<S?(J=K[0].g,ue.push("ofs="+J)):J=0:ue.push("ofs="+J);let Ye=!0;for(let Nt=0;Nt<S;Nt++){let ze=K[Nt].g;const jt=K[Nt].map;if(ze-=J,0>ze)J=Math.max(0,K[Nt].g-100),Ye=!1;else try{Gc(jt,ue,"req"+ze+"_")}catch{N&&N(jt)}}if(Ye){N=ue.join("&");break e}}}return h=h.i.splice(0,S),_.D=h,N}function io(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ye||le(),ne||(ye(),ne=!0),de.add(_,h),h.v=0}}function fa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_r(y(h.Fa,h),Qc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_r(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),xr(this),Yc(this))};function ql(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Yc(h){h.g=new Tr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=$n(h.qa);Xe(_,"RID","rpc"),Xe(_,"SID",h.K),Xe(_,"AID",h.T),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xe(_,"TO",h.ja),Xe(_,"TYPE","xmlhttp"),_i(h,_),h.m&&h.o&&Zi(_,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=Qi($n(_)),S.m=null,S.P=!0,Nl(S,h)}n.Za=function(){this.C!=null&&(this.C=null,xr(this),fa(this),_t(19))};function pa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ma(h,_){var S=null;if(h.g==_){pa(h),ql(h),h.g=null;var N=2}else if(gn(h.h,_))S=_.D,Uc(h.h,_),N=1;else return;if(h.G!=0){if(_.o)if(N==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var K=h.B;N=Ks(),rt(N,new ea(N,S)),Yr(h)}else io(h);else if(K=_.s,K==3||K==0&&0<_.X||!(N==1&&mp(h,_)||N==2&&fa(h)))switch(S&&0<S.length&&(_=h.h,_.i=_.i.concat(S)),K){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function Qc(h,_){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*_}function wi(h,_){if(h.j.info("Error code "+_),_==2){var S=y(h.fb,h),N=h.Xa;const K=!N;N=new gi(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||to(N,"https"),Qi(N),K?hp(N.toString(),S):Hc(N.toString(),S)}else _t(2);h.G=0,h.l&&h.l.sa(_),Xc(h),da(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Xc(h){if(h.G=0,h.ka=[],h.l){const _=qc(h.h);(_.length!=0||h.i.length!=0)&&(b(h.ka,_),b(h.ka,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.ra()}}function Jc(h,_,S){var N=S instanceof gi?$n(S):new gi(S);if(N.g!="")_&&(N.g=_+"."+N.g),Ki(N,N.s);else{var K=u.location;N=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var J=new gi(null);N&&to(J,N),_&&(J.g=_),K&&Ki(J,K),S&&(J.l=S),N=J}return S=h.D,_=h.ya,S&&_&&Xe(N,S,_),Xe(N,"VER",h.la),_i(h,N),N}function Zc(h,_,S){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new ut(new vi({eb:S})):new ut(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}n=$l.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ga(){}ga.prototype.g=function(h,_){return new vn(h,_)};function vn(h,_){lt.call(this),this.g=new Ul(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!D(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Qr(this)}I(vn,lt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ht(this.g)},vn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Il(h),h=S);_.i.push(new Fc(_.Ya++,h)),_.G==3&&Yr(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,vn.aa.N.call(this)};function ed(h){Br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const S in _){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}I(ed,Br);function td(){Zo.call(this),this.status=1}I(td,Zo);function Qr(h){this.g=h}I(Qr,$l),Qr.prototype.ua=function(){rt(this.g,"a")},Qr.prototype.ta=function(h){rt(this.g,new ed(h))},Qr.prototype.sa=function(h){rt(this.g,new td)},Qr.prototype.ra=function(){rt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,hP=function(){return new ga},dP=function(){return Ks()},cP=Wr,Y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,fh=na,Oc.COMPLETE="complete",uP=Oc,Jo.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Eu=Jo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,lP=ut}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const vS="@firebase/firestore",yS="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Lw("@firebase/firestore");function ja(){return No.logLevel}function me(n,...e){if(No.logLevel<=je.DEBUG){const t=e.map(Qw);No.debug(`Firestore (${pl}): ${n}`,...t)}}function ji(n,...e){if(No.logLevel<=je.ERROR){const t=e.map(Qw);No.error(`Firestore (${pl}): ${n}`,...t)}}function As(n,...e){if(No.logLevel<=je.WARN){const t=e.map(Qw);No.warn(`Firestore (${pl}): ${n}`,...t)}}function Qw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,fP(n,r,t)}function fP(n,e,t){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ji(r),new Error(r)}function Ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||fP(e,i,r)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class a6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class l6{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mi)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new pP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class u6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c6{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new u6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _S(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _S(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function Q_(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Me(r,i);{const o=mP(),l=f6(o.encode(wS(n,t)),o.encode(wS(e,t)));return l!==0?l:Me(r,i)}}t+=r>65535?2:1}return Me(n.length,e.length)}function wS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function f6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Qa(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="__name__";class ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=ni.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Me(e.length,t.length)}static compareSegments(e,t){const r=ni.isNumericId(e),i=ni.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ni.extractNumericId(e).compare(ni.extractNumericId(t)):Q_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class nt extends ni{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const p6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ni{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return p6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ES}static keyField(){return new Qt([ES])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(nt.fromString(e))}static fromName(e){return new Se(nt.fromString(e).popFirst(5))}static empty(){return new Se(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m6(n,e,t,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TS(n){if(!Se.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SS(n){if(Se.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(n);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,e){const t={typeString:n};return e&&(t.value=e),t}function mc(n,e){if(!vP(n))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=-62135596800,IS=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IS);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bS)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IS}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:At("string",Ze._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ze(0,0))}static max(){return new ke(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function g6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Cs(i,Se.empty(),e)}function v6(n){return new Cs(n.readTime,n.key,$u)}class Cs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Cs(ke.min(),Se.empty(),$u)}static max(){return new Cs(ke.max(),Se.empty(),$u)}}function y6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==_6)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&t()}),(d=>r(d)))})),l=!0,o===i&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((i=>i?te.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next((m=>{l[p]=m,++u,u===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new te(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function E6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}vf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-1;function yf(n){return n==null}function Uh(n){return n===0&&1/n==-1/0}function T6(n){return typeof n=="number"&&Number.isInteger(n)&&!Uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="";function S6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RS(e)),e=b6(n.get(t),e);return RS(e)}function b6(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case yP:t+="";break;default:t+=o}}return t}function RS(n){return n+yP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _P(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zd(this.root,e,this.comparator,!0)}}class Zd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Yt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AS(this.data.getIterator())}getIteratorFrom(e){return new AS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class AS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Lt(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wP("Invalid base64 string: "+o):o}})(e);return new Xt(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const I6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=I6.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="server_timestamp",TP="__type__",SP="__previous_value__",bP="__local_write_time__";function Zw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TP])===null||t===void 0?void 0:t.stringValue)===EP}function _f(n){const e=n.mapValue.fields[SP];return Zw(e)?_f(e):e}function zu(n){const e=Ps(n.mapValue.fields[bP].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,t,r,i,o,l,u,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const qh="(default)";class Bu{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="__type__",x6="__max__",eh={mapValue:{}},RP="__vector__",$h="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zw(n)?4:C6(n)?9007199254740991:A6(n)?10:11:Ae(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ps(i.timestampValue),u=Ps(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ks(i.bytesValue).isEqual(ks(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Et(i.doubleValue),u=Et(o.doubleValue);return l===u?Uh(l)===Uh(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(xS(l)!==xS(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!di(l[d],u[d])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find((t=>di(t,e)))!==void 0}function Xa(n,e){if(n===e)return 0;const t=Ds(n),r=Ds(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Et(o.integerValue||o.doubleValue),d=Et(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return CS(n.timestampValue,e.timestampValue);case 4:return CS(zu(n),zu(e));case 5:return Q_(n.stringValue,e.stringValue);case 6:return(function(o,l){const u=ks(o),d=ks(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const m=Me(u[p],d[p]);if(m!==0)return m}return Me(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Me(Et(o.latitude),Et(l.latitude));return u!==0?u:Me(Et(o.longitude),Et(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return PS(n.arrayValue,e.arrayValue);case 10:return(function(o,l){var u,d,p,m;const v=o.fields||{},y=l.fields||{},E=(u=v[$h])===null||u===void 0?void 0:u.arrayValue,I=(d=y[$h])===null||d===void 0?void 0:d.arrayValue,T=Me(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return T!==0?T:PS(E,I)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===eh.mapValue&&l===eh.mapValue)return 0;if(o===eh.mapValue)return 1;if(l===eh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const y=Q_(d[v],m[v]);if(y!==0)return y;const E=Xa(u[d[v]],p[m[v]]);if(E!==0)return E}return Me(d.length,m.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function CS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Ps(n),r=Ps(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function PS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Me(t.length,r.length)}function Ja(n){return X_(n)}function X_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ps(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ks(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=X_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${X_(t.fields[l])}`;return i+"}"})(n.mapValue):Ae(61005,{value:n})}function ph(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(n);return e?16+ph(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+ph(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return $s(r.fields,((o,l)=>{i+=o.length+ph(l)})),i})(n.mapValue);default:throw Ae(13486,{value:n})}}function kS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function J_(n){return!!n&&"integerValue"in n}function e0(n){return!!n&&"arrayValue"in n}function DS(n){return!!n&&"nullValue"in n}function NS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function A6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IP])===null||t===void 0?void 0:t.stringValue)===RP}function ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $s(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ku(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===x6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=ku(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$s(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Pn(ku(this.value))}}function xP(n){const e=[];return $s(n.fields,((t,r)=>{const i=new Qt([t]);if(mh(r)){const o=xP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ln(e,0,ke.min(),ke.min(),ke.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new ln(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new ln(e,2,t,ke.min(),ke.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ke.min(),ke.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.position=e,this.inclusive=t}}function OS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=Xa(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function P6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class xt extends AP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new D6(e,t,r):t==="array-contains"?new M6(e,r):t==="in"?new L6(e,r):t==="not-in"?new V6(e,r):t==="array-contains-any"?new F6(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new N6(e,r):new O6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xa(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends AP{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Fr(e,t)}matches(e){return CP(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function CP(n){return n.op==="and"}function PP(n){return k6(n)&&CP(n)}function k6(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function Z_(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Ja(n.value);if(PP(n))return n.filters.map((e=>Z_(e))).join(",");{const e=n.filters.map((t=>Z_(t))).join(",");return`${n.op}(${e})`}}function kP(n,e){return n instanceof xt?(function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)})(n,e):n instanceof Fr?(function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&kP(l,i.filters[u])),!0):!1})(n,e):void Ae(19439)}function DP(n){return n instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ja(t.value)}`})(n):n instanceof Fr?(function(t){return t.op.toString()+" {"+t.getFilters().map(DP).join(" ,")+"}"})(n):"Filter"}class D6 extends xt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class N6 extends xt{constructor(e,t){super(e,"in",t),this.keys=NP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class O6 extends xt{constructor(e,t){super(e,"not-in",t),this.keys=NP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function NP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Se.fromName(r.referenceValue)))}class M6 extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return e0(t)&&Wu(t.arrayValue,this.value)}}class L6 extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class V6 extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class F6 extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!e0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Wu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function LS(n,e=null,t=[],r=[],i=null,o=null,l=null){return new j6(n,e,t,r,i,o,l)}function t0(n){const e=De(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Z_(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ja(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ja(r))).join(",")),e.Pe=t}return e.Pe}function n0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MS(n.startAt,e.startAt)&&MS(n.endAt,e.endAt)}function ew(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function U6(n,e,t,r,i,o,l,u){return new gc(n,e,t,r,i,o,l,u)}function wf(n){return new gc(n)}function VS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OP(n){return n.collectionGroup!==null}function Du(n){const e=De(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Lt(Qt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Bh(o,r))})),t.has(Qt.keyField().canonicalString())||e.Te.push(new Bh(Qt.keyField(),r))}return e.Te}function si(n){const e=De(n);return e.Ie||(e.Ie=q6(e,Du(n))),e.Ie}function q6(n,e){if(n.limitType==="F")return LS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Bh(i.field,o)}));const t=n.endAt?new zh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zh(n.startAt.position,n.startAt.inclusive):null;return LS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tw(n,e){const t=n.filters.concat([e]);return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nw(n,e,t){return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ef(n,e){return n0(si(n),si(e))&&n.limitType===e.limitType}function MP(n){return`${t0(si(n))}|lt:${n.limitType}`}function Ua(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>DP(i))).join(", ")}]`),yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Ja(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Ja(i))).join(",")),`Target(${r})`})(si(n))}; limitType=${n.limitType})`}function Tf(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of Du(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const p=OS(l,u,d);return l.inclusive?p<=0:p<0})(r.startAt,Du(r),i)||r.endAt&&!(function(l,u,d){const p=OS(l,u,d);return l.inclusive?p>=0:p>0})(r.endAt,Du(r),i))})(n,e)}function $6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LP(n){return(e,t)=>{let r=!1;for(const i of Du(n)){const o=z6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z6(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?Xa(d,p):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return _P(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new pt(Se.comparator);function Ui(){return B6}const VP=new pt(Se.comparator);function Tu(...n){let e=VP;for(const t of n)e=e.insert(t.key,t);return e}function FP(n){let e=VP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bo(){return Nu()}function jP(){return Nu()}function Nu(){return new Go((n=>n.toString()),((n,e)=>n.isEqual(e)))}const W6=new pt(Se.comparator),H6=new Lt(Se.comparator);function Ue(...n){let e=H6;for(const t of n)e=e.add(t);return e}const G6=new Lt(Me);function K6(){return G6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function UP(n){return{integerValue:""+n}}function Y6(n,e){return T6(e)?UP(e):r0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function Q6(n,e,t){return n instanceof Wh?(function(i,o){const l={fields:{[TP]:{stringValue:EP},[bP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zw(o)&&(o=_f(o)),o&&(l.fields[SP]=o),{mapValue:l}})(t,e):n instanceof Za?$P(n,e):n instanceof Hu?zP(n,e):(function(i,o){const l=qP(i,o),u=FS(l)+FS(i.Ee);return J_(l)&&J_(i.Ee)?UP(u):r0(i.serializer,u)})(n,e)}function X6(n,e,t){return n instanceof Za?$P(n,e):n instanceof Hu?zP(n,e):t}function qP(n,e){return n instanceof Hh?(function(r){return J_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Wh extends Sf{}class Za extends Sf{constructor(e){super(),this.elements=e}}function $P(n,e){const t=BP(e);for(const r of n.elements)t.some((i=>di(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Hu extends Sf{constructor(e){super(),this.elements=e}}function zP(n,e){let t=BP(e);for(const r of n.elements)t=t.filter((i=>!di(i,r)));return{arrayValue:{values:t}}}class Hh extends Sf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function FS(n){return Et(n.integerValue||n.doubleValue)}function BP(n){return e0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t){this.field=e,this.transform=t}}function Z6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Za&&i instanceof Za||r instanceof Hu&&i instanceof Hu?Qa(r.elements,i.elements,di):r instanceof Hh&&i instanceof Hh?di(r.Ee,i.Ee):r instanceof Wh&&i instanceof Wh})(n.transform,e.transform)}class e3{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bf{}function WP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new i0(n.key,Vr.none()):new vc(n.key,n.data,Vr.none());{const t=n.data,r=Pn.empty();let i=new Lt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new zs(n.key,r,new Yn(i.toArray()),Vr.none())}}function t3(n,e,t){n instanceof vc?(function(i,o,l){const u=i.value.clone(),d=US(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof zs?(function(i,o,l){if(!gh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=US(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(HP(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ou(n,e,t,r){return n instanceof vc?(function(o,l,u,d){if(!gh(o.precondition,l))return u;const p=o.value.clone(),m=qS(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof zs?(function(o,l,u,d){if(!gh(o.precondition,l))return u;const p=qS(o.fieldTransforms,d,l),m=l.data;return m.setAll(HP(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,l,u){return gh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function n3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=qP(r.transform,i||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function jS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,((o,l)=>Z6(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vc extends bf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends bf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function US(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,X6(l,u,t[i]))}return r}function qS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Q6(o,l,e))}return r}class i0 extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r3 extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&t3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jP();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=WP(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,((t,r)=>jS(t,r)))&&Qa(this.baseMutations,e.baseMutations,((t,r)=>jS(t,r)))}}class s0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return W6})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new s0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s3=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Be;function a3(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function GP(n){if(n===void 0)return ji("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new bs([4294967295,4294967295],0);function $S(n){const e=mP().encode(n),t=new aP;return t.update(e),new Uint8Array(t.digest())}function zS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([t,r],0),new bs([i,o],0)]}class o0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=bs.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(bs.fromNumber(r)));return i.compare(l3)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=$S(e),[r,i]=zS(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new o0(o,i,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.fe===0)return;const t=$S(e),[r,i]=zS(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new If(ke.min(),i,new pt(Me),Ui(),Ue())}}class yc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yc(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class KP{constructor(e,t){this.targetId=e,this.De=t}}class YP{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class BS{constructor(){this.ve=0,this.Ce=WS(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),t=Ue(),r=Ue();return this.Ce.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}})),new yc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=WS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class u3{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=th(),this.Je=th(),this.He=new pt(Me)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,i)=>{this.nt(i)&&t(i)}))}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const o=i.target;if(ew(o))if(r===0){const l=new Se(o.path);this.Xe(t,l,ln.newNoDocument(l,ke.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),d=u?this.ut(u,e,l):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=ks(r).toUint8Array()}catch(d){if(d instanceof wP)return As("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new o0(l,i,o)}catch(d){return As(d instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,o,null),i++)})),i}Pt(e){const t=new Map;this.Ge.forEach(((o,l)=>{const u=this.st(l);if(u){if(o.current&&ew(u.target)){const d=new Se(u.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,ln.newNoDocument(d,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}}));let r=Ue();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.ze.forEach(((o,l)=>l.setReadTime(e)));const i=new If(e,t,this.He,this.ze,r);return this.ze=Ui(),this.je=th(),this.Je=th(),this.He=new pt(Me),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new BS,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Lt(Me),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Lt(Me),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new BS),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function th(){return new pt(Se.comparator)}function WS(){return new pt(Se.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class f3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rw(n,e){return n.useProto3Json||yf(e)?e:{value:e}}function Gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p3(n,e){return Gh(n,e.toTimestamp())}function oi(n){return Ke(!!n,49232),ke.fromTimestamp((function(t){const r=Ps(t);return new Ze(r.seconds,r.nanos)})(n))}function a0(n,e){return iw(n,e).canonicalString()}function iw(n,e){const t=(function(i){return new nt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function XP(n){const e=nt.fromString(n);return Ke(nk(e),10190,{key:e.toString()}),e}function sw(n,e){return a0(n.databaseId,e.path)}function Ym(n,e){const t=XP(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(ZP(t))}function JP(n,e){return a0(n.databaseId,e)}function m3(n){const e=XP(n);return e.length===4?nt.emptyPath():ZP(e)}function ow(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZP(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HS(n,e,t){return{name:sw(n,e),fields:t.value.mapValue.fields}}function g3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string",58123),Xt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xt.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?ee.UNKNOWN:GP(p.code);return new fe(m,p.message||"")})(l);t=new YP(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ym(n,r.document.name),o=oi(r.document.updateTime),l=r.document.createTime?oi(r.document.createTime):ke.min(),u=new Pn({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new vh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ym(n,r.document),o=r.readTime?oi(r.readTime):ke.min(),l=ln.newNoDocument(i,o),u=r.removedTargetIds||[];t=new vh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ym(n,r.document),o=r.removedTargetIds||[];t=new vh([],o,i,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new o3(i,o),u=r.targetId;t=new KP(u,l)}}return t}function v3(n,e){let t;if(e instanceof vc)t={update:HS(n,e.key,e.value)};else if(e instanceof i0)t={delete:sw(n,e.key)};else if(e instanceof zs)t={update:HS(n,e.key,e.data),updateMask:R3(e.fieldMask)};else{if(!(e instanceof r3))return Ae(16599,{Rt:e.type});t={verify:sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof Wh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Za)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hh)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:p3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(n,e.precondition)),t}function y3(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(i,o){let l=i.updateTime?oi(i.updateTime):oi(o);return l.isEqual(ke.min())&&(l=oi(o)),new e3(l,i.transformResults||[])})(t,e)))):[]}function _3(n,e){return{documents:[JP(n,e.path)]}}function w3(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JP(n,i);const o=(function(p){if(p.length!==0)return tk(Fr.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((m=>(function(y){return{field:qa(y.field),direction:S3(y.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=rw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:t,parent:i}}function E3(n){let e=m3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ke(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=(function(v){const y=ek(v);return y instanceof Fr&&PP(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((y=>(function(I){return new Bh($a(I.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(y)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let y;return y=typeof v=="object"?v.value:v,yf(y)?null:y})(t.limit));let d=null;t.startAt&&(d=(function(v){const y=!!v.before,E=v.values||[];return new zh(E,y)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const y=!v.before,E=v.values||[];return new zh(E,y)})(t.endAt)),U6(e,i,l,o,u,"F",d,p)}function T3(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ek(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$a(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(t.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$a(t.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$a(t.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xt.create($a(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fr.create(t.compositeFilter.filters.map((r=>ek(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function S3(n){return c3[n]}function b3(n){return d3[n]}function I3(n){return h3[n]}function qa(n){return{fieldPath:n.canonicalString()}}function $a(n){return Qt.fromServerFormat(n.fieldPath)}function tk(n){return n instanceof xt?(function(t){if(t.op==="=="){if(NS(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NAN"}};if(DS(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NS(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NAN"}};if(DS(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(t.field),op:b3(t.op),value:t.value}}})(n):n instanceof Fr?(function(t){const r=t.getFilters().map((i=>tk(i)));return r.length===1?r[0]:{compositeFilter:{op:I3(t.op),filters:r}}})(n):Ae(54877,{filter:n})}function R3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r,i,o=ke.min(),l=ke.min(),u=Xt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.gt=e}}function A3(n){const e=E3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.Dn=new P3}addToCollectionParentIndex(e,t){return this.Dn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Cs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class P3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Lt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rk=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(rk,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new el(0)}static ur(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="LruGarbageCollector",k3=1048576;function YS([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class D3{constructor(e){this.Tr=e,this.buffer=new Lt(YS),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(KS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?me(KS,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Rr(3e5)}))}}class O3{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(vf.ue);const r=new D3(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(GS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GS):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,l,u,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),ja()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v}))))}}function M3(n,e){return new O3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.changes=new Go((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Ou(r.mutation,i,Yn.empty(),Ze.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ue()){const i=bo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let l=Tu();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=bo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ue())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,i){let o=Ui();const l=Nu(),u=(function(){return Nu()})();return t.forEach(((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof zs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Ou(m.mutation,p,m.mutation.getFieldMask(),Ze.now())):l.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>{var v;return u.set(p,new V3(m,(v=l.get(p))!==null&&v!==void 0?v:null))})),u)))}recalculateAndSaveOverlays(e,t){const r=Nu();let i=new pt(((l,u)=>l-u)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Yn.empty();m=u.applyToLocalView(p,m),r.set(d,m);const v=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,m=d.value,v=jP();m.forEach((y=>{if(!o.has(y)){const E=WP(t.get(y),r.get(y));E!==null&&v.set(y,E),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):te.resolve(bo());let u=$u,d=o;return l.next((p=>te.forEach(p,((m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{d=d.insert(m,y)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Ue()))).next((m=>({batchId:u,changes:FP(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((r=>{let i=Tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Tu();return this.indexManager.getCollectionParents(e,o).next((u=>te.forEach(u,(d=>{const p=(function(v,y){return new gc(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((m=>{m.forEach(((v,y)=>{l=l.insert(v,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((l=>{o.forEach(((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))}));let u=Tu();return l.forEach(((d,p)=>{const m=o.get(d);m!==void 0&&Ou(m.mutation,p,Yn.empty(),Ze.now()),Tf(t,p)&&(u=u.insert(d,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return te.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:oi(i.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:A3(i.bundledQuery),readTime:oi(i.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new pt(Se.comparator),this.kr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bo();return te.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.wt(e,t,o)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=bo(),o=t.length+1,l=new Se(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new pt(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=bo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=bo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=i)););return te.resolve(u)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new s3(t,r));let o=this.kr.get(t);o===void 0&&(o=Ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.qr=new Lt(zt.Qr),this.$r=new Lt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new zt(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Se(new nt([])),r=new zt(t,e),i=new zt(t,e+1),o=[];return this.$r.forEachInRange([r,i],(l=>{this.Wr(l),o.push(l.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Se(new nt([])),r=new zt(t,e),i=new zt(t,e+1);let o=Ue();return this.$r.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new zt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Se.comparator(e.key,t.key)||Me(e.Hr,t.Hr)}static Ur(e,t){return Me(e.Hr,t.Hr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Lt(zt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new i3(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Yr=this.Yr.add(new zt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Jw:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);o.push(u)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lt(Me);return t.forEach((i=>{const o=new zt(i,0),l=new zt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Se.isDocumentKey(o)||(o=o.child(""));const l=new zt(new Se(o),0);let u=new Lt(Me);return this.Yr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.Hr)),!0)}),l),te.resolve(this.ei(u))}ei(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(t.mutations,(i=>{const o=new zt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new zt(t,0),i=this.Yr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.ni=e,this.docs=(function(){return new pt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Ui();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ui();const l=t.path,u=new Se(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||y6(v6(m),r)<=0||(i.has(m.key)||Tf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ae(9500)}ri(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new B3(this)}getSize(e){return te.resolve(this.size)}}class B3 extends L3{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.ii=new Go((t=>t0(t)),n0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new l0,this.targetCount=0,this._i=el.ar()}forEachTarget(e,t){return this.ii.forEach(((r,i)=>t(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),te.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new el(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.hr(t),te.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),te.waitFor(o).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.ai={},this.overlays={},this.ui=new vf(0),this.ci=!1,this.ci=!0,this.li=new q3,this.referenceDelegate=e(this),this.hi=new W3(this),this.indexManager=new C3,this.remoteDocumentCache=(function(i){return new z3(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new x3(t),this.Ti=new j3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new $3(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new H3(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,t){return te.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class H3 extends w6{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Ai=new l0,this.Ri=null}static Vi(e){return new u0(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.mi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(r=>{const i=Se.fromPath(r);return this.fi(e,i).next((o=>{o||t.removeEntry(i,ke.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return te.or([()=>te.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Kh{constructor(e,t){this.persistence=e,this.gi=new Go((r=>S6(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=M3(this,t)}static Vi(e,t){return new Kh(e,t)}Ii(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return te.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((o=>o?te.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,(l=>this.Sr(e,l,t).next((u=>{u||(r++,o.removeEntry(l,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),te.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ph(e.data.value)),t}Sr(e,t,r){return te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ue(),i=Ue();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new c0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return xM()?8:E6(cn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ps(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ys(e,t,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new G3;return this.ws(e,t,l).next((u=>{if(o.result=u,this.Rs)return this.Ss(e,t,l,u.size)}))})).next((()=>o.result))}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ja()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(ja()<=je.DEBUG&&me("QueryEngine","Query:",Ua(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ja()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(t))):te.resolve())}ps(e,t){if(VS(t))return te.resolve(null);let r=si(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=nw(t,null,"F"),r=si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ue(...o);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(t,u);return this.Ds(t,p,l,d.readTime)?this.ps(e,nw(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ys(e,t,r,i){return VS(t)||i.isEqual(ke.min())?te.resolve(null):this.gs.getDocuments(e,r).next((o=>{const l=this.bs(t,o);return this.Ds(t,l,r,i)?te.resolve(null):(ja()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(t)),this.vs(e,l,t,g6(i,$u)).next((u=>u)))}))}bs(e,t){let r=new Lt(LP(e));return t.forEach(((i,o)=>{Tf(e,o)&&(r=r.add(o))})),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ja()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ua(t)),this.gs.getDocumentsMatchingQuery(e,t,Cs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",Y3=3e8;class Q3{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new pt(Me),this.Ms=new Go((o=>t0(o)),n0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function X3(n,e,t,r){return new Q3(n,e,t,r)}async function sk(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let d=Ue();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Bs:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function J3(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,m){const v=p.batch,y=v.keys();let E=te.resolve();return y.forEach((I=>{E=E.next((()=>m.getEntry(d,I))).next((T=>{const b=p.docVersions.get(I);Ke(b!==null,48541),T.version.compareTo(b)<0&&(v.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),m.addEntry(T)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Ue();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function ok(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Z3(n,e){const t=De(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const u=[];e.targetChanges.forEach(((m,v)=>{const y=i.get(v);if(!y)return;u.push(t.hi.removeMatchingKeys(o,m.removedDocuments,v).next((()=>t.hi.addMatchingKeys(o,m.addedDocuments,v))));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Xt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),(function(T,b,C){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=Y3?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,E,m)&&u.push(t.hi.updateTargetData(o,E))}));let d=Ui(),p=Ue();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(eF(o,l,e.documentUpdates).next((m=>{d=m.Ls,p=m.ks}))),!r.isEqual(ke.min())){const m=t.hi.getLastRemoteSnapshotVersion(o).next((v=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(m)}return te.waitFor(u).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(t.Fs=i,o)))}function eF(n,e,t){let r=Ue(),i=Ue();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Ui();return t.forEach(((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):me(d0,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{Ls:l,ks:i}}))}function tF(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nF(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.hi.getTargetData(r,e).next((o=>o?(i=o,te.resolve(i)):t.hi.allocateTargetId(r).next((l=>(i=new ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function aw(n,e,t){const r=De(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!gl(l))throw l;me(d0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function QS(n,e,t){const r=De(n);let i=ke.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,m){const v=De(d),y=v.Ms.get(m);return y!==void 0?te.resolve(v.Fs.get(y)):v.hi.getTargetData(p,m)})(r,l,si(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:ke.min(),t?o:Ue()))).next((u=>(rF(r,$6(e),u),{documents:u,qs:o})))))}function rF(n,e,t){let r=n.xs.get(e)||ke.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.xs.set(e,r)}class XS{constructor(){this.activeTargetIds=K6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iF{constructor(){this.Fo=new XS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new XS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="ConnectivityMonitor";class ZS{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(JS,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(JS,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function lw(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RestConnection",oF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const l=lw(),u=this.Go(e,t.toUriEncodedString());me(Qm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:p}=new URL(u),m=dl(p);return this.jo(e,u,d,r,m).then((v=>(me(Qm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw As(Qm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Jo(e,t,r,i,o,l){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Go(e,t){const r=oF[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class uF extends aF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){const l=lw();return new Promise(((u,d)=>{const p=new lP;p.setWithCredentials(!0),p.listenOnce(uP.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case fh.NO_ERROR:const v=p.getResponseJson();me(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case fh.TIMEOUT:me(sn,`RPC '${e}' ${l} timed out`),d(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const y=p.getStatus();if(me(sn,`RPC '${e}' ${l} failed with status:`,y,"response text:",p.getResponseText()),y>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN})(I.status);d(new fe(T,I.message))}else d(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{me(sn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);me(sn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",m,r,15)}))}P_(e,t,r){const i=lw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hP(),u=dP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");me(sn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);this.T_(v);let y=!1,E=!1;const I=new lF({Ho:b=>{E?me(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(me(sn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),me(sn,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Yo:()=>v.close()}),T=(b,C,D)=>{b.listen(C,(M=>{try{D(M)}catch(F){setTimeout((()=>{throw F}),0)}}))};return T(v,Eu.EventType.OPEN,(()=>{E||(me(sn,`RPC '${e}' stream ${i} transport opened.`),I.s_())})),T(v,Eu.EventType.CLOSE,(()=>{E||(E=!0,me(sn,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(v))})),T(v,Eu.EventType.ERROR,(b=>{E||(E=!0,As(sn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),I.__(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),T(v,Eu.EventType.MESSAGE,(b=>{var C;if(!E){const D=b.data[0];Ke(!!D,16349);const M=D,F=(M==null?void 0:M.error)||((C=M[0])===null||C===void 0?void 0:C.error);if(F){me(sn,`RPC '${e}' stream ${i} received error:`,F);const W=F.status;let z=(function(P){const L=Rt[P];if(L!==void 0)return GP(L)})(W),k=F.message;z===void 0&&(z=ee.INTERNAL,k="Unknown error status: "+W+" with message "+F.message),E=!0,I.__(new fe(z,k)),v.close()}else me(sn,`RPC '${e}' stream ${i} received:`,D),I.a_(D)}})),T(u,cP.STAT_EVENT,(b=>{b.stat===Y_.PROXY?me(sn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Y_.NOPROXY&&me(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.o_()}),0),I}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n){return new f3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="PersistentStream";class lk{constructor(e,t,r,i,o,l,u,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ak(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===t&&this.W_(r,i)}),(r=>{e((()=>{const i=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return me(eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(me(eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cF extends lk{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=g3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?oi(l.readTime):ke.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=ow(this.serializer),t.addTarget=(function(o,l){let u;const d=l.target;if(u=ew(d)?{documents:_3(o,d)}:{query:w3(o,d).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=QP(o,l.resumeToken);const p=rw(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){u.readTime=Gh(o,l.snapshotVersion.toTimestamp());const p=rw(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=T3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=ow(this.serializer),t.removeTarget=e,this.k_(t)}}class dF extends lk{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=y3(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=ow(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>v3(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{}class fF extends hF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,iw(t,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ee.UNKNOWN,o.toString())}))}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,iw(t,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ee.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class pF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(t),this._a=!1):me("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class mF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{Ko(this)&&(me(Oo,"Restarting streams for network reachability change."),await(async function(d){const p=De(d);p.Ia.add(4),await _c(p),p.Aa.set("Unknown"),p.Ia.delete(4),await xf(p)})(this))}))})),this.Aa=new pF(r,i)}}async function xf(n){if(Ko(n))for(const e of n.da)await e(!0)}async function _c(n){for(const e of n.da)await e(!1)}function uk(n,e){const t=De(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),m0(t)?p0(t):vl(t).x_()&&f0(t,e))}function h0(n,e){const t=De(n),r=vl(t);t.Ta.delete(e),r.x_()&&ck(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ko(t)&&t.Aa.set("Unknown"))}function f0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(n).H_(e)}function ck(n,e){n.Ra.$e(e),vl(n).Y_(e)}function p0(n){n.Ra=new u3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Aa.aa()}function m0(n){return Ko(n)&&!vl(n).M_()&&n.Ta.size>0}function Ko(n){return De(n).Ia.size===0}function dk(n){n.Ra=void 0}async function gF(n){n.Aa.set("Online")}async function vF(n){n.Ta.forEach(((e,t)=>{f0(n,e)}))}async function yF(n,e){dk(n),m0(n)?(n.Aa.la(e),p0(n)):n.Aa.set("Unknown")}async function _F(n,e,t){if(n.Aa.set("Online"),e instanceof YP&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ta.delete(u),i.Ra.removeTarget(u))})(n,e)}catch(r){me(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yh(n,r)}else if(e instanceof vh?n.Ra.Ye(e):e instanceof KP?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ke.min()))try{const r=await ok(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ta.get(p);m&&o.Ta.set(p,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const m=o.Ta.get(d);if(!m)return;o.Ta.set(d,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),ck(o,d);const v=new ws(m.target,d,p,m.sequenceNumber);f0(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){me(Oo,"Failed to raise snapshot:",r),await Yh(n,r)}}async function Yh(n,e,t){if(!gl(e))throw e;n.Ia.add(1),await _c(n),n.Aa.set("Offline"),t||(t=()=>ok(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(Oo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await xf(n)}))}function hk(n,e){return e().catch((t=>Yh(n,t,e)))}async function Af(n){const e=De(n),t=Ns(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jw;for(;wF(e);)try{const i=await tF(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,EF(e,i)}catch(i){await Yh(e,i)}fk(e)&&pk(e)}function wF(n){return Ko(n)&&n.Pa.length<10}function EF(n,e){n.Pa.push(e);const t=Ns(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function fk(n){return Ko(n)&&!Ns(n).M_()&&n.Pa.length>0}function pk(n){Ns(n).start()}async function TF(n){Ns(n).na()}async function SF(n){const e=Ns(n);for(const t of n.Pa)e.X_(t.mutations)}async function bF(n,e,t){const r=n.Pa.shift(),i=s0.from(r,e,t);await hk(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Af(n)}async function IF(n,e){e&&Ns(n).Z_&&await(async function(r,i){if((function(l){return a3(l)&&l!==ee.ABORTED})(i.code)){const o=r.Pa.shift();Ns(r).N_(),await hk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Af(r)}})(n,e),fk(n)&&pk(n)}async function tb(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),me(Oo,"RemoteStore received new credentials");const r=Ko(t);t.Ia.add(3),await _c(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await xf(t)}async function RF(n,e){const t=De(n);e?(t.Ia.delete(2),await xf(t)):e||(t.Ia.add(2),await _c(t),t.Aa.set("Unknown"))}function vl(n){return n.Va||(n.Va=(function(t,r,i){const o=De(t);return o.ia(),new cF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:gF.bind(null,n),e_:vF.bind(null,n),n_:yF.bind(null,n),J_:_F.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),m0(n)?p0(n):n.Aa.set("Unknown")):(await n.Va.stop(),dk(n))}))),n.Va}function Ns(n){return n.ma||(n.ma=(function(t,r,i){const o=De(t);return o.ia(),new dF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:TF.bind(null,n),n_:IF.bind(null,n),ea:SF.bind(null,n),ta:bF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Af(n)):(await n.ma.stop(),n.Pa.length>0&&(me(Oo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new g0(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v0(n,e){if(ji("AsyncQueue",`${e}: ${n}`),gl(n))return new fe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Tu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.fa=new pt(Se.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class tl{constructor(e,t,r,i,o,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new tl(e,t,Ga.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class AF{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=De(t),o=i.queries;i.queries=rb(),o.forEach(((l,u)=>{for(const d of u.wa)d.onError(r)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function rb(){return new Go((n=>MP(n)),Ef)}async function y0(n,e){const t=De(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new xF,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=v0(l,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&w0(t)}async function _0(n,e){const t=De(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CF(n,e){const t=De(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.wa)u.Ca(i)&&(r=!0);l.ya=i}}r&&w0(t)}function PF(n,e,t){const r=De(n),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(t);r.queries.delete(e)}function w0(n){n.Da.forEach((e=>{e.next()}))}var uw,ib;(ib=uw||(uw={})).Fa="default",ib.Cache="cache";class E0{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==uw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.key=e}}class gk{constructor(e){this.key=e}}class kF{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=LP(e),this.eu=new Ga(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new nb,i=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,v)=>{const y=i.get(m),E=Tf(this.query,v)?v:null,I=!!y&&this.mutatedKeys.has(y.key),T=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;y&&E?y.data.isEqual(E.data)?I!==T&&(r.track({type:3,doc:E}),b=!0):this.iu(y,E)||(r.track({type:2,doc:E}),b=!0,(d&&this.Xa(E,d)>0||p&&this.Xa(E,p)<0)&&(u=!0)):!y&&E?(r.track({type:0,doc:E}),b=!0):y&&!E&&(r.track({type:1,doc:y}),b=!0,(d||p)&&(u=!0)),b&&(E?(l=l.add(E),o=T?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:u,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((m,v)=>(function(E,I){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:b})}};return T(E)-T(I)})(m.type,v.type)||this.Xa(m.doc,v.doc))),this.su(r),i=i!=null&&i;const u=t&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,p=d!==this.Ya;return this.Ya=d,l.length!==0||p?{snapshot:new tl(this.query,e.eu,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new nb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new gk(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new mk(r))})),t}uu(e){this.Ha=e.qs,this.Za=Ue();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return tl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const T0="SyncEngine";class DF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NF{constructor(e){this.key=e,this.lu=!1}}class OF{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Go((u=>MP(u)),Ef),this.Tu=new Map,this.Iu=new Set,this.du=new pt(Se.comparator),this.Eu=new Map,this.Au=new l0,this.Ru={},this.Vu=new Map,this.mu=el.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MF(n,e,t=!0){const r=Tk(n);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await vk(r,e,t,!0),i}async function LF(n,e){const t=Tk(n);await vk(t,e,!0,!1)}async function vk(n,e,t,r){const i=await nF(n.localStore,si(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await VF(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&uk(n.remoteStore,i),u}async function VF(n,e,t,r,i){n.gu=(v,y,E)=>(async function(T,b,C,D){let M=b.view.nu(C);M.Ds&&(M=await QS(T.localStore,b.query,!1).then((({documents:k})=>b.view.nu(k,M))));const F=D&&D.targetChanges.get(b.targetId),W=D&&D.targetMismatches.get(b.targetId)!=null,z=b.view.applyChanges(M,T.isPrimaryClient,F,W);return ob(T,b.targetId,z._u),z.snapshot})(n,v,y,E);const o=await QS(n.localStore,e,!0),l=new kF(e,o.qs),u=l.nu(o.documents),d=yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,d);ob(n,t,p._u);const m=new DF(e,t,l);return n.Pu.set(e,m),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function FF(n,e,t){const r=De(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter((l=>!Ef(l,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&h0(r.remoteStore,i.targetId),cw(r,i.targetId)})).catch(ml)):(cw(r,i.targetId),await aw(r.localStore,i.targetId,!0))}async function jF(n,e){const t=De(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),h0(t.remoteStore,r.targetId))}async function UF(n,e,t){const r=GF(n);try{const i=await(function(l,u){const d=De(l),p=Ze.now(),m=u.reduce(((E,I)=>E.add(I.key)),Ue());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Ui(),T=Ue();return d.Os.getEntries(E,m).next((b=>{I=b,I.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,I))).next((b=>{v=b;const C=[];for(const D of u){const M=n3(D,v.get(D.key).overlayedDocument);M!=null&&C.push(new zs(D.key,M,xP(M.value.mapValue),Vr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,C,u)})).next((b=>{y=b;const C=b.applyToLocalDocumentSet(v,T);return d.documentOverlayCache.saveOverlays(E,b.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:FP(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let p=l.Ru[l.currentUser.toKey()];p||(p=new pt(Me)),p=p.insert(u,d),l.Ru[l.currentUser.toKey()]=p})(r,i.batchId,t),await wc(r,i.changes),await Af(r.remoteStore)}catch(i){const o=v0(i,"Failed to persist write");t.reject(o)}}async function yk(n,e){const t=De(n);try{const r=await Z3(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Eu.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ke(l.lu,14607):i.removedDocuments.size>0&&(Ke(l.lu,42227),l.lu=!1))})),await wc(t,r,e)}catch(r){await ml(r)}}function sb(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=De(l);d.onlineState=u;let p=!1;d.queries.forEach(((m,v)=>{for(const y of v.wa)y.va(u)&&(p=!0)})),p&&w0(d)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qF(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new pt(Se.comparator);l=l.insert(o,ln.newNoDocument(o,ke.min()));const u=Ue().add(o),d=new If(ke.min(),new Map,new pt(Me),l,u);await yk(r,d),r.du=r.du.remove(o),r.Eu.delete(e),S0(r)}else await aw(r.localStore,e,!1).then((()=>cw(r,e,t))).catch(ml)}async function $F(n,e){const t=De(n),r=e.batch.batchId;try{const i=await J3(t.localStore,e);wk(t,r,null),_k(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wc(t,i)}catch(i){await ml(i)}}async function zF(n,e,t){const r=De(n);try{const i=await(function(l,u){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,u).next((v=>(Ke(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);wk(r,e,t),_k(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wc(r,i)}catch(i){await ml(i)}}function _k(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function wk(n,e,t){const r=De(n);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function cw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||Ek(n,r)}))}function Ek(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(h0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),S0(n))}function ob(n,e,t){for(const r of t)r instanceof mk?(n.Au.addReference(r.key,e),BF(n,r)):r instanceof gk?(me(T0,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Ek(n,r.key)):Ae(19791,{yu:r})}function BF(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(me(T0,"New document in limbo: "+t),n.Iu.add(r),S0(n))}function S0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Se(nt.fromString(e)),r=n.mu.next();n.Eu.set(r,new NF(t)),n.du=n.du.insert(t,r),uk(n.remoteStore,new ws(si(wf(t.path)),r,"TargetPurposeLimboResolution",vf.ue))}}async function wc(n,e,t){const r=De(n),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,d)=>{l.push(r.gu(d,e,t).then((p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=c0.Es(d.targetId,p);o.push(v)}})))})),await Promise.all(l),r.hu.J_(i),await(async function(d,p){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(y=>te.forEach(y.Is,(E=>m.persistence.referenceDelegate.addReference(v,y.targetId,E))).next((()=>te.forEach(y.ds,(E=>m.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))))))}catch(v){if(!gl(v))throw v;me(d0,"Failed to update sequence numbers: "+v)}for(const v of p){const y=v.targetId;if(!v.fromCache){const E=m.Fs.get(y),I=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(I);m.Fs=m.Fs.insert(y,T)}}})(r.localStore,o))}async function WF(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){me(T0,"User change. New user:",e.toKey());const r=await sk(t.localStore,e);t.currentUser=e,(function(o,l){o.Vu.forEach((u=>{u.forEach((d=>{d.reject(new fe(ee.CANCELLED,l))}))})),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(t,r.Bs)}}function HF(n,e){const t=De(n),r=t.Eu.get(e);if(r&&r.lu)return Ue().add(r.key);{let i=Ue();const o=t.Tu.get(e);if(!o)return i;for(const l of o){const u=t.Pu.get(l);i=i.unionWith(u.view.tu)}return i}}function Tk(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qF.bind(null,e),e.hu.J_=CF.bind(null,e.eventManager),e.hu.pu=PF.bind(null,e.eventManager),e}function GF(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zF.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return X3(this.persistence,new K3,e.initialUser,this.serializer)}Du(e){return new ik(u0.Vi,this.serializer)}bu(e){return new iF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class KF extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new N3(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new ik((r=>Kh.Vi(r,t)),this.serializer)}}class dw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WF.bind(null,this.syncEngine),await RF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AF})()}createDatastore(e){const t=Rf(e.databaseInfo.databaseId),r=(function(o){return new uF(o)})(e.databaseInfo);return(function(o,l,u,d){return new fF(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,l,u){return new mF(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>sb(this.syncEngine,t,0)),(function(){return ZS.C()?new ZS:new sF})())}createSyncEngine(e,t){return(function(i,o,l,u,d,p,m){const v=new OF(i,o,l,u,d,p);return m&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=De(i);me(Oo,"RemoteStore shutting down."),o.Ia.add(5),await _c(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dw.provider={build:()=>new dw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class YF{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=Xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{me(Os,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me(Os,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=v0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jm(n,e){n.asyncQueue.verifyOperationInProgress(),me(Os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await sk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{As("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{As("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),n._offlineComponents=e}async function ab(n,e){n.asyncQueue.verifyOperationInProgress();const t=await QF(n);me(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>tb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>tb(e.remoteStore,i))),n._onlineComponents=e}async function QF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Os,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;As("Error using user provided cache. Falling back to memory cache: "+t),await Jm(n,new Qh)}}else me(Os,"Using default OfflineComponentProvider"),await Jm(n,new KF(void 0));return n._offlineComponents}async function Sk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Os,"Using user provided OnlineComponentProvider"),await ab(n,n._uninitializedComponentsProvider._online)):(me(Os,"Using default OnlineComponentProvider"),await ab(n,new dw))),n._onlineComponents}function XF(n){return Sk(n).then((e=>e.syncEngine))}async function Xh(n){const e=await Sk(n),t=e.eventManager;return t.onListen=MF.bind(null,e.syncEngine),t.onUnlisten=FF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jF.bind(null,e.syncEngine),t}function JF(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const m=new b0({next:y=>{m.Ou(),l.enqueueAndForget((()=>_0(o,v)));const E=y.docs.has(u);!E&&y.fromCache?p.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&d&&d.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new E0(wf(u.path),m,{includeMetadataChanges:!0,ka:!0});return y0(o,v)})(await Xh(n),n.asyncQueue,e,t,r))),r.promise}function ZF(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,p){const m=new b0({next:y=>{m.Ou(),l.enqueueAndForget((()=>_0(o,v))),y.fromCache&&d.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new E0(u,m,{includeMetadataChanges:!0,ka:!0});return y0(o,v)})(await Xh(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firestore.googleapis.com",ub=!0;class cb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ik,this.ssl=ub}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o6;switch(r.type){case"firstParty":return new c6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=lb.get(t);r&&(me("ComponentProvider","Removing Datastore"),lb.delete(t),r.terminate())})(this),Promise.resolve()}}function ej(n,e,t,r={}){var i;n=cr(n,Cf);const o=dl(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(yC(`https://${d}`),_C("Firestore",!0)),l.host!==Ik&&l.host!==d&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!Rs(p,u)&&(n._setSettings(p),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=an.MOCK_USER;else{m=yM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(y)}n._authCredentials=new a6(new pP(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(mc(t,Tt._jsonSchema))return new Tt(e,r||null,new Se(nt.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:At("string",Tt._jsonSchemaVersion),referencePath:At("string")};class Is extends Yo{constructor(e,t,r){super(e,t,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Se(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Ms(n,e,...t){if(n=Ct(n),gP("collection","path",e),n instanceof Cf){const r=nt.fromString(e,...t);return SS(r),new Is(n,null,r)}{if(!(n instanceof Tt||n instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return SS(r),new Is(n.firestore,null,r)}}function Mo(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=Xw.newId()),gP("doc","path",e),n instanceof Cf){const r=nt.fromString(e,...t);return TS(r),new Tt(n,null,new Se(r))}{if(!(n instanceof Tt||n instanceof Is))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return TS(r),new Tt(n.firestore,n instanceof Is?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="AsyncQueue";class hb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ak(this,"async_queue_retry"),this.oc=()=>{const r=Xm();r&&me(db,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Mi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!gl(e))throw e;me(db,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",fb(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=g0.createAndSchedule(this,e,t,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&Ae(47125,{hc:fb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function fb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ls extends Cf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hb(e),this._firestoreClient=void 0,await e}}}function tj(n,e){const t=typeof n=="object"?n:SC(),r=typeof n=="string"?n:qh,i=Fw(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gM("firestore");o&&ej(i,...o)}return i}function Pf(n){if(n._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nj(n),n._firestoreClient}function nj(n){var e,t,r;const i=n._freezeSettings(),o=(function(u,d,p,m){return new R6(u,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bk(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new YF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(Xt.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:At("string",ur._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(mc(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:At("string",ai._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new li(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:At("string",li._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^__.*__$/;class ij{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class Rk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:n})}}class Nf{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(xk(this.Ec)&&rj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class sj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rf(e)}Dc(e,t,r,i=!1){return new Nf({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(n){const e=n._freezeSettings(),t=Rf(n._databaseId);return new sj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oj(n,e,t,r,i,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);x0("Data must be an object, but it was:",l,r);const u=Ak(r,l);let d,p;if(o.merge)d=new Yn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const y=hw(e,v,t);if(!l.contains(y))throw new fe(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Pk(m,y)||m.push(y)}d=new Yn(m),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new ij(new Pn(u),d,p)}class Of extends Df{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function aj(n,e,t){return new Nf({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R0 extends Df{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=aj(this,e,!0),r=this.vc.map((o=>yl(o,t))),i=new Za(r);return new J6(e.path,i)}isEqual(e){return e instanceof R0&&Rs(this.vc,e.vc)}}function lj(n,e,t,r){const i=n.Dc(1,e,t);x0("Data must be an object, but it was:",i,r);const o=[],l=Pn.empty();$s(r,((d,p)=>{const m=A0(e,d,t);p=Ct(p);const v=i.gc(m);if(p instanceof Of)o.push(m);else{const y=yl(p,v);y!=null&&(o.push(m),l.set(m,y))}}));const u=new Yn(o);return new Rk(l,u,i.fieldTransforms)}function uj(n,e,t,r,i,o){const l=n.Dc(1,e,t),u=[hw(e,r,t)],d=[i];if(o.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(hw(e,o[y])),d.push(o[y+1]);const p=[],m=Pn.empty();for(let y=u.length-1;y>=0;--y)if(!Pk(p,u[y])){const E=u[y];let I=d[y];I=Ct(I);const T=l.gc(E);if(I instanceof Of)p.push(E);else{const b=yl(I,T);b!=null&&(p.push(E),m.set(E,b))}}const v=new Yn(p);return new Rk(m,v,l.fieldTransforms)}function cj(n,e,t,r=!1){return yl(t,n.Dc(r?4:3,e))}function yl(n,e){if(Ck(n=Ct(n)))return x0("Unsupported field value:",e,n),Ak(n,e);if(n instanceof Df)return(function(r,i){if(!xk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let d=yl(u,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:Gh(i.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,o)}}if(r instanceof ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ur)return{bytesValue:QP(i.serializer,r._byteString)};if(r instanceof Tt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof li)return(function(l,u){return{mapValue:{fields:{[IP]:{stringValue:RP},[$h]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw u.wc("VectorValues must only contain numeric values.");return r0(u.serializer,p)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${gf(r)}`)})(n,e)}function Ak(n,e){const t={};return _P(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(n,((r,i)=>{const o=yl(i,e.Vc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Ck(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof ai||n instanceof ur||n instanceof Tt||n instanceof Df||n instanceof li)}function x0(n,e,t){if(!Ck(t)||!vP(t)){const r=gf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function hw(n,e,t){if((e=Ct(e))instanceof kf)return e._internalPath;if(typeof e=="string")return A0(n,e);throw Jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const dj=new RegExp("[~\\*/\\[\\]]");function A0(n,e,t){if(e.search(dj)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new fe(ee.INVALID_ARGUMENT,u+n+d)}function Pk(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(C0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hj extends kk{data(){return super.data()}}function C0(n,e){return typeof e=="string"?A0(n,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P0{}class fj extends P0{}function Ec(n,e,...t){let r=[];e instanceof P0&&r.push(e),r=r.concat(t),(function(o){const l=o.filter((d=>d instanceof k0)).length,u=o.filter((d=>d instanceof Mf)).length;if(l>1||l>0&&u>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Mf extends fj{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Mf(e,t,r)}_apply(e){const t=this._parse(e);return Nk(e._query,t),new Yo(e.firestore,e.converter,tw(e._query,t))}_parse(e){const t=I0(e.firestore);return(function(o,l,u,d,p,m,v){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){gb(v,m);const I=[];for(const T of v)I.push(mb(d,o,T));y={arrayValue:{values:I}}}else y=mb(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||gb(v,m),y=cj(u,l,v,m==="in"||m==="not-in");return xt.create(p,m,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nl(n,e,t){const r=e,i=C0("where",n);return Mf._create(i,r,t)}class k0 extends P0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new k0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)Nk(l,d),l=tw(l,d)})(e._query,t),new Yo(e.firestore,e.converter,tw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mb(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OP(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nt.fromString(t));if(!Se.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kS(n,new Se(r))}if(t instanceof Tt)return kS(n,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function gb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nk(n,e){const t=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pj{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return $s(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$h].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>Et(l.doubleValue)));return new li(o)}convertGeoPoint(e){return new ai(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Ke(nk(r),9688,{name:e});const i=new Bu(r.get(1),r.get(3)),o=new Se(r.popFirst(5));return i.isEqual(t)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Io extends kk{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(C0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Io._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Io._jsonSchemaVersion="firestore/documentSnapshot/1.0",Io._jsonSchema={type:At("string",Io._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class yh extends Io{data(e={}){return super.data(e)}}class Ro{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new yh(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new yh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:gj(u.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(n){n=cr(n,Tt);const e=cr(n.firestore,Ls);return JF(Pf(e),n._key).then((t=>Lk(e,n,t)))}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:At("string",Ro._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class D0 extends pj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Lf(n){n=cr(n,Yo);const e=cr(n.firestore,Ls),t=Pf(e),r=new D0(e);return Dk(n._query),ZF(t,n._query).then((i=>new Ro(e,r,n,i)))}function Vf(n,e,t,...r){n=cr(n,Tt);const i=cr(n.firestore,Ls),o=I0(i);let l;return l=typeof(e=Ct(e))=="string"||e instanceof kf?uj(o,"updateDoc",n._key,e,t,r):lj(o,"updateDoc",n._key,e),N0(i,[l.toMutation(n._key,Vr.exists(!0))])}function yj(n){return N0(cr(n.firestore,Ls),[new i0(n._key,Vr.none())])}function Ok(n,e){const t=cr(n.firestore,Ls),r=Mo(n),i=mj(n.converter,e);return N0(t,[oj(I0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then((()=>r))}function Mk(n,...e){var t,r,i;n=Ct(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||pb(e[l])||(o=e[l++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(pb(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let d,p,m;if(n instanceof Tt)p=cr(n.firestore,Ls),m=wf(n._key.path),d={next:v=>{e[l]&&e[l](Lk(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=cr(n,Yo);p=cr(v.firestore,Ls),m=v._query;const y=new D0(p);d={next:E=>{e[l]&&e[l](new Ro(p,y,v,E))},error:e[l+1],complete:e[l+2]},Dk(n._query)}return(function(y,E,I,T){const b=new b0(T),C=new E0(E,b,I);return y.asyncQueue.enqueueAndForget((async()=>y0(await Xh(y),C))),()=>{b.Ou(),y.asyncQueue.enqueueAndForget((async()=>_0(await Xh(y),C)))}})(Pf(p),m,u,d)}function N0(n,e){return(function(r,i){const o=new Mi;return r.asyncQueue.enqueueAndForget((async()=>UF(await XF(r),i,o))),o.promise})(Pf(n),e)}function Lk(n,e,t){const r=t.docs.get(e._key),i=new D0(n);return new Io(n,i,e._key,r,new bu(t.hasPendingWrites,t.fromCache),e.converter)}function _j(...n){return new R0("arrayUnion",n)}(function(e,t=!0){(function(i){pl=i})(hl),Ya(new Co("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Ls(new l6(r.getProvider("auth-internal")),new d6(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(p.options.projectId,m)})(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Ss(vS,yS,e),Ss(vS,yS,"esm2017")})();const wj={apiKey:"AIzaSyC3DZIHW49UVq2uYJt5M8SXbgo3nVfXnjU",authDomain:"fretnot-attendance-b3026.firebaseapp.com",projectId:"fretnot-attendance-b3026",storageBucket:"fretnot-attendance-b3026.appspot.com",messagingSenderId:"1068497148466",appId:"1:1068497148466:web:538e53b89fc500b9ce3a2b"},Vk=TC(wj),ri=xs(Vk);W4(ri,QC).then(()=>{console.log("Firebase Auth persistence set to local ")}).catch(n=>{console.error("Error setting persistence:",n)});const Fk=new Pi,kn=tj(Vk);var jk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vb=G.createContext&&G.createContext(jk),Ej=["attr","size","title"];function Tj(n,e){if(n==null)return{};var t=Sj(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Sj(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Zh(){return Zh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zh.apply(this,arguments)}function yb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ef(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yb(Object(t),!0).forEach(function(r){bj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bj(n,e,t){return e=Ij(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ij(n){var e=Rj(n,"string");return typeof e=="symbol"?e:e+""}function Rj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uk(n){return n&&n.map((e,t)=>G.createElement(e.tag,ef({key:t},e.attr),Uk(e.child)))}function Tc(n){return e=>G.createElement(xj,Zh({attr:ef({},n.attr)},e),Uk(n.child))}function xj(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=Tj(n,Ej),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),G.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:ef(ef({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&G.createElement("title",null,o),n.children)};return vb!==void 0?G.createElement(vb.Consumer,null,t=>e(t)):e(jk)}function qk(n){return Tc({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$k=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>q.createElement("svg",{ref:d,...Cj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:$k("lucide",i),...u},[...l.map(([p,m])=>q.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(n,e)=>{const t=q.forwardRef(({className:r,...i},o)=>q.createElement(Pj,{ref:o,iconNode:e,className:$k(`lucide-${Aj(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=St("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=St("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=St("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=St("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=St("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=St("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=St("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=St("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=St("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=St("Notebook",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=St("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=St("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Qk="/attendio/assets/bg-BJQISwya.jpeg",Uj=({setShowSignUp:n})=>{const[e,t]=q.useState({email:"",password:""}),[r,i]=q.useState({}),[o,l]=q.useState(""),[u,d]=q.useState(!1),[p,m]=q.useState(!1);q.useEffect(()=>{o&&l("")},[e]);const v=()=>{const b={},C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?C.test(e.email)||(b.email="Please enter a valid email"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",i(b),Object.keys(b).length===0},y=b=>{const{name:C,value:D}=b.target;t(M=>({...M,[C]:D})),r[C]&&i(M=>({...M,[C]:""}))},E=async b=>{if(b.preventDefault(),!!v()){d(!0);try{await z4(ri,e.email,e.password),t({email:"",password:""})}catch(C){const D=T(C.code);l(D)}finally{d(!1)}}},I=async()=>{d(!0);try{await sP(ri,Fk)}catch(b){const C=T(b.code);l(C)}finally{d(!1)}},T=b=>{switch(b){case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password must be at least 6 characters.";default:return"An error occurred. Please try again."}};return x.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${Qk})`,backgroundSize:"cover"},children:x.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white  p-8 rounded-xl shadow-2xl",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign up to continue"})]}),o&&x.jsx("p",{className:"text-red-600 mb-4",children:o}),x.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:y,placeholder:"Email address",className:`appearance-none relative block w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),r.email&&x.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:y,placeholder:"Password",className:`appearance-none relative block w-full px-3 py-2 border ${r.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),x.jsx("button",{type:"button",onClick:()=>m(b=>!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":p?"Hide password":"Show password",children:p?x.jsx(Bk,{size:16}):x.jsx(Wk,{size:16})}),r.password&&x.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:r.password})]}),x.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?x.jsx(Gk,{className:"animate-spin mx-auto"}):"Sign Up"})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),x.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(qk,{className:"h-5 w-5 mr-2"}),"Sign Up with Google"]}),x.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",x.jsx("button",{onClick:()=>n(!1),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Log in"})]})]})})},qj=({setShowSignUp:n})=>{const[e,t]=q.useState({email:"",password:""}),[r,i]=q.useState(!1),[o,l]=q.useState(!1),[u,d]=q.useState(""),[p,m]=q.useState({}),v=Ho();q.useEffect(()=>{u&&d("")},[e]);const y=()=>{const C={},D=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?D.test(e.email)||(C.email="Please enter a valid email"):C.email="Email is required",e.password?e.password.length<6&&(C.password="Password must be at least 6 characters"):C.password="Password is required",m(C),Object.keys(C).length===0},E=C=>{const{name:D,value:M}=C.target;t(F=>({...F,[D]:M})),p[D]&&m(F=>({...F,[D]:""}))},I=async C=>{if(C.preventDefault(),!!y()){l(!0);try{await B4(ri,e.email,e.password),console.log(" Email/password login initiated"),Do(ri,D=>{D&&(console.log(" Auth confirmed:",D.uid),v("/home"))})}catch(D){const M=b(D.code);d(M)}finally{l(!1)}}},T=async()=>{l(!0);try{await sP(ri,Fk),console.log(" Google login initiated"),Do(ri,C=>{C&&(console.log(" Google Auth confirmed:",C.uid),v("/home"))})}catch(C){const D=b(C.code);d(D)}finally{l(!1)}},b=C=>{switch(C){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};return x.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${Qk})`,backgroundSize:"cover"},children:x.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to continue"})]}),x.jsxs("form",{onSubmit:I,className:"mt-8 space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Email address"}),p.email&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),x.jsxs("div",{className:"relative",children:[x.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),x.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"Password"}),x.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":r?"Hide password":"Show password",children:r?x.jsx(Bk,{size:16}):x.jsx(Wk,{size:16})}),p.password&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]})]}),u&&x.jsx("div",{className:"rounded-md bg-red-50 p-4",children:x.jsx("h3",{className:"text-sm font-medium text-red-800",children:u})}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?x.jsx(Gk,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}):"Sign in"})})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),x.jsxs("button",{onClick:T,disabled:o,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(qk,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),x.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",x.jsx("button",{onClick:()=>n(!0),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Sign up"})]})]})})},$j=({title:n,description:e,onClick:t,bgColor:r="bg-white",icon:i})=>x.jsx("button",{onClick:t,className:`${r}  hover:text-emerald-600 group rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-200 w-full text-left hover:bg-gray-50 `,children:x.jsxs("div",{className:"flex flex-col space-y-3 px-5",children:[i&&x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg flex items-center justify-center",children:x.jsx(i,{className:"w-5 h-5 text-white"})}),x.jsx("h3",{className:"text-xl font-bold ",children:n}),x.jsx("p",{className:"text-gray-600 text-sm",children:e}),x.jsxs("div",{className:"mt-4 flex items-center text-emerald-600 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("span",{children:"View Details"}),x.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),zj=()=>x.jsxs("div",{className:"relative  lg:ml-16 flex mb-4 bg-white/70 backdrop-blur-xl border-b border-gray-200 sticky top-0 w-[95vw]",children:[x.jsxs("div",{className:"p-4 flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold mb-2 ",children:"Dashboard"}),x.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Welcome back! Here's what's happening today."})]}),x.jsx("div",{className:"flex items-center gap-3 ml-auto mr-10"})]}),Bj=()=>{const n=Ho(),[e,t]=q.useState(0);q.useEffect(()=>{const i=xs();return Do(i,async l=>{if(!l)return;const u=Ec(Ms(kn,"students"),nl("ownerId","==",l.uid)),d=await Lf(u);t(d.size)})});const r=[{title:"Student Profiles",description:"Edit and add student profiles",onClick:()=>n("/students"),icon:jf},{title:"Manage Students",description:"Mark attendance and assign homework",onClick:()=>n("/studentList"),icon:Yk},{title:"Teaching Calendar",description:"View your teaching calendar",onClick:()=>n("/schedule"),icon:Ff},{title:"Settings",description:"Manage your preferences and profile settings",onClick:()=>n("/settings"),icon:Fj}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 relative overflow-hidden bg-cover bg-center",children:[x.jsx(zj,{}),x.jsxs("main",{className:"lg:ml-25 md:ml-20 mb-32",children:[x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-[92vw] mb-8 ",children:r.map((i,o)=>x.jsx($j,{title:i.title,description:i.description,onClick:i.onClick,bgColor:i.bgColor,icon:i.icon},o))}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-lg",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Activity"}),x.jsx("div",{className:"space-y-4",children:[{action:"New student enrolled",time:"2 hours ago",color:"bg-green-500"},{action:"Homework submitted by Sarah",time:"4 hours ago",color:"bg-emerald-500"},{action:"Attendance marked for Math 101",time:"6 hours ago",color:"bg-teal-500"},{action:"Calendar event updated",time:"1 day ago",color:"bg-lime-500"}].map((i,o)=>x.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[x.jsx("div",{className:`w-2 h-2 ${i.color} rounded-full`}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700",children:i.action}),x.jsx("p",{className:"text-xs text-gray-500",children:i.time})]})]},o))})]}),x.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-lg",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Stats"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Students"}),x.jsx("p",{className:"text-2xl font-bold text-green-600",children:e})]}),x.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl",children:[x.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Classes Today"}),x.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:"8"})]})]})]})]})]})]})},Wj=n=>{if(!n)return"";const[e,t]=n.split(":"),r=Number(e),i=Number(t||0);if(Number.isNaN(r)||Number.isNaN(i))return n;const o=r>=12?"PM":"AM";return`${(r+11)%12+1}:${String(i).padStart(2,"0")} ${o}`},_b=({student:n,handleInputChange:e,toggleEditMode:t,handleRemoveRow:r})=>{const i=n.visitTime||"";return x.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[x.jsxs("div",{className:"p-4  border-b flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(jf,{className:"w-5 h-5 text-black"}),x.jsx("h2",{className:"font-semibold text-black",children:n.name||"New Student"})]}),x.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-sm bg-gray-100 text-gray-600",children:n.day||"No Day Set"})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[n.isEditable?x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),x.jsx("input",{value:n.name||"",onChange:o=>e(o,n.localId,"name"),className:"w-full px-3 py-2 border rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument"}),x.jsx("input",{value:n.instrument||"",onChange:o=>e(o,n.localId,"instrument"),className:"w-full px-3 py-2 border rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),x.jsxs("select",{value:n.day||"",onChange:o=>e(o,n.localId,"day"),className:"w-full px-3 py-2 border rounded-md",children:[x.jsx("option",{value:"",children:"Select Day"}),x.jsx("option",{children:"Monday"}),x.jsx("option",{children:"Tuesday"}),x.jsx("option",{children:"Wednesday"}),x.jsx("option",{children:"Thursday"}),x.jsx("option",{children:"Friday"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),x.jsxs("select",{value:n.duration??"",onChange:o=>e(o,n.localId,"duration"),className:"w-full px-3 py-2 border rounded-md",children:[x.jsx("option",{value:"30",children:"30 min"}),x.jsx("option",{value:"45",children:"45 min"}),x.jsx("option",{value:"60",children:"60 min"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visit Time"}),x.jsx("input",{type:"time",value:i,onChange:o=>e(o,n.localId,"visitTime"),className:"w-full px-3 py-2 border rounded-md"})]})]}):x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Nj,{className:"w-4 h-4 text-gray-400"}),x.jsx("span",{children:n.instrument||"No Instrument"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ff,{className:"w-4 h-4 text-gray-400"}),x.jsxs("span",{children:[n.day,i?` ${Wj(i)}`:""]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(zk,{className:"w-4 h-4 text-gray-400"}),x.jsxs("span",{children:[n.duration," min"]})]})]}),x.jsxs("div",{className:"flex gap-2 pt-2 border-t mt-4",children:[x.jsx("button",{onClick:()=>t(n.localId),className:`flex-1 px-3 py-2 rounded-md text-white ${n.isEditable?"bg-emerald-500 hover:bg-emerald-600":"bg-amber-500 hover:bg-amber-600"}`,children:n.isEditable?x.jsxs(x.Fragment,{children:[x.jsx(Vj,{className:"h-4 w-4 inline mr-1"}),"Save"]}):x.jsxs(x.Fragment,{children:[x.jsx(Mj,{className:"h-4 w-4 inline mr-1"}),"Edit"]})}),x.jsxs("button",{onClick:()=>r(n.localId),className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white px-3 py-2 rounded-md",children:[x.jsx(jj,{className:"h-4 w-4 inline mr-1 "}),"Remove"]})]})]})]})},Hj=async()=>{const e=xs().currentUser;if(!e){console.error(" You must be logged in to update documents!");return}const t=e.uid,r=Ms(kn,"students");try{const i=await Lf(r);let o=0;for(const l of i.docs)l.data().ownerId||(await Vf(Mo(kn,"students",l.id),{ownerId:t}),o++,console.log(` Updated ${l.id}`));console.log(o===0?" All documents already have ownerId fields.":` Updated ${o} documents successfully!`)}catch(i){console.error(" Error updating documents:",i)}},wb=["Monday","Tuesday","Wednesday","Thursday","Friday"],Gj=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(null),[i,o]=q.useState(!1);q.useEffect(()=>{const y=xs();return Do(y,I=>{I?(r(I.uid),o(!0),Hj()):(r(null),o(!1))})},[]),q.useEffect(()=>{if(!i||!t)return;const y=Ec(Ms(kn,"students"),nl("ownerId","==",t));return Mk(y,I=>{e(I.docs.map(T=>{const b=T.data();return{localId:T.id,id:T.id,name:b.name||"",instrument:b.instrument||"",day:b.day||"",visitTime:b.visitTime||"",duration:Number(b.duration)||60,isEditable:!1,ownerId:b.ownerId||null}}))})},[t,i]);const l=()=>{i&&e(y=>[{localId:crypto.randomUUID(),id:null,name:"",instrument:"",day:"",visitTime:"",duration:30,isEditable:!0},...y])},u=(y,E,I)=>{e(T=>T.map(b=>b.localId===E?{...b,[I]:y.target.value}:b))},d=async y=>{var T;const E=n.find(b=>b.localId===y),I=n.map(b=>b.localId===y?{...b,isEditable:!b.isEditable}:b);if(E.isEditable){const b=t||((T=xs().currentUser)==null?void 0:T.uid),C={name:E.name.trim(),instrument:E.instrument.trim(),day:E.day.trim(),visitTime:E.visitTime.trim(),duration:Number(E.duration)||0,ownerId:b};if(!C.name||!C.instrument||!C.day){alert("Please fill in all fields.");return}if(E.id)await Vf(Mo(kn,"students",E.id),C);else{const D=await Ok(Ms(kn,"students"),C);I.find(M=>M.localId===y).id=D.id}}e(I)},p=async y=>{const E=n.find(I=>I.localId===y);E!=null&&E.id&&await yj(Mo(kn,"students",E.id)),e(I=>I.filter(T=>T.localId!==y))},m=n.filter(y=>y.isEditable),v=wb.reduce((y,E)=>{const I=n.filter(C=>C.day===E),T=I.filter(C=>C.isEditable),b=I.filter(C=>!C.isEditable);return y[E]=[...T,...b.sort((C,D)=>C.visitTime.localeCompare(D.visitTime))],y},{});return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 relative overflow-hidden bg-cover bg-center",children:[x.jsxs("header",{className:"flex justify-between items-center bg-white p-8 lg:ml-16 flex mb-4 bg-white/70 backdrop-blur-xl border-b border-gray-200 sticky top-0 ",children:[x.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[x.jsx(Dj,{className:"text-2xl font-bold"})," Students"]}),x.jsxs("div",{className:"flex",children:[x.jsxs("button",{onClick:l,className:"px-4 py-2 mt-4 bg-gradient-to-br from-emerald-500 to-emerald-600 hover:bg-emerald-800 text-white rounded-md mr-2",children:[x.jsx(Lj,{className:"inline mr-2"}),"Add Student"]}),x.jsxs("div",{className:"relative md:block mt-4",children:[x.jsx(Kk,{className:"absolute left-3 top-1/2  -translate-y-1/2 w-8 h-4 text-gray-400 "}),x.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-3 bg-gray-100 rounded-lg border border-transparent focus:border-b-emerald-600 focus:bg-white focus:outline-none transition-all w-[420px] rounded-lg focus:shadow-md "})]})]})]}),x.jsxs("div",{className:"lg:ml-16 px-4 pb-24 ",children:[m.length>0&&x.jsxs("div",{className:"mb-10 ",children:[x.jsx("h3",{className:"text-lg font-bold mt-2 mb-3 border-b pb-1 ",children:"Add Students"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(y=>x.jsx(_b,{student:y,handleInputChange:u,toggleEditMode:d,handleRemoveRow:p},y.localId))})]}),wb.map(y=>x.jsxs("div",{className:"mb-10",children:[x.jsxs("h2",{className:"text-xl font-bold  mb-4 border-b pb-2",children:[" ",y]}),v[y].length===0?x.jsx("p",{className:"text-gray-400",children:"No students scheduled"}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v[y].map(E=>x.jsx(_b,{student:E,handleInputChange:u,toggleEditMode:d,handleRemoveRow:p},E.localId))})]},y))]})]})},Eb=["Monday","Tuesday","Wednesday","Thursday","Friday"],Kj=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(!0),[i,o]=q.useState(null),[l,u]=q.useState(null),[d,p]=q.useState(""),m=Ho();q.useEffect(()=>{const I=xs();return Do(I,async b=>{if(!b){console.warn(" No user logged in"),o("You must be logged in to view attendance."),r(!1);return}try{console.log(" Auth confirmed in Attendance:",b.uid);const C=Ec(Ms(kn,"students"),nl("ownerId","==",b.uid)),M=(await Lf(C)).docs.map(F=>({id:F.id,...F.data(),attendanceHistory:F.data().attendanceHistory||[]}));e(M),o(null),console.log(` Loaded ${M.length} students for UID ${b.uid}`)}catch(C){console.error(" Error fetching students:",C),o("Failed to fetch students. Please try again later.")}finally{r(!1)}})},[]);const v=async(I,T)=>{u(I);try{const b=Mo(kn,"students",I),C={status:T,timestamp:Ze.now(),date:new Date().toISOString().split("T")[0]};await Vf(b,{attendance:T,attendanceHistory:_j(C)}),e(D=>D.map(M=>M.id===I?{...M,attendance:T,attendanceHistory:[...M.attendanceHistory||[],C]}:M)),console.log(` Marked ${I} as ${T}`)}catch(b){console.error(" Error updating attendance:",b),o("Failed to update attendance. Please try again.")}finally{u(null)}},y=I=>!I||I.length===0?{present:0,absent:0}:I.reduce((T,b)=>({present:T.present+(b.status==="Present"?1:0),absent:T.absent+(b.status==="Absent"?1:0)}),{present:0,absent:0});if(t)return x.jsx("div",{className:"flex items-center justify-center min-h-screen",children:x.jsx(Hk,{className:"h-8 w-8 animate-spin text-blue-500"})});const E=Eb.reduce((I,T)=>(I[T]=n.filter(b=>b.day===T).sort((b,C)=>b.visitTime.localeCompare(C.visitTime)),I),{});return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 relative overflow-hidden bg-cover bg-center",children:[x.jsxs("header",{className:`justify-between bg-white p-4 md:p-8\r
p-4 md:p-8\r
 lg:ml-16 flex mb-4 bg-white/70 backdrop-blur-xl border-b border-gray-200 flex-col md:flex-row`,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Yk,{className:"h-6 w-6"}),x.jsx("h1",{className:"text-2xl font-bold",children:"Student Attendance & Homework"})]}),x.jsxs("div",{className:"relative md:block mt-4",children:[x.jsx(Kk,{className:"absolute left-3 top-1/2  -translate-y-1/2 w-8 h-4 text-gray-400 "}),x.jsx("input",{type:"text",placeholder:"Search...",value:d,onChange:I=>p(I.target.value),className:"pl-10 pr-4 py-3 bg-gray-100 rounded-lg border border-transparent focus:border-b-emerald-600 focus:bg-white focus:outline-none transition-all w-[420px] rounded-lg focus:shadow-md "})]})]}),i&&x.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200  flex items-center gap-2 text-red-700",children:[x.jsx(kj,{className:"h-5 w-5"}),x.jsx("p",{children:i})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:ml-16 px-4 pb-24",children:Eb.map(I=>x.jsxs("div",{className:"col-span-full",children:[x.jsxs("h2",{className:"text-xl font-bold  mb-4 border-b pb-2",children:[" ",I]}),E[I].length===0?x.jsx("p",{className:"text-gray-400 mb-6",children:"No students scheduled for this day"}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E[I].filter(T=>{const b=d.toLowerCase();return T.name.toLowerCase().includes(b)||T.day.toLowerCase().includes(b)}).map(T=>{const b=y(T.attendanceHistory);return x.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[x.jsx("div",{className:"p-4 border-b border-gray-200",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(jf,{className:"h-5 w-5 text-black"}),x.jsx("h2",{className:"font-semibold text-black",children:T.name})]}),x.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-sm ${T.attendance==="Present"?"bg-green-100 text-green-600":T.attendance==="Absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[T.attendance==="Present"&&x.jsx(pw,{className:"h-4 w-4"}),T.attendance==="Absent"&&x.jsx(mw,{className:"h-4 w-4"}),T.attendance||"Not marked"]})]})}),x.jsxs("div",{className:"p-4 bg-white",children:[x.jsxs("div",{className:"flex justify-around mb-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-green-600 font-semibold",children:b.present}),x.jsx("div",{className:"text-sm text-gray-500",children:"Present"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-red-600 font-semibold",children:b.absent}),x.jsx("div",{className:"text-sm text-gray-500",children:"Absent"})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>v(T.id,"Present"),disabled:l===T.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md",children:[x.jsx(pw,{className:"h-4 w-4"}),"Present"]}),x.jsxs("button",{onClick:()=>v(T.id,"Absent"),disabled:l===T.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md",children:[x.jsx(mw,{className:"h-4 w-4"}),"Absent"]})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsxs("button",{onClick:()=>m(`/attendance/${T.id}`,{state:{student:T}}),className:"flex-1 px-3 py-2 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:[x.jsx(Ff,{className:"h-4 w-4 inline mr-1"}),"Attendance"]}),x.jsx("button",{onClick:()=>m(`/homework/${T.id}`,{state:{student:T}}),className:"flex-1 px-3 py-2 text-sm bg-indigo-500 hover:bg-indigo-600 text-white rounded-md",children:" Homework"})]})]})]},T.id)})})]},I))})]})},Yj=()=>{const{studentId:n}=rC(),e=xs(),{state:t}=qr(),r=t==null?void 0:t.student,[i,o]=q.useState([]),[l,u]=q.useState(""),[d,p]=q.useState(""),[m,v]=q.useState(""),[y,E]=q.useState(!1),[I,T]=q.useState(""),b=async()=>{if(!e.currentUser){console.log("No authenticated user");return}try{E(!0);const M=Ec(Ms(kn,"homework"),nl("studentId","==",n),nl("ownerId","==",e.currentUser.uid)),W=(await Lf(M)).docs.map(z=>({id:z.id,...z.data()}));o(W),T("")}catch(M){console.error("Error fetching homework:",M),T("Failed to load homework")}finally{E(!1)}};q.useEffect(()=>{b()},[n]);const C=async()=>{if(!l||!m){T("Title and due date are required");return}if(!e.currentUser){T("You must be logged in");return}try{E(!0),T(""),await Ok(Ms(kn,"homework"),{studentId:n,title:l,description:d,dueDate:m,status:"not_done",ownerId:e.currentUser.uid,assignedAt:Ze.now()}),u(""),p(""),v(""),await b()}catch(M){console.error("Error assigning homework:",M),T("Failed to assign homework")}finally{E(!1)}},D=async(M,F)=>{if(e.currentUser)try{await Vf(Mo(kn,"homework",M),{status:F}),o(W=>W.map(z=>z.id===M?{...z,status:F}:z))}catch{console.error("Error updating homework"),T("Failed to update homework status")}};return x.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4 pb-24",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Oj,{className:"h-6 w-6 text-gray-500"}),x.jsx("div",{children:x.jsx("h1",{className:"text-2xl font-bold",children:r!=null&&r.name?`${r==null?void 0:r.name}'s Homework`:"Student Homework"})})]}),x.jsxs(Fu,{to:"/studentList",className:"inline-flex items-center gap-1 text-sm px-3 py-2 border rounded-md hover:bg-gray-50",children:[x.jsx(fw,{className:"h-4 w-4"}),"Back"]})]}),I&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:I}),x.jsxs("form",{className:"bg-white border rounded-lg p-4 mb-6",onSubmit:M=>{M.preventDefault(),C()},children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Assign Homework"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{value:l,onChange:M=>u(M.target.value),placeholder:"Homework title",className:"w-full border rounded-md px-3 py-2",required:!0}),x.jsx("textarea",{value:d,onChange:M=>p(M.target.value),placeholder:"Description (optional)",className:"w-full border rounded-md px-3 py-2",rows:3}),x.jsx("input",{type:"date",value:m,onChange:M=>v(M.target.value),className:"w-full border rounded-md px-3 py-2",required:!0}),x.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-2 rounded-md transition-colors",children:y?"Assigning...":"Assign Homework"})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Assigned Homework"}),y&&i.length===0?x.jsx("p",{className:"text-gray-500",children:"Loading..."}):i.length===0?x.jsx("p",{className:"text-gray-500",children:"No homework records yet."}):i.map(M=>x.jsxs("div",{className:`\r
    border rounded-lg p-4\r
    flex flex-col gap-4\r
    sm:flex-row sm:items-center sm:justify-between bg-white\r
  `,children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-semibold text-lg",children:M.title}),M.description&&x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),x.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Due: ",M.dueDate]})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[x.jsxs("select",{value:M.status||"not_done",onChange:F=>D(M.id,F.target.value),className:"text-sm border rounded-md px-2 py-1 w-full sm:w-auto",children:[x.jsx("option",{value:"not_done",children:"Not practiced"}),x.jsx("option",{value:"partial",children:"Partially practiced"}),x.jsx("option",{value:"completed",children:"Practiced"})]}),x.jsx("span",{className:`text-sm px-3 py-1 rounded-full text-center whitespace-nowrap ${M.status==="completed"?"bg-green-500 text-white":M.status==="partial"?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:M.status==="completed"?"Practiced":M.status==="partial"?"Partially practiced":"Did not practice"})]})]},M.id))]})]})};function qi(n){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(n)}function Qj(n,e){if(qi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xk(n){var e=Qj(n,"string");return qi(e)=="symbol"?e:e+""}function To(n,e,t){return(e=Xk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Je(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(t),!0).forEach(function(r){To(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uf(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function hi(n,e){if(n==null)return{};var t,r,i=Uf(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Vt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Sb(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Xk(r.key),r)}}function Ft(n,e,t){return e&&Sb(n.prototype,e),t&&Sb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function tf(n){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(n)}function Jk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!n})()}function Xj(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jj(n,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xj(n)}function dn(n,e,t){return e=tf(e),Jj(n,Jk()?Reflect.construct(e,t||[],tf(n).constructor):e.apply(n,t))}function nf(n,e){return nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},nf(n,e)}function hn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nf(n,e)}function Zk(n){if(Array.isArray(n))return n}function Zj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,l,u=[],d=!0,p=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(d=(r=o.call(t)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(m){p=!0,i=m}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(p)throw i}}return u}}function gw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function O0(n,e){if(n){if(typeof n=="string")return gw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gw(n,e):void 0}}function e2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(n,e){return Zk(n)||Zj(n,e)||O0(n,e)||e2()}function t2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=t2(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function yt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=t2(n))&&(r&&(r+=" "),r+=e);return r}function vt(){return vt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vt.apply(null,arguments)}var Zm,bb;function e5(){if(bb)return Zm;bb=1;var n=function(e,t,r,i,o,l,u,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,o,l,u,d],v=0;p=new Error(t.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Zm=n,Zm}var t5=e5();const Gu=Mn(t5);var n5=function(){};function r5(n,e){var t={};return Object.keys(n).forEach(function(r){t[_h(r)]=n5}),t}function Ib(n,e){return n[e]!==void 0}function _h(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function i5(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function s5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,nf(n,e)}function n2(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function r2(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function i2(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}n2.__suppressDeprecationWarning=!0;r2.__suppressDeprecationWarning=!0;i2.__suppressDeprecationWarning=!0;function o5(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=n2,e.componentWillReceiveProps=r2),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i2;var u=e.componentDidUpdate;e.componentDidUpdate=function(p,m,v){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;u.call(this,p,m,y)}}return n}var a5="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function s2(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=i5(n),o=Object.keys(e),l=o.map(_h);i||!t.length||Gu(!1);var u=(function(p){s5(m,p);function m(){for(var y,E=arguments.length,I=new Array(E),T=0;T<E;T++)I[T]=arguments[T];y=p.call.apply(p,[this].concat(I))||this,y.handlers=Object.create(null),o.forEach(function(C){var D=e[C],M=function(W){if(y.props[D]){var z;y._notifying=!0;for(var k=arguments.length,A=new Array(k>1?k-1:0),P=1;P<k;P++)A[P-1]=arguments[P];(z=y.props)[D].apply(z,[W].concat(A)),y._notifying=!1}y.unmounted||y.setState(function(L){var V,U=L.values;return{values:vt(Object.create(null),U,(V={},V[C]=W,V))}})};y.handlers[D]=M}),t.length&&(y.attachRef=function(C){y.inner=C});var b=Object.create(null);return o.forEach(function(C){b[C]=y.props[_h(C)]}),y.state={values:b,prevProps:{}},y}var v=m.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(E,I){var T=I.values,b=I.prevProps,C={values:vt(Object.create(null),T),prevProps:{}};return o.forEach(function(D){C.prevProps[D]=E[D],!Ib(E,D)&&Ib(b,D)&&(C.values[D]=E[_h(D)])}),C},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var E=this,I=this.props,T=I.innerRef,b=Uf(I,["innerRef"]);l.forEach(function(D){delete b[D]});var C={};return o.forEach(function(D){var M=E.props[D];C[D]=M!==void 0?M:E.state.values[D]}),G.createElement(n,vt({},b,C,this.handlers,{ref:T||this.attachRef}))},m})(G.Component);o5(u),u.displayName="Uncontrolled("+r+")",u.propTypes=vt({innerRef:function(){}},r5(e)),t.forEach(function(p){u.prototype[p]=function(){var v;return(v=this.inner)[p].apply(v,arguments)}});var d=u;return G.forwardRef&&(d=G.forwardRef(function(p,m){return G.createElement(u,vt({},p,{innerRef:m,__source:{fileName:a5,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=n,d.deferControlTo=function(p,m,v){return m===void 0&&(m={}),s2(p,vt({},e,m),v)},d}var eg={exports:{}},tg,Rb;function l5(){if(Rb)return tg;Rb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tg=n,tg}var ng,xb;function u5(){if(xb)return ng;xb=1;var n=l5();function e(){}function t(){}return t.resetWarningCache=e,ng=function(){function r(l,u,d,p,m,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},ng}var Ab;function c5(){return Ab||(Ab=1,eg.exports=u5()()),eg.exports}var d5=c5();const ae=Mn(d5);var rf="milliseconds",Ku="seconds",Yu="minutes",Qu="hours",Vo="day",rl="week",Xu="month",Fo="year",jo="decade",Uo="century",o2={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},h5={month:1,year:12,decade:120,century:1200};function f5(n){return[31,p5(n),31,30,31,30,31,31,30,31,30,31]}function p5(n){return n%4===0&&n%100!==0||n%400===0?29:28}function jr(n,e,t){switch(n=new Date(n),t){case rf:case Ku:case Yu:case Qu:case Vo:case rl:return m5(n,e*o2[t]);case Xu:case Fo:case jo:case Uo:return g5(n,e*h5[t])}throw new TypeError('Invalid units: "'+t+'"')}function m5(n,e){var t=new Date(+n+e);return v5(n,t)}function g5(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),o=t*12+r+e,l=Math.trunc(o/12),u=o%12,d=Math.min(i,f5(l)[u]),p=new Date(n);return p.setFullYear(l),p.setDate(1),p.setMonth(u),p.setDate(d),p}function v5(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*o2.minutes)}function Ju(n,e,t){return jr(n,-e,t)}function Jt(n,e,t){switch(n=new Date(n),e){case Uo:case jo:case Fo:n=of(n,0);case Xu:n=d2(n,1);case rl:case Vo:n=tc(n,0);case Qu:n=il(n,0);case Yu:n=ec(n,0);case Ku:n=Zu(n,0)}return e===jo&&(n=Ju(n,qo(n)%10,"year")),e===Uo&&(n=Ju(n,qo(n)%100,"year")),e===rl&&(n=h2(n,0,t)),n}function sf(n,e,t){switch(n=new Date(n),n=Jt(n,e,t),e){case Uo:case jo:case Fo:case Xu:case rl:n=jr(n,1,e),n=Ju(n,1,Vo),n.setHours(23,59,59,999);break;case Vo:n.setHours(23,59,59,999);break;case Qu:case Yu:case Ku:n=jr(n,1,e),n=Ju(n,1,rf)}return n}var _l=El(function(n,e){return n===e}),M0=El(function(n,e){return n!==e}),qf=El(function(n,e){return n>e}),Sc=El(function(n,e){return n>=e}),L0=El(function(n,e){return n<e}),wl=El(function(n,e){return n<=e});function a2(){return new Date(Math.min.apply(Math,arguments))}function l2(){return new Date(Math.max.apply(Math,arguments))}function u2(n,e,t,r){return r=r||"day",(!e||Sc(n,e,r))&&(!t||wl(n,t,r))}var Zu=Bs("Milliseconds"),ec=Bs("Seconds"),il=Bs("Minutes"),tc=Bs("Hours"),c2=Bs("Day"),d2=Bs("Date"),of=Bs("Month"),qo=Bs("FullYear");function y5(n,e){return e===void 0?qo(Jt(n,jo)):jr(n,e+10,Fo)}function _5(n,e){return e===void 0?qo(Jt(n,Uo)):jr(n,e+100,Fo)}function h2(n,e,t){var r=(c2(n)+7-(t||0))%7;return e===void 0?r:jr(n,e-r,Vo)}function w5(n,e,t,r){var i,o,l;switch(t){case rf:case Ku:case Yu:case Qu:case Vo:case rl:i=e.getTime()-n.getTime();break;case Xu:case Fo:case jo:case Uo:i=(qo(e)-qo(n))*12+of(e)-of(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case rf:o=1;break;case Ku:o=1e3;break;case Yu:o=1e3*60;break;case Qu:o=1e3*60*60;break;case Vo:o=1e3*60*60*24;break;case rl:o=1e3*60*60*24*7;break;case Xu:o=1;break;case Fo:o=12;break;case jo:o=120;break;case Uo:o=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return l=i/o,r?l:Math.round(l)}function Bs(n){var e=(function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function El(n){return function(e,t,r){return n(+Jt(e,r),+Jt(t,r))}}const Cb=Object.freeze(Object.defineProperty({__proto__:null,add:jr,century:_5,date:d2,day:c2,decade:y5,diff:w5,endOf:sf,eq:_l,gt:qf,gte:Sc,hours:tc,inRange:u2,lt:L0,lte:wl,max:l2,milliseconds:Zu,min:a2,minutes:il,month:of,neq:M0,seconds:ec,startOf:Jt,subtract:Ju,weekday:h2,year:qo},Symbol.toStringTag,{value:"Module"}));function E5(n){if(Array.isArray(n))return gw(n)}function f2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function T5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(n){return E5(n)||f2(n)||O0(n)||T5()}var rg,Pb;function p2(){if(Pb)return rg;Pb=1;function n(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+t];return l}return rg=n,rg}var ig,kb;function bc(){if(kb)return ig;kb=1;function n(e,t){return e===t||e!==e&&t!==t}return ig=n,ig}var sg,Db;function m2(){if(Db)return sg;Db=1;var n=typeof Kd=="object"&&Kd&&Kd.Object===Object&&Kd;return sg=n,sg}var og,Nb;function fi(){if(Nb)return og;Nb=1;var n=m2(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return og=t,og}var ag,Ob;function Tl(){if(Ob)return ag;Ob=1;var n=fi(),e=n.Symbol;return ag=e,ag}var lg,Mb;function S5(){if(Mb)return lg;Mb=1;var n=Tl(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function o(l){var u=t.call(l,i),d=l[i];try{l[i]=void 0;var p=!0}catch{}var m=r.call(l);return p&&(u?l[i]=d:delete l[i]),m}return lg=o,lg}var ug,Lb;function b5(){if(Lb)return ug;Lb=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return ug=t,ug}var cg,Vb;function Sl(){if(Vb)return cg;Vb=1;var n=Tl(),e=S5(),t=b5(),r="[object Null]",i="[object Undefined]",o=n?n.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):t(u)}return cg=l,cg}var dg,Fb;function Bi(){if(Fb)return dg;Fb=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return dg=n,dg}var hg,jb;function V0(){if(jb)return hg;jb=1;var n=Sl(),e=Bi(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var d=n(u);return d==r||d==i||d==t||d==o}return hg=l,hg}var fg,Ub;function F0(){if(Ub)return fg;Ub=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return fg=e,fg}var pg,qb;function Ic(){if(qb)return pg;qb=1;var n=V0(),e=F0();function t(r){return r!=null&&e(r.length)&&!n(r)}return pg=t,pg}var mg,$b;function j0(){if($b)return mg;$b=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var o=typeof r;return i=i??n,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return mg=t,mg}var gg,zb;function $f(){if(zb)return gg;zb=1;var n=bc(),e=Ic(),t=j0(),r=Bi();function i(o,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?e(u)&&t(l,u.length):d=="string"&&l in u)?n(u[l],o):!1}return gg=i,gg}var vg,Bb;function I5(){if(Bb)return vg;Bb=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return vg=e,vg}var yg,Wb;function R5(){if(Wb)return yg;Wb=1;var n=I5(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return yg=t,yg}var _g,Hb;function Ws(){if(Hb)return _g;Hb=1;function n(e){return e!=null&&typeof e=="object"}return _g=n,_g}var wg,Gb;function Rc(){if(Gb)return wg;Gb=1;var n=Sl(),e=Ws(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return wg=r,wg}var Eg,Kb;function x5(){if(Kb)return Eg;Kb=1;var n=R5(),e=Bi(),t=Rc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var v=o.test(p);return v||l.test(p)?u(p.slice(2),v?2:8):i.test(p)?r:+p}return Eg=d,Eg}var Tg,Yb;function g2(){if(Yb)return Tg;Yb=1;var n=x5(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var o=i<0?-1:1;return o*t}return i===i?i:0}return Tg=r,Tg}var Sg,Qb;function v2(){if(Qb)return Sg;Qb=1;var n=g2();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return Sg=e,Sg}var bg,Xb;function A5(){if(Xb)return bg;Xb=1;var n=p2(),e=$f(),t=v2(),r=Math.ceil,i=Math.max;function o(l,u,d){(d?e(l,u,d):u===void 0)?u=1:u=i(t(u),0);var p=l==null?0:l.length;if(!p||u<1)return[];for(var m=0,v=0,y=Array(r(p/u));m<p;)y[v++]=n(l,m,m+=u);return y}return bg=o,bg}var C5=A5();const P5=Mn(C5);function xc(n){return n&&n.ownerDocument||document}function k5(n){var e=xc(n);return e&&e.defaultView||window}function D5(n,e){return k5(n).getComputedStyle(n,e)}var N5=/([A-Z])/g;function O5(n){return n.replace(N5,"-$1").toLowerCase()}var M5=/^ms-/;function rh(n){return O5(n).replace(M5,"-ms-")}var L5=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function V5(n){return!!(n&&L5.test(n))}function za(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(rh(e))||D5(n).getPropertyValue(rh(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(rh(i)):V5(i)?r+=i+"("+o+") ":t+=rh(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function nc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function F5(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function U0(n){return"window"in n&&n.window===n?n:F5(n)&&n.defaultView||!1}function y2(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var o=U0(r);if(i===void 0)return o?o[n]:r[e];o?o.scrollTo(o[n],i):r[e]=i}return t}const _2=y2("pageXOffset"),w2=y2("pageYOffset");function xo(n){var e=xc(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!nc(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+w2(r)-(r.clientTop||0),left:t.left+_2(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var j5=function(e){return!!e&&"offsetParent"in e};function U5(n){for(var e=xc(n),t=n&&n.offsetParent;j5(t)&&t.nodeName!=="HTML"&&za(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var q5=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function E2(n,e){var t={top:0,left:0},r;if(za(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||U5(n);r=xo(n),q5(i)!=="html"&&(t=xo(i));var o=String(za(i,"borderTopWidth")||0);t.top+=parseInt(o,10)-w2(i)||0;var l=String(za(i,"borderLeftWidth")||0);t.left+=parseInt(l,10)-_2(i)||0}var u=String(za(n,"marginTop")||0),d=String(za(n,"marginLeft")||0);return vt({},r,{top:r.top-t.top-(parseInt(u,10)||0),left:r.left-t.left-(parseInt(d,10)||0)})}const q0=!!(typeof window<"u"&&window.document&&window.document.createElement);var Jb=new Date().getTime();function $5(n){var e=new Date().getTime(),t=Math.max(0,16-(e-Jb)),r=setTimeout(n,t);return Jb=e,r}var z5=["","webkit","moz","o","ms"],vw="clearTimeout",yw=$5,Zb=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};q0&&z5.some(function(n){var e=Zb(n,"request");return e in window&&(vw=Zb(n,"cancel"),yw=function(r){return window[e](r)}),!!yw});var eI=function(e){typeof window[vw]=="function"&&window[vw](e)},T2=yw,Ig;function B5(n,e){if(!Ig){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;Ig=function(o,l){return r.call(o,l)}}return Ig(n,e)}var W5=Function.prototype.bind.call(Function.prototype.call,[].slice);function H5(n,e){return W5(n.querySelectorAll(e))}var _w=!1,ww=!1;try{var Rg={get passive(){return _w=!0},get once(){return ww=_w=!0}};q0&&(window.addEventListener("test",Rg,Rg),window.removeEventListener("test",Rg,!0))}catch{}function G5(n,e,t,r){if(r&&typeof r!="boolean"&&!ww){var i=r.once,o=r.capture,l=t;!ww&&i&&(l=t.__once||function u(d){this.removeEventListener(e,u,o),t.call(this,d)},t.__once=l),n.addEventListener(e,l,_w?r:o)}n.addEventListener(e,t,r)}function K5(n){const e=q.useRef(n);return q.useEffect(()=>{e.current=n},[n]),e}function tI(n){const e=K5(n);return q.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function nI(){return q.useState(null)}function Y5(){const n=q.useRef(!0),e=q.useRef(()=>n.current);return q.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Q5(n){const e=Y5();return[n[0],q.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Dn="top",hr="bottom",fr="right",Nn="left",$0="auto",Ac=[Dn,hr,fr,Nn],sl="start",rc="end",X5="clippingParents",S2="viewport",pu="popper",J5="reference",rI=Ac.reduce(function(n,e){return n.concat([e+"-"+sl,e+"-"+rc])},[]),z0=[].concat(Ac,[$0]).reduce(function(n,e){return n.concat([e,e+"-"+sl,e+"-"+rc])},[]),Z5="beforeRead",eU="read",tU="afterRead",nU="beforeMain",rU="main",iU="afterMain",sU="beforeWrite",oU="write",aU="afterWrite",lU=[Z5,eU,tU,nU,rU,iU,sU,oU,aU];function ui(n){return n.split("-")[0]}function Xn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function $o(n){var e=Xn(n).Element;return n instanceof e||n instanceof Element}function ci(n){var e=Xn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function B0(n){if(typeof ShadowRoot>"u")return!1;var e=Xn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Ao=Math.max,af=Math.min,ol=Math.round;function Ew(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function b2(){return!/^((?!chrome|android).)*safari/i.test(Ew())}function al(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ci(n)&&(i=n.offsetWidth>0&&ol(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ol(r.height)/n.offsetHeight||1);var l=$o(n)?Xn(n):window,u=l.visualViewport,d=!b2()&&t,p=(r.left+(d&&u?u.offsetLeft:0))/i,m=(r.top+(d&&u?u.offsetTop:0))/o,v=r.width/i,y=r.height/o;return{width:v,height:y,top:m,right:p+v,bottom:m+y,left:p,x:p,y:m}}function W0(n){var e=al(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function I2(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&B0(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vs(n){return n?(n.nodeName||"").toLowerCase():null}function $i(n){return Xn(n).getComputedStyle(n)}function uU(n){return["table","td","th"].indexOf(Vs(n))>=0}function Hs(n){return(($o(n)?n.ownerDocument:n.document)||window.document).documentElement}function zf(n){return Vs(n)==="html"?n:n.assignedSlot||n.parentNode||(B0(n)?n.host:null)||Hs(n)}function iI(n){return!ci(n)||$i(n).position==="fixed"?null:n.offsetParent}function cU(n){var e=/firefox/i.test(Ew()),t=/Trident/i.test(Ew());if(t&&ci(n)){var r=$i(n);if(r.position==="fixed")return null}var i=zf(n);for(B0(i)&&(i=i.host);ci(i)&&["html","body"].indexOf(Vs(i))<0;){var o=$i(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Cc(n){for(var e=Xn(n),t=iI(n);t&&uU(t)&&$i(t).position==="static";)t=iI(t);return t&&(Vs(t)==="html"||Vs(t)==="body"&&$i(t).position==="static")?e:t||cU(n)||e}function H0(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Mu(n,e,t){return Ao(n,af(e,t))}function dU(n,e,t){var r=Mu(n,e,t);return r>t?t:r}function R2(){return{top:0,right:0,bottom:0,left:0}}function x2(n){return Object.assign({},R2(),n)}function A2(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var hU=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,x2(typeof e!="number"?e:A2(e,Ac))};function fU(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,u=ui(t.placement),d=H0(u),p=[Nn,fr].indexOf(u)>=0,m=p?"height":"width";if(!(!o||!l)){var v=hU(i.padding,t),y=W0(o),E=d==="y"?Dn:Nn,I=d==="y"?hr:fr,T=t.rects.reference[m]+t.rects.reference[d]-l[d]-t.rects.popper[m],b=l[d]-t.rects.reference[d],C=Cc(o),D=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0,M=T/2-b/2,F=v[E],W=D-y[m]-v[I],z=D/2-y[m]/2+M,k=Mu(F,z,W),A=d;t.modifiersData[r]=(e={},e[A]=k,e.centerOffset=k-z,e)}}function pU(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||I2(e.elements.popper,i)&&(e.elements.arrow=i))}const mU={name:"arrow",enabled:!0,phase:"main",fn:fU,effect:pU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ll(n){return n.split("-")[1]}var gU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vU(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ol(t*i)/i||0,y:ol(r*i)/i||0}}function sI(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,u=n.position,d=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,y=l.x,E=y===void 0?0:y,I=l.y,T=I===void 0?0:I,b=typeof m=="function"?m({x:E,y:T}):{x:E,y:T};E=b.x,T=b.y;var C=l.hasOwnProperty("x"),D=l.hasOwnProperty("y"),M=Nn,F=Dn,W=window;if(p){var z=Cc(t),k="clientHeight",A="clientWidth";if(z===Xn(t)&&(z=Hs(t),$i(z).position!=="static"&&u==="absolute"&&(k="scrollHeight",A="scrollWidth")),z=z,i===Dn||(i===Nn||i===fr)&&o===rc){F=hr;var P=v&&z===W&&W.visualViewport?W.visualViewport.height:z[k];T-=P-r.height,T*=d?1:-1}if(i===Nn||(i===Dn||i===hr)&&o===rc){M=fr;var L=v&&z===W&&W.visualViewport?W.visualViewport.width:z[A];E-=L-r.width,E*=d?1:-1}}var V=Object.assign({position:u},p&&gU),U=m===!0?vU({x:E,y:T},Xn(t)):{x:E,y:T};if(E=U.x,T=U.y,d){var O;return Object.assign({},V,(O={},O[F]=D?"0":"",O[M]=C?"0":"",O.transform=(W.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",O))}return Object.assign({},V,(e={},e[F]=D?T+"px":"",e[M]=C?E+"px":"",e.transform="",e))}function yU(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,u=t.roundOffsets,d=u===void 0?!0:u,p={placement:ui(e.placement),variation:ll(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,sI(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,sI(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _U={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yU,data:{}};var ih={passive:!0};function wU(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,d=Xn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",t.update,ih)}),u&&d.addEventListener("resize",t.update,ih),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",t.update,ih)}),u&&d.removeEventListener("resize",t.update,ih)}}const EU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wU,data:{}};var TU={left:"right",right:"left",bottom:"top",top:"bottom"};function Eh(n){return n.replace(/left|right|bottom|top/g,function(e){return TU[e]})}var SU={start:"end",end:"start"};function oI(n){return n.replace(/start|end/g,function(e){return SU[e]})}function G0(n){var e=Xn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function K0(n){return al(Hs(n)).left+G0(n).scrollLeft}function bU(n,e){var t=Xn(n),r=Hs(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;var p=b2();(p||!p&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u+K0(n),y:d}}function IU(n){var e,t=Hs(n),r=G0(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=Ao(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Ao(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+K0(n),d=-r.scrollTop;return $i(i||t).direction==="rtl"&&(u+=Ao(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:u,y:d}}function Y0(n){var e=$i(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function C2(n){return["html","body","#document"].indexOf(Vs(n))>=0?n.ownerDocument.body:ci(n)&&Y0(n)?n:C2(zf(n))}function Lu(n,e){var t;e===void 0&&(e=[]);var r=C2(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Xn(r),l=i?[o].concat(o.visualViewport||[],Y0(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(Lu(zf(l)))}function Tw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function RU(n,e){var t=al(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function aI(n,e,t){return e===S2?Tw(bU(n,t)):$o(e)?RU(e,t):Tw(IU(Hs(n)))}function xU(n){var e=Lu(zf(n)),t=["absolute","fixed"].indexOf($i(n).position)>=0,r=t&&ci(n)?Cc(n):n;return $o(r)?e.filter(function(i){return $o(i)&&I2(i,r)&&Vs(i)!=="body"}):[]}function AU(n,e,t,r){var i=e==="clippingParents"?xU(n):[].concat(e),o=[].concat(i,[t]),l=o[0],u=o.reduce(function(d,p){var m=aI(n,p,r);return d.top=Ao(m.top,d.top),d.right=af(m.right,d.right),d.bottom=af(m.bottom,d.bottom),d.left=Ao(m.left,d.left),d},aI(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function P2(n){var e=n.reference,t=n.element,r=n.placement,i=r?ui(r):null,o=r?ll(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,d;switch(i){case Dn:d={x:l,y:e.y-t.height};break;case hr:d={x:l,y:e.y+e.height};break;case fr:d={x:e.x+e.width,y:u};break;case Nn:d={x:e.x-t.width,y:u};break;default:d={x:e.x,y:e.y}}var p=i?H0(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case sl:d[p]=d[p]-(e[m]/2-t[m]/2);break;case rc:d[p]=d[p]+(e[m]/2-t[m]/2);break}}return d}function ic(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,u=t.boundary,d=u===void 0?X5:u,p=t.rootBoundary,m=p===void 0?S2:p,v=t.elementContext,y=v===void 0?pu:v,E=t.altBoundary,I=E===void 0?!1:E,T=t.padding,b=T===void 0?0:T,C=x2(typeof b!="number"?b:A2(b,Ac)),D=y===pu?J5:pu,M=n.rects.popper,F=n.elements[I?D:y],W=AU($o(F)?F:F.contextElement||Hs(n.elements.popper),d,m,l),z=al(n.elements.reference),k=P2({reference:z,element:M,placement:i}),A=Tw(Object.assign({},M,k)),P=y===pu?A:z,L={top:W.top-P.top+C.top,bottom:P.bottom-W.bottom+C.bottom,left:W.left-P.left+C.left,right:P.right-W.right+C.right},V=n.modifiersData.offset;if(y===pu&&V){var U=V[i];Object.keys(L).forEach(function(O){var ce=[fr,hr].indexOf(O)>=0?1:-1,Te=[Dn,hr].indexOf(O)>=0?"y":"x";L[O]+=U[Te]*ce})}return L}function CU(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,u=t.flipVariations,d=t.allowedAutoPlacements,p=d===void 0?z0:d,m=ll(r),v=m?u?rI:rI.filter(function(I){return ll(I)===m}):Ac,y=v.filter(function(I){return p.indexOf(I)>=0});y.length===0&&(y=v);var E=y.reduce(function(I,T){return I[T]=ic(n,{placement:T,boundary:i,rootBoundary:o,padding:l})[ui(T)],I},{});return Object.keys(E).sort(function(I,T){return E[I]-E[T]})}function PU(n){if(ui(n)===$0)return[];var e=Eh(n);return[oI(n),e,oI(e)]}function kU(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,d=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,I=E===void 0?!0:E,T=t.allowedAutoPlacements,b=e.options.placement,C=ui(b),D=C===b,M=d||(D||!I?[Eh(b)]:PU(b)),F=[b].concat(M).reduce(function(Ce,Re){return Ce.concat(ui(Re)===$0?CU(e,{placement:Re,boundary:m,rootBoundary:v,padding:p,flipVariations:I,allowedAutoPlacements:T}):Re)},[]),W=e.rects.reference,z=e.rects.popper,k=new Map,A=!0,P=F[0],L=0;L<F.length;L++){var V=F[L],U=ui(V),O=ll(V)===sl,ce=[Dn,hr].indexOf(U)>=0,Te=ce?"width":"height",_e=ic(e,{placement:V,boundary:m,rootBoundary:v,altBoundary:y,padding:p}),ye=ce?O?fr:Nn:O?hr:Dn;W[Te]>z[Te]&&(ye=Eh(ye));var ne=Eh(ye),de=[];if(o&&de.push(_e[U]<=0),u&&de.push(_e[ye]<=0,_e[ne]<=0),de.every(function(Ce){return Ce})){P=V,A=!1;break}k.set(V,de)}if(A)for(var le=I?3:1,H=function(Re){var Ne=F.find(function(Le){var Oe=k.get(Le);if(Oe)return Oe.slice(0,Re).every(function(He){return He})});if(Ne)return P=Ne,"break"},Z=le;Z>0;Z--){var he=H(Z);if(he==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const DU={name:"flip",enabled:!0,phase:"main",fn:kU,requiresIfExists:["offset"],data:{_skip:!1}};function lI(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function uI(n){return[Dn,fr,hr,Nn].some(function(e){return n[e]>=0})}function NU(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=ic(e,{elementContext:"reference"}),u=ic(e,{altBoundary:!0}),d=lI(l,r),p=lI(u,i,o),m=uI(d),v=uI(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const OU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NU};function MU(n,e,t){var r=ui(n),i=[Nn,Dn].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],u=o[1];return l=l||0,u=(u||0)*i,[Nn,fr].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function LU(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=z0.reduce(function(m,v){return m[v]=MU(v,e.rects,o),m},{}),u=l[e.placement],d=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const VU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LU};function FU(n){var e=n.state,t=n.name;e.modifiersData[t]=P2({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const jU={name:"popperOffsets",enabled:!0,phase:"read",fn:FU,data:{}};function UU(n){return n==="x"?"y":"x"}function qU(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,d=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,y=t.tether,E=y===void 0?!0:y,I=t.tetherOffset,T=I===void 0?0:I,b=ic(e,{boundary:d,rootBoundary:p,padding:v,altBoundary:m}),C=ui(e.placement),D=ll(e.placement),M=!D,F=H0(C),W=UU(F),z=e.modifiersData.popperOffsets,k=e.rects.reference,A=e.rects.popper,P=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,L=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(z){if(o){var O,ce=F==="y"?Dn:Nn,Te=F==="y"?hr:fr,_e=F==="y"?"height":"width",ye=z[F],ne=ye+b[ce],de=ye-b[Te],le=E?-A[_e]/2:0,H=D===sl?k[_e]:A[_e],Z=D===sl?-A[_e]:-k[_e],he=e.elements.arrow,Ce=E&&he?W0(he):{width:0,height:0},Re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:R2(),Ne=Re[ce],Le=Re[Te],Oe=Mu(0,k[_e],Ce[_e]),He=M?k[_e]/2-le-Oe-Ne-L.mainAxis:H-Oe-Ne-L.mainAxis,mt=M?-k[_e]/2+le+Oe+Le+L.mainAxis:Z+Oe+Le+L.mainAxis,fn=e.elements.arrow&&Cc(e.elements.arrow),$r=fn?F==="y"?fn.clientTop||0:fn.clientLeft||0:0,Ln=(O=V==null?void 0:V[F])!=null?O:0,vr=ye+He-Ln-$r,qe=ye+mt-Ln,Vn=Mu(E?af(ne,vr):ne,ye,E?Ao(de,qe):de);z[F]=Vn,U[F]=Vn-ye}if(u){var Ve,Fn=F==="x"?Dn:Nn,pn=F==="x"?hr:fr,Pt=z[W],kt=W==="y"?"height":"width",Bt=Pt+b[Fn],at=Pt-b[pn],mn=[Dn,Nn].indexOf(C)!==-1,jn=(Ve=V==null?void 0:V[W])!=null?Ve:0,lt=mn?Bt:Pt-k[kt]-A[kt]-jn+L.altAxis,rt=mn?Pt+k[kt]+A[kt]-jn-L.altAxis:at,Dt=E&&mn?dU(lt,Pt,rt):Mu(E?lt:Bt,Pt,E?rt:at);z[W]=Dt,U[W]=Dt-Pt}e.modifiersData[r]=U}}const $U={name:"preventOverflow",enabled:!0,phase:"main",fn:qU,requiresIfExists:["offset"]};function zU(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function BU(n){return n===Xn(n)||!ci(n)?G0(n):zU(n)}function WU(n){var e=n.getBoundingClientRect(),t=ol(e.width)/n.offsetWidth||1,r=ol(e.height)/n.offsetHeight||1;return t!==1||r!==1}function HU(n,e,t){t===void 0&&(t=!1);var r=ci(e),i=ci(e)&&WU(e),o=Hs(e),l=al(n,i,t),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Vs(e)!=="body"||Y0(o))&&(u=BU(e)),ci(e)?(d=al(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=K0(o))),{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function GU(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var d=e.get(u);d&&i(d)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function KU(n){var e=GU(n);return lU.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function YU(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function QU(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var cI={placement:"bottom",modifiers:[],strategy:"absolute"};function dI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function XU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?cI:i;return function(u,d,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},cI,o),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},v=[],y=!1,E={state:m,setOptions:function(C){var D=typeof C=="function"?C(m.options):C;T(),m.options=Object.assign({},o,m.options,D),m.scrollParents={reference:$o(u)?Lu(u):u.contextElement?Lu(u.contextElement):[],popper:Lu(d)};var M=KU(QU([].concat(r,m.options.modifiers)));return m.orderedModifiers=M.filter(function(F){return F.enabled}),I(),E.update()},forceUpdate:function(){if(!y){var C=m.elements,D=C.reference,M=C.popper;if(dI(D,M)){m.rects={reference:HU(D,Cc(M),m.options.strategy==="fixed"),popper:W0(M)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(L){return m.modifiersData[L.name]=Object.assign({},L.data)});for(var F=0;F<m.orderedModifiers.length;F++){if(m.reset===!0){m.reset=!1,F=-1;continue}var W=m.orderedModifiers[F],z=W.fn,k=W.options,A=k===void 0?{}:k,P=W.name;typeof z=="function"&&(m=z({state:m,options:A,name:P,instance:E})||m)}}}},update:YU(function(){return new Promise(function(b){E.forceUpdate(),b(m)})}),destroy:function(){T(),y=!0}};if(!dI(u,d))return E;E.setOptions(p).then(function(b){!y&&p.onFirstUpdate&&p.onFirstUpdate(b)});function I(){m.orderedModifiers.forEach(function(b){var C=b.name,D=b.options,M=D===void 0?{}:D,F=b.effect;if(typeof F=="function"){var W=F({state:m,name:C,instance:E,options:M}),z=function(){};v.push(W||z)}})}function T(){v.forEach(function(b){return b()}),v=[]}return E}}var JU=XU({defaultModifiers:[OU,jU,_U,EU,VU,DU,$U,mU]}),hI=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},ZU={name:"applyStyles",enabled:!1},e9={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,o=r.popper;if("removeAttribute"in i){var l=(i.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==o.id});l.length?i.setAttribute("aria-describedby",l.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,o=i.popper,l=i.reference,u=(t=o.getAttribute("role"))==null?void 0:t.toLowerCase();if(o.id&&u==="tooltip"&&"setAttribute"in l){var d=l.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(o.id)!==-1)return;l.setAttribute("aria-describedby",d?d+","+o.id:o.id)}}},t9=[];function n9(n,e,t){var r=t===void 0?{}:t,i=r.enabled,o=i===void 0?!0:i,l=r.placement,u=l===void 0?"bottom":l,d=r.strategy,p=d===void 0?"absolute":d,m=r.modifiers,v=m===void 0?t9:m,y=Uf(r,["enabled","placement","strategy","modifiers"]),E=q.useRef(),I=q.useCallback(function(){var F;(F=E.current)==null||F.update()},[]),T=q.useCallback(function(){var F;(F=E.current)==null||F.forceUpdate()},[]),b=Q5(q.useState({placement:u,update:I,forceUpdate:T,attributes:{},styles:{popper:hI(p),arrow:{}}})),C=b[0],D=b[1],M=q.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(W){var z=W.state,k={},A={};Object.keys(z.elements).forEach(function(P){k[P]=z.styles[P],A[P]=z.attributes[P]}),D({state:z,styles:k,attributes:A,update:I,forceUpdate:T,placement:z.placement})}}},[I,T,D]);return q.useEffect(function(){!E.current||!o||E.current.setOptions({placement:u,strategy:p,modifiers:[].concat(v,[M,ZU])})},[p,u,M,o]),q.useEffect(function(){if(!(!o||n==null||e==null))return E.current=JU(n,e,vt({},y,{placement:u,strategy:p,modifiers:[].concat(v,[e9,M])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,D(function(F){return vt({},F,{attributes:{},styles:{popper:hI(p)}})}))}},[o,n,e]),C}function r9(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Iu(n,e,t,r){return G5(n,e,t,r),function(){r9(n,e,t,r)}}var xg,fI;function i9(){if(fI)return xg;fI=1;var n=function(){};return xg=n,xg}var s9=i9();const o9=Mn(s9);function a9(n){return n&&"setState"in n?dC.findDOMNode(n):n??null}const l9=(function(n){return xc(a9(n))});var u9=27,pI=function(){};function c9(n){return n.button===0}function d9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var mI=function(e){return e&&("current"in e?e.current:e)};function h9(n,e,t){var r=t===void 0?{}:t,i=r.disabled,o=r.clickTrigger,l=o===void 0?"click":o,u=q.useRef(!1),d=e||pI,p=q.useCallback(function(y){var E,I=mI(n);o9(!!I,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!I||d9(y)||!c9(y)||!!nc(I,(E=y.composedPath==null?void 0:y.composedPath()[0])!=null?E:y.target)},[n]),m=tI(function(y){u.current||d(y)}),v=tI(function(y){y.keyCode===u9&&d(y)});q.useEffect(function(){if(!(i||n==null)){var y=window.event,E=l9(mI(n)),I=Iu(E,l,p,!0),T=Iu(E,l,function(D){if(D===y){y=void 0;return}m(D)}),b=Iu(E,"keyup",function(D){if(D===y){y=void 0;return}v(D)}),C=[];return"ontouchstart"in E.documentElement&&(C=[].slice.call(E.body.children).map(function(D){return Iu(D,"mousemove",pI)})),function(){I(),T(),b(),C.forEach(function(D){return D()})}}},[n,i,l,p,m,v])}function f9(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function p9(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function m9(n){var e,t,r,i,o=n.enabled,l=n.enableEvents,u=n.placement,d=n.flip,p=n.offset,m=n.fixed,v=n.containerPadding,y=n.arrowElement,E=n.popperConfig,I=E===void 0?{}:E,T=f9(I.modifiers);return vt({},I,{placement:u,enabled:o,strategy:m?"fixed":I.strategy,modifiers:p9(vt({},T,{eventListeners:{enabled:l},preventOverflow:vt({},T.preventOverflow,{options:v?vt({padding:v},(e=T.preventOverflow)==null?void 0:e.options):(t=T.preventOverflow)==null?void 0:t.options}),offset:{options:vt({offset:p},(r=T.offset)==null?void 0:r.options)},arrow:vt({},T.arrow,{enabled:!!y,options:vt({},(i=T.arrow)==null?void 0:i.options,{element:y})}),flip:vt({enabled:!!d},T.flip)}))})}function g9(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function v9(n,e){n.classList?n.classList.add(e):g9(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function gI(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function y9(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=gI(n.className,e):n.setAttribute("class",gI(n.className&&n.className.baseVal||"",e))}var sh;function Q0(n){if((!sh&&sh!==0||n)&&q0){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sh}var Ag=function(e){var t;return typeof document>"u"?null:e==null?xc().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function vI(n,e){var t=q.useState(function(){return Ag(n)}),r=t[0],i=t[1];if(!r){var o=Ag(n);o&&i(o)}return q.useEffect(function(){},[e,r]),q.useEffect(function(){var l=Ag(n);l!==r&&i(l)},[n,r]),r}const yI=n=>!n||typeof n=="function"?n:e=>{n.current=e};function _9(n,e){const t=yI(n),r=yI(e);return i=>{t&&t(i),r&&r(i)}}function w9(n,e){return q.useMemo(()=>_9(n,e),[n,e])}var X0=G.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,o=n.containerPadding,l=o===void 0?5:o,u=n.popperConfig,d=u===void 0?{}:u,p=n.transition,m=nI(),v=m[0],y=m[1],E=nI(),I=E[0],T=E[1],b=w9(y,e),C=vI(n.container),D=vI(n.target),M=q.useState(!n.show),F=M[0],W=M[1],z=n9(D,v,m9({placement:i,enableEvents:!!n.show,containerPadding:l||5,flip:t,offset:r,arrowElement:I,popperConfig:d})),k=z.styles,A=z.attributes,P=Uf(z,["styles","attributes"]);n.show?F&&W(!1):!n.transition&&!F&&W(!0);var L=function(){W(!0),n.onExited&&n.onExited.apply(n,arguments)},V=n.show||p&&!F;if(h9(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!V)return null;var U=n.children(vt({},P,{show:!!n.show,props:vt({},A.popper,{style:k.popper,ref:b}),arrowProps:vt({},A.arrow,{style:k.arrow,ref:T})}));if(p){var O=n.onExit,ce=n.onExiting,Te=n.onEnter,_e=n.onEntering,ye=n.onEntered;U=G.createElement(p,{in:n.show,appear:!0,onExit:O,onExiting:ce,onExited:L,onEnter:Te,onEntering:_e,onEntered:ye},U)}return C?dC.createPortal(U,C):null});X0.displayName="Overlay";X0.propTypes={show:ae.bool,placement:ae.oneOf(z0),target:ae.any,container:ae.any,flip:ae.bool,children:ae.func.isRequired,containerPadding:ae.number,popperConfig:ae.object,rootClose:ae.bool,rootCloseEvent:ae.oneOf(["click","mousedown"]),rootCloseDisabled:ae.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var o;return(o=ae.func).isRequired.apply(o,[e].concat(r))}return ae.func.apply(ae,[e].concat(r))},transition:ae.elementType,onEnter:ae.func,onEntering:ae.func,onEntered:ae.func,onExit:ae.func,onExiting:ae.func,onExited:ae.func};var Cg,_I;function E9(){if(_I)return Cg;_I=1;function n(){this.__data__=[],this.size=0}return Cg=n,Cg}var Pg,wI;function Bf(){if(wI)return Pg;wI=1;var n=bc();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return Pg=e,Pg}var kg,EI;function T9(){if(EI)return kg;EI=1;var n=Bf(),e=Array.prototype,t=e.splice;function r(i){var o=this.__data__,l=n(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():t.call(o,l,1),--this.size,!0}return kg=r,kg}var Dg,TI;function S9(){if(TI)return Dg;TI=1;var n=Bf();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return Dg=e,Dg}var Ng,SI;function b9(){if(SI)return Ng;SI=1;var n=Bf();function e(t){return n(this.__data__,t)>-1}return Ng=e,Ng}var Og,bI;function I9(){if(bI)return Og;bI=1;var n=Bf();function e(t,r){var i=this.__data__,o=n(i,t);return o<0?(++this.size,i.push([t,r])):i[o][1]=r,this}return Og=e,Og}var Mg,II;function Wf(){if(II)return Mg;II=1;var n=E9(),e=T9(),t=S9(),r=b9(),i=I9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Mg=o,Mg}var Lg,RI;function R9(){if(RI)return Lg;RI=1;var n=Wf();function e(){this.__data__=new n,this.size=0}return Lg=e,Lg}var Vg,xI;function x9(){if(xI)return Vg;xI=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Vg=n,Vg}var Fg,AI;function A9(){if(AI)return Fg;AI=1;function n(e){return this.__data__.get(e)}return Fg=n,Fg}var jg,CI;function C9(){if(CI)return jg;CI=1;function n(e){return this.__data__.has(e)}return jg=n,jg}var Ug,PI;function P9(){if(PI)return Ug;PI=1;var n=fi(),e=n["__core-js_shared__"];return Ug=e,Ug}var qg,kI;function k9(){if(kI)return qg;kI=1;var n=P9(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return qg=t,qg}var $g,DI;function k2(){if(DI)return $g;DI=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return $g=t,$g}var zg,NI;function D9(){if(NI)return zg;NI=1;var n=V0(),e=k9(),t=Bi(),r=k2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,p=u.hasOwnProperty,m=RegExp("^"+d.call(p).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!t(y)||e(y))return!1;var E=n(y)?m:o;return E.test(r(y))}return zg=v,zg}var Bg,OI;function N9(){if(OI)return Bg;OI=1;function n(e,t){return e==null?void 0:e[t]}return Bg=n,Bg}var Wg,MI;function Qo(){if(MI)return Wg;MI=1;var n=D9(),e=N9();function t(r,i){var o=e(r,i);return n(o)?o:void 0}return Wg=t,Wg}var Hg,LI;function J0(){if(LI)return Hg;LI=1;var n=Qo(),e=fi(),t=n(e,"Map");return Hg=t,Hg}var Gg,VI;function Hf(){if(VI)return Gg;VI=1;var n=Qo(),e=n(Object,"create");return Gg=e,Gg}var Kg,FI;function O9(){if(FI)return Kg;FI=1;var n=Hf();function e(){this.__data__=n?n(null):{},this.size=0}return Kg=e,Kg}var Yg,jI;function M9(){if(jI)return Yg;jI=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Yg=n,Yg}var Qg,UI;function L9(){if(UI)return Qg;UI=1;var n=Hf(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(o){var l=this.__data__;if(n){var u=l[o];return u===e?void 0:u}return r.call(l,o)?l[o]:void 0}return Qg=i,Qg}var Xg,qI;function V9(){if(qI)return Xg;qI=1;var n=Hf(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var o=this.__data__;return n?o[i]!==void 0:t.call(o,i)}return Xg=r,Xg}var Jg,$I;function F9(){if($I)return Jg;$I=1;var n=Hf(),e="__lodash_hash_undefined__";function t(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=n&&i===void 0?e:i,this}return Jg=t,Jg}var Zg,zI;function j9(){if(zI)return Zg;zI=1;var n=O9(),e=M9(),t=L9(),r=V9(),i=F9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Zg=o,Zg}var ev,BI;function U9(){if(BI)return ev;BI=1;var n=j9(),e=Wf(),t=J0();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return ev=r,ev}var tv,WI;function q9(){if(WI)return tv;WI=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return tv=n,tv}var nv,HI;function Gf(){if(HI)return nv;HI=1;var n=q9();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return nv=e,nv}var rv,GI;function $9(){if(GI)return rv;GI=1;var n=Gf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return rv=e,rv}var iv,KI;function z9(){if(KI)return iv;KI=1;var n=Gf();function e(t){return n(this,t).get(t)}return iv=e,iv}var sv,YI;function B9(){if(YI)return sv;YI=1;var n=Gf();function e(t){return n(this,t).has(t)}return sv=e,sv}var ov,QI;function W9(){if(QI)return ov;QI=1;var n=Gf();function e(t,r){var i=n(this,t),o=i.size;return i.set(t,r),this.size+=i.size==o?0:1,this}return ov=e,ov}var av,XI;function Z0(){if(XI)return av;XI=1;var n=U9(),e=$9(),t=z9(),r=B9(),i=W9();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var p=l[u];this.set(p[0],p[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,av=o,av}var lv,JI;function H9(){if(JI)return lv;JI=1;var n=Wf(),e=J0(),t=Z0(),r=200;function i(o,l){var u=this.__data__;if(u instanceof n){var d=u.__data__;if(!e||d.length<r-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new t(d)}return u.set(o,l),this.size=u.size,this}return lv=i,lv}var uv,ZI;function eE(){if(ZI)return uv;ZI=1;var n=Wf(),e=R9(),t=x9(),r=A9(),i=C9(),o=H9();function l(u){var d=this.__data__=new n(u);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,uv=l,uv}var cv,eR;function G9(){if(eR)return cv;eR=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return cv=e,cv}var dv,tR;function K9(){if(tR)return dv;tR=1;function n(e){return this.__data__.has(e)}return dv=n,dv}var hv,nR;function Y9(){if(nR)return hv;nR=1;var n=Z0(),e=G9(),t=K9();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new n;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,hv=r,hv}var fv,rR;function Q9(){if(rR)return fv;rR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return fv=n,fv}var pv,iR;function X9(){if(iR)return pv;iR=1;function n(e,t){return e.has(t)}return pv=n,pv}var mv,sR;function D2(){if(sR)return mv;sR=1;var n=Y9(),e=Q9(),t=X9(),r=1,i=2;function o(l,u,d,p,m,v){var y=d&r,E=l.length,I=u.length;if(E!=I&&!(y&&I>E))return!1;var T=v.get(l),b=v.get(u);if(T&&b)return T==u&&b==l;var C=-1,D=!0,M=d&i?new n:void 0;for(v.set(l,u),v.set(u,l);++C<E;){var F=l[C],W=u[C];if(p)var z=y?p(W,F,C,u,l,v):p(F,W,C,l,u,v);if(z!==void 0){if(z)continue;D=!1;break}if(M){if(!e(u,function(k,A){if(!t(M,A)&&(F===k||m(F,k,d,p,v)))return M.push(A)})){D=!1;break}}else if(!(F===W||m(F,W,d,p,v))){D=!1;break}}return v.delete(l),v.delete(u),D}return mv=o,mv}var gv,oR;function N2(){if(oR)return gv;oR=1;var n=fi(),e=n.Uint8Array;return gv=e,gv}var vv,aR;function J9(){if(aR)return vv;aR=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,o){r[++t]=[o,i]}),r}return vv=n,vv}var yv,lR;function Z9(){if(lR)return yv;lR=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return yv=n,yv}var _v,uR;function eq(){if(uR)return _v;uR=1;var n=Tl(),e=N2(),t=bc(),r=D2(),i=J9(),o=Z9(),l=1,u=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",y="[object Number]",E="[object RegExp]",I="[object Set]",T="[object String]",b="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",M=n?n.prototype:void 0,F=M?M.valueOf:void 0;function W(z,k,A,P,L,V,U){switch(A){case D:if(z.byteLength!=k.byteLength||z.byteOffset!=k.byteOffset)return!1;z=z.buffer,k=k.buffer;case C:return!(z.byteLength!=k.byteLength||!V(new e(z),new e(k)));case d:case p:case y:return t(+z,+k);case m:return z.name==k.name&&z.message==k.message;case E:case T:return z==k+"";case v:var O=i;case I:var ce=P&l;if(O||(O=o),z.size!=k.size&&!ce)return!1;var Te=U.get(z);if(Te)return Te==k;P|=u,U.set(z,k);var _e=r(O(z),O(k),P,L,V,U);return U.delete(z),_e;case b:if(F)return F.call(z)==F.call(k)}return!1}return _v=W,_v}var wv,cR;function tE(){if(cR)return wv;cR=1;function n(e,t){for(var r=-1,i=t.length,o=e.length;++r<i;)e[o+r]=t[r];return e}return wv=n,wv}var Ev,dR;function gr(){if(dR)return Ev;dR=1;var n=Array.isArray;return Ev=n,Ev}var Tv,hR;function O2(){if(hR)return Tv;hR=1;var n=tE(),e=gr();function t(r,i,o){var l=i(r);return e(r)?l:n(l,o(r))}return Tv=t,Tv}var Sv,fR;function tq(){if(fR)return Sv;fR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var u=e[r];t(u,r,e)&&(l[o++]=u)}return l}return Sv=n,Sv}var bv,pR;function M2(){if(pR)return bv;pR=1;function n(){return[]}return bv=n,bv}var Iv,mR;function nE(){if(mR)return Iv;mR=1;var n=tq(),e=M2(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),n(i(l),function(u){return r.call(l,u)}))}:e;return Iv=o,Iv}var Rv,gR;function nq(){if(gR)return Rv;gR=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return Rv=n,Rv}var xv,vR;function rq(){if(vR)return xv;vR=1;var n=Sl(),e=Ws(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return xv=r,xv}var Av,yR;function rE(){if(yR)return Av;yR=1;var n=rq(),e=Ws(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,o=n((function(){return arguments})())?n:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return Av=o,Av}var Ru={exports:{}},Cv,_R;function iq(){if(_R)return Cv;_R=1;function n(){return!1}return Cv=n,Cv}Ru.exports;var wR;function Kf(){return wR||(wR=1,(function(n,e){var t=fi(),r=iq(),i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,l=o&&o.exports===i,u=l?t.Buffer:void 0,d=u?u.isBuffer:void 0,p=d||r;n.exports=p})(Ru,Ru.exports)),Ru.exports}var Pv,ER;function sq(){if(ER)return Pv;ER=1;var n=Sl(),e=F0(),t=Ws(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",E="[object Set]",I="[object String]",T="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",W="[object Int16Array]",z="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",L="[object Uint32Array]",V={};V[D]=V[M]=V[F]=V[W]=V[z]=V[k]=V[A]=V[P]=V[L]=!0,V[r]=V[i]=V[b]=V[o]=V[C]=V[l]=V[u]=V[d]=V[p]=V[m]=V[v]=V[y]=V[E]=V[I]=V[T]=!1;function U(O){return t(O)&&e(O.length)&&!!V[n(O)]}return Pv=U,Pv}var kv,TR;function Yf(){if(TR)return kv;TR=1;function n(e){return function(t){return e(t)}}return kv=n,kv}var xu={exports:{}};xu.exports;var SR;function iE(){return SR||(SR=1,(function(n,e){var t=m2(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,l=o&&t.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();n.exports=u})(xu,xu.exports)),xu.exports}var Dv,bR;function sE(){if(bR)return Dv;bR=1;var n=sq(),e=Yf(),t=iE(),r=t&&t.isTypedArray,i=r?e(r):n;return Dv=i,Dv}var Nv,IR;function L2(){if(IR)return Nv;IR=1;var n=nq(),e=rE(),t=gr(),r=Kf(),i=j0(),o=sE(),l=Object.prototype,u=l.hasOwnProperty;function d(p,m){var v=t(p),y=!v&&e(p),E=!v&&!y&&r(p),I=!v&&!y&&!E&&o(p),T=v||y||E||I,b=T?n(p.length,String):[],C=b.length;for(var D in p)(m||u.call(p,D))&&!(T&&(D=="length"||E&&(D=="offset"||D=="parent")||I&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,C)))&&b.push(D);return b}return Nv=d,Nv}var Ov,RR;function oE(){if(RR)return Ov;RR=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return Ov=e,Ov}var Mv,xR;function V2(){if(xR)return Mv;xR=1;function n(e,t){return function(r){return e(t(r))}}return Mv=n,Mv}var Lv,AR;function oq(){if(AR)return Lv;AR=1;var n=V2(),e=n(Object.keys,Object);return Lv=e,Lv}var Vv,CR;function aq(){if(CR)return Vv;CR=1;var n=oE(),e=oq(),t=Object.prototype,r=t.hasOwnProperty;function i(o){if(!n(o))return e(o);var l=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&l.push(u);return l}return Vv=i,Vv}var Fv,PR;function Pc(){if(PR)return Fv;PR=1;var n=L2(),e=aq(),t=Ic();function r(i){return t(i)?n(i):e(i)}return Fv=r,Fv}var jv,kR;function F2(){if(kR)return jv;kR=1;var n=O2(),e=nE(),t=Pc();function r(i){return n(i,t,e)}return jv=r,jv}var Uv,DR;function lq(){if(DR)return Uv;DR=1;var n=F2(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(o,l,u,d,p,m){var v=u&e,y=n(o),E=y.length,I=n(l),T=I.length;if(E!=T&&!v)return!1;for(var b=E;b--;){var C=y[b];if(!(v?C in l:r.call(l,C)))return!1}var D=m.get(o),M=m.get(l);if(D&&M)return D==l&&M==o;var F=!0;m.set(o,l),m.set(l,o);for(var W=v;++b<E;){C=y[b];var z=o[C],k=l[C];if(d)var A=v?d(k,z,C,l,o,m):d(z,k,C,o,l,m);if(!(A===void 0?z===k||p(z,k,u,d,m):A)){F=!1;break}W||(W=C=="constructor")}if(F&&!W){var P=o.constructor,L=l.constructor;P!=L&&"constructor"in o&&"constructor"in l&&!(typeof P=="function"&&P instanceof P&&typeof L=="function"&&L instanceof L)&&(F=!1)}return m.delete(o),m.delete(l),F}return Uv=i,Uv}var qv,NR;function uq(){if(NR)return qv;NR=1;var n=Qo(),e=fi(),t=n(e,"DataView");return qv=t,qv}var $v,OR;function cq(){if(OR)return $v;OR=1;var n=Qo(),e=fi(),t=n(e,"Promise");return $v=t,$v}var zv,MR;function dq(){if(MR)return zv;MR=1;var n=Qo(),e=fi(),t=n(e,"Set");return zv=t,zv}var Bv,LR;function hq(){if(LR)return Bv;LR=1;var n=Qo(),e=fi(),t=n(e,"WeakMap");return Bv=t,Bv}var Wv,VR;function Qf(){if(VR)return Wv;VR=1;var n=uq(),e=J0(),t=cq(),r=dq(),i=hq(),o=Sl(),l=k2(),u="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",y="[object DataView]",E=l(n),I=l(e),T=l(t),b=l(r),C=l(i),D=o;return(n&&D(new n(new ArrayBuffer(1)))!=y||e&&D(new e)!=u||t&&D(t.resolve())!=p||r&&D(new r)!=m||i&&D(new i)!=v)&&(D=function(M){var F=o(M),W=F==d?M.constructor:void 0,z=W?l(W):"";if(z)switch(z){case E:return y;case I:return u;case T:return p;case b:return m;case C:return v}return F}),Wv=D,Wv}var Hv,FR;function fq(){if(FR)return Hv;FR=1;var n=eE(),e=D2(),t=eq(),r=lq(),i=Qf(),o=gr(),l=Kf(),u=sE(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",y=Object.prototype,E=y.hasOwnProperty;function I(T,b,C,D,M,F){var W=o(T),z=o(b),k=W?m:i(T),A=z?m:i(b);k=k==p?v:k,A=A==p?v:A;var P=k==v,L=A==v,V=k==A;if(V&&l(T)){if(!l(b))return!1;W=!0,P=!1}if(V&&!P)return F||(F=new n),W||u(T)?e(T,b,C,D,M,F):t(T,b,k,C,D,M,F);if(!(C&d)){var U=P&&E.call(T,"__wrapped__"),O=L&&E.call(b,"__wrapped__");if(U||O){var ce=U?T.value():T,Te=O?b.value():b;return F||(F=new n),M(ce,Te,C,D,F)}}return V?(F||(F=new n),r(T,b,C,D,M,F)):!1}return Hv=I,Hv}var Gv,jR;function aE(){if(jR)return Gv;jR=1;var n=fq(),e=Ws();function t(r,i,o,l,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,o,l,t,u)}return Gv=t,Gv}var Kv,UR;function pq(){if(UR)return Kv;UR=1;var n=aE();function e(t,r){return n(t,r)}return Kv=e,Kv}var mq=pq();const gq=Mn(mq);function Yv(n,e){var t=U0(n);return t?t.innerHeight:xo(n).height}function j2(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if(B5(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var Qv,qR;function vq(){if(qR)return Qv;qR=1;function n(e,t,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(t(e[l],l,e))return l;return-1}return Qv=n,Qv}var Xv,$R;function yq(){if($R)return Xv;$R=1;var n=eE(),e=aE(),t=1,r=2;function i(o,l,u,d){var p=u.length,m=p,v=!d;if(o==null)return!m;for(o=Object(o);p--;){var y=u[p];if(v&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++p<m;){y=u[p];var E=y[0],I=o[E],T=y[1];if(v&&y[2]){if(I===void 0&&!(E in o))return!1}else{var b=new n;if(d)var C=d(I,T,E,o,l,b);if(!(C===void 0?e(T,I,t|r,d,b):C))return!1}}return!0}return Xv=i,Xv}var Jv,zR;function U2(){if(zR)return Jv;zR=1;var n=Bi();function e(t){return t===t&&!n(t)}return Jv=e,Jv}var Zv,BR;function _q(){if(BR)return Zv;BR=1;var n=U2(),e=Pc();function t(r){for(var i=e(r),o=i.length;o--;){var l=i[o],u=r[l];i[o]=[l,u,n(u)]}return i}return Zv=t,Zv}var ey,WR;function q2(){if(WR)return ey;WR=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return ey=n,ey}var ty,HR;function wq(){if(HR)return ty;HR=1;var n=yq(),e=_q(),t=q2();function r(i){var o=e(i);return o.length==1&&o[0][2]?t(o[0][0],o[0][1]):function(l){return l===i||n(l,i,o)}}return ty=r,ty}var ny,GR;function lE(){if(GR)return ny;GR=1;var n=gr(),e=Rc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(n(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!t.test(o)||l!=null&&o in Object(l)}return ny=i,ny}var ry,KR;function Eq(){if(KR)return ry;KR=1;var n=Z0(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var p=r.apply(this,l);return o.cache=d.set(u,p)||d,p};return o.cache=new(t.Cache||n),o}return t.Cache=n,ry=t,ry}var iy,YR;function Tq(){if(YR)return iy;YR=1;var n=Eq(),e=500;function t(r){var i=n(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return iy=t,iy}var sy,QR;function Sq(){if(QR)return sy;QR=1;var n=Tq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,d,p){o.push(d?p.replace(t,"$1"):u||l)}),o});return sy=r,sy}var oy,XR;function uE(){if(XR)return oy;XR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=t(e[r],r,e);return o}return oy=n,oy}var ay,JR;function bq(){if(JR)return ay;JR=1;var n=Tl(),e=uE(),t=gr(),r=Rc(),i=n?n.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(t(u))return e(u,l)+"";if(r(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return ay=l,ay}var ly,ZR;function Iq(){if(ZR)return ly;ZR=1;var n=bq();function e(t){return t==null?"":n(t)}return ly=e,ly}var uy,ex;function Xf(){if(ex)return uy;ex=1;var n=gr(),e=lE(),t=Sq(),r=Iq();function i(o,l){return n(o)?o:e(o,l)?[o]:t(r(o))}return uy=i,uy}var cy,tx;function kc(){if(tx)return cy;tx=1;var n=Rc();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return cy=e,cy}var dy,nx;function Jf(){if(nx)return dy;nx=1;var n=Xf(),e=kc();function t(r,i){i=n(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return dy=t,dy}var hy,rx;function Rq(){if(rx)return hy;rx=1;var n=Jf();function e(t,r,i){var o=t==null?void 0:n(t,r);return o===void 0?i:o}return hy=e,hy}var fy,ix;function xq(){if(ix)return fy;ix=1;function n(e,t){return e!=null&&t in Object(e)}return fy=n,fy}var py,sx;function Aq(){if(sx)return py;sx=1;var n=Xf(),e=rE(),t=gr(),r=j0(),i=F0(),o=kc();function l(u,d,p){d=n(d,u);for(var m=-1,v=d.length,y=!1;++m<v;){var E=o(d[m]);if(!(y=u!=null&&p(u,E)))break;u=u[E]}return y||++m!=v?y:(v=u==null?0:u.length,!!v&&i(v)&&r(E,v)&&(t(u)||e(u)))}return py=l,py}var my,ox;function Cq(){if(ox)return my;ox=1;var n=xq(),e=Aq();function t(r,i){return r!=null&&e(r,i,n)}return my=t,my}var gy,ax;function Pq(){if(ax)return gy;ax=1;var n=aE(),e=Rq(),t=Cq(),r=lE(),i=U2(),o=q2(),l=kc(),u=1,d=2;function p(m,v){return r(m)&&i(v)?o(l(m),v):function(y){var E=e(y,m);return E===void 0&&E===v?t(y,m):n(v,E,u|d)}}return gy=p,gy}var vy,lx;function Zf(){if(lx)return vy;lx=1;function n(e){return e}return vy=n,vy}var yy,ux;function kq(){if(ux)return yy;ux=1;function n(e){return function(t){return t==null?void 0:t[e]}}return yy=n,yy}var _y,cx;function Dq(){if(cx)return _y;cx=1;var n=Jf();function e(t){return function(r){return n(r,t)}}return _y=e,_y}var wy,dx;function Nq(){if(dx)return wy;dx=1;var n=kq(),e=Dq(),t=lE(),r=kc();function i(o){return t(o)?n(r(o)):e(o)}return wy=i,wy}var Ey,hx;function ep(){if(hx)return Ey;hx=1;var n=wq(),e=Pq(),t=Zf(),r=gr(),i=Nq();function o(l){return typeof l=="function"?l:l==null?t:typeof l=="object"?r(l)?e(l[0],l[1]):n(l):i(l)}return Ey=o,Ey}var Ty,fx;function Oq(){if(fx)return Ty;fx=1;var n=vq(),e=ep(),t=v2(),r=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var p=u==null?0:t(u);return p<0&&(p=r(d+p,0)),n(o,e(l,3),p)}return Ty=i,Ty}var Mq=Oq();const Lq=Mn(Mq);var Sy,px;function Vq(){if(px)return Sy;px=1;var n=Math.ceil,e=Math.max;function t(r,i,o,l){for(var u=-1,d=e(n((i-r)/(o||1)),0),p=Array(d);d--;)p[l?d:++u]=r,r+=o;return p}return Sy=t,Sy}var by,mx;function Fq(){if(mx)return by;mx=1;var n=Vq(),e=$f(),t=g2();function r(i){return function(o,l,u){return u&&typeof u!="number"&&e(o,l,u)&&(l=u=void 0),o=t(o),l===void 0?(l=o,o=0):l=t(l),u=u===void 0?o<l?1:-1:t(u),n(o,l,u,i)}}return by=r,by}var Iy,gx;function jq(){if(gx)return Iy;gx=1;var n=Fq(),e=n();return Iy=e,Iy}var Uq=jq();const qq=Mn(Uq);var vx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function $q(n,e){return!!(n===e||vx(n)&&vx(e))}function zq(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!$q(n[t],e[t]))return!1;return!0}function $2(n,e){e===void 0&&(e=zq);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var l=n.apply(this,i);return t={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){t=null},r}function Sw(n,e){var t=U0(n);return t?t.innerWidth:xo(n).width}var Ry,yx;function Bq(){if(yx)return Ry;yx=1;var n=Tl(),e=rE(),t=gr(),r=n?n.isConcatSpreadable:void 0;function i(o){return t(o)||e(o)||!!(r&&o&&o[r])}return Ry=i,Ry}var xy,_x;function z2(){if(_x)return xy;_x=1;var n=tE(),e=Bq();function t(r,i,o,l,u){var d=-1,p=r.length;for(o||(o=e),u||(u=[]);++d<p;){var m=r[d];i>0&&o(m)?i>1?t(m,i-1,o,l,u):n(u,m):l||(u[u.length]=m)}return u}return xy=t,xy}var Ay,wx;function Wq(){if(wx)return Ay;wx=1;function n(e){return function(t,r,i){for(var o=-1,l=Object(t),u=i(t),d=u.length;d--;){var p=u[e?d:++o];if(r(l[p],p,l)===!1)break}return t}}return Ay=n,Ay}var Cy,Ex;function Hq(){if(Ex)return Cy;Ex=1;var n=Wq(),e=n();return Cy=e,Cy}var Py,Tx;function cE(){if(Tx)return Py;Tx=1;var n=Hq(),e=Pc();function t(r,i){return r&&n(r,i,e)}return Py=t,Py}var ky,Sx;function Gq(){if(Sx)return ky;Sx=1;var n=Ic();function e(t,r){return function(i,o){if(i==null)return i;if(!n(i))return t(i,o);for(var l=i.length,u=r?l:-1,d=Object(i);(r?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return ky=e,ky}var Dy,bx;function Kq(){if(bx)return Dy;bx=1;var n=cE(),e=Gq(),t=e(n);return Dy=t,Dy}var Ny,Ix;function Yq(){if(Ix)return Ny;Ix=1;var n=Kq(),e=Ic();function t(r,i){var o=-1,l=e(r)?Array(r.length):[];return n(r,function(u,d,p){l[++o]=i(u,d,p)}),l}return Ny=t,Ny}var Oy,Rx;function Qq(){if(Rx)return Oy;Rx=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return Oy=n,Oy}var My,xx;function Xq(){if(xx)return My;xx=1;var n=Rc();function e(t,r){if(t!==r){var i=t!==void 0,o=t===null,l=t===t,u=n(t),d=r!==void 0,p=r===null,m=r===r,v=n(r);if(!p&&!v&&!u&&t>r||u&&d&&m&&!p&&!v||o&&d&&m||!i&&m||!l)return 1;if(!o&&!u&&!v&&t<r||v&&i&&l&&!o&&!u||p&&i&&l||!d&&l||!m)return-1}return 0}return My=e,My}var Ly,Ax;function Jq(){if(Ax)return Ly;Ax=1;var n=Xq();function e(t,r,i){for(var o=-1,l=t.criteria,u=r.criteria,d=l.length,p=i.length;++o<d;){var m=n(l[o],u[o]);if(m){if(o>=p)return m;var v=i[o];return m*(v=="desc"?-1:1)}}return t.index-r.index}return Ly=e,Ly}var Vy,Cx;function Zq(){if(Cx)return Vy;Cx=1;var n=uE(),e=Jf(),t=ep(),r=Yq(),i=Qq(),o=Yf(),l=Jq(),u=Zf(),d=gr();function p(m,v,y){v.length?v=n(v,function(T){return d(T)?function(b){return e(b,T.length===1?T[0]:T)}:T}):v=[u];var E=-1;v=n(v,o(t));var I=r(m,function(T,b,C){var D=n(v,function(M){return M(T)});return{criteria:D,index:++E,value:T}});return i(I,function(T,b){return l(T,b,y)})}return Vy=p,Vy}var Fy,Px;function e$(){if(Px)return Fy;Px=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Fy=n,Fy}var jy,kx;function B2(){if(kx)return jy;kx=1;var n=e$(),e=Math.max;function t(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,u=-1,d=e(l.length-i,0),p=Array(d);++u<d;)p[u]=l[i+u];u=-1;for(var m=Array(i+1);++u<i;)m[u]=l[u];return m[i]=o(p),n(r,this,m)}}return jy=t,jy}var Uy,Dx;function t$(){if(Dx)return Uy;Dx=1;function n(e){return function(){return e}}return Uy=n,Uy}var qy,Nx;function W2(){if(Nx)return qy;Nx=1;var n=Qo(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return qy=e,qy}var $y,Ox;function n$(){if(Ox)return $y;Ox=1;var n=t$(),e=W2(),t=Zf(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t;return $y=r,$y}var zy,Mx;function r$(){if(Mx)return zy;Mx=1;var n=800,e=16,t=Date.now;function r(i){var o=0,l=0;return function(){var u=t(),d=e-(u-l);if(l=u,d>0){if(++o>=n)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return zy=r,zy}var By,Lx;function H2(){if(Lx)return By;Lx=1;var n=n$(),e=r$(),t=e(n);return By=t,By}var Wy,Vx;function G2(){if(Vx)return Wy;Vx=1;var n=Zf(),e=B2(),t=H2();function r(i,o){return t(e(i,o,n),i+"")}return Wy=r,Wy}var Hy,Fx;function i$(){if(Fx)return Hy;Fx=1;var n=z2(),e=Zq(),t=G2(),r=$f(),i=t(function(o,l){if(o==null)return[];var u=l.length;return u>1&&r(o,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,n(l,1),[])});return Hy=i,Hy}var s$=i$();const o$=Mn(s$);function K2(n){return Zk(n)||f2(n)||O0(n)||e2()}var Gy,jx;function a$(){if(jx)return Gy;jx=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Gy=n,Gy}var Ky,Ux;function l$(){if(Ux)return Ky;Ux=1;var n=Bi(),e=oE(),t=a$(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!n(l))return t(l);var u=e(l),d=[];for(var p in l)p=="constructor"&&(u||!i.call(l,p))||d.push(p);return d}return Ky=o,Ky}var Yy,qx;function tp(){if(qx)return Yy;qx=1;var n=L2(),e=l$(),t=Ic();function r(i){return t(i)?n(i,!0):e(i)}return Yy=r,Yy}var Qy,$x;function u$(){if($x)return Qy;$x=1;var n=G2(),e=bc(),t=$f(),r=tp(),i=Object.prototype,o=i.hasOwnProperty,l=n(function(u,d){u=Object(u);var p=-1,m=d.length,v=m>2?d[2]:void 0;for(v&&t(d[0],d[1],v)&&(m=1);++p<m;)for(var y=d[p],E=r(y),I=-1,T=E.length;++I<T;){var b=E[I],C=u[b];(C===void 0||e(C,i[b])&&!o.call(u,b))&&(u[b]=y[b])}return u});return Qy=l,Qy}var c$=u$();const d$=Mn(c$);var Xy,zx;function dE(){if(zx)return Xy;zx=1;var n=W2();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return Xy=e,Xy}var Jy,Bx;function h$(){if(Bx)return Jy;Bx=1;var n=dE(),e=cE(),t=ep();function r(i,o){var l={};return o=t(o,3),e(i,function(u,d,p){n(l,d,o(u,d,p))}),l}return Jy=r,Jy}var f$=h$();const p$=Mn(f$);var Zy,Wx;function Y2(){if(Wx)return Zy;Wx=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return Zy=n,Zy}var e_,Hx;function Q2(){if(Hx)return e_;Hx=1;var n=dE(),e=bc(),t=Object.prototype,r=t.hasOwnProperty;function i(o,l,u){var d=o[l];(!(r.call(o,l)&&e(d,u))||u===void 0&&!(l in o))&&n(o,l,u)}return e_=i,e_}var t_,Gx;function Dc(){if(Gx)return t_;Gx=1;var n=Q2(),e=dE();function t(r,i,o,l){var u=!o;o||(o={});for(var d=-1,p=i.length;++d<p;){var m=i[d],v=l?l(o[m],r[m],m,o,r):void 0;v===void 0&&(v=r[m]),u?e(o,m,v):n(o,m,v)}return o}return t_=t,t_}var n_,Kx;function m$(){if(Kx)return n_;Kx=1;var n=Dc(),e=Pc();function t(r,i){return r&&n(i,e(i),r)}return n_=t,n_}var r_,Yx;function g$(){if(Yx)return r_;Yx=1;var n=Dc(),e=tp();function t(r,i){return r&&n(i,e(i),r)}return r_=t,r_}var Au={exports:{}};Au.exports;var Qx;function v$(){return Qx||(Qx=1,(function(n,e){var t=fi(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,l=o?t.Buffer:void 0,u=l?l.allocUnsafe:void 0;function d(p,m){if(m)return p.slice();var v=p.length,y=u?u(v):new p.constructor(v);return p.copy(y),y}n.exports=d})(Au,Au.exports)),Au.exports}var i_,Xx;function y$(){if(Xx)return i_;Xx=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return i_=n,i_}var s_,Jx;function _$(){if(Jx)return s_;Jx=1;var n=Dc(),e=nE();function t(r,i){return n(r,e(r),i)}return s_=t,s_}var o_,Zx;function np(){if(Zx)return o_;Zx=1;var n=V2(),e=n(Object.getPrototypeOf,Object);return o_=e,o_}var a_,eA;function X2(){if(eA)return a_;eA=1;var n=tE(),e=np(),t=nE(),r=M2(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var u=[];l;)n(u,t(l)),l=e(l);return u}:r;return a_=o,a_}var l_,tA;function w$(){if(tA)return l_;tA=1;var n=Dc(),e=X2();function t(r,i){return n(r,e(r),i)}return l_=t,l_}var u_,nA;function J2(){if(nA)return u_;nA=1;var n=O2(),e=X2(),t=tp();function r(i){return n(i,t,e)}return u_=r,u_}var c_,rA;function E$(){if(rA)return c_;rA=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return c_=t,c_}var d_,iA;function hE(){if(iA)return d_;iA=1;var n=N2();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return d_=e,d_}var h_,sA;function T$(){if(sA)return h_;sA=1;var n=hE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return h_=e,h_}var f_,oA;function S$(){if(oA)return f_;oA=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return f_=e,f_}var p_,aA;function b$(){if(aA)return p_;aA=1;var n=Tl(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return p_=r,p_}var m_,lA;function I$(){if(lA)return m_;lA=1;var n=hE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return m_=e,m_}var g_,uA;function R$(){if(uA)return g_;uA=1;var n=hE(),e=T$(),t=S$(),r=b$(),i=I$(),o="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",I="[object DataView]",T="[object Float32Array]",b="[object Float64Array]",C="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",F="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",k="[object Uint32Array]";function A(P,L,V){var U=P.constructor;switch(L){case E:return n(P);case o:case l:return new U(+P);case I:return e(P,V);case T:case b:case C:case D:case M:case F:case W:case z:case k:return i(P,V);case u:return new U;case d:case v:return new U(P);case p:return t(P);case m:return new U;case y:return r(P)}}return g_=A,g_}var v_,cA;function Z2(){if(cA)return v_;cA=1;var n=Bi(),e=Object.create,t=(function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return v_=t,v_}var y_,dA;function x$(){if(dA)return y_;dA=1;var n=Z2(),e=np(),t=oE();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return y_=r,y_}var __,hA;function A$(){if(hA)return __;hA=1;var n=Qf(),e=Ws(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return __=r,__}var w_,fA;function C$(){if(fA)return w_;fA=1;var n=A$(),e=Yf(),t=iE(),r=t&&t.isMap,i=r?e(r):n;return w_=i,w_}var E_,pA;function P$(){if(pA)return E_;pA=1;var n=Qf(),e=Ws(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return E_=r,E_}var T_,mA;function k$(){if(mA)return T_;mA=1;var n=P$(),e=Yf(),t=iE(),r=t&&t.isSet,i=r?e(r):n;return T_=i,T_}var S_,gA;function D$(){if(gA)return S_;gA=1;var n=eE(),e=Y2(),t=Q2(),r=m$(),i=g$(),o=v$(),l=y$(),u=_$(),d=w$(),p=F2(),m=J2(),v=Qf(),y=E$(),E=R$(),I=x$(),T=gr(),b=Kf(),C=C$(),D=Bi(),M=k$(),F=Pc(),W=tp(),z=1,k=2,A=4,P="[object Arguments]",L="[object Array]",V="[object Boolean]",U="[object Date]",O="[object Error]",ce="[object Function]",Te="[object GeneratorFunction]",_e="[object Map]",ye="[object Number]",ne="[object Object]",de="[object RegExp]",le="[object Set]",H="[object String]",Z="[object Symbol]",he="[object WeakMap]",Ce="[object ArrayBuffer]",Re="[object DataView]",Ne="[object Float32Array]",Le="[object Float64Array]",Oe="[object Int8Array]",He="[object Int16Array]",mt="[object Int32Array]",fn="[object Uint8Array]",$r="[object Uint8ClampedArray]",Ln="[object Uint16Array]",vr="[object Uint32Array]",qe={};qe[P]=qe[L]=qe[Ce]=qe[Re]=qe[V]=qe[U]=qe[Ne]=qe[Le]=qe[Oe]=qe[He]=qe[mt]=qe[_e]=qe[ye]=qe[ne]=qe[de]=qe[le]=qe[H]=qe[Z]=qe[fn]=qe[$r]=qe[Ln]=qe[vr]=!0,qe[O]=qe[ce]=qe[he]=!1;function Vn(Ve,Fn,pn,Pt,kt,Bt){var at,mn=Fn&z,jn=Fn&k,lt=Fn&A;if(pn&&(at=kt?pn(Ve,Pt,kt,Bt):pn(Ve)),at!==void 0)return at;if(!D(Ve))return Ve;var rt=T(Ve);if(rt){if(at=y(Ve),!mn)return l(Ve,at)}else{var Dt=v(Ve),Wi=Dt==ce||Dt==Te;if(b(Ve))return o(Ve,mn);if(Dt==ne||Dt==P||Wi&&!kt){if(at=jn||Wi?{}:I(Ve),!mn)return jn?d(Ve,i(at,Ve)):u(Ve,r(at,Ve))}else{if(!qe[Dt])return kt?Ve:{};at=E(Ve,Dt,mn)}}Bt||(Bt=new n);var yr=Bt.get(Ve);if(yr)return yr;Bt.set(Ve,at),M(Ve)?Ve.forEach(function(wn){at.add(Vn(wn,Fn,pn,wn,Ve,Bt))}):C(Ve)&&Ve.forEach(function(wn,Un){at.set(Un,Vn(wn,Fn,pn,Un,Ve,Bt))});var pi=lt?jn?m:p:jn?W:F,zr=rt?void 0:pi(Ve);return e(zr||Ve,function(wn,Un){zr&&(Un=wn,wn=Ve[Un]),t(at,Un,Vn(wn,Fn,pn,Un,Ve,Bt))}),at}return S_=Vn,S_}var b_,vA;function N$(){if(vA)return b_;vA=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return b_=n,b_}var I_,yA;function O$(){if(yA)return I_;yA=1;var n=Jf(),e=p2();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return I_=t,I_}var R_,_A;function M$(){if(_A)return R_;_A=1;var n=Xf(),e=N$(),t=O$(),r=kc();function i(o,l){return l=n(l,o),o=t(o,l),o==null||delete o[r(e(l))]}return R_=i,R_}var x_,wA;function L$(){if(wA)return x_;wA=1;var n=Sl(),e=np(),t=Ws(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function p(m){if(!t(m)||n(m)!=r)return!1;var v=e(m);if(v===null)return!0;var y=u.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return x_=p,x_}var A_,EA;function V$(){if(EA)return A_;EA=1;var n=L$();function e(t){return n(t)?void 0:t}return A_=e,A_}var C_,TA;function F$(){if(TA)return C_;TA=1;var n=z2();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return C_=e,C_}var P_,SA;function j$(){if(SA)return P_;SA=1;var n=F$(),e=B2(),t=H2();function r(i){return t(e(i,void 0,n),i+"")}return P_=r,P_}var k_,bA;function U$(){if(bA)return k_;bA=1;var n=uE(),e=D$(),t=M$(),r=Xf(),i=Dc(),o=V$(),l=j$(),u=J2(),d=1,p=2,m=4,v=l(function(y,E){var I={};if(y==null)return I;var T=!1;E=n(E,function(C){return C=r(C,y),T||(T=C.length>1),C}),i(y,u(y),I),T&&(I=e(I,d|p|m,o));for(var b=E.length;b--;)t(I,E[b]);return I});return k_=v,k_}var q$=U$();const $$=Mn(q$);var D_,IA;function z$(){if(IA)return D_;IA=1;var n=Y2(),e=Z2(),t=cE(),r=ep(),i=np(),o=gr(),l=Kf(),u=V0(),d=Bi(),p=sE();function m(v,y,E){var I=o(v),T=I||l(v)||p(v);if(y=r(y,4),E==null){var b=v&&v.constructor;T?E=I?new b:[]:d(v)?E=u(b)?e(i(v)):{}:E={}}return(T?n:t)(v,function(C,D,M){return y(E,C,D,M)}),E}return D_=m,D_}var B$=z$();const W$=Mn(B$);var Th={exports:{}},H$=Th.exports,RA;function G$(){return RA||(RA=1,(function(n,e){(function(t,r){n.exports=r()})(H$,(function(){return function(t,r,i){r.prototype.isBetween=function(o,l,u,d){var p=i(o),m=i(l),v=(d=d||"()")[0]==="(",y=d[1]===")";return(v?this.isAfter(p,u):!this.isBefore(p,u))&&(y?this.isBefore(m,u):!this.isAfter(m,u))||(v?this.isBefore(p,u):!this.isAfter(p,u))&&(y?this.isAfter(m,u):!this.isBefore(m,u))}}}))})(Th)),Th.exports}G$();var Sh={exports:{}},K$=Sh.exports,xA;function Y$(){return xA||(xA=1,(function(n,e){(function(t,r){n.exports=r()})(K$,(function(){return function(t,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}}))})(Sh)),Sh.exports}Y$();var bh={exports:{}},Q$=bh.exports,AA;function X$(){return AA||(AA=1,(function(n,e){(function(t,r){n.exports=r()})(Q$,(function(){return function(t,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}}))})(bh)),bh.exports}X$();var Ih={exports:{}},J$=Ih.exports,CA;function Z$(){return CA||(CA=1,(function(n,e){(function(t,r){n.exports=r()})(J$,(function(){return function(t,r,i){var o=r.prototype,l=function(v){return v&&(v.indexOf?v:v.s)},u=function(v,y,E,I,T){var b=v.name?v:v.$locale(),C=l(b[y]),D=l(b[E]),M=C||D.map((function(W){return W.slice(0,I)}));if(!T)return M;var F=b.weekStart;return M.map((function(W,z){return M[(z+(F||0))%7]}))},d=function(){return i.Ls[i.locale()]},p=function(v,y){return v.formats[y]||(function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(I,T,b){return T||b.slice(1)}))})(v.formats[y.toUpperCase()])},m=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):u(v,"months")},monthsShort:function(y){return y?y.format("MMM"):u(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):u(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):u(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):u(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return p(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(y){return p(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return u(d(),"months")},i.monthsShort=function(){return u(d(),"monthsShort","months",3)},i.weekdays=function(v){return u(d(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return u(d(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return u(d(),"weekdaysMin","weekdays",2,v)}}}))})(Ih)),Ih.exports}Z$();var Rh={exports:{}},ez=Rh.exports,PA;function tz(){return PA||(PA=1,(function(n,e){(function(t,r){n.exports=r()})(ez,(function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var l=i.prototype,u=l.format;o.en.formats=t,l.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,m=(function(v,y){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(E,I,T){var b=T&&T.toUpperCase();return I||y[T]||t[T]||y[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,D,M){return D||M.slice(1)}))}))})(d,p===void 0?{}:p);return u.call(this,m)}}}))})(Rh)),Rh.exports}tz();var xh={exports:{}},nz=xh.exports,kA;function rz(){return kA||(kA=1,(function(n,e){(function(t,r){n.exports=r()})(nz,(function(){return function(t,r,i){var o=function(l,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter((function(m){return m})))[0];for(var p=1;p<u.length;p+=1)u[p].isValid()&&!u[p][l](d)||(d=u[p]);return d};i.max=function(){var l=[].slice.call(arguments,0);return o("isAfter",l)},i.min=function(){var l=[].slice.call(arguments,0);return o("isBefore",l)}}}))})(xh)),xh.exports}rz();var Ah={exports:{}},iz=Ah.exports,DA;function sz(){return DA||(DA=1,(function(n,e){(function(t,r){n.exports=r()})(iz,(function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,l,u){var d=l.prototype;u.utc=function(T){var b={date:T,utc:!0,args:arguments};return new l(b)},d.utc=function(T){var b=u(this.toDate(),{locale:this.$L,utc:!0});return T?b.add(this.utcOffset(),t):b},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var p=d.parse;d.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),p.call(this,T)};var m=d.init;d.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else m.call(this)};var v=d.utcOffset;d.utcOffset=function(T,b){var C=this.$utils().u;if(C(T))return this.$u?0:C(this.$offset)?v.call(this):this.$offset;if(typeof T=="string"&&(T=(function(W){W===void 0&&(W="");var z=W.match(r);if(!z)return null;var k=(""+z[0]).match(i)||["-",0,0],A=k[0],P=60*+k[1]+ +k[2];return P===0?0:A==="+"?P:-P})(T),T===null))return this;var D=Math.abs(T)<=16?60*T:T;if(D===0)return this.utc(b);var M=this.clone();if(b)return M.$offset=D,M.$u=!1,M;var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(M=this.local().add(D+F,t)).$offset=D,M.$x.$localOffset=F,M};var y=d.format;d.format=function(T){var b=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,b)},d.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var E=d.toDate;d.toDate=function(T){return T==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var I=d.diff;d.diff=function(T,b,C){if(T&&this.$u===T.$u)return I.call(this,T,b,C);var D=this.local(),M=u(T).local();return I.call(D,M,b,C)}}}))})(Ah)),Ah.exports}sz();var Ch={exports:{}},oz=Ch.exports,NA;function az(){return NA||(NA=1,(function(n,e){(function(t,r){n.exports=r()})(oz,(function(){return function(t,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Ch)),Ch.exports}az();function ti(n){return n.children}var On={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},un={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},OA=Object.keys(un).map(function(n){return un[n]});ae.oneOfType([ae.string,ae.func]);ae.any;ae.func;ae.oneOfType([ae.arrayOf(ae.oneOf(OA)),ae.objectOf(function(n,e){var t=OA.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return ae.elementType.apply(ae,[n,e].concat(i))})]);ae.oneOfType([ae.oneOf(["overlap","no-overlap"]),ae.func]);var MA={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function eD(n,e){var t=Jt(n,"month");return Jt(t,"week",e.startOfWeek())}function tD(n,e){var t=sf(n,"month");return sf(t,"week",e.startOfWeek())}function lz(n,e){for(var t=eD(n,e),r=tD(n,e),i=[];wl(t,r,"day");)i.push(t),t=jr(t,1,"day");return i}function uz(n,e){var t=Jt(n,e);return _l(t,n)?t:jr(t,1,e)}function cz(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];wl(r,e,t);)i.push(r),r=jr(r,1,t);return i}function dz(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=Jt(n,"day"),n=tc(n,tc(e)),n=il(n,il(e)),n=ec(n,ec(e)),Zu(n,Zu(e)))}function LA(n){return tc(n)===0&&il(n)===0&&ec(n)===0&&Zu(n)===0}function hz(n,e,t,r){return t==="day"&&(t="date"),Math.abs(Cb[t](n,void 0,r)-Cb[t](e,void 0,r))}function fE(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+Jt(n,t)/MA[t]-+Jt(e,t)/MA[t]))}var fz=ae.oneOfType([ae.string,ae.func]);function pz(n,e,t,r,i){var o=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return Gu(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function mz(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function pE(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function gz(n,e){return fE(n,e,"minutes")+pE(n,e)}function vz(n){var e=Jt(n,"day");return fE(e,n,"minutes")+pE(e,n)}function yz(n,e){return L0(n,e,"day")}function _z(n,e,t){var r=_l(n,e,"minutes");return r?Sc(e,t,"minutes"):qf(e,t,"minutes")}function bw(n,e){return hz(n,e,"day")}function wz(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,o=n.evtB,l=o.start,u=o.end,d=o.allDay,p=+Jt(t,"day")-+Jt(l,"day"),m=bw(t,r),v=bw(l,u);return p||v-m||!!d-!!i||+t-+l||+r-+u}function Ez(n){var e=n.event,t=e.start,r=e.end,i=n.range,o=i.start,l=i.end,u=Jt(t,"day"),d=wl(u,l,"day"),p=M0(u,r,"minutes"),m=p?qf(r,o,"minutes"):Sc(r,o,"minutes");return d&&m}function Tz(n,e){return _l(n,e,"day")}function Sz(n,e){return LA(n)&&LA(e)}var bz=Ft(function n(e){var t=this;Vt(this,n),Gu(typeof e.format=="function","date localizer `format(..)` must be a function"),Gu(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||fz,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pz.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||dz,this.inRange=e.inRange||u2,this.lt=e.lt||L0,this.lte=e.lte||wl,this.gt=e.gt||qf,this.gte=e.gte||Sc,this.eq=e.eq||_l,this.neq=e.neq||M0,this.startOf=e.startOf||Jt,this.endOf=e.endOf||sf,this.add=e.add||jr,this.range=e.range||cz,this.diff=e.diff||fE,this.ceil=e.ceil||uz,this.min=e.min||a2,this.max=e.max||l2,this.minutes=e.minutes||il,this.daySpan=e.daySpan||bw,this.firstVisibleDay=e.firstVisibleDay||eD,this.lastVisibleDay=e.lastVisibleDay||tD,this.visibleDays=e.visibleDays||lz,this.getSlotDate=e.getSlotDate||mz,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||pE,this.getTotalMin=e.getTotalMin||gz,this.getMinutesFromMidnight=e.getMinutesFromMidnight||vz,this.continuesPrior=e.continuesPrior||yz,this.continuesAfter=e.continuesAfter||_z,this.sortEvents=e.sortEvents||wz,this.inEventRange=e.inEventRange||Ez,this.isSameDate=e.isSameDate||Tz,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Sz,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Iz(n,e,t,r){var i=Je(Je({},n.formats),t);return Je(Je({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(l,u){return n.format(l,i[u]||u,e)}})}var Rz=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.navigate=function(l){t.props.onNavigate(l)},t.view=function(l){t.props.onView(l)},t}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,o=r.label;return G.createElement("div",{className:"rbc-toolbar"},G.createElement("span",{className:"rbc-btn-group"},G.createElement("button",{type:"button",onClick:this.navigate.bind(null,On.TODAY)},i.today),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,On.PREVIOUS)},i.previous),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,On.NEXT)},i.next)),G.createElement("span",{className:"rbc-toolbar-label"},o),G.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,o=this.props.views,l=this.props.view;if(o.length>1)return o.map(function(u){return G.createElement("button",{type:"button",key:u,className:yt({"rbc-active":l===u}),onClick:i.view.bind(null,u)},r[u])})}}])})(G.Component);function ot(n,e){n&&n.apply(null,[].concat(e))}var xz={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function Az(n){return Je(Je({},xz),n)}function Cz(n){var e=n.ref,t=n.callback;q.useEffect(function(){var r=function(o){e.current&&!e.current.contains(o.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var Pz=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],nD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.style,o=r.className,l=r.event,u=r.selected,d=r.isAllDay,p=r.onSelect,m=r.onDoubleClick,v=r.onKeyPress,y=r.localizer,E=r.continuesPrior,I=r.continuesAfter,T=r.accessors,b=r.getters,C=r.children,D=r.components,M=D.event,F=D.eventWrapper,W=r.slotStart,z=r.slotEnd,k=hi(r,Pz);delete k.resizable;var A=T.title(l),P=T.tooltip(l),L=T.end(l),V=T.start(l),U=T.allDay(l),O=d||U||y.diff(V,y.ceil(L,"day"),"day")>1,ce=b.eventProp(l,V,L,u),Te=G.createElement("div",{className:"rbc-event-content",title:P||void 0},M?G.createElement(M,{event:l,continuesPrior:E,continuesAfter:I,title:A,isAllDay:U,localizer:y,slotStart:W,slotEnd:z}):A);return G.createElement(F,Object.assign({},this.props,{type:"date"}),G.createElement("div",Object.assign({},k,{style:Je(Je({},ce.style),i),className:yt("rbc-event",o,ce.className,{"rbc-selected":u,"rbc-event-allday":O,"rbc-event-continues-prior":E,"rbc-event-continues-after":I}),onClick:function(ye){return p&&p(l,ye)},onDoubleClick:function(ye){return m&&m(l,ye)},onKeyDown:function(ye){return v&&v(l,ye)}}),typeof C=="function"?C(Te):Te))}}])})(G.Component);function rp(n,e){return!n||e==null?!1:gq(n,e)}function rD(n,e){var t=n.right-n.left,r=t/e;return r}function iD(n,e,t,r){var i=rD(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function kz(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function Dz(n,e,t,r,i){var o=-1,l=-1,u=r-1,d=rD(e,r),p=iD(e,t.x,i,r),m=e.top<t.y&&e.bottom>t.y,v=e.top<n.y&&e.bottom>n.y,y=n.y>e.bottom,E=e.top>n.y,I=t.top<e.top&&t.bottom>e.bottom;return I&&(o=0,l=u),m&&(E?(o=0,l=p):y&&(o=p,l=u)),v&&(o=l=i?u-Math.floor((n.x-e.left)/d):Math.floor((n.x-e.left)/d),m?p<o?o=p:l=p:n.y<t.y?l=u:o=0),{startIdx:o,endIdx:l}}function Nz(n){var e=n.target,t=n.offset,r=n.container,i=n.box,o=xo(e),l=o.top,u=o.left,d=o.width,p=o.height,m=xo(r),v=m.top,y=m.left,E=m.width,I=m.height,T=xo(i),b=T.width,C=T.height,D=v+I,M=y+E,F=l+C,W=u+b,z=t.x,k=t.y,A=F>D?l-C-k:l+k+p,P=W>M?u+z-b+d:u+z;return{topOffset:A,leftOffset:P}}function Oz(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,o=n.components,l=n.localizer,u=n.position,d=n.show,p=n.events,m=n.slotStart,v=n.slotEnd,y=n.onSelect,E=n.onDoubleClick,I=n.onKeyPress,T=n.handleDragStart,b=n.popperRef,C=n.target,D=n.offset;Cz({ref:b,callback:d}),q.useLayoutEffect(function(){var W=Nz({target:C,offset:D,container:e.current,box:b.current}),z=W.topOffset,k=W.leftOffset;b.current.style.top="".concat(z,"px"),b.current.style.left="".concat(k,"px")},[D.x,D.y,C]);var M=u.width,F={minWidth:M+M/2};return G.createElement("div",{style:F,className:"rbc-overlay",ref:b},G.createElement("div",{className:"rbc-overlay-header"},l.format(m,"dayHeaderFormat")),p.map(function(W,z){return G.createElement(nD,{key:z,type:"popup",localizer:l,event:W,getters:r,onSelect:y,accessors:t,components:o,onDoubleClick:E,onKeyPress:I,continuesPrior:l.lt(t.end(W),m,"day"),continuesAfter:l.gte(t.start(W),v,"day"),slotStart:m,slotEnd:v,selected:rp(W,i),draggable:!0,onDragStart:function(){return T(W)},onDragEnd:function(){return d()}})}))}var sD=G.forwardRef(function(n,e){return G.createElement(Oz,Object.assign({},n,{popperRef:e}))});sD.propTypes={accessors:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,components:ae.object.isRequired,localizer:ae.object.isRequired,position:ae.object.isRequired,show:ae.func.isRequired,events:ae.array.isRequired,slotStart:ae.instanceOf(Date).isRequired,slotEnd:ae.instanceOf(Date),onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func,handleDragStart:ae.func,style:ae.object,offset:ae.shape({x:ae.number,y:ae.number})};function Mz(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,o=n.accessors,l=n.localizer,u=n.components,d=n.getters,p=n.selected,m=n.handleSelectEvent,v=n.handleDoubleClickEvent,y=n.handleKeyPressEvent,E=n.handleDragStart,I=n.onHide,T=n.overlayDisplay,b=q.useRef(null);if(!i.position)return null;var C=r;isNaN(r)||(C={x:r,y:r});var D=i.position,M=i.events,F=i.date,W=i.end;return G.createElement(X0,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:I,target:i.target},function(z){var k=z.props;return G.createElement(sD,Object.assign({},k,{containerRef:e,ref:b,target:i.target,offset:C,accessors:o,getters:d,selected:p,components:u,localizer:l,position:D,show:T,events:M,slotStart:F,slotEnd:W,onSelect:m,onDoubleClick:v,onKeyPress:y,handleDragStart:E}))})}var mE=G.forwardRef(function(n,e){return G.createElement(Mz,Object.assign({},n,{containerRef:e}))});mE.propTypes={popupOffset:ae.oneOfType([ae.number,ae.shape({x:ae.number,y:ae.number})]),overlay:ae.shape({position:ae.object,events:ae.array,date:ae.instanceOf(Date),end:ae.instanceOf(Date)}),accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,selected:ae.object,handleSelectEvent:ae.func,handleDoubleClickEvent:ae.func,handleKeyPressEvent:ae.func,handleDragStart:ae.func,onHide:ae.func,overlayDisplay:ae.func};function on(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Iu(t,n,e,{passive:!1})}function Lz(n,e,t){return!n||nc(n,document.elementFromPoint(e,t))}function Vz(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return j2(i,".rbc-event",n)}function Fz(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return j2(i,".rbc-show-more",n)}function lf(n,e){return!!Vz(n,e)}function jz(n,e){return!!Fz(n,e)}function mu(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var VA=5,Uz=250,oD=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,o=t.longPressThreshold,l=o===void 0?250:o,u=t.validContainers,d=u===void 0?[]:u;Vt(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=l,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=on("touchmove",function(){},window),this._removeKeyDownListener=on("keydown",this._keyListener),this._removeKeyUpListener=on("keyup",this._keyListener),this._removeDropFromOutsideListener=on("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=on("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ft(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var l=i.indexOf(r);l!==-1&&i.splice(l,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var l,u=this._listeners[t]||[];return u.forEach(function(d){l===void 0&&(l=d.apply(void 0,i))}),l}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:FA(r,zo(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,o=null,l=null,u=null,d=function(y){o=setTimeout(function(){m(),t(y)},i.longPressThreshold),l=on("touchmove",function(){return m()}),u=on("touchend",function(){return m()})},p=on("touchstart",d),m=function(){o&&clearTimeout(o),l&&l(),u&&u(),o=null,l=null,u=null};return r&&d(r),function(){m(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=on("mousedown",function(o){t._removeInitialEventListener(),t._handleInitialEvent(o),t._removeInitialEventListener=on("mousedown",t._handleInitialEvent)}),i=on("touchstart",function(o){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=mu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:i,y:o,clientX:l,clientY:u}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=mu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:i,y:o,clientX:l,clientY:u}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=mu(t),i=r.clientX,o=r.clientY,l=r.pageX,u=r.pageY,d=this.container(),p,m;if(!(t.which===3||t.button===2||!Lz(d,i,o))){if(!this.globalMouse&&d&&!nc(d,t.target)){var v=qz(0),y=v.top,E=v.left,I=v.bottom,T=v.right;if(m=zo(d),p=FA({top:m.top-y,left:m.left-E,bottom:m.bottom+I,right:m.right+T},{top:u,left:l}),!p)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:l,y:u,clientX:i,clientY:o});if(b!==!1)switch(t.type){case"mousedown":this._removeEndListener=on("mouseup",this._handleTerminatingEvent),this._onEscListener=on("keydown",this._handleTerminatingEvent),this._removeMoveListener=on("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=on("touchend",this._handleTerminatingEvent),this._removeMoveListener=on("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var o=!this.container||nc(this.container(),t.target),l=this._isWithinValidContainer(t);return t.key==="Escape"||!l?this.emit("reset"):!r&&o?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=mu(t),i=r.pageX,o=r.pageY,l=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Uz?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:o,clientX:l,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:o,clientX:l,clientY:u}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,o=r.y,l=mu(t),u=l.pageX,d=l.pageY,p=Math.abs(i-u),m=Math.abs(o-d),v=Math.min(u,i),y=Math.min(d,o),E=this.selecting,I=this.isClick(u,d);I&&!E&&!(p||m)||(!E&&!I&&this.emit("selectStart",this._initialEventData),I||(this.selecting=!0,this._selectRect={top:y,left:v,x:u,y:d,right:v+p,bottom:y+m},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,o=i.x,l=i.y,u=i.isTouch;return!u&&Math.abs(t-o)<=VA&&Math.abs(r-l)<=VA}}])})();function qz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qi(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function FA(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=zo(n),i=r.top,o=r.left,l=r.right,u=l===void 0?o:l,d=r.bottom,p=d===void 0?i:d,m=zo(e),v=m.top,y=m.left,E=m.right,I=E===void 0?y:E,T=m.bottom,b=T===void 0?v:T;return!(p-t<v||i+t>b||u-t<y||o+t>I)}function zo(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+jA("left"),r=e.top+jA("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function jA(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var $z=(function(n){function e(t,r){var i;return Vt(this,e),i=dn(this,e,[t,r]),i.state={selecting:!1},i.containerRef=q.createRef(),i}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,o=r.getNow,l=r.getters,u=r.date,d=r.components.dateCellWrapper,p=r.localizer,m=this.state,v=m.selecting,y=m.startIdx,E=m.endIdx,I=o();return G.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(T,b){var C=v&&b>=y&&b<=E,D=l.dayProp(T),M=D.className,F=D.style;return G.createElement(d,{key:b,value:T,range:i},G.createElement("div",{style:F,className:yt("rbc-day-bg",M,C&&"rbc-selected-cell",p.isSameDate(T,I)&&"rbc-today",u&&p.neq(u,T,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,o=this._selector=new oD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),l=function(d,p){if(!lf(i,d)&&!jz(i,d)){var m=zo(i),v=r.props,y=v.range,E=v.rtl;if(kz(m,d)){var I=iD(m,d.x,E,y.length);r._selectSlot({startIdx:I,endIdx:I,action:p,box:d})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(u){var d=r.props,p=d.range,m=d.rtl,v=-1,y=-1;if(r.state.selecting||(ot(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),o.isSelected(i)){var E=zo(i),I=Dz(r._initial,E,u,p.length,m);v=I.startIdx,y=I.endIdx}r.setState({selecting:!0,startIdx:v,endIdx:y})}),o.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!lf(r.containerRef.current,u)}),o.on("click",function(u){return l(u,"click")}),o.on("doubleClick",function(u){return l(u,"doubleClick")}),o.on("select",function(u){r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),ot(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,o=r.startIdx,l=r.action,u=r.bounds,d=r.box;i!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:i,action:l,bounds:u,box:d,resourceId:this.props.resourceId})}}])})(G.Component),lr={propTypes:{slotMetrics:ae.object.isRequired,selected:ae.object,isAllDay:ae.bool,accessors:ae.object.isRequired,localizer:ae.object.isRequired,components:ae.object.isRequired,getters:ae.object.isRequired,onSelect:ae.func,onDoubleClick:ae.func,onKeyPress:ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,o=e.getters,l=e.onSelect,u=e.onDoubleClick,d=e.onKeyPress,p=e.localizer,m=e.slotMetrics,v=e.components,y=e.resizable,E=m.continuesPrior(t),I=m.continuesAfter(t);return G.createElement(nD,{event:t,getters:o,localizer:p,accessors:i,components:v,onSelect:l,onDoubleClick:u,onKeyPress:d,continuesPrior:E,continuesAfter:I,slotStart:m.first,slotEnd:m.last,selected:rp(t,r),resizable:y})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(t)/e*100+"%";return G.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)}},aD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.segments,l=i.slotMetrics.slots,u=i.className,d=1;return G.createElement("div",{className:yt(u,"rbc-row")},o.reduce(function(p,m,v){var y=m.event,E=m.left,I=m.right,T=m.span,b="_lvl_"+v,C=E-d,D=lr.renderEvent(r.props,y);return C&&p.push(lr.renderSpan(l,C,"".concat(b,"_gap"))),p.push(lr.renderSpan(l,T,b,D)),d=I+1,p},[]))}}])})(G.Component);aD.defaultProps=Je({},lr.defaultProps);function lD(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function zz(n,e,t,r){var i=lD({dateRange:e,localizer:r}),o=i.first,l=i.last,u=r.diff(o,l,"day"),d=r.max(r.startOf(t.start(n),"day"),o),p=r.min(r.ceil(t.end(n),"day"),l),m=Lq(e,function(y){return r.isSameDate(y,d)}),v=r.diff(d,p,"day");return v=Math.min(v,u),v=Math.max(v-r.segmentOffset,1),{event:n,span:v,left:m+1,right:Math.max(m+v,1)}}function Iw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,o=[],l=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<o.length&&Bz(i,o[r]);r++);r>=e?l.push(i):(o[r]||(o[r]=[])).push(i)}for(t=0;t<o.length;t++)o[t].sort(function(u,d){return u.left-d.left});return{levels:o,extra:l}}function sc(n,e,t,r,i){var o={start:r.start(n),end:r.end(n)},l={start:e,end:t};return i.inEventRange({event:o,range:l})}function Bz(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function Wz(n,e,t){var r=wh(n),i=[],o=[];r.forEach(function(d){var p=e.start(d),m=e.end(d);t.daySpan(p,m)>1?i.push(d):o.push(d)});var l=i.sort(function(d,p){return Rw(d,p,e,t)}),u=o.sort(function(d,p){return Rw(d,p,e,t)});return[].concat(wh(l),wh(u))}function Rw(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},o={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:o})}var xw=function(e,t){return e.left<=t&&e.right>=t},N_=function(e,t){return e.filter(function(r){return xw(r,t)}).map(function(r){return r.event})},uD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,o=r.slotMetrics.slots,l=Iw(i).levels[0],u=1,d=1,p=[];u<=o;){var m="_lvl_"+u,v=l.filter(function(F){return xw(F,u)})[0]||{},y=v.event,E=v.left,I=v.right,T=v.span;if(!y){var b=this.getHiddenEventsForSlot(i,u);if(b.length>0){var C=u-d;C&&p.push(lr.renderSpan(o,C,m+"_gap")),p.push(lr.renderSpan(o,1,m,this.renderShowMore(i,u))),d=u=u+1;continue}u++;continue}var D=Math.max(0,E-d);if(this.canRenderSlotEvent(E,T)){var M=lr.renderEvent(this.props,y);D&&p.push(lr.renderSpan(o,D,m+"_gap")),p.push(lr.renderSpan(o,T,m,M)),d=u=I+1}else D&&p.push(lr.renderSpan(o,D,m+"_gap")),p.push(lr.renderSpan(o,1,m,this.renderShowMore(i,u))),d=u=u+1}return G.createElement("div",{className:"rbc-row"},p)}},{key:"getHiddenEventsForSlot",value:function(r,i){var o=N_(r,i),l=Iw(r).levels[0],u=l.filter(function(d){return xw(d,i)}).map(function(d){return d.event});return o.filter(function(d){return!u.some(function(p){return p===d})})}},{key:"canRenderSlotEvent",value:function(r,i){var o=this.props.segments;return qq(r,r+i).every(function(l){var u=N_(o,l).length;return u===1})}},{key:"renderShowMore",value:function(r,i){var o=this,l=this.props,u=l.localizer,d=l.slotMetrics,p=l.components,m=d.getEventsForSlot(i),v=N_(r,i),y=v.length;if(p!=null&&p.showMore){var E=p.showMore,I=d.getDateForSlot(i-1);return y?G.createElement(E,{localizer:u,slotDate:I,slot:i,count:y,events:m,remainingEvents:v}):!1}return y?G.createElement("button",{type:"button",key:"sm_"+i,className:yt("rbc-button-link","rbc-show-more"),onClick:function(b){return o.showMore(i,b)}},u.messages.showMore(y,v,m)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])})(G.Component);uD.defaultProps=Je({},lr.defaultProps);var Hz=function(e){var t=e.children;return G.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Gz=function(e,t){return e.left<=t&&e.right>=t},Kz=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function cD(){return $2(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,o=n.accessors,l=n.localizer,u=lD({dateRange:e,localizer:l}),d=u.first,p=u.last,m=t.map(function(T){return zz(T,e,o,l)}),v=Iw(m,Math.max(r-1,1)),y=v.levels,E=v.extra,I=E.length>0?i-1:i;y.length<I;)y.push([]);return{first:d,last:p,levels:y,extra:E,range:e,slots:e.length,clone:function(b){var C=cD();return C(Je(Je({},n),b))},getDateForSlot:function(b){return e[b]},getSlotForDate:function(b){return e.find(function(C){return l.isSameDate(C,b)})},getEventsForSlot:function(b){return m.filter(function(C){return Gz(C,b)}).map(function(C){return C.event})},continuesPrior:function(b){return l.continuesPrior(o.start(b),d)},continuesAfter:function(b){var C=o.start(b),D=o.end(b);return l.continuesAfter(C,D,p)}}},Kz)}var oc=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleSelectSlot=function(l){var u=t.props,d=u.range,p=u.onSelectSlot;p(d.slice(l.start,l.end+1),l)},t.handleShowMore=function(l,u){var d=t.props,p=d.range,m=d.onShowMore,v=t.slotMetrics(t.props),y=H5(t.containerRef.current,".rbc-row-bg")[0],E;y&&(E=y.children[l-1]);var I=v.getEventsForSlot(l);m(I,p[l-1],E,l,u)},t.getContainer=function(){var l=t.props.container;return l?l():t.containerRef.current},t.renderHeadingCell=function(l,u){var d=t.props,p=d.renderHeader,m=d.getNow,v=d.localizer;return p({date:l,key:"header_".concat(u),className:yt("rbc-date-cell",v.isSameDate(l,m())&&"rbc-now")})},t.renderDummy=function(){var l=t.props,u=l.className,d=l.range,p=l.renderHeader,m=l.showAllEvents;return G.createElement("div",{className:u,ref:t.containerRef},G.createElement("div",{className:yt("rbc-row-content",m&&"rbc-row-content-scrollable")},p&&G.createElement("div",{className:"rbc-row",ref:t.headingRowRef},d.map(t.renderHeadingCell)),G.createElement("div",{className:"rbc-row",ref:t.eventRowRef},G.createElement("div",{className:"rbc-row-segment"},G.createElement("div",{className:"rbc-event"},G.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=q.createRef(),t.headingRowRef=q.createRef(),t.eventRowRef=q.createRef(),t.slotMetrics=cD(),t}return hn(e,n),Ft(e,[{key:"getRowLimit",value:function(){var r,i=Yv(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Yv(this.headingRowRef.current):0,l=Yv(this.containerRef.current)-o;return Math.max(Math.floor(l/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.rtl,l=r.range,u=r.className,d=r.selected,p=r.selectable,m=r.renderForMeasure,v=r.accessors,y=r.getters,E=r.components,I=r.getNow,T=r.renderHeader,b=r.onSelect,C=r.localizer,D=r.onSelectStart,M=r.onSelectEnd,F=r.onDoubleClick,W=r.onKeyPress,z=r.resourceId,k=r.longPressThreshold,A=r.isAllDay,P=r.resizable,L=r.showAllEvents;if(m)return this.renderDummy();var V=this.slotMetrics(this.props),U=V.levels,O=V.extra,ce=L?Hz:ti,Te=E.weekWrapper,_e={selected:d,accessors:v,getters:y,localizer:C,components:E,onSelect:b,onDoubleClick:F,onKeyPress:W,resourceId:z,slotMetrics:V,resizable:P};return G.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},G.createElement($z,{localizer:C,date:i,getNow:I,rtl:o,range:l,selectable:p,container:this.getContainer,getters:y,onSelectStart:D,onSelectEnd:M,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:k,resourceId:z}),G.createElement("div",{className:yt("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},T&&G.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},l.map(this.renderHeadingCell)),G.createElement(ce,null,G.createElement(Te,Object.assign({isAllDay:A},_e,{rtl:this.props.rtl}),U.map(function(ye,ne){return G.createElement(aD,Object.assign({key:ne,segments:ye},_e))}),!!O.length&&G.createElement(uD,Object.assign({segments:O,onShowMore:this.handleShowMore},_e))))))}}])})(G.Component);oc.defaultProps={minRows:0,maxRows:1/0};var gE=function(e){var t=e.label;return G.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Yz=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):G.createElement("span",null,t)},Qz=["date","className"],Xz=function(e,t,r,i,o){return e.filter(function(l){return sc(l,t,r,i,o)})},ip=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(l,u){var d=t.props,p=d.events,m=d.components,v=d.selectable,y=d.getNow,E=d.selected,I=d.date,T=d.localizer,b=d.longPressThreshold,C=d.accessors,D=d.getters,M=d.showAllEvents,F=t.state,W=F.needLimitMeasure,z=F.rowLimit,k=Xz(wh(p),l[0],l[l.length-1],C,T),A=Wz(k,C,T);return G.createElement(oc,{key:u,ref:u===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:y,date:I,range:l,events:A,maxRows:M?1/0:z,selected:E,selectable:v,components:m,accessors:C,getters:D,localizer:T,renderHeader:t.readerDateHeading,renderForMeasure:W,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:b,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:M})},t.readerDateHeading=function(l){var u=l.date,d=l.className,p=hi(l,Qz),m=t.props,v=m.date,y=m.getDrilldownView,E=m.localizer,I=E.neq(v,u,"month"),T=E.isSameDate(u,v),b=y(u),C=E.format(u,"dateFormat"),D=t.props.components.dateHeader||Yz;return G.createElement("div",Object.assign({},p,{className:yt(d,I&&"rbc-off-range",T&&"rbc-current"),role:"cell"}),G.createElement(D,{label:C,date:u,drilldownView:b,isOffRange:I,onDrillDown:function(F){return t.handleHeadingClick(u,b,F)}}))},t.handleSelectSlot=function(l,u){t._pendingSelection=t._pendingSelection.concat(l),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(u)})},t.handleHeadingClick=function(l,u,d){d.preventDefault(),t.clearSelection(),ot(t.props.onDrillDown,[l,u])},t.handleSelectEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t.handleKeyPressEvent=function(){t.clearSelection();for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.handleShowMore=function(l,u,d,p,m){var v=t.props,y=v.popup,E=v.onDrillDown,I=v.onShowMore,T=v.getDrilldownView,b=v.doShowMoreDrillDown;if(t.clearSelection(),y){var C=E2(d,t.containerRef.current);t.setState({overlay:{date:u,events:l,position:C,target:m}})}else b&&ot(E,[u,T(u)||un.DAY]);ot(I,[l,u,p])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=q.createRef(),t.slotRowRef=q.createRef(),t._bgRows=[],t._pendingSelection=[],t}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||T2(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.className,u=o.visibleDays(i,o),d=P5(u,7);return this._weekCount=d.length,G.createElement("div",{className:yt("rbc-month-view",l),role:"table","aria-label":"Month View",ref:this.containerRef},G.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,o=i.localizer,l=i.components,u=r[0],d=r[r.length-1],p=l.header||gE;return o.range(u,d,"day").map(function(m,v){return G.createElement("div",{key:"header_"+v,className:"rbc-header"},G.createElement(p,{date:m,localizer:o,label:o.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,o=this,l=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,p=u.localizer,m=u.components,v=u.getters,y=u.selected,E=u.popupOffset,I=u.handleDragStart,T=function(){return o.setState({overlay:null})};return G.createElement(mE,{overlay:l,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:I,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(u,d){return+u-+d});var o=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),ot(this.props.onSelectSlot,{slots:i,start:o,end:l,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var o=r.date,l=r.localizer;return{date:o,needLimitMeasure:l.neq(o,i.date,"month")}}}])})(G.Component);ip.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};ip.navigate=function(n,e,t){var r=t.localizer;switch(e){case On.PREVIOUS:return r.add(n,-1,"month");case On.NEXT:return r.add(n,1,"month");default:return n}};ip.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var UA=function(e){var t=e.min,r=e.max,i=e.step,o=e.slots,l=e.localizer;return"".concat(+l.startOf(t,"minutes"))+"".concat(+l.startOf(r,"minutes"))+"".concat(i,"-").concat(o)};function vE(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,o=n.localizer,l=UA({step:r,localizer:o}),u=1+o.getTotalMin(e,t),d=o.getMinutesFromMidnight(e),p=Math.ceil((u-1)/(r*i)),m=p*i,v=new Array(p),y=new Array(m),E=0;E<p;E++){v[E]=new Array(i);for(var I=0;I<i;I++){var T=E*i+I,b=T*r;y[T]=v[E][I]=o.getSlotDate(e,d,b)}}var C=y.length*r;y.push(o.getSlotDate(e,d,C));function D(M){var F=o.diff(e,M,"minutes")+o.getDstOffset(e,M);return Math.min(F,u)}return{groups:v,update:function(F){return UA(F)!==l?vE(F):this},dateIsInGroup:function(F,W){var z=v[W+1];return o.inRange(F,v[W][0],z?z[0]:t,"minutes")},nextSlot:function(F){var W=y[Math.min(y.findIndex(function(z){return z===F||o.eq(z,F)})+1,y.length-1)];return o.eq(W,F)&&(W=o.add(F,r,"minutes")),W},closestSlotToPosition:function(F){var W=Math.min(y.length-1,Math.max(0,Math.floor(F*m)));return y[W]},closestSlotFromPoint:function(F,W){var z=Math.abs(W.top-W.bottom);return this.closestSlotToPosition((F.y-W.top)/z)},closestSlotFromDate:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(F,e,"minutes"))return y[0];if(o.gt(F,t,"minutes"))return y[y.length-1];var z=o.diff(e,F,"minutes");return y[(z-z%r)/r+W]},startsBeforeDay:function(F){return o.lt(F,e,"day")},startsAfterDay:function(F){return o.gt(F,t,"day")},startsBefore:function(F){return o.lt(o.merge(e,F),e,"minutes")},startsAfter:function(F){return o.gt(o.merge(t,F),t,"minutes")},getRange:function(F,W,z,k){z||(F=o.min(t,o.max(e,F))),k||(W=o.min(t,o.max(e,W)));var A=D(F),P=D(W),L=P>r*m&&!o.eq(t,W)?(A-r)/(r*m)*100:A/(r*m)*100;return{top:L,height:P/(r*m)*100-L,start:D(F),startDate:F,end:D(W),endDate:W}},getCurrentTimePosition:function(F){var W=D(F),z=W/(r*m)*100;return z}}}var Jz=(function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;Vt(this,n);var o=i.getRange(r.start(e),r.end(e)),l=o.start,u=o.startDate,d=o.end,p=o.endDate,m=o.top,v=o.height;this.start=l,this.end=d,this.startMs=+u,this.endMs=+p,this.top=m,this.height=v,this.data=e}return Ft(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,o){return Math.max(i,o.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,o=i.indexOf(this);return o===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,o=t._width,l=r.indexOf(this)+1;return i+l*o}}])})();function Zz(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function e8(n){for(var e=o$(n,["startMs",function(u){return-u.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var o=e[i];if(!(r.endMs>o.startMs)){if(i>0){var l=e.splice(i,1)[0];t.push(l)}break}}}return t}function dD(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=e.map(function(m){return new Jz(m,{slotMetrics:r,accessors:i})}),l=e8(o),u=[],d=function(){var v=l[p],y=u.find(function(T){return T.end>v.start||Math.abs(v.start-T.start)<t});if(!y)return v.rows=[],u.push(v),1;v.container=y;for(var E=null,I=y.rows.length-1;!E&&I>=0;I--)Zz(y.rows[I],v,t)&&(E=y.rows[I]);E?(E.leaves.push(v),v.row=E):(v.leaves=[],y.rows.push(v))},p=0;p<l.length;p++)d();return l.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function hD(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=hD(n.friends[r],e,t);e=e>i?e:i}return e}function t8(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,o=dD({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});o.sort(function(Te,_e){return Te=Te.style,_e=_e.style,Te.top!==_e.top?Te.top>_e.top?1:-1:Te.height!==_e.height?Te.top+Te.height<_e.top+_e.height?1:-1:0});for(var l=0;l<o.length;++l)o[l].friends=[],delete o[l].style.left,delete o[l].style.left,delete o[l].idx,delete o[l].size;for(var u=0;u<o.length-1;++u)for(var d=o[u],p=d.style.top,m=d.style.top+d.style.height,v=u+1;v<o.length;++v){var y=o[v],E=y.style.top,I=y.style.top+y.style.height;(E>=p&&I<=m||I>p&&I<=m||E>=p&&E<m)&&(d.friends.push(y),y.friends.push(d))}for(var T=0;T<o.length;++T){for(var b=o[T],C=[],D=0;D<100;++D)C.push(1);for(var M=0;M<b.friends.length;++M)b.friends[M].idx!==void 0&&(C[b.friends[M].idx]=0);b.idx=C.indexOf(1)}for(var F=0;F<o.length;++F){var W=0;if(!o[F].size){var z=[],k=hD(o[F],0,z);W=100/(k+1),o[F].size=W;for(var A=0;A<z.length;++A)z[A].size=W}}for(var P=0;P<o.length;++P){var L=o[P];L.style.left=L.idx*L.size;for(var V=0,U=0;U<L.friends.length;++U){var O=L.friends[U].idx;V=V>O?V:O}V<=L.idx&&(L.size=100-L.idx*L.size);var ce=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(ce,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(ce,"px)")}return o}var qA={overlap:dD,"no-overlap":t8};function n8(n){return!!(n&&n.constructor&&n.call&&n.apply)}function r8(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in qA&&(t=qA[e]),n8(t)?t.apply(this,arguments):[]}var fD=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,o=r.resource,l=r.group,u=r.getters,d=r.components,p=d===void 0?{}:d,m=p.timeSlotWrapper,v=m===void 0?ti:m,y=u?u.slotGroupProp(l):{};return G.createElement("div",Object.assign({className:"rbc-timeslot-group"},y),l.map(function(E,I){var T=u?u.slotProp(E,o):{};return G.createElement(v,{key:I,value:E,resource:o},G.createElement("div",Object.assign({},T,{className:yt("rbc-time-slot",T.className)}),i&&i(E,I)))}))}}])})(q.Component);function oh(n){return typeof n=="string"?n:n+"%"}function i8(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,o=n.rtl,l=n.selected,u=n.label,d=n.continuesPrior,p=n.continuesAfter,m=n.getters,v=n.onClick,y=n.onDoubleClick,E=n.isBackgroundEvent,I=n.onKeyPress,T=n.components,b=T.event,C=T.eventWrapper,D=i.title(r),M=i.tooltip(r),F=i.end(r),W=i.start(r),z=m.eventProp(r,W,F,l),k=[G.createElement("div",{key:"1",className:"rbc-event-label"},u),G.createElement("div",{key:"2",className:"rbc-event-content"},b?G.createElement(b,{event:r,title:D}):D)],A=e.height,P=e.top,L=e.width,V=e.xOffset,U=Je(Je({},z.style),{},To({top:oh(P),height:oh(A),width:oh(L)},o?"right":"left",oh(V)));return G.createElement(C,Object.assign({type:"time"},n),G.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:y,style:U,onKeyDown:I,title:M?(typeof u=="string"?u+": ":"")+M:void 0,className:yt(E?"rbc-background-event":"rbc-event",t,z.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},k))}var s8=function(e){var t=e.children,r=e.className,i=e.style,o=e.innerRef;return G.createElement("div",{className:r,style:i,ref:o},t)},o8=G.forwardRef(function(n,e){return G.createElement(s8,Object.assign({},n,{innerRef:e}))}),a8=["dayProp"],l8=["eventContainerWrapper","timeIndicatorWrapper"],pD=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(l){var u=l.events,d=l.isBackgroundEvent,p=t.props,m=p.rtl,v=p.selected,y=p.accessors,E=p.localizer,I=p.getters,T=p.components,b=p.step,C=p.timeslots,D=p.dayLayoutAlgorithm,M=p.resizable,F=t,W=F.slotMetrics,z=E.messages,k=r8({events:u,accessors:y,slotMetrics:W,minimumStartDifference:Math.ceil(b*C/2),dayLayoutAlgorithm:D});return k.map(function(A,P){var L,V=A.event,U=A.style,O=y.end(V),ce=y.start(V),Te=(L=y.eventId(V))!==null&&L!==void 0?L:"evt_"+P,_e="eventTimeRangeFormat",ye,ne=W.startsBeforeDay(ce),de=W.startsAfterDay(O);ne?_e="eventTimeRangeEndFormat":de&&(_e="eventTimeRangeStartFormat"),ne&&de?ye=z.allDay:ye=E.format({start:ce,end:O},_e);var le=ne||W.startsBefore(ce),H=de||W.startsAfter(O);return G.createElement(i8,{style:U,event:V,label:ye,key:Te,getters:I,rtl:m,components:T,continuesPrior:le,continuesAfter:H,accessors:y,resource:t.props.resource,selected:rp(V,v),onClick:function(he){return t._select(Je(Je(Je({},V),t.props.resource&&{sourceResource:t.props.resource}),d&&{isBackgroundEvent:!0}),he)},onDoubleClick:function(he){return t._doubleClick(V,he)},isBackgroundEvent:d,onKeyPress:function(he){return t._keyPress(V,he)},resizable:M})})},t._selectable=function(){var l=t.containerRef.current,u=t.props,d=u.longPressThreshold,p=u.localizer,m=t._selector=new oD(function(){return l},{longPressThreshold:d}),v=function(T){var b=t.props.onSelecting,C=t.state||{},D=y(T),M=D.startDate,F=D.endDate;b&&(p.eq(C.startDate,M,"minutes")&&p.eq(C.endDate,F,"minutes")||b({start:M,end:F,resourceId:t.props.resource})===!1)||(t.state.start!==D.start||t.state.end!==D.end||t.state.selecting!==D.selecting)&&t.setState(D)},y=function(T){var b=t.slotMetrics.closestSlotFromPoint(T,zo(l));t.state.selecting||(t._initialSlot=b);var C=t._initialSlot;p.lte(C,b)?b=t.slotMetrics.nextSlot(b):p.gt(C,b)&&(C=t.slotMetrics.nextSlot(C));var D=t.slotMetrics.getRange(p.min(C,b),p.max(C,b));return Je(Je({},D),{},{selecting:!0,top:"".concat(D.top,"%"),height:"".concat(D.height,"%")})},E=function(T,b){if(!lf(t.containerRef.current,T)){var C=y(T),D=C.startDate,M=C.endDate;t._selectSlot({startDate:D,endDate:M,action:b,box:T})}t.setState({selecting:!1})};m.on("selecting",v),m.on("selectStart",v),m.on("beforeSelect",function(I){if(t.props.selectable==="ignoreEvents")return!lf(t.containerRef.current,I)}),m.on("click",function(I){return E(I,"click")}),m.on("doubleClick",function(I){return E(I,"doubleClick")}),m.on("select",function(I){t.state.selecting&&(t._selectSlot(Je(Je({},t.state),{},{action:"select",bounds:I})),t.setState({selecting:!1}))}),m.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(l){for(var u=l.startDate,d=l.endDate,p=l.action,m=l.bounds,v=l.box,y=u,E=[];t.props.localizer.lte(y,d);)E.push(y),y=new Date(+y+t.props.step*60*1e3);ot(t.props.onSelectSlot,{slots:E,start:u,end:d,resourceId:t.props.resource,action:p,bounds:m,box:v})},t._select=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t._doubleClick=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t._keyPress=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.slotMetrics=vE(t.props),t.containerRef=q.createRef(),t}return hn(e,n),Ft(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var o=this.props,l=o.getNow,u=o.isNow,d=o.localizer,p=o.date,m=o.min,v=o.max,y=d.neq(r.getNow(),l(),"minutes");if(r.isNow!==u||y){if(this.clearTimeIndicatorInterval(),u){var E=!y&&d.eq(r.date,p,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else u&&(d.neq(r.min,m,"minutes")||d.neq(r.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,o=r.max,l=r.getNow,u=l();if(u>=i&&u<=o){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,o=r.max,l=r.rtl,u=r.isNow,d=r.resource,p=r.accessors,m=r.localizer,v=r.getters,y=v.dayProp,E=hi(v,a8),I=r.components,T=I.eventContainerWrapper,b=I.timeIndicatorWrapper,C=hi(I,l8);this.slotMetrics=this.slotMetrics.update(this.props);var D=this.slotMetrics,M=this.state,F=M.selecting,W=M.top,z=M.height,k=M.startDate,A=M.endDate,P={start:k,end:A},L=y(o,d),V=L.className,U=L.style,O={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},ce=C.dayColumnWrapper||o8;return G.createElement(ce,{ref:this.containerRef,date:i,style:U,className:yt(V,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:D,resource:d},D.groups.map(function(Te,_e){return G.createElement(fD,{key:_e,group:Te,resource:d,getters:E,components:C})}),G.createElement(T,{localizer:m,resource:d,accessors:p,getters:E,components:C,slotMetrics:D},G.createElement("div",{className:yt("rbc-events-container",l&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&G.createElement("div",{className:"rbc-slot-selection",style:{top:W,height:z}},G.createElement("span",null,m.format(P,"selectRangeFormat"))),u&&this.intervalTriggered&&G.createElement(b,O,G.createElement("div",O)))}}])})(G.Component);pD.defaultProps={dragThroughEvents:!0,timeslots:2};var mD=function(e){var t=e.label;return G.createElement(G.Fragment,null,t)},u8=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleHeaderClick=function(l,u,d){d.preventDefault(),ot(t.props.onDrillDown,[l,u])},t.renderRow=function(l){var u=t.props,d=u.events,p=u.rtl,m=u.selectable,v=u.getNow,y=u.range,E=u.getters,I=u.localizer,T=u.accessors,b=u.components,C=u.resizable,D=T.resourceId(l),M=l?d.filter(function(F){return T.resource(F)===D}):d;return G.createElement(oc,{isAllDay:!0,rtl:p,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:y,events:M,resourceId:D,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:b,accessors:T,getters:E,localizer:I,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:C})},t}return hn(e,n),Ft(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,l=o.localizer,u=o.getDrilldownView,d=o.getNow,p=o.getters.dayProp,m=o.components.header,v=m===void 0?gE:m,y=d();return r.map(function(E,I){var T=u(E),b=l.format(E,"dayFormat"),C=p(E),D=C.className,M=C.style,F=G.createElement(v,{date:E,label:b,localizer:l});return G.createElement("div",{key:I,style:M,className:yt("rbc-header",D,l.isSameDate(E,y)&&"rbc-today")},T?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(E,T,z)}},F):G.createElement("span",null,F))})}},{key:"render",value:function(){var r=this,i=this.props,o=i.width,l=i.rtl,u=i.resources,d=i.range,p=i.events,m=i.getNow,v=i.accessors,y=i.selectable,E=i.components,I=i.getters,T=i.scrollRef,b=i.localizer,C=i.isOverflowing,D=i.components,M=D.timeGutterHeader,F=D.resourceHeader,W=F===void 0?mD:F,z=i.resizable,k={};C&&(k[l?"marginLeft":"marginRight"]="".concat(Q0()-1,"px"));var A=u.groupEvents(p);return G.createElement("div",{style:k,ref:T,className:yt("rbc-time-header",C&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},M&&G.createElement(M,null)),u.map(function(P,L){var V=Lo(P,2),U=V[0],O=V[1];return G.createElement("div",{className:"rbc-time-header-content",key:U||L},O&&G.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},G.createElement("div",{className:"rbc-header"},G.createElement(W,{index:L,label:v.resourceTitle(O),resource:O}))),G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),G.createElement(oc,{isAllDay:!0,rtl:l,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:A.get(U)||[],resourceId:O&&U,className:"rbc-allday-cell",selectable:y,selected:r.props.selected,components:E,accessors:v,getters:I,localizer:b,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])})(G.Component),c8=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.handleHeaderClick=function(l,u,d){d.preventDefault(),ot(t.props.onDrillDown,[l,u])},t}return hn(e,n),Ft(e,[{key:"renderHeaderCells",value:function(r){var i=this,o=this.props,l=o.localizer,u=o.getDrilldownView,d=o.getNow,p=o.getters.dayProp,m=o.components,v=m.header,y=v===void 0?gE:v,E=m.resourceHeader,I=E===void 0?mD:E,T=o.resources,b=o.accessors,C=o.events,D=o.rtl,M=o.selectable,F=o.components,W=o.getters,z=o.resizable,k=d(),A=T.groupEvents(C);return r.map(function(P,L){var V=u(P),U=l.format(P,"dayFormat"),O=p(P),ce=O.className,Te=O.style,_e=G.createElement(y,{date:P,label:U,localizer:l});return G.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},G.createElement("div",{style:Te,className:yt("rbc-header",ce,l.isSameDate(P,k)&&"rbc-today")},V?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ne){return i.handleHeaderClick(P,V,ne)}},_e):G.createElement("span",null,_e))),G.createElement("div",{className:"rbc-row"},T.map(function(ye,ne){var de=Lo(ye,2),le=de[0],H=de[1];return G.createElement("div",{key:"resource_".concat(le,"_").concat(ne),className:yt("rbc-header",ce,l.isSameDate(P,k)&&"rbc-today")},G.createElement(I,{index:ne,label:b.resourceTitle(H),resource:H}))})),G.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},T.map(function(ye,ne){var de=Lo(ye,2),le=de[0],H=de[1],Z=(A.get(le)||[]).filter(function(he){return l.isSameDate(he.start,P)||l.isSameDate(he.end,P)});return G.createElement(oc,{key:"resource_".concat(le,"_").concat(ne),isAllDay:!0,rtl:D,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[P],events:Z,resourceId:H&&le,className:"rbc-allday-cell",selectable:M,selected:i.props.selected,components:F,accessors:b,getters:W,localizer:l,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,o=r.rtl,l=r.range,u=r.scrollRef,d=r.isOverflowing,p=r.components.timeGutterHeader,m={};return d&&(m[o?"marginLeft":"marginRight"]="".concat(Q0()-1,"px")),G.createElement("div",{style:m,ref:u,className:yt("rbc-time-header",d&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},p&&G.createElement(p,null)),this.renderHeaderCells(l))}}])})(G.Component);function d8(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var h8=function(e){var t=e.min,r=e.max,i=e.timeslots,o=e.step,l=e.localizer,u=e.getNow,d=e.resource,p=e.components,m=e.getters,v=e.gutterRef,y=p.timeGutterWrapper,E=q.useMemo(function(){return d8({min:t,max:r,localizer:l})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),l]),I=E.start,T=E.end,b=q.useState(vE({min:I,max:T,timeslots:i,step:o,localizer:l})),C=Lo(b,2),D=C[0],M=C[1];q.useEffect(function(){D&&M(D.update({min:I,max:T,timeslots:i,step:o,localizer:l}))},[I==null?void 0:I.toISOString(),T==null?void 0:T.toISOString(),i,o]);var F=q.useCallback(function(W,z){if(z)return null;var k=D.dateIsInGroup(u(),z);return G.createElement("span",{className:yt("rbc-label",k&&"rbc-now")},l.format(W,"timeGutterFormat"))},[D,l,u]);return G.createElement(y,{slotMetrics:D},G.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},D.groups.map(function(W,z){return G.createElement(fD,{key:z,group:W,resource:d,components:p,renderSlot:F,getters:m})})))},f8=G.forwardRef(function(n,e){return G.createElement(h8,Object.assign({gutterRef:e},n))}),O_={};function p8(n,e){return{map:function(r){return n?n.map(function(i,o){return r([e.resourceId(i),i],o)}):[r([O_,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(o){var l=e.resource(o)||O_;if(Array.isArray(l))l.forEach(function(d){var p=i.get(d)||[];p.push(o),i.set(d,p)});else{var u=i.get(l)||[];u.push(o),i.set(l,u)}}),i):(i.set(O_,r),i)}}}var bl=(function(n){function e(t){var r;return Vt(this,e),r=dn(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){eI(r.rafHandle),r.rafHandle=T2(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ot(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(i,o,l,u,d){var p=r.props,m=p.popup,v=p.onDrillDown,y=p.onShowMore,E=p.getDrilldownView,I=p.doShowMoreDrillDown;if(r.clearSelection(),m){var T=E2(l,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:Je(Je({},T),{},{width:"200px"}),target:d}})}else I&&ot(v,[o,E(o)||un.DAY]);ot(y,[i,o,u])},r.handleSelectAllDaySlot=function(i,o){var l=r.props.onSelectSlot,u=new Date(i[0]),d=new Date(i[i.length-1]);d.setDate(i[i.length-1].getDate()+1),ot(l,{slots:i,start:u,end:d,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var o=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=$2(function(i,o){return p8(i,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=G.createRef(),r.contentRef=G.createRef(),r.containerRef=G.createRef(),r._scrollRatio=null,r.gutterRef=q.createRef(),r}return hn(e,n),Ft(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),eI(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,o,l,u,d,p,m,v,y){var E=this.props,I=E.min,T=E.max,b=(l.get(i)||[]).filter(function(D){return d.inRange(r,p.start(D),p.end(D),"day")}),C=(u.get(i)||[]).filter(function(D){return d.inRange(r,p.start(D),p.end(D),"day")});return G.createElement(pD,Object.assign({},this.props,{localizer:d,min:d.merge(r,I),max:d.merge(r,T),resource:o&&i,components:m,isNow:d.isSameDate(r,y),key:"".concat(i,"-").concat(r),date:r,events:b,backgroundEvents:C,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(r,i,o,l,u,d,p,m,v){var y=this;return i.map(function(E){var I=Lo(E,2),T=I[0],b=I[1];return r.map(function(C){return y.renderDayColumn(C,T,b,o,l,u,d,m,v,p)})})}},{key:"renderRangeFirst",value:function(r,i,o,l,u,d,p,m,v){var y=this;return r.map(function(E){return G.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},i.map(function(I){var T=Lo(I,2),b=T[0],C=T[1];return G.createElement("div",{style:{flex:1},key:d.resourceId(C)},y.renderDayColumn(E,b,C,o,l,u,d,m,v,p))}))})}},{key:"renderEvents",value:function(r,i,o,l){var u=this.props,d=u.accessors,p=u.localizer,m=u.resourceGroupingLayout,v=u.components,y=u.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,d),I=E.groupEvents(i),T=E.groupEvents(o);return m?this.renderRangeFirst(r,E,I,T,p,d,l,v,y):this.renderResourcesFirst(r,E,I,T,p,d,l,v,y)}},{key:"render",value:function(){var r,i=this.props,o=i.events,l=i.backgroundEvents,u=i.range,d=i.width,p=i.rtl,m=i.selected,v=i.getNow,y=i.resources,E=i.components,I=i.accessors,T=i.getters,b=i.localizer,C=i.min,D=i.max,M=i.showMultiDayTimes,F=i.longPressThreshold,W=i.resizable,z=i.resourceGroupingLayout;d=d||this.state.gutterWidth;var k=u[0],A=u[u.length-1];this.slots=u.length;var P=[],L=[],V=[];o.forEach(function(O){if(sc(O,k,A,I,b)){var ce=I.start(O),Te=I.end(O);I.allDay(O)||b.startAndEndAreDateOnly(ce,Te)||!M&&!b.isSameDate(ce,Te)?P.push(O):L.push(O)}}),l.forEach(function(O){sc(O,k,A,I,b)&&V.push(O)}),P.sort(function(O,ce){return Rw(O,ce,I,b)});var U={range:u,events:P,width:d,rtl:p,getNow:v,localizer:b,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(y,I),selectable:this.props.selectable,accessors:I,getters:T,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:W};return G.createElement("div",{className:yt("rbc-time-view",y&&"rbc-time-view-resources"),ref:this.containerRef},y&&y.length>1&&z?G.createElement(c8,U):G.createElement(u8,U),this.props.popup&&this.renderOverlay(),G.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},G.createElement(f8,{date:k,ref:this.gutterRef,localizer:b,min:b.merge(k,C),max:b.merge(k,D),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:T}),this.renderEvents(u,L,V,v())))}},{key:"renderOverlay",value:function(){var r,i,o=this,l=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,p=u.localizer,m=u.components,v=u.getters,y=u.selected,E=u.popupOffset,I=u.handleDragStart,T=function(){return o.setState({overlay:null})};return G.createElement(mE,{overlay:l,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:I,show:!!l.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,o=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Sw(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,o=r.max,l=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(l,i),l,"milliseconds"),p=u.diff(i,o,"milliseconds");this._scrollRatio=d/p}}])})(q.Component);bl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var m8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sp=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,m8),T=e.range(i,{localizer:o});return G.createElement(bl,Object.assign({},I,{range:T,eventOffset:10,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);sp.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};sp.navigate=function(n,e,t){var r=t.localizer;switch(e){case On.PREVIOUS:return r.add(n,-1,"day");case On.NEXT:return r.add(n,1,"day");default:return n}};sp.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var g8=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Fs=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,g8),T=e.range(i,this.props);return G.createElement(bl,Object.assign({},I,{range:T,eventOffset:15,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);Fs.defaultProps=bl.defaultProps;Fs.navigate=function(n,e,t){var r=t.localizer;switch(e){case On.PREVIOUS:return r.add(n,-1,"week");case On.NEXT:return r.add(n,1,"week");default:return n}};Fs.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),o=t.endOf(n,"week",r);return t.range(i,o)};Fs.title=function(n,e){var t=e.localizer,r=Fs.range(n,{localizer:t}),i=K2(r),o=i[0],l=i.slice(1);return t.format({start:o,end:l.pop()},"dayRangeHeaderFormat")};var v8=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function yE(n,e){return Fs.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var Nc=(function(n){function e(){return Vt(this,e),dn(this,e,arguments)}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.date,o=r.localizer,l=r.min,u=l===void 0?o.startOf(new Date,"day"):l,d=r.max,p=d===void 0?o.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?o.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,I=hi(r,v8),T=yE(i,this.props);return G.createElement(bl,Object.assign({},I,{range:T,eventOffset:15,localizer:o,min:u,max:p,scrollToTime:v,enableAutoScroll:E}))}}])})(G.Component);Nc.defaultProps=bl.defaultProps;Nc.range=yE;Nc.navigate=Fs.navigate;Nc.title=function(n,e){var t=e.localizer,r=yE(n,{localizer:t}),i=K2(r),o=i[0],l=i.slice(1);return t.format({start:o,end:l.pop()},"dayRangeHeaderFormat")};var op=30;function ap(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,o=n.getters,l=n.length,u=l===void 0?op:l,d=n.localizer,p=n.onDoubleClickEvent,m=n.onSelectEvent,v=n.selected,y=q.useRef(null),E=q.useRef(null),I=q.useRef(null),T=q.useRef(null),b=q.useRef(null);q.useEffect(function(){M()});var C=function(A,P,L){var V=t.event,U=t.date;return P=P.filter(function(O){return sc(O,d.startOf(A,"day"),d.endOf(A,"day"),e,d)}),P.map(function(O,ce){var Te=e.title(O),_e=e.end(O),ye=e.start(O),ne=o.eventProp(O,ye,_e,rp(O,v)),de=ce===0&&d.format(A,"agendaDateFormat"),le=ce===0?G.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},U?G.createElement(U,{day:A,label:de}):de):!1;return G.createElement("tr",{key:L+"_"+ce,className:ne.className,style:ne.style},le,G.createElement("td",{className:"rbc-agenda-time-cell"},D(A,O)),G.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return m&&m(O,Z)},onDoubleClick:function(Z){return p&&p(O,Z)}},V?G.createElement(V,{event:O,title:Te}):Te))},[])},D=function(A,P){var L="",V=t.time,U=d.messages.allDay,O=e.end(P),ce=e.start(P);return e.allDay(P)||(d.eq(ce,O)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(ce,O)?U=d.format({start:ce,end:O},"agendaTimeRangeFormat"):d.isSameDate(A,ce)?U=d.format(ce,"agendaTimeFormat"):d.isSameDate(A,O)&&(U=d.format(O,"agendaTimeFormat"))),d.gt(A,ce,"day")&&(L="rbc-continues-prior"),d.lt(A,O,"day")&&(L+=" rbc-continues-after"),G.createElement("span",{className:L.trim()},V?G.createElement(V,{event:P,day:A,label:U}):U)},M=function(){if(b.current){var A=y.current,P=b.current.firstChild;if(P){var L=T.current.scrollHeight>T.current.clientHeight,V=[],U=V;V=[Sw(P.children[0]),Sw(P.children[1])],(U[0]!==V[0]||U[1]!==V[1])&&(E.current.style.width=V[0]+"px",I.current.style.width=V[1]+"px"),L?(v9(A,"rbc-header-overflowing"),A.style.marginRight=Q0()+"px"):y9(A,"rbc-header-overflowing")}}},F=d.messages,W=d.add(r,u,"day"),z=d.range(r,W,"day");return i=i.filter(function(k){return sc(k,d.startOf(r,"day"),d.endOf(W,"day"),e,d)}),i.sort(function(k,A){return+e.start(k)-+e.start(A)}),G.createElement("div",{className:"rbc-agenda-view"},i.length!==0?G.createElement(G.Fragment,null,G.createElement("table",{ref:y,className:"rbc-agenda-table"},G.createElement("thead",null,G.createElement("tr",null,G.createElement("th",{className:"rbc-header",ref:E},F.date),G.createElement("th",{className:"rbc-header",ref:I},F.time),G.createElement("th",{className:"rbc-header"},F.event)))),G.createElement("div",{className:"rbc-agenda-content",ref:T},G.createElement("table",{className:"rbc-agenda-table"},G.createElement("tbody",{ref:b},z.map(function(k,A){return C(k,i,A)}))))):G.createElement("span",{className:"rbc-agenda-empty"},F.noEventsInRange))}ap.range=function(n,e){var t=e.length,r=t===void 0?op:t,i=e.localizer,o=i.add(n,r,"day");return{start:n,end:o}};ap.navigate=function(n,e,t){var r=t.length,i=r===void 0?op:r,o=t.localizer;switch(e){case On.PREVIOUS:return o.add(n,-i,"day");case On.NEXT:return o.add(n,i,"day");default:return n}};ap.title=function(n,e){var t=e.length,r=t===void 0?op:t,i=e.localizer,o=i.add(n,r,"day");return i.format({start:n,end:o},"agendaHeaderFormat")};var Ph=To(To(To(To(To({},un.MONTH,ip),un.WEEK,Fs),un.WORK_WEEK,Nc),un.DAY,sp),un.AGENDA,ap),y8=["action","date","today"];function _8(n,e){var t=e.action,r=e.date,i=e.today,o=hi(e,y8);switch(n=typeof n=="string"?Ph[n]:n,t){case On.TODAY:r=i||new Date;break;case On.DATE:break;default:Gu(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,o)}return r}function w8(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&qi(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var Ci=function(e){return function(t){return w8(t,e)}},E8=["view","date","getNow","onNavigate"],T8=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function gD(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=Lo(r[t],2),o=i[0],l=i[1];l&&e.push(o)}return e}function S8(n,e){var t=e.views,r=gD(t);return r.indexOf(n)!==-1}var vD=(function(n){function e(){var t;Vt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=dn(this,e,[].concat(i)),t.getViews=function(){var l=t.props.views;return Array.isArray(l)?W$(l,function(u,d){return u[d]=Ph[d]},{}):qi(l)==="object"?p$(l,function(u,d){return u===!0?Ph[d]:u}):Ph},t.getView=function(){var l=t.getViews();return l[t.props.view]},t.getDrilldownView=function(l){var u=t.props,d=u.view,p=u.drilldownView,m=u.getDrilldownView;return m?m(l,d,Object.keys(t.getViews())):p},t.handleRangeChange=function(l,u,d){var p=t.props,m=p.onRangeChange,v=p.localizer;m&&u.range&&m(u.range(l,{localizer:v}),d)},t.handleNavigate=function(l,u){var d=t.props,p=d.view,m=d.date,v=d.getNow,y=d.onNavigate,E=hi(d,E8),I=t.getView(),T=v();m=_8(I,Je(Je({},E),{},{action:l,date:u||m||T,today:T})),y(m,p,l),t.handleRangeChange(m,I)},t.handleViewChange=function(l){l!==t.props.view&&S8(l,t.props)&&t.props.onView(l);var u=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),u[l],l)},t.handleSelectEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onSelectEvent,u)},t.handleDoubleClickEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onDoubleClickEvent,u)},t.handleKeyPressEvent=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];ot(t.props.onKeyPressEvent,u)},t.handleSelectSlot=function(l){ot(t.props.onSelectSlot,l)},t.handleDrillDown=function(l,u){var d=t.props.onDrillDown;if(d){d(l,u,t.drilldownView);return}u&&t.handleViewChange(u),t.handleNavigate(On.DATE,l)},t.state={context:e.getContext(t.props)},t}return hn(e,n),Ft(e,[{key:"render",value:function(){var r=this.props,i=r.view,o=r.toolbar,l=r.events,u=r.backgroundEvents,d=r.resourceGroupingLayout,p=r.style,m=r.className,v=r.elementProps,y=r.date,E=r.getNow,I=r.length,T=r.showMultiDayTimes,b=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var D=hi(r,T8);y=y||E();var M=this.getView(),F=this.state.context,W=F.accessors,z=F.components,k=F.getters,A=F.localizer,P=F.viewNames,L=z.toolbar||Rz,V=M.title(y,{localizer:A,length:I});return G.createElement("div",Object.assign({},v,{className:yt(m,"rbc-calendar",D.rtl&&"rbc-rtl"),style:p}),o&&G.createElement(L,{date:y,view:i,views:P,label:V,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:A}),G.createElement(M,Object.assign({},D,{events:l,backgroundEvents:u,date:y,getNow:E,length:I,localizer:A,getters:k,components:z,accessors:W,showMultiDayTimes:T,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:C,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,o=r.endAccessor,l=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,p=r.resourceAccessor,m=r.resourceIdAccessor,v=r.resourceTitleAccessor,y=r.eventIdAccessor,E=r.eventPropGetter,I=r.backgroundEventPropGetter,T=r.slotPropGetter,b=r.slotGroupPropGetter,C=r.dayPropGetter,D=r.view,M=r.views,F=r.localizer,W=r.culture,z=r.messages,k=z===void 0?{}:z,A=r.components,P=A===void 0?{}:A,L=r.formats,V=L===void 0?{}:L,U=gD(M),O=Az(k);return{viewNames:U,localizer:Iz(F,W,V,O),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return I&&I.apply(void 0,arguments)||{}},slotProp:function(){return T&&T.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:d$(P[D]||{},$$(P,U),{eventWrapper:ti,backgroundEventWrapper:ti,eventContainerWrapper:ti,dateCellWrapper:ti,weekWrapper:ti,timeSlotWrapper:ti,timeGutterWrapper:ti,timeIndicatorWrapper:ti}),accessors:{start:Ci(i),end:Ci(o),allDay:Ci(l),tooltip:Ci(u),title:Ci(d),resource:Ci(p),resourceId:Ci(m),resourceTitle:Ci(v),eventId:Ci(y)}}}}])})(G.Component);vD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:un.MONTH,views:[un.MONTH,un.WEEK,un.DAY,un.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:un.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var b8=s2(vD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),I8=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"P",t),"  ").concat(r.format(o,"P",t))},M_=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"p",t),"  ").concat(r.format(o,"p",t))},R8=function(e,t,r){var i=e.start;return"".concat(r.format(i,"h:mma",t),"  ")},x8=function(e,t,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",t))},A8=function(e,t,r){var i=e.start,o=e.end;return"".concat(r.format(i,"MMMM dd",t),"  ").concat(r.format(o,_l(i,o,"month")?"dd":"MMMM dd",t))},C8={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:M_,eventTimeRangeFormat:M_,eventTimeRangeStartFormat:R8,eventTimeRangeEndFormat:x8,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:A8,agendaHeaderFormat:I8,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:M_},P8=function(e){var t=e.startOfWeek,r=e.getDay,i=e.format,o=e.locales;return new bz({formats:C8,firstOfWeek:function(u){return r(t(new Date,{locale:o[u]}))},format:function(u,d,p){return i(new Date(u),d,{locale:o[p]})}})};const yD=6048e5,k8=864e5,D8=6e4,$A=Symbol.for("constructDateFrom");function pr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&$A in n?n[$A](e):n instanceof Date?new n.constructor(e):new Date(e)}function Zt(n,e){return pr(e||n,n)}function _D(n,e,t){const r=Zt(n,t==null?void 0:t.in);return isNaN(e)?pr(n,NaN):(e&&r.setDate(r.getDate()+e),r)}let N8={};function lp(){return N8}function Bo(n,e){var u,d,p,m;const t=lp(),r=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Zt(n,e==null?void 0:e.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function uf(n,e){return Bo(n,{...e,weekStartsOn:1})}function wD(n,e){const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=pr(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=uf(i),l=pr(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=uf(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function zA(n){const e=Zt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function O8(n,...e){const t=pr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function BA(n,e){const t=Zt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function M8(n,e,t){const[r,i]=O8(t==null?void 0:t.in,n,e),o=BA(r),l=BA(i),u=+o-zA(o),d=+l-zA(l);return Math.round((u-d)/k8)}function L8(n,e){const t=wD(n,e),r=pr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),uf(r)}function V8(n,e,t){const r=Zt(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*D8),r}function F8(n,e,t){return _D(n,e*7,t)}function j8(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function U8(n){return!(!j8(n)&&typeof n!="number"||isNaN(+Zt(n)))}function q8(n,e){const t=Zt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const $8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ED=(n,e,t)=>{let r;const i=$8[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Ka(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const z8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H8={date:Ka({formats:z8,defaultWidth:"full"}),time:Ka({formats:B8,defaultWidth:"full"}),dateTime:Ka({formats:W8,defaultWidth:"full"})},G8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TD=(n,e,t,r)=>G8[n];function gu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const K8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eB=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},SD={ordinalNumber:eB,era:gu({values:K8,defaultWidth:"wide"}),quarter:gu({values:Y8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:gu({values:Q8,defaultWidth:"wide"}),day:gu({values:X8,defaultWidth:"wide"}),dayPeriod:gu({values:J8,defaultWidth:"wide",formattingValues:Z8,defaultFormattingWidth:"wide"})};function vu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?nB(u,v=>v.test(l)):tB(u,v=>v.test(l));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function tB(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function nB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function rB(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const iB=/^(\d+)(th|st|nd|rd)?/i,sB=/\d+/i,oB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aB={any:[/^b/i,/^(a|c)/i]},lB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uB={any:[/1/i,/2/i,/3/i,/4/i]},cB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bD={ordinalNumber:rB({matchPattern:iB,parsePattern:sB,valueCallback:n=>parseInt(n,10)}),era:vu({matchPatterns:oB,defaultMatchWidth:"wide",parsePatterns:aB,defaultParseWidth:"any"}),quarter:vu({matchPatterns:lB,defaultMatchWidth:"wide",parsePatterns:uB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:vu({matchPatterns:cB,defaultMatchWidth:"wide",parsePatterns:dB,defaultParseWidth:"any"}),day:vu({matchPatterns:hB,defaultMatchWidth:"wide",parsePatterns:fB,defaultParseWidth:"any"}),dayPeriod:vu({matchPatterns:pB,defaultMatchWidth:"any",parsePatterns:mB,defaultParseWidth:"any"})},gB={code:"en-US",formatDistance:ED,formatLong:H8,formatRelative:TD,localize:SD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vB(n,e){const t=Zt(n,e==null?void 0:e.in);return M8(t,q8(t))+1}function yB(n,e){const t=Zt(n,e==null?void 0:e.in),r=+uf(t)-+L8(t);return Math.round(r/yD)+1}function ID(n,e){var m,v,y,E;const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=lp(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=pr((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Bo(l,e),d=pr((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const p=Bo(d,e);return+t>=+u?r+1:+t>=+p?r:r-1}function _B(n,e){var u,d,p,m;const t=lp(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=ID(n,e),o=pr((e==null?void 0:e.in)||n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Bo(o,e)}function wB(n,e){const t=Zt(n,e==null?void 0:e.in),r=+Bo(t,e)-+_B(t,e);return Math.round(r/yD)+1}function Qe(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const gs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Qe(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Qe(t+1,2)},d(n,e){return Qe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Qe(n.getHours()%12||12,e.length)},H(n,e){return Qe(n.getHours(),e.length)},m(n,e){return Qe(n.getMinutes(),e.length)},s(n,e){return Qe(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Qe(i,e.length)}},Fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WA={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return gs.y(n,e)},Y:function(n,e,t,r){const i=ID(n,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return Qe(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Qe(o,e.length)},R:function(n,e){const t=wD(n);return Qe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Qe(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return gs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=wB(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(n,e,t){const r=yB(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Qe(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):gs.d(n,e)},D:function(n,e,t){const r=vB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Qe(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Qe(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Fa.noon:r===0?i=Fa.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Fa.evening:r>=12?i=Fa.afternoon:r>=4?i=Fa.morning:i=Fa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return gs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):gs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):gs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):gs.s(n,e)},S:function(n,e){return gs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return GA(r);case"XXXX":case"XX":return Eo(r);case"XXXXX":case"XXX":default:return Eo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return GA(r);case"xxxx":case"xx":return Eo(r);case"xxxxx":case"xxx":default:return Eo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HA(r,":");case"OOOO":default:return"GMT"+Eo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HA(r,":");case"zzzz":default:return"GMT"+Eo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Qe(r,e.length)},T:function(n,e,t){return Qe(+n,e.length)}};function HA(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+Qe(o,2)}function GA(n,e){return n%60===0?(n>0?"-":"+")+Qe(Math.abs(n)/60,2):Eo(n,e)}function Eo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Qe(Math.trunc(r/60),2),o=Qe(r%60,2);return t+i+e+o}const KA=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},EB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return KA(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",KA(r,e)).replace("{{time}}",RD(i,e))},TB={p:RD,P:EB},SB=/^D+$/,bB=/^Y+$/,IB=["D","DD","YY","YYYY"];function RB(n){return SB.test(n)}function xB(n){return bB.test(n)}function AB(n,e,t){const r=CB(n,e,t);if(console.warn(r),IB.includes(n))throw new RangeError(r)}function CB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DB=/^'([^]*?)'?$/,NB=/''/g,OB=/[a-zA-Z]/;function MB(n,e,t){var m,v,y,E,I,T,b,C;const r=lp(),i=(t==null?void 0:t.locale)??r.locale??gB,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((T=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.weekStartsOn)??0,u=Zt(n,t==null?void 0:t.in);if(!U8(u))throw new RangeError("Invalid time value");let d=e.match(kB).map(D=>{const M=D[0];if(M==="p"||M==="P"){const F=TB[M];return F(D,i.formatLong)}return D}).join("").match(PB).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const M=D[0];if(M==="'")return{isToken:!1,value:LB(D)};if(WA[M])return{isToken:!0,value:D};if(M.match(OB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(D=>{if(!D.isToken)return D.value;const M=D.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&xB(M)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&RB(M))&&AB(M,e,String(n));const F=WA[M[0]];return F(u,M,i.localize,p)}).join("")}function LB(n){const e=n.match(DB);return e?e[1].replace(NB,"'"):n}function VB(n,e){return Zt(n,e==null?void 0:e.in).getDay()}function FB(n,e){const t=Zt(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),o=pr(t,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function jB(n,e,t){const r=Zt(n,t==null?void 0:t.in),i=r.getFullYear(),o=r.getDate(),l=pr(n,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=FB(l);return r.setMonth(e,Math.min(o,u)),r}function UB(n,e,t){let r=Zt(n,t==null?void 0:t.in);return isNaN(+r)?pr(n,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=jB(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}const qB={full:"EEEE, dd MMMM yyyy",long:"dd MMMM yyyy",medium:"dd MMM yyyy",short:"yyyy/MM/dd"},$B={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BB={date:Ka({formats:qB,defaultWidth:"full"}),time:Ka({formats:$B,defaultWidth:"full"}),dateTime:Ka({formats:zB,defaultWidth:"full"})},WB={code:"en-ZA",formatDistance:ED,formatLong:BB,formatRelative:TD,localize:SD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}},HB={"en-ZA":WB},GB=P8({format:MB,startOfWeek:Bo,getDay:VB,locales:HB}),KB={Monday:0,Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6};function YB(n,e=12){const t=[],r=Bo(new Date,{weekStartsOn:1});for(let i=0;i<e;i++){const o=F8(r,i);n.forEach(l=>{if(!l.day||!l.visitTime)return;const u=KB[l.day];if(u==null)return;const[d,p]=(l.visitTime||"").split(":").map(Number),m=_D(o,u),v=UB(m,{hours:d||0,minutes:p||0,seconds:0,milliseconds:0}),y=Number(l.duration)||60,E=V8(v,y);t.push({title:l.instrument?`${l.name||"Lesson"}  ${l.instrument}`:l.name||"Lesson",start:v,end:E})})}return t}const QB=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(un.DAY),[i,o]=q.useState(null),[l,u]=q.useState(!1);return q.useEffect(()=>{const d=xs();return Do(d,m=>{m?(console.log(" Auth confirmed in Schedule:",m.uid),o(m.uid),u(!0)):(console.warn(" No user in Schedule"),o(null),u(!1))})},[]),q.useEffect(()=>{if(!l||!i){console.log(" Waiting for auth in Schedule...");return}const d=Ms(kn,"students"),p=Ec(d,nl("ownerId","==",i));return Mk(p,v=>{console.log(" Schedule snapshot:",v.docs.length,"students");const y=v.docs.map(I=>{const T=I.data();return{id:I.id,name:T.name||"Unnamed student",instrument:T.instrument||"",day:T.day||"",visitTime:T.visitTime||"",duration:Number(T.duration)||60}}),E=YB(y,12);e(E)},v=>console.error(" Firestore Schedule error:",v))},[l,i]),x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 relative overflow-hidden bg-cover bg-center",children:x.jsxs("div",{className:"shadow-lg rounded-lg p-4 sm:p-8 max-w-full mx-auto lg:ml-16 ml-0 bg-white ",children:[!l&&x.jsx("p",{className:"mb-4 text-sm text-black-500",children:"Checking your account..."}),l&&n.length===0&&x.jsx("p",{className:"mb-4 text-sm text-black-500",children:"No scheduled lessons yet. Add students with times on the Students page to see them here."}),x.jsxs("div",{className:"mt-2 h-[calc(100vh -180px)] sm:h-[100vh] mb-4 overflow-y-auto overflow-x-auto ",children:[" ",x.jsx(b8,{localizer:GB,events:Array.isArray(n)?n.filter(d=>(d==null?void 0:d.title)&&(d==null?void 0:d.start)&&(d==null?void 0:d.end)):[],startAccessor:"start",endAccessor:"end",views:{day:!0},defaultView:t,style:{height:"90vh",width:"100%"},showMultiDayTimes:!0,min:new Date(1970,0,1,9,0),max:new Date(1970,0,1,20,0)})]})]})})},XB=()=>{const n=Ho(),e=async()=>{try{await K4(ri),alert("You have been successfully signed out!"),n("/")}catch(t){console.error("Logout Failed:",t.message)}};return x.jsxs("div",{className:"px-4 sm:px-6 py-6 md:ml-16 max-w-2xl mx-auto space-y-6",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),x.jsx("div",{className:"border-t pt-6",children:x.jsx("button",{onClick:e,className:"bg-rose-500 text-white py-2 px-4 rounded hover:bg-rose-600 transition",children:"Log Out"})})]})},JB=()=>{const{studentId:n}=rC(),[e,t]=q.useState(null),[r,i]=q.useState(!0),[o,l]=q.useState(null);q.useEffect(()=>{(async()=>{try{const m=Mo(kn,"students",n),v=await vj(m);if(!v.exists()){l("Student not found."),i(!1);return}const y=v.data();t({id:v.id,...y,attendanceHistory:y.attendanceHistory||[]}),l(null)}catch(m){console.error("Error fetching student:",m),l("Failed to load attendance history.")}finally{i(!1)}})()},[n]);const u=p=>p!=null&&p.seconds?new Date(p.seconds*1e3).toLocaleDateString():new Date(p).toLocaleDateString(),d=p=>p!=null&&p.seconds?new Date(p.seconds*1e3).toLocaleTimeString():new Date(p).toLocaleTimeString();return r?x.jsx("div",{className:"flex items-center justify-center min-h-screen",children:x.jsx(Hk,{className:"h-8 w-8 animate-spin"})}):o?x.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4",children:[x.jsxs(Fu,{to:"/studentList",className:"inline-flex items-center gap-2 text-sm text-blue-600 mb-4",children:[x.jsx(fw,{className:"h-4 w-4"}),"Back to students"]}),x.jsx("p",{className:"text-red-600",children:o})]}):x.jsxs("div",{className:"max-w-3xl mx-auto my-8 px-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(jf,{className:"h-6 w-6 text-gray-500"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"Student"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Attendance History"})]})]}),x.jsxs(Fu,{to:"/studentList",className:"inline-flex items-center gap-1 text-sm px-3 py-2 border rounded-md hover:bg-gray-50",children:[x.jsx(fw,{className:"h-4 w-4"}),"Back"]})]}),e.attendanceHistory.length===0?x.jsx("p",{className:"text-gray-500",children:"No attendance records yet."}):x.jsx("div",{className:"bg-white rounded-lg shadow divide-y",children:[...e.attendanceHistory].sort((p,m)=>m.timestamp.seconds-p.timestamp.seconds).map((p,m)=>x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-sm",children:[x.jsxs("span",{className:`inline-flex items-center gap-1 ${p.status==="Present"?"text-green-600":"text-red-600"}`,children:[p.status==="Present"?x.jsx(pw,{className:"h-4 w-4"}):x.jsx(mw,{className:"h-4 w-4"}),p.status]}),x.jsxs("div",{className:"flex items-center gap-4 text-gray-500",children:[x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx(Ff,{className:"h-4 w-4"}),u(p.timestamp)]}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx(zk,{className:"h-4 w-4"}),d(p.timestamp)]})]})]},m))})]})};function ZB(n){return Tc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function e7(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(n)}function t7(n){return Tc({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(n)}function n7(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"},child:[]}]})(n)}const L_=()=>{const[n,e]=q.useState(!1),t=qr();q.useEffect(()=>{e(!1)},[t]),q.useEffect(()=>{const o=l=>{l.key==="Escape"&&e(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[]);const r=()=>{e(o=>!o)},i=[{path:"/home",label:"Home",icon:x.jsx(ZB,{className:"h-6 w-6"})},{path:"/students",label:"Students",icon:x.jsx(e7,{className:"h-6 w-6"})},{path:"/studentList",label:"Attendance",icon:x.jsx(t7,{className:"h-6 w-6"})},{path:"/schedule",label:"Schedule",icon:x.jsx(n7,{className:"h-6 w-6"})}];return x.jsxs("div",{className:"relative",children:[x.jsxs("nav",{className:`fixed top-0 left-0 h-full bg-white hidden md:flex flex-col
        ${n?"md:w-64":"md:w-16"}
        transition-all duration-300 ease-in-out z-40 shadow-lg`,children:[x.jsxs("div",{className:"relative h-16 flex items-center ",children:[x.jsx("button",{onClick:r,className:`p-2 text-gray-700  rounded-md transition-all duration-300 border-2 border-solid 
            ${n?"ml-48":"ml-2"}`,children:n?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),n&&x.jsx("h1",{className:"text-xl font-semibold absolute left-4 text-slate-700",children:"Staccato"})]}),x.jsx("div",{className:"flex flex-col space-y-2 mt-6 px-3",children:i.map(o=>x.jsxs(j_,{to:o.path,end:o.path==="/",className:({isActive:l})=>`flex items-center px-3 py-3 rounded-md transition-all duration-200
                ${n?"":"justify-center"}
                ${l?"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-md":"text-slate-700 hover:bg-gradient-to-br hover:from-emerald-500 hover:to-emerald-600 hover:text-white"}`,children:[x.jsx("span",{className:"flex items-center justify-center w-6",children:o.icon}),n&&x.jsx("span",{className:"ml-4 font-medium",children:o.label})]},o.path))}),n&&x.jsx("div",{className:"mt-auto p-4 border-t border-slate-200 text-sm text-slate-600",children:" 2025 Fretnot Music School"})]}),x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t z-40",children:x.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(o=>x.jsxs(j_,{to:o.path,end:o.path==="/",className:({isActive:l})=>`flex flex-col items-center justify-center w-full h-full text-sm
                ${l?"text-emerald-600 font-semibold":"text-slate-500"}`,children:[o.icon,x.jsx("span",{className:"mt-1",children:o.label})]},o.path))})}),n&&x.jsx("div",{onClick:r,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-30 hidden md:block"})]})},_o=({children:n})=>{const e=qr(),[t,r]=q.useState(localStorage.getItem("isAuthenticated")==="true"),[i,o]=q.useState(!0);return q.useEffect(()=>{const l=ri.onAuthStateChanged(d=>{d?(r(!0),localStorage.setItem("isAuthenticated","true")):(r(!1),localStorage.removeItem("isAuthenticated")),o(!1)});return localStorage.getItem("isAuthenticated")==="true"&&r(!0),()=>l()},[]),i?localStorage.getItem("isAuthenticated")==="true"?x.jsxs("div",{children:[x.jsx(L_,{}),x.jsx("main",{children:n})]}):x.jsxs("div",{children:[x.jsx(L_,{}),"Loading..."]}):t?x.jsxs("div",{children:[x.jsx(L_,{}),x.jsx("main",{children:n})]}):x.jsx(yu,{to:"/login",state:{from:e},replace:!0})},r7="/attendio/assets/Calendar-bro-ByK5CIeR.svg",i7=()=>{const n=Ho();return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-200 flex flex-col justify-between",children:[x.jsxs("section",{className:"px-6 py-20 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[x.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-center md:text-left",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:"Attendance, Simplified."}),x.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"A clean, intuitive way to track and manage student presence."}),x.jsx("button",{onClick:()=>n("/login"),className:"mt-8 px-6 py-3 bg-black text-white text-lg rounded-lg hover:bg-blue-700 transition",children:"Get Started / Login"})]}),x.jsx("div",{className:"w-full flex justify-center",children:x.jsx("img",{src:r7,alt:"Calendar illustration",className:"w-full max-w-md"})})]}),x.jsx("footer",{className:"bg-black text-white text-center py-4 text-sm",children:" 2025 Attendio by Waldo Oosthuizen"})]})},s7=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[i,o]=q.useState(!1);return q.useEffect(()=>{const l=Do(ri,u=>{o(!!u),r(!0)});return()=>l()},[]),t?x.jsx(JO,{children:x.jsxs(CO,{children:[x.jsx(Or,{path:"/",element:i?x.jsx(yu,{to:"/home"}):x.jsx(i7,{})}),x.jsx(Or,{path:"/login",element:i?x.jsx(yu,{to:"/home"}):n?x.jsx(Uj,{setShowSignUp:e}):x.jsx(qj,{setShowSignUp:e})}),x.jsx(Or,{path:"/home",element:x.jsx(_o,{children:x.jsx(Bj,{})})}),x.jsx(Or,{path:"/students",element:x.jsx(_o,{children:x.jsx(Gj,{})})}),x.jsx(Or,{path:"/studentList",element:x.jsx(_o,{children:x.jsx(Kj,{})})}),x.jsx(Or,{path:"/attendance/:studentId",element:x.jsx(_o,{children:x.jsx(JB,{})})}),x.jsx(Or,{path:"/homework/:studentId",element:x.jsx(_o,{children:x.jsx(Yj,{})})}),x.jsx(Or,{path:"/schedule",element:x.jsx(_o,{children:x.jsx(QB,{})})}),x.jsx(Or,{path:"/settings",element:x.jsx(_o,{children:x.jsx(XB,{})})}),x.jsx(Or,{path:"*",element:i?x.jsx(yu,{to:"/home"}):x.jsx(yu,{to:"/login"})})]})}):null};VN.createRoot(document.getElementById("root")).render(x.jsx(q.StrictMode,{children:x.jsx(s7,{})}));
