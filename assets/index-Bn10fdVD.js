var LO=Object.defineProperty;var VO=(n,e,t)=>e in n?LO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>VO(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ym={exports:{}},il={},_m={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function FO(){if(e1)return Fe;e1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function I(W,Z,fe){this.props=W,this.context=Z,this.refs=S,this.updater=fe||E}I.prototype.isReactComponent={},I.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=I.prototype;function P(W,Z,fe){this.props=W,this.context=Z,this.refs=S,this.updater=fe||E}var F=P.prototype=new A;F.constructor=P,b(F,I.prototype),F.isPureReactComponent=!0;var V=Array.isArray,H=Object.prototype.hasOwnProperty,z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(W,Z,fe){var Ce,xe={},Ne=null,Le=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(Le=Z.ref),Z.key!==void 0&&(Ne=""+Z.key),Z)H.call(Z,Ce)&&!k.hasOwnProperty(Ce)&&(xe[Ce]=Z[Ce]);var Me=arguments.length-2;if(Me===1)xe.children=fe;else if(1<Me){for(var Ge=Array(Me),vt=0;vt<Me;vt++)Ge[vt]=arguments[vt+2];xe.children=Ge}if(W&&W.defaultProps)for(Ce in Me=W.defaultProps,Me)xe[Ce]===void 0&&(xe[Ce]=Me[Ce]);return{$$typeof:n,type:W,key:Ne,ref:Le,props:xe,_owner:z.current}}function C(W,Z){return{$$typeof:n,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function N(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(fe){return Z[fe]})}var q=/\/+/g;function D(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):Z.toString(36)}function ce(W,Z,fe,Ce,xe){var Ne=typeof W;(Ne==="undefined"||Ne==="boolean")&&(W=null);var Le=!1;if(W===null)Le=!0;else switch(Ne){case"string":case"number":Le=!0;break;case"object":switch(W.$$typeof){case n:case e:Le=!0}}if(Le)return Le=W,xe=xe(Le),W=Ce===""?"."+D(Le,0):Ce,V(xe)?(fe="",W!=null&&(fe=W.replace(q,"$&/")+"/"),ce(xe,Z,fe,"",function(vt){return vt})):xe!=null&&(N(xe)&&(xe=C(xe,fe+(!xe.key||Le&&Le.key===xe.key?"":(""+xe.key).replace(q,"$&/")+"/")+W)),Z.push(xe)),1;if(Le=0,Ce=Ce===""?".":Ce+":",V(W))for(var Me=0;Me<W.length;Me++){Ne=W[Me];var Ge=Ce+D(Ne,Me);Le+=ce(Ne,Z,fe,Ge,xe)}else if(Ge=y(W),typeof Ge=="function")for(W=Ge.call(W),Me=0;!(Ne=W.next()).done;)Ne=Ne.value,Ge=Ce+D(Ne,Me++),Le+=ce(Ne,Z,fe,Ge,xe);else if(Ne==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Le}function be(W,Z,fe){if(W==null)return W;var Ce=[],xe=0;return ce(W,Ce,"","",function(Ne){return Z.call(fe,Ne,xe++)}),Ce}function Ee(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(fe){(W._status===0||W._status===-1)&&(W._status=1,W._result=fe)},function(fe){(W._status===0||W._status===-1)&&(W._status=2,W._result=fe)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var _e={current:null},ne={transition:null},de={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ne,ReactCurrentOwner:z};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:be,forEach:function(W,Z,fe){be(W,function(){Z.apply(this,arguments)},fe)},count:function(W){var Z=0;return be(W,function(){Z++}),Z},toArray:function(W){return be(W,function(Z){return Z})||[]},only:function(W){if(!N(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Fe.Component=I,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=P,Fe.StrictMode=r,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Fe.act=ue,Fe.cloneElement=function(W,Z,fe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Ce=b({},W.props),xe=W.key,Ne=W.ref,Le=W._owner;if(Z!=null){if(Z.ref!==void 0&&(Ne=Z.ref,Le=z.current),Z.key!==void 0&&(xe=""+Z.key),W.type&&W.type.defaultProps)var Me=W.type.defaultProps;for(Ge in Z)H.call(Z,Ge)&&!k.hasOwnProperty(Ge)&&(Ce[Ge]=Z[Ge]===void 0&&Me!==void 0?Me[Ge]:Z[Ge])}var Ge=arguments.length-2;if(Ge===1)Ce.children=fe;else if(1<Ge){Me=Array(Ge);for(var vt=0;vt<Ge;vt++)Me[vt]=arguments[vt+2];Ce.children=Me}return{$$typeof:n,type:W.type,key:xe,ref:Ne,props:Ce,_owner:Le}},Fe.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Fe.createElement=R,Fe.createFactory=function(W){var Z=R.bind(null,W);return Z.type=W,Z},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(W){return{$$typeof:l,render:W}},Fe.isValidElement=N,Fe.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:Ee}},Fe.memo=function(W,Z){return{$$typeof:p,type:W,compare:Z===void 0?null:Z}},Fe.startTransition=function(W){var Z=ne.transition;ne.transition={};try{W()}finally{ne.transition=Z}},Fe.unstable_act=ue,Fe.useCallback=function(W,Z){return _e.current.useCallback(W,Z)},Fe.useContext=function(W){return _e.current.useContext(W)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(W){return _e.current.useDeferredValue(W)},Fe.useEffect=function(W,Z){return _e.current.useEffect(W,Z)},Fe.useId=function(){return _e.current.useId()},Fe.useImperativeHandle=function(W,Z,fe){return _e.current.useImperativeHandle(W,Z,fe)},Fe.useInsertionEffect=function(W,Z){return _e.current.useInsertionEffect(W,Z)},Fe.useLayoutEffect=function(W,Z){return _e.current.useLayoutEffect(W,Z)},Fe.useMemo=function(W,Z){return _e.current.useMemo(W,Z)},Fe.useReducer=function(W,Z,fe){return _e.current.useReducer(W,Z,fe)},Fe.useRef=function(W){return _e.current.useRef(W)},Fe.useState=function(W){return _e.current.useState(W)},Fe.useSyncExternalStore=function(W,Z,fe){return _e.current.useSyncExternalStore(W,Z,fe)},Fe.useTransition=function(){return _e.current.useTransition()},Fe.version="18.3.1",Fe}var t1;function ow(){return t1||(t1=1,_m.exports=FO()),_m.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function jO(){if(n1)return il;n1=1;var n=ow(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(l,d,p){var m,v={},y=null,E=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:l,key:y,ref:E,props:v,_owner:i.current}}return il.Fragment=t,il.jsx=u,il.jsxs=u,il}var r1;function qO(){return r1||(r1=1,ym.exports=jO()),ym.exports}var L=qO(),$=ow();const G=jn($);var Ud={},wm={exports:{}},On={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function UO(){return i1||(i1=1,function(n){function e(ne,de){var ue=ne.length;ne.push(de);e:for(;0<ue;){var W=ue-1>>>1,Z=ne[W];if(0<i(Z,de))ne[W]=de,ne[ue]=Z,ue=W;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var de=ne[0],ue=ne.pop();if(ue!==de){ne[0]=ue;e:for(var W=0,Z=ne.length,fe=Z>>>1;W<fe;){var Ce=2*(W+1)-1,xe=ne[Ce],Ne=Ce+1,Le=ne[Ne];if(0>i(xe,ue))Ne<Z&&0>i(Le,xe)?(ne[W]=Le,ne[Ne]=ue,W=Ne):(ne[W]=xe,ne[Ce]=ue,W=Ce);else if(Ne<Z&&0>i(Le,ue))ne[W]=Le,ne[Ne]=ue,W=Ne;else break e}}return de}function i(ne,de){var ue=ne.sortIndex-de.sortIndex;return ue!==0?ue:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();n.unstable_now=function(){return u.now()-l}}var d=[],p=[],m=1,v=null,y=3,E=!1,b=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ne){for(var de=t(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=ne)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=t(p)}}function V(ne){if(S=!1,F(ne),!b)if(t(d)!==null)b=!0,Ee(H);else{var de=t(p);de!==null&&_e(V,de.startTime-ne)}}function H(ne,de){b=!1,S&&(S=!1,A(R),R=-1),E=!0;var ue=y;try{for(F(de),v=t(d);v!==null&&(!(v.expirationTime>de)||ne&&!M());){var W=v.callback;if(typeof W=="function"){v.callback=null,y=v.priorityLevel;var Z=W(v.expirationTime<=de);de=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),F(de)}else r(d);v=t(d)}if(v!==null)var fe=!0;else{var Ce=t(p);Ce!==null&&_e(V,Ce.startTime-de),fe=!1}return fe}finally{v=null,y=ue,E=!1}}var z=!1,k=null,R=-1,C=5,N=-1;function M(){return!(n.unstable_now()-N<C)}function q(){if(k!==null){var ne=n.unstable_now();N=ne;var de=!0;try{de=k(!0,ne)}finally{de?D():(z=!1,k=null)}}else z=!1}var D;if(typeof P=="function")D=function(){P(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,be=ce.port2;ce.port1.onmessage=q,D=function(){be.postMessage(null)}}else D=function(){I(q,0)};function Ee(ne){k=ne,z||(z=!0,D())}function _e(ne,de){R=I(function(){ne(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){b||E||(b=!0,Ee(H))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ne){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var ue=y;y=de;try{return ne()}finally{y=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=y;y=ne;try{return de()}finally{y=ue}},n.unstable_scheduleCallback=function(ne,de,ue){var W=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?W+ue:W):ue=W,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,ne={id:m++,callback:de,priorityLevel:ne,startTime:ue,expirationTime:Z,sortIndex:-1},ue>W?(ne.sortIndex=ue,e(p,ne),t(d)===null&&ne===t(p)&&(S?(A(R),R=-1):S=!0,_e(V,ue-W))):(ne.sortIndex=Z,e(d,ne),b||E||(b=!0,Ee(H))),ne},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ne){var de=y;return function(){var ue=y;y=de;try{return ne.apply(this,arguments)}finally{y=ue}}}}(Tm)),Tm}var s1;function $O(){return s1||(s1=1,Em.exports=UO()),Em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function zO(){if(a1)return On;a1=1;var n=ow(),e=$O();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function E(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,c,h){if(o===null||typeof o>"u"||E(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,h,g,w,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=x}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,P);I[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,c,h){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,g,h)&&(c=null),h||g===null?y(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,W;function Z(s){if(W===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+s}var fe=!1;function Ce(s,o){if(!s||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),w=h.stack.split(`
`),x=g.length-1,j=w.length-1;1<=x&&0<=j&&g[x]!==w[j];)j--;for(;1<=x&&0<=j;x--,j--)if(g[x]!==w[j]){if(x!==1||j!==1)do if(x--,j--,0>j||g[x]!==w[j]){var U=`
`+g[x].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=x&&0<=j);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function xe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ne(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case z:return"Portal";case C:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case q:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return o=s.displayName||null,o!==null?o:Ne(s.type)||"Memo";case Ee:o=s._payload,s=s._init;try{return Ne(s(o))}catch{}}return null}function Le(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(s){var o=Ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){h=""+x,w.call(this,x)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yn(s){s._valueTracker||(s._valueTracker=vt(s))}function jr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function qn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gr(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ue(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Me(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Un(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function Ve(s,o){Un(s,o);var c=Me(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?_n(s,o.type,c):o.hasOwnProperty("defaultValue")&&_n(s,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function $n(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function _n(s,o,c){(o!=="number"||qn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ot=Array.isArray;function Nt(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Xt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ut(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ot(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Me(c)}}function wn(s,o){var c=Me(o.value),h=Me(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function zn(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function lt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?lt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Mt,Hi=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function vr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(s){qr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),di[o]=di[s]})});function In(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||di.hasOwnProperty(s)&&di[s]?(""+o).trim():o+"px"}function Bn(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=In(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var vu=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(s,o){if(o){if(vu[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function _u(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function ja(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qa=null,tr=null,Ur=null;function Ua(s){if(s=zu(s)){if(typeof qa!="function")throw Error(t(280));var o=s.stateNode;o&&(o=td(o),qa(s.stateNode,s.type,o))}}function $r(s){tr?Ur?Ur.push(s):Ur=[s]:tr=s}function wu(){if(tr){var s=tr,o=Ur;if(Ur=tr=null,Ua(s),o)for(s=0;s<o.length;s++)Ua(o[s])}}function zs(s,o){return s(o)}function Eu(){}var fi=!1;function Tu(s,o,c){if(fi)return s(o,c);fi=!0;try{return zs(s,o,c)}finally{fi=!1,(tr!==null||Ur!==null)&&(Eu(),wu())}}function Tt(s,o){var c=s.stateNode;if(c===null)return null;var h=td(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var $a=!1;if(l)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{$a=!1}function Bs(s,o,c,h,g,w,x,j,U){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ie){this.onError(ie)}}var Hs=!1,za=null,_r=!1,bu=null,Wh={onError:function(s){Hs=!0,za=s}};function Ba(s,o,c,h,g,w,x,j,U){Hs=!1,za=null,Bs.apply(Wh,arguments)}function Rc(s,o,c,h,g,w,x,j,U){if(Ba.apply(this,arguments),Hs){if(Hs){var X=za;Hs=!1,za=null}else throw Error(t(198));_r||(_r=!0,bu=X)}}function wr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Ws(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Er(s){if(wr(s)!==s)throw Error(t(188))}function xc(s){var o=s.alternate;if(!o){if(o=wr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Er(g),s;if(w===h)return Er(g),o;w=w.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=w;else{for(var x=!1,j=g.child;j;){if(j===c){x=!0,c=g,h=w;break}if(j===h){x=!0,h=g,c=w;break}j=j.sibling}if(!x){for(j=w.child;j;){if(j===c){x=!0,c=w,h=g;break}if(j===h){x=!0,h=w,c=g;break}j=j.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Su(s){return s=xc(s),s!==null?Ha(s):null}function Ha(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ha(s);if(o!==null)return o;s=s.sibling}return null}var Wa=e.unstable_scheduleCallback,Iu=e.unstable_cancelCallback,Cc=e.unstable_shouldYield,Gh=e.unstable_requestPaint,tt=e.unstable_now,Ac=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,Ru=e.unstable_LowPriority,Pc=e.unstable_IdlePriority,Ks=null,Hn=null;function kc(s){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Oc,xu=Math.log,Dc=Math.LN2;function Oc(s){return s>>>=0,s===0?32:31-(xu(s)/Dc|0)|0}var Ga=64,Ka=4194304;function Gi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ys(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,x=c&268435455;if(x!==0){var j=x&~g;j!==0?h=Gi(j):(w&=x,w!==0&&(h=Gi(w)))}else x=c&~g,x!==0?h=Gi(x):w!==0&&(h=Gi(w));if(h===0)return 0;if(o!==0&&o!==h&&!(o&g)&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if(h&4&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-En(o),g=1<<c,h|=s[c],o&=~g;return h}function Kh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-En(w),j=1<<x,U=g[x];U===-1?(!(j&c)||j&h)&&(g[x]=Kh(j,o)):U<=o&&(s.expiredLanes|=j),w&=~j}}function Wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Qs(){var s=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),s}function Ki(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Yi(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-En(o),s[o]=c}function Ze(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-En(c),w=1<<g;o[g]=0,h[g]=-1,s[g]=-1,c&=~w}}function Qi(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-En(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}var $e=0;function Xi(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Nc,Ya,Mc,Lc,Vc,Cu=!1,zr=[],Jt=null,Tr=null,br=null,Ji=new Map,rr=new Map,Br=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fc(s,o){switch(s){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ji.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(o.pointerId)}}function Rn(s,o,c,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=zu(o),o!==null&&Ya(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Qh(s,o,c,h,g){switch(o){case"focusin":return Jt=Rn(Jt,s,o,c,h,g),!0;case"dragenter":return Tr=Rn(Tr,s,o,c,h,g),!0;case"mouseover":return br=Rn(br,s,o,c,h,g),!0;case"pointerover":var w=g.pointerId;return Ji.set(w,Rn(Ji.get(w)||null,s,o,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,rr.set(w,Rn(rr.get(w)||null,s,o,c,h,g)),!0}return!1}function jc(s){var o=ta(s.target);if(o!==null){var c=wr(o);if(c!==null){if(o=c.tag,o===13){if(o=Ws(c),o!==null){s.blockedOn=o,Vc(s.priority,function(){Mc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function pi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Qa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);$s=h,c.target.dispatchEvent(h),$s=null}else return o=zu(c),o!==null&&Ya(o),s.blockedOn=c,!1;o.shift()}return!0}function Xs(s,o,c){pi(s)&&c.delete(o)}function qc(){Cu=!1,Jt!==null&&pi(Jt)&&(Jt=null),Tr!==null&&pi(Tr)&&(Tr=null),br!==null&&pi(br)&&(br=null),Ji.forEach(Xs),rr.forEach(Xs)}function Sr(s,o){s.blockedOn===o&&(s.blockedOn=null,Cu||(Cu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qc)))}function Ir(s){function o(g){return Sr(g,s)}if(0<zr.length){Sr(zr[0],s);for(var c=1;c<zr.length;c++){var h=zr[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Jt!==null&&Sr(Jt,s),Tr!==null&&Sr(Tr,s),br!==null&&Sr(br,s),Ji.forEach(o),rr.forEach(o),c=0;c<Br.length;c++)h=Br[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Br.length&&(c=Br[0],c.blockedOn===null);)jc(c),c.blockedOn===null&&Br.shift()}var mi=V.ReactCurrentBatchConfig,Zi=!0;function ct(s,o,c,h){var g=$e,w=mi.transition;mi.transition=null;try{$e=1,Au(s,o,c,h)}finally{$e=g,mi.transition=w}}function Xh(s,o,c,h){var g=$e,w=mi.transition;mi.transition=null;try{$e=4,Au(s,o,c,h)}finally{$e=g,mi.transition=w}}function Au(s,o,c,h){if(Zi){var g=Qa(s,o,c,h);if(g===null)up(s,o,h,Js,c),Fc(s,h);else if(Qh(g,s,o,c,h))h.stopPropagation();else if(Fc(s,h),o&4&&-1<Yh.indexOf(s)){for(;g!==null;){var w=zu(g);if(w!==null&&Nc(w),w=Qa(s,o,c,h),w===null&&up(s,o,h,Js,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else up(s,o,h,null,c)}}var Js=null;function Qa(s,o,c,h){if(Js=null,s=ja(h),s=ta(s),s!==null)if(o=wr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Ws(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Js=s,null}function Pu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case Gs:return 1;case Wi:return 4;case nr:case Ru:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var Gn=null,Xa=null,xn=null;function ku(){if(xn)return xn;var s,o=Xa,c=o.length,h,g="value"in Gn?Gn.value:Gn.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var x=c-s;for(h=1;h<=x&&o[c-h]===g[w-h];h++);return xn=g.slice(s,1<h?1-h:void 0)}function Ja(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Hr(){return!0}function Du(){return!1}function Zt(s){function o(c,h,g,w,x){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Hr:Du,this.isPropagationStopped=Du,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),o}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Zt(Rr),Wr=ue({},Rr,{view:0,detail:0}),Jh=Zt(Wr),eo,gi,es,Zs=ue({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(eo=s.screenX-es.screenX,gi=s.screenY-es.screenY):gi=eo=0,es=s),eo)},movementY:function(s){return"movementY"in s?s.movementY:gi}}),to=Zt(Zs),Ou=ue({},Zs,{dataTransfer:0}),Uc=Zt(Ou),no=ue({},Wr,{relatedTarget:0}),ro=Zt(no),$c=ue({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Zt($c),zc=ue({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bc=Zt(zc),Hc=ue({},Rr,{data:0}),Nu=Zt(Hc),io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Wc[s])?!!o[s]:!1}function Gr(){return Gc}var f=ue({},Wr,{key:function(s){if(s.key){var o=io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(s){return s.type==="keypress"?Ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Zt(f),T=ue({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Zt(T),K=ue({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),J=Zt(K),le=ue({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Zt(le),Lt=ue({},Zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Zt(Lt),zt=[9,13,27,32],Ct=l&&"CompositionEvent"in window,ir=null;l&&"documentMode"in document&&(ir=document.documentMode);var Kn=l&&"TextEvent"in window&&!ir,ea=l&&(!Ct||ir&&8<ir&&11>=ir),so=" ",KE=!1;function YE(s,o){switch(s){case"keyup":return zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function ND(s,o){switch(s){case"compositionend":return QE(o);case"keypress":return o.which!==32?null:(KE=!0,so);case"textInput":return s=o.data,s===so&&KE?null:s;default:return null}}function MD(s,o){if(ao)return s==="compositionend"||!Ct&&YE(s,o)?(s=ku(),xn=Xa=Gn=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ea&&o.locale!=="ko"?null:o.data;default:return null}}var LD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XE(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!LD[s.type]:o==="textarea"}function JE(s,o,c,h){$r(h),o=Jc(o,"onChange"),0<o.length&&(c=new Za("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Mu=null,Lu=null;function VD(s){g0(s,0)}function Kc(s){var o=fo(s);if(jr(o))return s}function FD(s,o){if(s==="change")return o}var ZE=!1;if(l){var Zh;if(l){var ep="oninput"in document;if(!ep){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),ep=typeof e0.oninput=="function"}Zh=ep}else Zh=!1;ZE=Zh&&(!document.documentMode||9<document.documentMode)}function t0(){Mu&&(Mu.detachEvent("onpropertychange",n0),Lu=Mu=null)}function n0(s){if(s.propertyName==="value"&&Kc(Lu)){var o=[];JE(o,Lu,s,ja(s)),Tu(VD,o)}}function jD(s,o,c){s==="focusin"?(t0(),Mu=o,Lu=c,Mu.attachEvent("onpropertychange",n0)):s==="focusout"&&t0()}function qD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(Lu)}function UD(s,o){if(s==="click")return Kc(o)}function $D(s,o){if(s==="input"||s==="change")return Kc(o)}function zD(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var xr=typeof Object.is=="function"?Object.is:zD;function Vu(s,o){if(xr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(o,g)||!xr(s[g],o[g]))return!1}return!0}function r0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function i0(s,o){var c=r0(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=r0(c)}}function s0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?s0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function a0(){for(var s=window,o=qn();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=qn(s.document)}return o}function tp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function BD(s){var o=a0(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&s0(c.ownerDocument.documentElement,c)){if(h!==null&&tp(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=i0(c,w);var x=i0(c,h);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(o),s.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HD=l&&"documentMode"in document&&11>=document.documentMode,oo=null,np=null,Fu=null,rp=!1;function o0(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rp||oo==null||oo!==qn(h)||(h=oo,"selectionStart"in h&&tp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Fu&&Vu(Fu,h)||(Fu=h,h=Jc(np,"onSelect"),0<h.length&&(o=new Za("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=oo)))}function Yc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var uo={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},ip={},u0={};l&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Qc(s){if(ip[s])return ip[s];if(!uo[s])return s;var o=uo[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in u0)return ip[s]=o[c];return s}var l0=Qc("animationend"),c0=Qc("animationiteration"),d0=Qc("animationstart"),f0=Qc("transitionend"),h0=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(s,o){h0.set(s,o),a(o,[s])}for(var sp=0;sp<p0.length;sp++){var ap=p0[sp],WD=ap.toLowerCase(),GD=ap[0].toUpperCase()+ap.slice(1);ts(WD,"on"+GD)}ts(l0,"onAnimationEnd"),ts(c0,"onAnimationIteration"),ts(d0,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(f0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function m0(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Rc(h,o,void 0,s),s.currentTarget=null}function g0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var x=h.length-1;0<=x;x--){var j=h[x],U=j.instance,X=j.currentTarget;if(j=j.listener,U!==w&&g.isPropagationStopped())break e;m0(g,j,X),w=U}else for(x=0;x<h.length;x++){if(j=h[x],U=j.instance,X=j.currentTarget,j=j.listener,U!==w&&g.isPropagationStopped())break e;m0(g,j,X),w=U}}}if(_r)throw s=bu,_r=!1,bu=null,s}function it(s,o){var c=o[pp];c===void 0&&(c=o[pp]=new Set);var h=s+"__bubble";c.has(h)||(v0(o,s,2,!1),c.add(h))}function op(s,o,c){var h=0;o&&(h|=4),v0(c,s,h,o)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function qu(s){if(!s[Xc]){s[Xc]=!0,r.forEach(function(c){c!=="selectionchange"&&(KD.has(c)||op(c,!1,s),op(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Xc]||(o[Xc]=!0,op("selectionchange",!1,o))}}function v0(s,o,c,h){switch(Pu(o)){case 1:var g=ct;break;case 4:g=Xh;break;default:g=Au}c=g.bind(null,o,c,s),g=void 0,!$a||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function up(s,o,c,h,g){var w=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(x===4)for(x=h.return;x!==null;){var U=x.tag;if((U===3||U===4)&&(U=x.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;x=x.return}for(;j!==null;){if(x=ta(j),x===null)return;if(U=x.tag,U===5||U===6){h=w=x;continue e}j=j.parentNode}}h=h.return}Tu(function(){var X=w,ie=ja(c),se=[];e:{var re=h0.get(s);if(re!==void 0){var he=Za,ve=s;switch(s){case"keypress":if(Ja(c)===0)break e;case"keydown":case"keyup":he=_;break;case"focusin":ve="focus",he=ro;break;case"focusout":ve="blur",he=ro;break;case"beforeblur":case"afterblur":he=ro;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=J;break;case l0:case c0:case d0:he=vi;break;case f0:he=Xe;break;case"scroll":he=Jh;break;case"wheel":he=Be;break;case"copy":case"cut":case"paste":he=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=O}var we=(o&4)!==0,bt=!we&&s==="scroll",Y=we?re!==null?re+"Capture":null:re;we=[];for(var B=X,Q;B!==null;){Q=B;var ae=Q.stateNode;if(Q.tag===5&&ae!==null&&(Q=ae,Y!==null&&(ae=Tt(B,Y),ae!=null&&we.push(Uu(B,ae,Q)))),bt)break;B=B.return}0<we.length&&(re=new he(re,ve,null,c,ie),se.push({event:re,listeners:we}))}}if(!(o&7)){e:{if(re=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",re&&c!==$s&&(ve=c.relatedTarget||c.fromElement)&&(ta(ve)||ve[yi]))break e;if((he||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,he?(ve=c.relatedTarget||c.toElement,he=X,ve=ve?ta(ve):null,ve!==null&&(bt=wr(ve),ve!==bt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(he=null,ve=X),he!==ve)){if(we=to,ae="onMouseLeave",Y="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(we=O,ae="onPointerLeave",Y="onPointerEnter",B="pointer"),bt=he==null?re:fo(he),Q=ve==null?re:fo(ve),re=new we(ae,B+"leave",he,c,ie),re.target=bt,re.relatedTarget=Q,ae=null,ta(ie)===X&&(we=new we(Y,B+"enter",ve,c,ie),we.target=Q,we.relatedTarget=bt,ae=we),bt=ae,he&&ve)t:{for(we=he,Y=ve,B=0,Q=we;Q;Q=lo(Q))B++;for(Q=0,ae=Y;ae;ae=lo(ae))Q++;for(;0<B-Q;)we=lo(we),B--;for(;0<Q-B;)Y=lo(Y),Q--;for(;B--;){if(we===Y||Y!==null&&we===Y.alternate)break t;we=lo(we),Y=lo(Y)}we=null}else we=null;he!==null&&y0(se,re,he,we,!1),ve!==null&&bt!==null&&y0(se,bt,ve,we,!0)}}e:{if(re=X?fo(X):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var Te=FD;else if(XE(re))if(ZE)Te=$D;else{Te=qD;var Ie=jD}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Te=UD);if(Te&&(Te=Te(s,X))){JE(se,Te,c,ie);break e}Ie&&Ie(s,re,X),s==="focusout"&&(Ie=re._wrapperState)&&Ie.controlled&&re.type==="number"&&_n(re,"number",re.value)}switch(Ie=X?fo(X):window,s){case"focusin":(XE(Ie)||Ie.contentEditable==="true")&&(oo=Ie,np=X,Fu=null);break;case"focusout":Fu=np=oo=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,o0(se,c,ie);break;case"selectionchange":if(HD)break;case"keydown":case"keyup":o0(se,c,ie)}var Re;if(Ct)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ao?YE(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(ea&&c.locale!=="ko"&&(ao||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ao&&(Re=ku()):(Gn=ie,Xa="value"in Gn?Gn.value:Gn.textContent,ao=!0)),Ie=Jc(X,Pe),0<Ie.length&&(Pe=new Nu(Pe,s,null,c,ie),se.push({event:Pe,listeners:Ie}),Re?Pe.data=Re:(Re=QE(c),Re!==null&&(Pe.data=Re)))),(Re=Kn?ND(s,c):MD(s,c))&&(X=Jc(X,"onBeforeInput"),0<X.length&&(ie=new Nu("onBeforeInput","beforeinput",null,c,ie),se.push({event:ie,listeners:X}),ie.data=Re))}g0(se,o)})}function Uu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Jc(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Tt(s,c),w!=null&&h.unshift(Uu(s,w,g)),w=Tt(s,o),w!=null&&h.push(Uu(s,w,g))),s=s.return}return h}function lo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function y0(s,o,c,h,g){for(var w=o._reactName,x=[];c!==null&&c!==h;){var j=c,U=j.alternate,X=j.stateNode;if(U!==null&&U===h)break;j.tag===5&&X!==null&&(j=X,g?(U=Tt(c,w),U!=null&&x.unshift(Uu(c,U,j))):g||(U=Tt(c,w),U!=null&&x.push(Uu(c,U,j)))),c=c.return}x.length!==0&&s.push({event:o,listeners:x})}var YD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function _0(s){return(typeof s=="string"?s:""+s).replace(YD,`
`).replace(QD,"")}function Zc(s,o,c){if(o=_0(o),_0(s)!==o&&c)throw Error(t(425))}function ed(){}var lp=null,cp=null;function dp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,XD=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,JD=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(s){return w0.resolve(null).then(s).catch(ZD)}:fp;function ZD(s){setTimeout(function(){throw s})}function hp(s,o){var c=o,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),Ir(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Ir(o)}function ns(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function E0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var co=Math.random().toString(36).slice(2),Kr="__reactFiber$"+co,$u="__reactProps$"+co,yi="__reactContainer$"+co,pp="__reactEvents$"+co,eO="__reactListeners$"+co,tO="__reactHandles$"+co;function ta(s){var o=s[Kr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[yi]||c[Kr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=E0(s);s!==null;){if(c=s[Kr])return c;s=E0(s)}return o}s=c,c=s.parentNode}return null}function zu(s){return s=s[Kr]||s[yi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function td(s){return s[$u]||null}var mp=[],ho=-1;function rs(s){return{current:s}}function st(s){0>ho||(s.current=mp[ho],mp[ho]=null,ho--)}function nt(s,o){ho++,mp[ho]=s.current,s.current=o}var is={},on=rs(is),Cn=rs(!1),na=is;function po(s,o){var c=s.type.contextTypes;if(!c)return is;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function An(s){return s=s.childContextTypes,s!=null}function nd(){st(Cn),st(on)}function T0(s,o,c){if(on.current!==is)throw Error(t(168));nt(on,o),nt(Cn,c)}function b0(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,Le(s)||"Unknown",g));return ue({},c,h)}function rd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||is,na=on.current,nt(on,s),nt(Cn,Cn.current),!0}function S0(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=b0(s,o,na),h.__reactInternalMemoizedMergedChildContext=s,st(Cn),st(on),nt(on,s)):st(Cn),nt(Cn,c)}var _i=null,id=!1,gp=!1;function I0(s){_i===null?_i=[s]:_i.push(s)}function nO(s){id=!0,I0(s)}function ss(){if(!gp&&_i!==null){gp=!0;var s=0,o=$e;try{var c=_i;for($e=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}_i=null,id=!1}catch(g){throw _i!==null&&(_i=_i.slice(s+1)),Wa(Gs,ss),g}finally{$e=o,gp=!1}}return null}var mo=[],go=0,sd=null,ad=0,sr=[],ar=0,ra=null,wi=1,Ei="";function ia(s,o){mo[go++]=ad,mo[go++]=sd,sd=s,ad=o}function R0(s,o,c){sr[ar++]=wi,sr[ar++]=Ei,sr[ar++]=ra,ra=s;var h=wi;s=Ei;var g=32-En(h)-1;h&=~(1<<g),c+=1;var w=32-En(o)+g;if(30<w){var x=g-g%5;w=(h&(1<<x)-1).toString(32),h>>=x,g-=x,wi=1<<32-En(o)+g|c<<g|h,Ei=w+s}else wi=1<<w|c<<g|h,Ei=s}function vp(s){s.return!==null&&(ia(s,1),R0(s,1,0))}function yp(s){for(;s===sd;)sd=mo[--go],mo[go]=null,ad=mo[--go],mo[go]=null;for(;s===ra;)ra=sr[--ar],sr[ar]=null,Ei=sr[--ar],sr[ar]=null,wi=sr[--ar],sr[ar]=null}var Yn=null,Qn=null,dt=!1,Cr=null;function x0(s,o){var c=cr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function C0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Yn=s,Qn=ns(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Yn=s,Qn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ra!==null?{id:wi,overflow:Ei}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=cr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Yn=s,Qn=null,!0):!1;default:return!1}}function _p(s){return(s.mode&1)!==0&&(s.flags&128)===0}function wp(s){if(dt){var o=Qn;if(o){var c=o;if(!C0(s,o)){if(_p(s))throw Error(t(418));o=ns(c.nextSibling);var h=Yn;o&&C0(s,o)?x0(h,c):(s.flags=s.flags&-4097|2,dt=!1,Yn=s)}}else{if(_p(s))throw Error(t(418));s.flags=s.flags&-4097|2,dt=!1,Yn=s}}}function A0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Yn=s}function od(s){if(s!==Yn)return!1;if(!dt)return A0(s),dt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!dp(s.type,s.memoizedProps)),o&&(o=Qn)){if(_p(s))throw P0(),Error(t(418));for(;o;)x0(s,o),o=ns(o.nextSibling)}if(A0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Qn=ns(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Qn=null}}else Qn=Yn?ns(s.stateNode.nextSibling):null;return!0}function P0(){for(var s=Qn;s;)s=ns(s.nextSibling)}function vo(){Qn=Yn=null,dt=!1}function Ep(s){Cr===null?Cr=[s]:Cr.push(s)}var rO=V.ReactCurrentBatchConfig;function Bu(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(x){var j=g.refs;x===null?delete j[w]:j[w]=x},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ud(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function k0(s){var o=s._init;return o(s._payload)}function D0(s){function o(Y,B){if(s){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function c(Y,B){if(!s)return null;for(;B!==null;)o(Y,B),B=B.sibling;return null}function h(Y,B){for(Y=new Map;B!==null;)B.key!==null?Y.set(B.key,B):Y.set(B.index,B),B=B.sibling;return Y}function g(Y,B){return Y=hs(Y,B),Y.index=0,Y.sibling=null,Y}function w(Y,B,Q){return Y.index=Q,s?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=2,B):Q):(Y.flags|=2,B)):(Y.flags|=1048576,B)}function x(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function j(Y,B,Q,ae){return B===null||B.tag!==6?(B=fm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function U(Y,B,Q,ae){var Te=Q.type;return Te===k?ie(Y,B,Q.props.children,ae,Q.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&k0(Te)===B.type)?(ae=g(B,Q.props),ae.ref=Bu(Y,B,Q),ae.return=Y,ae):(ae=Dd(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Bu(Y,B,Q),ae.return=Y,ae)}function X(Y,B,Q,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=hm(Q,Y.mode,ae),B.return=Y,B):(B=g(B,Q.children||[]),B.return=Y,B)}function ie(Y,B,Q,ae,Te){return B===null||B.tag!==7?(B=fa(Q,Y.mode,ae,Te),B.return=Y,B):(B=g(B,Q),B.return=Y,B)}function se(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=fm(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return Q=Dd(B.type,B.key,B.props,null,Y.mode,Q),Q.ref=Bu(Y,null,B),Q.return=Y,Q;case z:return B=hm(B,Y.mode,Q),B.return=Y,B;case Ee:var ae=B._init;return se(Y,ae(B._payload),Q)}if(Ot(B)||de(B))return B=fa(B,Y.mode,Q,null),B.return=Y,B;ud(Y,B)}return null}function re(Y,B,Q,ae){var Te=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:j(Y,B,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===Te?U(Y,B,Q,ae):null;case z:return Q.key===Te?X(Y,B,Q,ae):null;case Ee:return Te=Q._init,re(Y,B,Te(Q._payload),ae)}if(Ot(Q)||de(Q))return Te!==null?null:ie(Y,B,Q,ae,null);ud(Y,Q)}return null}function he(Y,B,Q,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Y=Y.get(Q)||null,j(B,Y,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case H:return Y=Y.get(ae.key===null?Q:ae.key)||null,U(B,Y,ae,Te);case z:return Y=Y.get(ae.key===null?Q:ae.key)||null,X(B,Y,ae,Te);case Ee:var Ie=ae._init;return he(Y,B,Q,Ie(ae._payload),Te)}if(Ot(ae)||de(ae))return Y=Y.get(Q)||null,ie(B,Y,ae,Te,null);ud(B,ae)}return null}function ve(Y,B,Q,ae){for(var Te=null,Ie=null,Re=B,Pe=B=0,Wt=null;Re!==null&&Pe<Q.length;Pe++){Re.index>Pe?(Wt=Re,Re=null):Wt=Re.sibling;var Ke=re(Y,Re,Q[Pe],ae);if(Ke===null){Re===null&&(Re=Wt);break}s&&Re&&Ke.alternate===null&&o(Y,Re),B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke,Re=Wt}if(Pe===Q.length)return c(Y,Re),dt&&ia(Y,Pe),Te;if(Re===null){for(;Pe<Q.length;Pe++)Re=se(Y,Q[Pe],ae),Re!==null&&(B=w(Re,B,Pe),Ie===null?Te=Re:Ie.sibling=Re,Ie=Re);return dt&&ia(Y,Pe),Te}for(Re=h(Y,Re);Pe<Q.length;Pe++)Wt=he(Re,Y,Pe,Q[Pe],ae),Wt!==null&&(s&&Wt.alternate!==null&&Re.delete(Wt.key===null?Pe:Wt.key),B=w(Wt,B,Pe),Ie===null?Te=Wt:Ie.sibling=Wt,Ie=Wt);return s&&Re.forEach(function(ps){return o(Y,ps)}),dt&&ia(Y,Pe),Te}function we(Y,B,Q,ae){var Te=de(Q);if(typeof Te!="function")throw Error(t(150));if(Q=Te.call(Q),Q==null)throw Error(t(151));for(var Ie=Te=null,Re=B,Pe=B=0,Wt=null,Ke=Q.next();Re!==null&&!Ke.done;Pe++,Ke=Q.next()){Re.index>Pe?(Wt=Re,Re=null):Wt=Re.sibling;var ps=re(Y,Re,Ke.value,ae);if(ps===null){Re===null&&(Re=Wt);break}s&&Re&&ps.alternate===null&&o(Y,Re),B=w(ps,B,Pe),Ie===null?Te=ps:Ie.sibling=ps,Ie=ps,Re=Wt}if(Ke.done)return c(Y,Re),dt&&ia(Y,Pe),Te;if(Re===null){for(;!Ke.done;Pe++,Ke=Q.next())Ke=se(Y,Ke.value,ae),Ke!==null&&(B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke);return dt&&ia(Y,Pe),Te}for(Re=h(Y,Re);!Ke.done;Pe++,Ke=Q.next())Ke=he(Re,Y,Pe,Ke.value,ae),Ke!==null&&(s&&Ke.alternate!==null&&Re.delete(Ke.key===null?Pe:Ke.key),B=w(Ke,B,Pe),Ie===null?Te=Ke:Ie.sibling=Ke,Ie=Ke);return s&&Re.forEach(function(MO){return o(Y,MO)}),dt&&ia(Y,Pe),Te}function bt(Y,B,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var Te=Q.key,Ie=B;Ie!==null;){if(Ie.key===Te){if(Te=Q.type,Te===k){if(Ie.tag===7){c(Y,Ie.sibling),B=g(Ie,Q.props.children),B.return=Y,Y=B;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Ee&&k0(Te)===Ie.type){c(Y,Ie.sibling),B=g(Ie,Q.props),B.ref=Bu(Y,Ie,Q),B.return=Y,Y=B;break e}c(Y,Ie);break}else o(Y,Ie);Ie=Ie.sibling}Q.type===k?(B=fa(Q.props.children,Y.mode,ae,Q.key),B.return=Y,Y=B):(ae=Dd(Q.type,Q.key,Q.props,null,Y.mode,ae),ae.ref=Bu(Y,B,Q),ae.return=Y,Y=ae)}return x(Y);case z:e:{for(Ie=Q.key;B!==null;){if(B.key===Ie)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(Y,B.sibling),B=g(B,Q.children||[]),B.return=Y,Y=B;break e}else{c(Y,B);break}else o(Y,B);B=B.sibling}B=hm(Q,Y.mode,ae),B.return=Y,Y=B}return x(Y);case Ee:return Ie=Q._init,bt(Y,B,Ie(Q._payload),ae)}if(Ot(Q))return ve(Y,B,Q,ae);if(de(Q))return we(Y,B,Q,ae);ud(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(Y,B.sibling),B=g(B,Q),B.return=Y,Y=B):(c(Y,B),B=fm(Q,Y.mode,ae),B.return=Y,Y=B),x(Y)):c(Y,B)}return bt}var yo=D0(!0),O0=D0(!1),ld=rs(null),cd=null,_o=null,Tp=null;function bp(){Tp=_o=cd=null}function Sp(s){var o=ld.current;st(ld),s._currentValue=o}function Ip(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function wo(s,o){cd=s,Tp=_o=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Pn=!0),s.firstContext=null)}function or(s){var o=s._currentValue;if(Tp!==s)if(s={context:s,memoizedValue:o,next:null},_o===null){if(cd===null)throw Error(t(308));_o=s,cd.dependencies={lanes:0,firstContext:s}}else _o=_o.next=s;return o}var sa=null;function Rp(s){sa===null?sa=[s]:sa.push(s)}function N0(s,o,c,h){var g=o.interleaved;return g===null?(c.next=c,Rp(o)):(c.next=g.next,g.next=c),o.interleaved=c,Ti(s,h)}function Ti(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var as=!1;function xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function os(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,We&2){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,Ti(s,c)}return g=h.interleaved,g===null?(o.next=o,Rp(h)):(o.next=g.next,g.next=o),h.interleaved=o,Ti(s,c)}function dd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Qi(s,c)}}function L0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=x:w=w.next=x,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function fd(s,o,c,h){var g=s.updateQueue;as=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var U=j,X=U.next;U.next=null,x===null?w=X:x.next=X,x=U;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==x&&(j===null?ie.firstBaseUpdate=X:j.next=X,ie.lastBaseUpdate=U))}if(w!==null){var se=g.baseState;x=0,ie=X=U=null,j=w;do{var re=j.lane,he=j.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:he,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ve=s,we=j;switch(re=o,he=c,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){se=ve.call(he,se,re);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(he,se,re):ve,re==null)break e;se=ue({},se,re);break e;case 2:as=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[j]:re.push(j))}else he={eventTime:he,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(X=ie=he,U=se):ie=ie.next=he,x|=re;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(U=se),g.baseState=U,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,o=g.shared.interleaved,o!==null){g=o;do x|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);ua|=x,s.lanes=x,s.memoizedState=se}}function V0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Hu={},Yr=rs(Hu),Wu=rs(Hu),Gu=rs(Hu);function aa(s){if(s===Hu)throw Error(t(174));return s}function Cp(s,o){switch(nt(Gu,o),nt(Wu,s),nt(Yr,Hu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=rt(o,s)}st(Yr),nt(Yr,o)}function Eo(){st(Yr),st(Wu),st(Gu)}function F0(s){aa(Gu.current);var o=aa(Yr.current),c=rt(o,s.type);o!==c&&(nt(Wu,s),nt(Yr,c))}function Ap(s){Wu.current===s&&(st(Yr),st(Wu))}var ht=rs(0);function hd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pp=[];function kp(){for(var s=0;s<Pp.length;s++)Pp[s]._workInProgressVersionPrimary=null;Pp.length=0}var pd=V.ReactCurrentDispatcher,Dp=V.ReactCurrentBatchConfig,oa=0,pt=null,Vt=null,Bt=null,md=!1,Ku=!1,Yu=0,iO=0;function un(){throw Error(t(321))}function Op(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!xr(s[c],o[c]))return!1;return!0}function Np(s,o,c,h,g,w){if(oa=w,pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,pd.current=s===null||s.memoizedState===null?uO:lO,s=c(h,g),Ku){w=0;do{if(Ku=!1,Yu=0,25<=w)throw Error(t(301));w+=1,Bt=Vt=null,o.updateQueue=null,pd.current=cO,s=c(h,g)}while(Ku)}if(pd.current=yd,o=Vt!==null&&Vt.next!==null,oa=0,Bt=Vt=pt=null,md=!1,o)throw Error(t(300));return s}function Mp(){var s=Yu!==0;return Yu=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?pt.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function ur(){if(Vt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var o=Bt===null?pt.memoizedState:Bt.next;if(o!==null)Bt=o,Vt=s;else{if(s===null)throw Error(t(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Bt===null?pt.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function Qu(s,o){return typeof o=="function"?o(s):o}function Lp(s){var o=ur(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Vt,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var j=x=null,U=null,X=w;do{var ie=X.lane;if((oa&ie)===ie)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var se={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(j=U=se,x=h):U=U.next=se,pt.lanes|=ie,ua|=ie}X=X.next}while(X!==null&&X!==w);U===null?x=h:U.next=j,xr(h,o.memoizedState)||(Pn=!0),o.memoizedState=h,o.baseState=x,o.baseQueue=U,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do w=g.lane,pt.lanes|=w,ua|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Vp(s){var o=ur(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);xr(w,o.memoizedState)||(Pn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function j0(){}function q0(s,o){var c=pt,h=ur(),g=o(),w=!xr(h.memoizedState,g);if(w&&(h.memoizedState=g,Pn=!0),h=h.queue,Fp(z0.bind(null,c,h,s),[s]),h.getSnapshot!==o||w||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,Xu(9,$0.bind(null,c,h,g,o),void 0,null),Ht===null)throw Error(t(349));oa&30||U0(c,o,g)}return g}function U0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function $0(s,o,c,h){o.value=c,o.getSnapshot=h,B0(o)&&H0(s)}function z0(s,o,c){return c(function(){B0(o)&&H0(s)})}function B0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!xr(s,c)}catch{return!0}}function H0(s){var o=Ti(s,1);o!==null&&Dr(o,s,1,-1)}function W0(s){var o=Qr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:s},o.queue=s,s=s.dispatch=oO.bind(null,pt,s),[o.memoizedState,s]}function Xu(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=pt.updateQueue,o===null?(o={lastEffect:null,stores:null},pt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function G0(){return ur().memoizedState}function gd(s,o,c,h){var g=Qr();pt.flags|=s,g.memoizedState=Xu(1|o,c,void 0,h===void 0?null:h)}function vd(s,o,c,h){var g=ur();h=h===void 0?null:h;var w=void 0;if(Vt!==null){var x=Vt.memoizedState;if(w=x.destroy,h!==null&&Op(h,x.deps)){g.memoizedState=Xu(o,c,w,h);return}}pt.flags|=s,g.memoizedState=Xu(1|o,c,w,h)}function K0(s,o){return gd(8390656,8,s,o)}function Fp(s,o){return vd(2048,8,s,o)}function Y0(s,o){return vd(4,2,s,o)}function Q0(s,o){return vd(4,4,s,o)}function X0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function J0(s,o,c){return c=c!=null?c.concat([s]):null,vd(4,4,X0.bind(null,o,s),c)}function jp(){}function Z0(s,o){var c=ur();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Op(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function eT(s,o){var c=ur();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Op(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function tT(s,o,c){return oa&21?(xr(c,o)||(c=Qs(),pt.lanes|=c,ua|=c,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=c)}function sO(s,o){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var h=Dp.transition;Dp.transition={};try{s(!1),o()}finally{$e=c,Dp.transition=h}}function nT(){return ur().memoizedState}function aO(s,o,c){var h=ds(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},rT(s))iT(o,c);else if(c=N0(s,o,c,h),c!==null){var g=Sn();Dr(c,s,h,g),sT(c,o,h)}}function oO(s,o,c){var h=ds(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(rT(s))iT(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var x=o.lastRenderedState,j=w(x,c);if(g.hasEagerState=!0,g.eagerState=j,xr(j,x)){var U=o.interleaved;U===null?(g.next=g,Rp(o)):(g.next=U.next,U.next=g),o.interleaved=g;return}}catch{}finally{}c=N0(s,o,g,h),c!==null&&(g=Sn(),Dr(c,s,h,g),sT(c,o,h))}}function rT(s){var o=s.alternate;return s===pt||o!==null&&o===pt}function iT(s,o){Ku=md=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function sT(s,o,c){if(c&4194240){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Qi(s,c)}}var yd={readContext:or,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},uO={readContext:or,useCallback:function(s,o){return Qr().memoizedState=[s,o===void 0?null:o],s},useContext:or,useEffect:K0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,gd(4194308,4,X0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return gd(4194308,4,s,o)},useInsertionEffect:function(s,o){return gd(4,2,s,o)},useMemo:function(s,o){var c=Qr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Qr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=aO.bind(null,pt,s),[h.memoizedState,s]},useRef:function(s){var o=Qr();return s={current:s},o.memoizedState=s},useState:W0,useDebugValue:jp,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=W0(!1),o=s[0];return s=sO.bind(null,s[1]),Qr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=pt,g=Qr();if(dt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Ht===null)throw Error(t(349));oa&30||U0(h,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,K0(z0.bind(null,h,w,s),[s]),h.flags|=2048,Xu(9,$0.bind(null,h,w,c,o),void 0,null),c},useId:function(){var s=Qr(),o=Ht.identifierPrefix;if(dt){var c=Ei,h=wi;c=(h&~(1<<32-En(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Yu++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=iO++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},lO={readContext:or,useCallback:Z0,useContext:or,useEffect:Fp,useImperativeHandle:J0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:eT,useReducer:Lp,useRef:G0,useState:function(){return Lp(Qu)},useDebugValue:jp,useDeferredValue:function(s){var o=ur();return tT(o,Vt.memoizedState,s)},useTransition:function(){var s=Lp(Qu)[0],o=ur().memoizedState;return[s,o]},useMutableSource:j0,useSyncExternalStore:q0,useId:nT,unstable_isNewReconciler:!1},cO={readContext:or,useCallback:Z0,useContext:or,useEffect:Fp,useImperativeHandle:J0,useInsertionEffect:Y0,useLayoutEffect:Q0,useMemo:eT,useReducer:Vp,useRef:G0,useState:function(){return Vp(Qu)},useDebugValue:jp,useDeferredValue:function(s){var o=ur();return Vt===null?o.memoizedState=s:tT(o,Vt.memoizedState,s)},useTransition:function(){var s=Vp(Qu)[0],o=ur().memoizedState;return[s,o]},useMutableSource:j0,useSyncExternalStore:q0,useId:nT,unstable_isNewReconciler:!1};function Ar(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function qp(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var _d={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=ds(s),w=bi(h,g);w.payload=o,c!=null&&(w.callback=c),o=os(s,w,g),o!==null&&(Dr(o,s,g,h),dd(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Sn(),g=ds(s),w=bi(h,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=os(s,w,g),o!==null&&(Dr(o,s,g,h),dd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Sn(),h=ds(s),g=bi(c,h);g.tag=2,o!=null&&(g.callback=o),o=os(s,g,h),o!==null&&(Dr(o,s,h,c),dd(o,s,h))}};function aT(s,o,c,h,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,x):o.prototype&&o.prototype.isPureReactComponent?!Vu(c,h)||!Vu(g,w):!0}function oT(s,o,c){var h=!1,g=is,w=o.contextType;return typeof w=="object"&&w!==null?w=or(w):(g=An(o)?na:on.current,h=o.contextTypes,w=(h=h!=null)?po(s,g):is),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_d,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function uT(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&_d.enqueueReplaceState(o,o.state,null)}function Up(s,o,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},xp(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=or(w):(w=An(o)?na:on.current,g.context=po(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(qp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&_d.enqueueReplaceState(g,g.state,null),fd(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function To(s,o){try{var c="",h=o;do c+=xe(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function $p(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function zp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var dO=typeof WeakMap=="function"?WeakMap:Map;function lT(s,o,c){c=bi(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Rd||(Rd=!0,im=h),zp(s,o)},c}function cT(s,o,c){c=bi(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){zp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){zp(s,o),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),c}function dT(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new dO;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),s=IO.bind(null,s,o,c),o.then(s,s))}function fT(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function hT(s,o,c,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=bi(-1,1),o.tag=2,os(c,o,1))),c.lanes|=1),s)}var fO=V.ReactCurrentOwner,Pn=!1;function bn(s,o,c,h){o.child=s===null?O0(o,null,c,h):yo(o,s.child,c,h)}function pT(s,o,c,h,g){c=c.render;var w=o.ref;return wo(o,g),h=Np(s,o,c,h,w,g),c=Mp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Si(s,o,g)):(dt&&c&&vp(o),o.flags|=1,bn(s,o,h,g),o.child)}function mT(s,o,c,h,g){if(s===null){var w=c.type;return typeof w=="function"&&!dm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,gT(s,o,w,h,g)):(s=Dd(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!(s.lanes&g)){var x=w.memoizedProps;if(c=c.compare,c=c!==null?c:Vu,c(x,h)&&s.ref===o.ref)return Si(s,o,g)}return o.flags|=1,s=hs(w,h),s.ref=o.ref,s.return=o,o.child=s}function gT(s,o,c,h,g){if(s!==null){var w=s.memoizedProps;if(Vu(w,h)&&s.ref===o.ref)if(Pn=!1,o.pendingProps=h=w,(s.lanes&g)!==0)s.flags&131072&&(Pn=!0);else return o.lanes=s.lanes,Si(s,o,g)}return Bp(s,o,c,h,g)}function vT(s,o,c){var h=o.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(So,Xn),Xn|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(So,Xn),Xn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,nt(So,Xn),Xn|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,nt(So,Xn),Xn|=h;return bn(s,o,g,c),o.child}function yT(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Bp(s,o,c,h,g){var w=An(c)?na:on.current;return w=po(o,w),wo(o,g),c=Np(s,o,c,h,w,g),h=Mp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Si(s,o,g)):(dt&&h&&vp(o),o.flags|=1,bn(s,o,c,g),o.child)}function _T(s,o,c,h,g){if(An(c)){var w=!0;rd(o)}else w=!1;if(wo(o,g),o.stateNode===null)Ed(s,o),oT(o,c,h),Up(o,c,h,g),h=!0;else if(s===null){var x=o.stateNode,j=o.memoizedProps;x.props=j;var U=x.context,X=c.contextType;typeof X=="object"&&X!==null?X=or(X):(X=An(c)?na:on.current,X=po(o,X));var ie=c.getDerivedStateFromProps,se=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==h||U!==X)&&uT(o,x,h,X),as=!1;var re=o.memoizedState;x.state=re,fd(o,h,x,g),U=o.memoizedState,j!==h||re!==U||Cn.current||as?(typeof ie=="function"&&(qp(o,c,ie,h),U=o.memoizedState),(j=as||aT(o,c,j,h,re,U,X))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=U),x.props=h,x.state=U,x.context=X,h=j):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,M0(s,o),j=o.memoizedProps,X=o.type===o.elementType?j:Ar(o.type,j),x.props=X,se=o.pendingProps,re=x.context,U=c.contextType,typeof U=="object"&&U!==null?U=or(U):(U=An(c)?na:on.current,U=po(o,U));var he=c.getDerivedStateFromProps;(ie=typeof he=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==se||re!==U)&&uT(o,x,h,U),as=!1,re=o.memoizedState,x.state=re,fd(o,h,x,g);var ve=o.memoizedState;j!==se||re!==ve||Cn.current||as?(typeof he=="function"&&(qp(o,c,he,h),ve=o.memoizedState),(X=as||aT(o,c,X,h,re,ve,U)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ve,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ve,U)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ve),x.props=h,x.state=ve,x.context=U,h=X):(typeof x.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),h=!1)}return Hp(s,o,c,h,w,g)}function Hp(s,o,c,h,g,w){yT(s,o);var x=(o.flags&128)!==0;if(!h&&!x)return g&&S0(o,c,!1),Si(s,o,w);h=o.stateNode,fO.current=o;var j=x&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&x?(o.child=yo(o,s.child,null,w),o.child=yo(o,null,j,w)):bn(s,o,j,w),o.memoizedState=h.state,g&&S0(o,c,!0),o.child}function wT(s){var o=s.stateNode;o.pendingContext?T0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&T0(s,o.context,!1),Cp(s,o.containerInfo)}function ET(s,o,c,h,g){return vo(),Ep(g),o.flags|=256,bn(s,o,c,h),o.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Gp(s){return{baseLanes:s,cachePool:null,transitions:null}}function TT(s,o,c){var h=o.pendingProps,g=ht.current,w=!1,x=(o.flags&128)!==0,j;if((j=x)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),nt(ht,g&1),s===null)return wp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(x=h.children,s=h.fallback,w?(h=o.mode,w=o.child,x={mode:"hidden",children:x},!(h&1)&&w!==null?(w.childLanes=0,w.pendingProps=x):w=Od(x,h,0,null),s=fa(s,h,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Gp(c),o.memoizedState=Wp,s):Kp(o,x));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return hO(s,o,x,h,j,g,c);if(w){w=h.fallback,x=o.mode,g=s.child,j=g.sibling;var U={mode:"hidden",children:h.children};return!(x&1)&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=U,o.deletions=null):(h=hs(g,U),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?w=hs(j,w):(w=fa(w,x,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,x=s.child.memoizedState,x=x===null?Gp(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~c,o.memoizedState=Wp,h}return w=s.child,s=w.sibling,h=hs(w,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function Kp(s,o){return o=Od({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function wd(s,o,c,h){return h!==null&&Ep(h),yo(o,s.child,null,c),s=Kp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function hO(s,o,c,h,g,w,x){if(c)return o.flags&256?(o.flags&=-257,h=$p(Error(t(422))),wd(s,o,x,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=Od({mode:"visible",children:h.children},g,0,null),w=fa(w,g,x,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,o.mode&1&&yo(o,s.child,null,x),o.child.memoizedState=Gp(x),o.memoizedState=Wp,w);if(!(o.mode&1))return wd(s,o,x,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,w=Error(t(419)),h=$p(w,h,void 0),wd(s,o,x,h)}if(j=(x&s.childLanes)!==0,Pn||j){if(h=Ht,h!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|x)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ti(s,g),Dr(h,s,g,-1))}return cm(),h=$p(Error(t(421))),wd(s,o,x,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=RO.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Qn=ns(g.nextSibling),Yn=o,dt=!0,Cr=null,s!==null&&(sr[ar++]=wi,sr[ar++]=Ei,sr[ar++]=ra,wi=s.id,Ei=s.overflow,ra=o),o=Kp(o,h.children),o.flags|=4096,o)}function bT(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Ip(s.return,o,c)}function Yp(s,o,c,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function ST(s,o,c){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(bn(s,o,h.children,c),h=ht.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bT(s,c,o);else if(s.tag===19)bT(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&hd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Yp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&hd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Yp(o,!0,c,null,w);break;case"together":Yp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ed(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Si(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ua|=o.lanes,!(c&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=hs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=hs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function pO(s,o,c){switch(o.tag){case 3:wT(o),vo();break;case 5:F0(o);break;case 1:An(o.type)&&rd(o);break;case 4:Cp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;nt(ld,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):c&o.child.childLanes?TT(s,o,c):(nt(ht,ht.current&1),s=Si(s,o,c),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(c&o.childLanes)!==0,s.flags&128){if(h)return ST(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,vT(s,o,c)}return Si(s,o,c)}var IT,Qp,RT,xT;IT=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qp=function(){},RT=function(s,o,c,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,aa(Yr.current);var w=null;switch(c){case"input":g=gr(s,g),h=gr(s,h),w=[];break;case"select":g=ue({},g,{value:void 0}),h=ue({},h,{value:void 0}),w=[];break;case"textarea":g=Xt(s,g),h=Xt(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ed)}yu(c,h);var x;c=null;for(X in g)if(!h.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var j=g[X];for(x in j)j.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in h){var U=h[X];if(j=g!=null?g[X]:void 0,h.hasOwnProperty(X)&&U!==j&&(U!=null||j!=null))if(X==="style")if(j){for(x in j)!j.hasOwnProperty(x)||U&&U.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in U)U.hasOwnProperty(x)&&j[x]!==U[x]&&(c||(c={}),c[x]=U[x])}else c||(w||(w=[]),w.push(X,c)),c=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,j=j?j.__html:void 0,U!=null&&j!==U&&(w=w||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&it("scroll",s),w||j===U||(w=[])):(w=w||[]).push(X,U))}c&&(w=w||[]).push("style",c);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},xT=function(s,o,c,h){c!==h&&(o.flags|=4)};function Ju(s,o){if(!dt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ln(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function mO(s,o,c){var h=o.pendingProps;switch(yp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return An(o.type)&&nd(),ln(o),null;case 3:return h=o.stateNode,Eo(),st(Cn),st(on),kp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(od(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Cr!==null&&(om(Cr),Cr=null))),Qp(s,o),ln(o),null;case 5:Ap(o);var g=aa(Gu.current);if(c=o.type,s!==null&&o.stateNode!=null)RT(s,o,c,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return ln(o),null}if(s=aa(Yr.current),od(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[Kr]=o,h[$u]=w,s=(o.mode&1)!==0,c){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(g=0;g<ju.length;g++)it(ju[g],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":Ue(h,w),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},it("invalid",h);break;case"textarea":ut(h,w),it("invalid",h)}yu(c,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var j=w[x];x==="children"?typeof j=="string"?h.textContent!==j&&(w.suppressHydrationWarning!==!0&&Zc(h.textContent,j,s),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(w.suppressHydrationWarning!==!0&&Zc(h.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&it("scroll",h)}switch(c){case"input":yn(h),$n(h,w,!0);break;case"textarea":yn(h),zn(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=ed)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=lt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(c,{is:h.is}):(s=x.createElement(c),c==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,c),s[Kr]=o,s[$u]=h,IT(s,o,!1,!1),o.stateNode=s;e:{switch(x=_u(c,h),c){case"dialog":it("cancel",s),it("close",s),g=h;break;case"iframe":case"object":case"embed":it("load",s),g=h;break;case"video":case"audio":for(g=0;g<ju.length;g++)it(ju[g],s);g=h;break;case"source":it("error",s),g=h;break;case"img":case"image":case"link":it("error",s),it("load",s),g=h;break;case"details":it("toggle",s),g=h;break;case"input":Ue(s,h),g=gr(s,h),it("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ue({},h,{value:void 0}),it("invalid",s);break;case"textarea":ut(s,h),g=Xt(s,h),it("invalid",s);break;default:g=h}yu(c,g),j=g;for(w in j)if(j.hasOwnProperty(w)){var U=j[w];w==="style"?Bn(s,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Hi(s,U)):w==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&vr(s,U):typeof U=="number"&&vr(s,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?U!=null&&w==="onScroll"&&it("scroll",s):U!=null&&F(s,w,U,x))}switch(c){case"input":yn(s),$n(s,h,!1);break;case"textarea":yn(s),zn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Nt(s,!!h.multiple,w,!1):h.defaultValue!=null&&Nt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ed)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(s&&o.stateNode!=null)xT(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=aa(Gu.current),aa(Yr.current),od(o)){if(h=o.stateNode,c=o.memoizedProps,h[Kr]=o,(w=h.nodeValue!==c)&&(s=Yn,s!==null))switch(s.tag){case 3:Zc(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Zc(h.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Kr]=o,o.stateNode=h}return ln(o),null;case 13:if(st(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(dt&&Qn!==null&&o.mode&1&&!(o.flags&128))P0(),vo(),o.flags|=98560,w=!1;else if(w=od(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Kr]=o}else vo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ln(o),w=!1}else Cr!==null&&(om(Cr),Cr=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?Ft===0&&(Ft=3):cm())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return Eo(),Qp(s,o),s===null&&qu(o.stateNode.containerInfo),ln(o),null;case 10:return Sp(o.type._context),ln(o),null;case 17:return An(o.type)&&nd(),ln(o),null;case 19:if(st(ht),w=o.memoizedState,w===null)return ln(o),null;if(h=(o.flags&128)!==0,x=w.rendering,x===null)if(h)Ju(w,!1);else{if(Ft!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(x=hd(s),x!==null){for(o.flags|=128,Ju(w,!1),h=x.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,s=h,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}w.tail!==null&&tt()>Io&&(o.flags|=128,h=!0,Ju(w,!1),o.lanes=4194304)}else{if(!h)if(s=hd(x),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Ju(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!dt)return ln(o),null}else 2*tt()-w.renderingStartTime>Io&&c!==1073741824&&(o.flags|=128,h=!0,Ju(w,!1),o.lanes=4194304);w.isBackwards?(x.sibling=o.child,o.child=x):(c=w.last,c!==null?c.sibling=x:o.child=x,w.last=x)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=tt(),o.sibling=null,c=ht.current,nt(ht,h?c&1|2:c&1),o):(ln(o),null);case 22:case 23:return lm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Xn&1073741824&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function gO(s,o){switch(yp(o),o.tag){case 1:return An(o.type)&&nd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Eo(),st(Cn),st(on),kp(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Ap(o),null;case 13:if(st(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));vo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return st(ht),null;case 4:return Eo(),null;case 10:return Sp(o.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Td=!1,cn=!1,vO=typeof WeakSet=="function"?WeakSet:Set,ge=null;function bo(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){yt(s,o,h)}else c.current=null}function Xp(s,o,c){try{c()}catch(h){yt(s,o,h)}}var CT=!1;function yO(s,o){if(lp=Zi,s=a0(),tp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var x=0,j=-1,U=-1,X=0,ie=0,se=s,re=null;t:for(;;){for(var he;se!==c||g!==0&&se.nodeType!==3||(j=x+g),se!==w||h!==0&&se.nodeType!==3||(U=x+h),se.nodeType===3&&(x+=se.nodeValue.length),(he=se.firstChild)!==null;)re=se,se=he;for(;;){if(se===s)break t;if(re===c&&++X===g&&(j=x),re===w&&++ie===h&&(U=x),(he=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=he}c=j===-1||U===-1?null:{start:j,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(cp={focusedElem:s,selectionRange:c},Zi=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,bt=ve.memoizedState,Y=o.stateNode,B=Y.getSnapshotBeforeUpdate(o.elementType===o.type?we:Ar(o.type,we),bt);Y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){yt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ve=CT,CT=!1,ve}function Zu(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Xp(o,c,w)}g=g.next}while(g!==h)}}function bd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Jp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function AT(s){var o=s.alternate;o!==null&&(s.alternate=null,AT(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Kr],delete o[$u],delete o[pp],delete o[eO],delete o[tO])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function PT(s){return s.tag===5||s.tag===3||s.tag===4}function kT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||PT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zp(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ed));else if(h!==4&&(s=s.child,s!==null))for(Zp(s,o,c),s=s.sibling;s!==null;)Zp(s,o,c),s=s.sibling}function em(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(em(s,o,c),s=s.sibling;s!==null;)em(s,o,c),s=s.sibling}var en=null,Pr=!1;function us(s,o,c){for(c=c.child;c!==null;)DT(s,o,c),c=c.sibling}function DT(s,o,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Ks,c)}catch{}switch(c.tag){case 5:cn||bo(c,o);case 6:var h=en,g=Pr;en=null,us(s,o,c),en=h,Pr=g,en!==null&&(Pr?(s=en,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):en.removeChild(c.stateNode));break;case 18:en!==null&&(Pr?(s=en,c=c.stateNode,s.nodeType===8?hp(s.parentNode,c):s.nodeType===1&&hp(s,c),Ir(s)):hp(en,c.stateNode));break;case 4:h=en,g=Pr,en=c.stateNode.containerInfo,Pr=!0,us(s,o,c),en=h,Pr=g;break;case 0:case 11:case 14:case 15:if(!cn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&(w&2||w&4)&&Xp(c,o,x),g=g.next}while(g!==h)}us(s,o,c);break;case 1:if(!cn&&(bo(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){yt(c,o,j)}us(s,o,c);break;case 21:us(s,o,c);break;case 22:c.mode&1?(cn=(h=cn)||c.memoizedState!==null,us(s,o,c),cn=h):us(s,o,c);break;default:us(s,o,c)}}function OT(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new vO),o.forEach(function(h){var g=xO.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function kr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=s,x=o,j=x;e:for(;j!==null;){switch(j.tag){case 5:en=j.stateNode,Pr=!1;break e;case 3:en=j.stateNode.containerInfo,Pr=!0;break e;case 4:en=j.stateNode.containerInfo,Pr=!0;break e}j=j.return}if(en===null)throw Error(t(160));DT(w,x,g),en=null,Pr=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(X){yt(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)NT(o,s),o=o.sibling}function NT(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(o,s),Xr(s),h&4){try{Zu(3,s,s.return),bd(3,s)}catch(we){yt(s,s.return,we)}try{Zu(5,s,s.return)}catch(we){yt(s,s.return,we)}}break;case 1:kr(o,s),Xr(s),h&512&&c!==null&&bo(c,c.return);break;case 5:if(kr(o,s),Xr(s),h&512&&c!==null&&bo(c,c.return),s.flags&32){var g=s.stateNode;try{vr(g,"")}catch(we){yt(s,s.return,we)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=c!==null?c.memoizedProps:w,j=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{j==="input"&&w.type==="radio"&&w.name!=null&&Un(g,w),_u(j,x);var X=_u(j,w);for(x=0;x<U.length;x+=2){var ie=U[x],se=U[x+1];ie==="style"?Bn(g,se):ie==="dangerouslySetInnerHTML"?Hi(g,se):ie==="children"?vr(g,se):F(g,ie,se,X)}switch(j){case"input":Ve(g,w);break;case"textarea":wn(g,w);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var he=w.value;he!=null?Nt(g,!!w.multiple,he,!1):re!==!!w.multiple&&(w.defaultValue!=null?Nt(g,!!w.multiple,w.defaultValue,!0):Nt(g,!!w.multiple,w.multiple?[]:"",!1))}g[$u]=w}catch(we){yt(s,s.return,we)}}break;case 6:if(kr(o,s),Xr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(we){yt(s,s.return,we)}}break;case 3:if(kr(o,s),Xr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(we){yt(s,s.return,we)}break;case 4:kr(o,s),Xr(s);break;case 13:kr(o,s),Xr(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(rm=tt())),h&4&&OT(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(cn=(X=cn)||ie,kr(o,s),cn=X):kr(o,s),Xr(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&s.mode&1)for(ge=s,ie=s.child;ie!==null;){for(se=ge=ie;ge!==null;){switch(re=ge,he=re.child,re.tag){case 0:case 11:case 14:case 15:Zu(4,re,re.return);break;case 1:bo(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){h=re,c=re.return;try{o=h,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){yt(h,c,we)}}break;case 5:bo(re,re.return);break;case 22:if(re.memoizedState!==null){VT(se);continue}}he!==null?(he.return=re,ge=he):VT(se)}ie=ie.sibling}e:for(ie=null,se=s;;){if(se.tag===5){if(ie===null){ie=se;try{g=se.stateNode,X?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(j=se.stateNode,U=se.memoizedProps.style,x=U!=null&&U.hasOwnProperty("display")?U.display:null,j.style.display=In("display",x))}catch(we){yt(s,s.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=X?"":se.memoizedProps}catch(we){yt(s,s.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:kr(o,s),Xr(s),h&4&&OT(s);break;case 21:break;default:kr(o,s),Xr(s)}}function Xr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(PT(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(vr(g,""),h.flags&=-33);var w=kT(s);em(s,w,g);break;case 3:case 4:var x=h.stateNode.containerInfo,j=kT(s);Zp(s,j,x);break;default:throw Error(t(161))}}catch(U){yt(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function _O(s,o,c){ge=s,MT(s)}function MT(s,o,c){for(var h=(s.mode&1)!==0;ge!==null;){var g=ge,w=g.child;if(g.tag===22&&h){var x=g.memoizedState!==null||Td;if(!x){var j=g.alternate,U=j!==null&&j.memoizedState!==null||cn;j=Td;var X=cn;if(Td=x,(cn=U)&&!X)for(ge=g;ge!==null;)x=ge,U=x.child,x.tag===22&&x.memoizedState!==null?FT(g):U!==null?(U.return=x,ge=U):FT(g);for(;w!==null;)ge=w,MT(w),w=w.sibling;ge=g,Td=j,cn=X}LT(s)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ge=w):LT(s)}}function LT(s){for(;ge!==null;){var o=ge;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:cn||bd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!cn)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Ar(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&V0(o,w,h);break;case 3:var x=o.updateQueue;if(x!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}V0(o,x,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Ir(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&Jp(o)}catch(re){yt(o,o.return,re)}}if(o===s){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function VT(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function FT(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{bd(4,o)}catch(U){yt(o,c,U)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(U){yt(o,g,U)}}var w=o.return;try{Jp(o)}catch(U){yt(o,w,U)}break;case 5:var x=o.return;try{Jp(o)}catch(U){yt(o,x,U)}}}catch(U){yt(o,o.return,U)}if(o===s){ge=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ge=j;break}ge=o.return}}var wO=Math.ceil,Sd=V.ReactCurrentDispatcher,tm=V.ReactCurrentOwner,lr=V.ReactCurrentBatchConfig,We=0,Ht=null,At=null,tn=0,Xn=0,So=rs(0),Ft=0,el=null,ua=0,Id=0,nm=0,tl=null,kn=null,rm=0,Io=1/0,Ii=null,Rd=!1,im=null,ls=null,xd=!1,cs=null,Cd=0,nl=0,sm=null,Ad=-1,Pd=0;function Sn(){return We&6?tt():Ad!==-1?Ad:Ad=tt()}function ds(s){return s.mode&1?We&2&&tn!==0?tn&-tn:rO.transition!==null?(Pd===0&&(Pd=Qs()),Pd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Pu(s.type)),s):1}function Dr(s,o,c,h){if(50<nl)throw nl=0,sm=null,Error(t(185));Yi(s,c,h),(!(We&2)||s!==Ht)&&(s===Ht&&(!(We&2)&&(Id|=c),Ft===4&&fs(s,tn)),Dn(s,h),c===1&&We===0&&!(o.mode&1)&&(Io=tt()+500,id&&ss()))}function Dn(s,o){var c=s.callbackNode;hi(s,o);var h=Ys(s,s===Ht?tn:0);if(h===0)c!==null&&Iu(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Iu(c),o===1)s.tag===0?nO(qT.bind(null,s)):I0(qT.bind(null,s)),JD(function(){!(We&6)&&ss()}),c=null;else{switch(Xi(h)){case 1:c=Gs;break;case 4:c=Wi;break;case 16:c=nr;break;case 536870912:c=Pc;break;default:c=nr}c=KT(c,jT.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function jT(s,o){if(Ad=-1,Pd=0,We&6)throw Error(t(327));var c=s.callbackNode;if(Ro()&&s.callbackNode!==c)return null;var h=Ys(s,s===Ht?tn:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=kd(s,h);else{o=h;var g=We;We|=2;var w=$T();(Ht!==s||tn!==o)&&(Ii=null,Io=tt()+500,ca(s,o));do try{bO();break}catch(j){UT(s,j)}while(!0);bp(),Sd.current=w,We=g,At!==null?o=0:(Ht=null,tn=0,o=Ft)}if(o!==0){if(o===2&&(g=Wn(s),g!==0&&(h=g,o=am(s,g))),o===1)throw c=el,ca(s,0),fs(s,h),Dn(s,tt()),c;if(o===6)fs(s,h);else{if(g=s.current.alternate,!(h&30)&&!EO(g)&&(o=kd(s,h),o===2&&(w=Wn(s),w!==0&&(h=w,o=am(s,w))),o===1))throw c=el,ca(s,0),fs(s,h),Dn(s,tt()),c;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:da(s,kn,Ii);break;case 3:if(fs(s,h),(h&130023424)===h&&(o=rm+500-tt(),10<o)){if(Ys(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Sn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=fp(da.bind(null,s,kn,Ii),o);break}da(s,kn,Ii);break;case 4:if(fs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var x=31-En(h);w=1<<x,x=o[x],x>g&&(g=x),h&=~w}if(h=g,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*wO(h/1960))-h,10<h){s.timeoutHandle=fp(da.bind(null,s,kn,Ii),h);break}da(s,kn,Ii);break;case 5:da(s,kn,Ii);break;default:throw Error(t(329))}}}return Dn(s,tt()),s.callbackNode===c?jT.bind(null,s):null}function am(s,o){var c=tl;return s.current.memoizedState.isDehydrated&&(ca(s,o).flags|=256),s=kd(s,o),s!==2&&(o=kn,kn=c,o!==null&&om(o)),s}function om(s){kn===null?kn=s:kn.push.apply(kn,s)}function EO(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!xr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fs(s,o){for(o&=~nm,o&=~Id,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-En(o),h=1<<c;s[c]=-1,o&=~h}}function qT(s){if(We&6)throw Error(t(327));Ro();var o=Ys(s,0);if(!(o&1))return Dn(s,tt()),null;var c=kd(s,o);if(s.tag!==0&&c===2){var h=Wn(s);h!==0&&(o=h,c=am(s,h))}if(c===1)throw c=el,ca(s,0),fs(s,o),Dn(s,tt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,da(s,kn,Ii),Dn(s,tt()),null}function um(s,o){var c=We;We|=1;try{return s(o)}finally{We=c,We===0&&(Io=tt()+500,id&&ss())}}function la(s){cs!==null&&cs.tag===0&&!(We&6)&&Ro();var o=We;We|=1;var c=lr.transition,h=$e;try{if(lr.transition=null,$e=1,s)return s()}finally{$e=h,lr.transition=c,We=o,!(We&6)&&ss()}}function lm(){Xn=So.current,st(So)}function ca(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,XD(c)),At!==null)for(c=At.return;c!==null;){var h=c;switch(yp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&nd();break;case 3:Eo(),st(Cn),st(on),kp();break;case 5:Ap(h);break;case 4:Eo();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Sp(h.type._context);break;case 22:case 23:lm()}c=c.return}if(Ht=s,At=s=hs(s.current,null),tn=Xn=o,Ft=0,el=null,nm=Id=ua=0,kn=tl=null,sa!==null){for(o=0;o<sa.length;o++)if(c=sa[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var x=w.next;w.next=g,h.next=x}c.pending=h}sa=null}return s}function UT(s,o){do{var c=At;try{if(bp(),pd.current=yd,md){for(var h=pt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}md=!1}if(oa=0,Bt=Vt=pt=null,Ku=!1,Yu=0,tm.current=null,c===null||c.return===null){Ft=1,el=o,At=null;break}e:{var w=s,x=c.return,j=c,U=o;if(o=tn,j.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,ie=j,se=ie.tag;if(!(ie.mode&1)&&(se===0||se===11||se===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var he=fT(x);if(he!==null){he.flags&=-257,hT(he,x,j,w,o),he.mode&1&&dT(w,X,o),o=he,U=X;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(U),o.updateQueue=we}else ve.add(U);break e}else{if(!(o&1)){dT(w,X,o),cm();break e}U=Error(t(426))}}else if(dt&&j.mode&1){var bt=fT(x);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),hT(bt,x,j,w,o),Ep(To(U,j));break e}}w=U=To(U,j),Ft!==4&&(Ft=2),tl===null?tl=[w]:tl.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var Y=lT(w,U,o);L0(w,Y);break e;case 1:j=U;var B=w.type,Q=w.stateNode;if(!(w.flags&128)&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ls===null||!ls.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=cT(w,j,o);L0(w,ae);break e}}w=w.return}while(w!==null)}BT(c)}catch(Te){o=Te,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function $T(){var s=Sd.current;return Sd.current=yd,s===null?yd:s}function cm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||!(ua&268435455)&&!(Id&268435455)||fs(Ht,tn)}function kd(s,o){var c=We;We|=2;var h=$T();(Ht!==s||tn!==o)&&(Ii=null,ca(s,o));do try{TO();break}catch(g){UT(s,g)}while(!0);if(bp(),We=c,Sd.current=h,At!==null)throw Error(t(261));return Ht=null,tn=0,Ft}function TO(){for(;At!==null;)zT(At)}function bO(){for(;At!==null&&!Cc();)zT(At)}function zT(s){var o=GT(s.alternate,s,Xn);s.memoizedProps=s.pendingProps,o===null?BT(s):At=o,tm.current=null}function BT(s){var o=s;do{var c=o.alternate;if(s=o.return,o.flags&32768){if(c=gO(c,o),c!==null){c.flags&=32767,At=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ft=6,At=null;return}}else if(c=mO(c,o,Xn),c!==null){At=c;return}if(o=o.sibling,o!==null){At=o;return}At=o=s}while(o!==null);Ft===0&&(Ft=5)}function da(s,o,c){var h=$e,g=lr.transition;try{lr.transition=null,$e=1,SO(s,o,c,h)}finally{lr.transition=g,$e=h}return null}function SO(s,o,c,h){do Ro();while(cs!==null);if(We&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ze(s,w),s===Ht&&(At=Ht=null,tn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||xd||(xd=!0,KT(nr,function(){return Ro(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=lr.transition,lr.transition=null;var x=$e;$e=1;var j=We;We|=4,tm.current=null,yO(s,c),NT(c,s),BD(cp),Zi=!!lp,cp=lp=null,s.current=c,_O(c),Gh(),We=j,$e=x,lr.transition=w}else s.current=c;if(xd&&(xd=!1,cs=s,Cd=g),w=s.pendingLanes,w===0&&(ls=null),kc(c.stateNode),Dn(s,tt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Rd)throw Rd=!1,s=im,im=null,s;return Cd&1&&s.tag!==0&&Ro(),w=s.pendingLanes,w&1?s===sm?nl++:(nl=0,sm=s):nl=0,ss(),null}function Ro(){if(cs!==null){var s=Xi(Cd),o=lr.transition,c=$e;try{if(lr.transition=null,$e=16>s?16:s,cs===null)var h=!1;else{if(s=cs,cs=null,Cd=0,We&6)throw Error(t(331));var g=We;for(We|=4,ge=s.current;ge!==null;){var w=ge,x=w.child;if(ge.flags&16){var j=w.deletions;if(j!==null){for(var U=0;U<j.length;U++){var X=j[U];for(ge=X;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:Zu(8,ie,w)}var se=ie.child;if(se!==null)se.return=ie,ge=se;else for(;ge!==null;){ie=ge;var re=ie.sibling,he=ie.return;if(AT(ie),ie===X){ge=null;break}if(re!==null){re.return=he,ge=re;break}ge=he}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var bt=we.sibling;we.sibling=null,we=bt}while(we!==null)}}ge=w}}if(w.subtreeFlags&2064&&x!==null)x.return=w,ge=x;else e:for(;ge!==null;){if(w=ge,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Zu(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var B=s.current;for(ge=B;ge!==null;){x=ge;var Q=x.child;if(x.subtreeFlags&2064&&Q!==null)Q.return=x,ge=Q;else e:for(x=B;ge!==null;){if(j=ge,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:bd(9,j)}}catch(Te){yt(j,j.return,Te)}if(j===x){ge=null;break e}var ae=j.sibling;if(ae!==null){ae.return=j.return,ge=ae;break e}ge=j.return}}if(We=g,ss(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Ks,s)}catch{}h=!0}return h}finally{$e=c,lr.transition=o}}return!1}function HT(s,o,c){o=To(c,o),o=lT(s,o,1),s=os(s,o,1),o=Sn(),s!==null&&(Yi(s,1,o),Dn(s,o))}function yt(s,o,c){if(s.tag===3)HT(s,s,c);else for(;o!==null;){if(o.tag===3){HT(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ls===null||!ls.has(h))){s=To(c,s),s=cT(o,s,1),o=os(o,s,1),s=Sn(),o!==null&&(Yi(o,1,s),Dn(o,s));break}}o=o.return}}function IO(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Sn(),s.pingedLanes|=s.suspendedLanes&c,Ht===s&&(tn&c)===c&&(Ft===4||Ft===3&&(tn&130023424)===tn&&500>tt()-rm?ca(s,0):nm|=c),Dn(s,o)}function WT(s,o){o===0&&(s.mode&1?(o=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):o=1);var c=Sn();s=Ti(s,o),s!==null&&(Yi(s,o,c),Dn(s,c))}function RO(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),WT(s,c)}function xO(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),WT(s,c)}var GT;GT=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Cn.current)Pn=!0;else{if(!(s.lanes&c)&&!(o.flags&128))return Pn=!1,pO(s,o,c);Pn=!!(s.flags&131072)}else Pn=!1,dt&&o.flags&1048576&&R0(o,ad,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ed(s,o),s=o.pendingProps;var g=po(o,on.current);wo(o,c),g=Np(null,o,h,s,g,c);var w=Mp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,An(h)?(w=!0,rd(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,xp(o),g.updater=_d,o.stateNode=g,g._reactInternals=o,Up(o,h,s,c),o=Hp(null,o,h,!0,w,c)):(o.tag=0,dt&&w&&vp(o),bn(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Ed(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=AO(h),s=Ar(h,s),g){case 0:o=Bp(null,o,h,s,c);break e;case 1:o=_T(null,o,h,s,c);break e;case 11:o=pT(null,o,h,s,c);break e;case 14:o=mT(null,o,h,Ar(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),Bp(s,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),_T(s,o,h,g,c);case 3:e:{if(wT(o),s===null)throw Error(t(387));h=o.pendingProps,w=o.memoizedState,g=w.element,M0(s,o),fd(o,h,null,c);var x=o.memoizedState;if(h=x.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=To(Error(t(423)),o),o=ET(s,o,h,c,g);break e}else if(h!==g){g=To(Error(t(424)),o),o=ET(s,o,h,c,g);break e}else for(Qn=ns(o.stateNode.containerInfo.firstChild),Yn=o,dt=!0,Cr=null,c=O0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(vo(),h===g){o=Si(s,o,c);break e}bn(s,o,h,c)}o=o.child}return o;case 5:return F0(o),s===null&&wp(o),h=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,dp(h,g)?x=null:w!==null&&dp(h,w)&&(o.flags|=32),yT(s,o),bn(s,o,x,c),o.child;case 6:return s===null&&wp(o),null;case 13:return TT(s,o,c);case 4:return Cp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=yo(o,null,h,c):bn(s,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),pT(s,o,h,g,c);case 7:return bn(s,o,o.pendingProps,c),o.child;case 8:return bn(s,o,o.pendingProps.children,c),o.child;case 12:return bn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,x=g.value,nt(ld,h._currentValue),h._currentValue=x,w!==null)if(xr(w.value,x)){if(w.children===g.children&&!Cn.current){o=Si(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var j=w.dependencies;if(j!==null){x=w.child;for(var U=j.firstContext;U!==null;){if(U.context===h){if(w.tag===1){U=bi(-1,c&-c),U.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),X.pending=U}}w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),Ip(w.return,c,o),j.lanes|=c;break}U=U.next}}else if(w.tag===10)x=w.type===o.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(t(341));x.lanes|=c,j=x.alternate,j!==null&&(j.lanes|=c),Ip(x,c,o),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===o){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}bn(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,wo(o,c),g=or(g),h=h(g),o.flags|=1,bn(s,o,h,c),o.child;case 14:return h=o.type,g=Ar(h,o.pendingProps),g=Ar(h.type,g),mT(s,o,h,g,c);case 15:return gT(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Ar(h,g),Ed(s,o),o.tag=1,An(h)?(s=!0,rd(o)):s=!1,wo(o,c),oT(o,h,g),Up(o,h,g,c),Hp(null,o,h,!0,s,c);case 19:return ST(s,o,c);case 22:return vT(s,o,c)}throw Error(t(156,o.tag))};function KT(s,o){return Wa(s,o)}function CO(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(s,o,c,h){return new CO(s,o,c,h)}function dm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AO(s){if(typeof s=="function")return dm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===q)return 11;if(s===be)return 14}return 2}function hs(s,o){var c=s.alternate;return c===null?(c=cr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Dd(s,o,c,h,g,w){var x=2;if(h=s,typeof s=="function")dm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case k:return fa(c.children,g,w,o);case R:x=8,g|=8;break;case C:return s=cr(12,c,o,g|2),s.elementType=C,s.lanes=w,s;case D:return s=cr(13,c,o,g),s.elementType=D,s.lanes=w,s;case ce:return s=cr(19,c,o,g),s.elementType=ce,s.lanes=w,s;case _e:return Od(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case M:x=9;break e;case q:x=11;break e;case be:x=14;break e;case Ee:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=cr(x,c,o,g),o.elementType=s,o.type=h,o.lanes=w,o}function fa(s,o,c,h){return s=cr(7,s,h,o),s.lanes=c,s}function Od(s,o,c,h){return s=cr(22,s,h,o),s.elementType=_e,s.lanes=c,s.stateNode={isHidden:!1},s}function fm(s,o,c){return s=cr(6,s,null,o),s.lanes=c,s}function hm(s,o,c){return o=cr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PO(s,o,c,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function pm(s,o,c,h,g,w,x,j,U){return s=new PO(s,o,c,j,U),o===1?(o=1,w===!0&&(o|=8)):o=0,w=cr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(w),s}function kO(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function YT(s){if(!s)return is;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(An(c))return b0(s,c,o)}return o}function QT(s,o,c,h,g,w,x,j,U){return s=pm(c,h,!0,s,g,w,x,j,U),s.context=YT(null),c=s.current,h=Sn(),g=ds(c),w=bi(h,g),w.callback=o??null,os(c,w,g),s.current.lanes=g,Yi(s,g,h),Dn(s,h),s}function Nd(s,o,c,h){var g=o.current,w=Sn(),x=ds(g);return c=YT(c),o.context===null?o.context=c:o.pendingContext=c,o=bi(w,x),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=os(g,o,x),s!==null&&(Dr(s,g,x,w),dd(s,g,x)),x}function Md(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function XT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function mm(s,o){XT(s,o),(s=s.alternate)&&XT(s,o)}var JT=typeof reportError=="function"?reportError:function(s){console.error(s)};function gm(s){this._internalRoot=s}Ld.prototype.render=gm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Nd(s,o,null,null)},Ld.prototype.unmount=gm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;la(function(){Nd(null,s,null,null)}),o[yi]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Br.length&&o!==0&&o<Br[c].priority;c++);Br.splice(c,0,s),c===0&&jc(s)}};function vm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function DO(s,o,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var X=Md(x);w.call(X)}}var x=QT(o,h,s,0,null,!1,!1,"",ZT);return s._reactRootContainer=x,s[yi]=x.current,qu(s.nodeType===8?s.parentNode:s),la(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var X=Md(U);j.call(X)}}var U=pm(s,0,!1,null,null,!1,!1,"",ZT);return s._reactRootContainer=U,s[yi]=U.current,qu(s.nodeType===8?s.parentNode:s),la(function(){Nd(o,U,c,h)}),U}function Fd(s,o,c,h,g){var w=c._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var j=g;g=function(){var U=Md(x);j.call(U)}}Nd(o,x,s,g)}else x=DO(c,o,s,g,h);return Md(x)}Nc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Gi(o.pendingLanes);c!==0&&(Qi(o,c|1),Dn(o,tt()),!(We&6)&&(Io=tt()+500,ss()))}break;case 13:la(function(){var h=Ti(s,1);if(h!==null){var g=Sn();Dr(h,s,1,g)}}),mm(s,1)}},Ya=function(s){if(s.tag===13){var o=Ti(s,134217728);if(o!==null){var c=Sn();Dr(o,s,134217728,c)}mm(s,134217728)}},Mc=function(s){if(s.tag===13){var o=ds(s),c=Ti(s,o);if(c!==null){var h=Sn();Dr(c,s,o,h)}mm(s,o)}},Lc=function(){return $e},Vc=function(s,o){var c=$e;try{return $e=s,o()}finally{$e=c}},qa=function(s,o,c){switch(o){case"input":if(Ve(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=td(h);if(!g)throw Error(t(90));jr(h),Ve(h,g)}}}break;case"textarea":wn(s,c);break;case"select":o=c.value,o!=null&&Nt(s,!!c.multiple,o,!1)}},zs=um,Eu=la;var OO={usingClientEntryPoint:!1,Events:[zu,fo,td,$r,wu,um]},rl={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NO={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Su(s),s===null?null:s.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Ks=jd.inject(NO),Hn=jd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO,On.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(o))throw Error(t(200));return kO(s,o,null,c)},On.createRoot=function(s,o){if(!vm(s))throw Error(t(299));var c=!1,h="",g=JT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=pm(s,1,!1,null,null,c,!1,h,g),s[yi]=o.current,qu(s.nodeType===8?s.parentNode:s),new gm(o)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Su(o),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return la(s)},On.hydrate=function(s,o,c){if(!Vd(o))throw Error(t(200));return Fd(null,s,o,!0,c)},On.hydrateRoot=function(s,o,c){if(!vm(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",x=JT;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),o=QT(o,null,s,1,c??null,g,!1,w,x),s[yi]=o.current,qu(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Ld(o)},On.render=function(s,o,c){if(!Vd(o))throw Error(t(200));return Fd(null,s,o,!1,c)},On.unmountComponentAtNode=function(s){if(!Vd(s))throw Error(t(40));return s._reactRootContainer?(la(function(){Fd(null,null,s,!1,function(){s._reactRootContainer=null,s[yi]=null})}),!0):!1},On.unstable_batchedUpdates=um,On.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!Vd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Fd(s,o,c,!1,h)},On.version="18.3.1-next-f1338f8080-20240426",On}var o1;function aC(){if(o1)return wm.exports;o1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wm.exports=zO(),wm.exports}var u1;function BO(){if(u1)return Ud;u1=1;var n=aC();return Ud.createRoot=n.createRoot,Ud.hydrateRoot=n.hydrateRoot,Ud}var HO=BO(),sl={},l1;function WO(){if(l1)return sl;l1=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.parse=u,sl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,E){const b=new a,S=y.length;if(S<2)return b;const I=(E==null?void 0:E.decode)||m;let A=0;do{const P=y.indexOf("=",A);if(P===-1)break;const F=y.indexOf(";",A),V=F===-1?S:F;if(P>V){A=y.lastIndexOf(";",P-1)+1;continue}const H=l(y,A,P),z=d(y,P,H),k=y.slice(H,z);if(b[k]===void 0){let R=l(y,P+1,V),C=d(y,V,R);const N=I(y.slice(R,C));b[k]=N}A=V+1}while(A<S);return b}function l(y,E,b){do{const S=y.charCodeAt(E);if(S!==32&&S!==9)return E}while(++E<b);return b}function d(y,E,b){for(;E>b;){const S=y.charCodeAt(--E);if(S!==32&&S!==9)return E+1}return b}function p(y,E,b){const S=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const I=S(E);if(!e.test(I))throw new TypeError(`argument val is invalid: ${E}`);let A=y+"="+I;if(!b)return A;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);A+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);A+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);A+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);A+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(A+="; HttpOnly"),b.secure&&(A+="; Secure"),b.partitioned&&(A+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return A}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return i.call(y)==="[object Date]"}return sl}WO();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c1="popstate";function GO(n={}){function e(i,a){let{pathname:u="/",search:l="",hash:d=""}=Na(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),T_("",{pathname:u,search:l,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let u=i.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");l=p===-1?d:d.slice(0,p)}return l+"#"+(typeof a=="string"?a:Pl(a))}function r(i,a){dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return YO(e,t,r,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KO(){return Math.random().toString(36).substring(2,10)}function d1(n,e){return{usr:n.state,key:n.key,idx:e}}function T_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||r||KO()}}function Pl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function YO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,l="POP",d=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){l="POP";let I=m(),A=I==null?null:I-p;p=I,d&&d({action:l,location:S.location,delta:A})}function y(I,A){l="PUSH";let P=T_(S.location,I,A);t(P,I),p=m()+1;let F=d1(P,p),V=S.createHref(P);try{u.pushState(F,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(V)}a&&d&&d({action:l,location:S.location,delta:1})}function E(I,A){l="REPLACE";let P=T_(S.location,I,A);t(P,I),p=m();let F=d1(P,p),V=S.createHref(P);u.replaceState(F,"",V),a&&d&&d({action:l,location:S.location,delta:0})}function b(I){let A=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof I=="string"?I:Pl(I);return P=P.replace(/ $/,"%20"),ft(A,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,A)}let S={get action(){return l},get location(){return n(i,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(c1,v),d=I,()=>{i.removeEventListener(c1,v),d=null}},createHref(I){return e(i,I)},createURL:b,encodeLocation(I){let A=b(I);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:E,go(I){return u.go(I)}};return S}function oC(n,e,t="/"){return QO(n,e,t,!1)}function QO(n,e,t,r){let i=typeof e=="string"?Na(e):e,a=Rs(i.pathname||"/",t);if(a==null)return null;let u=uC(n);XO(u);let l=null;for(let d=0;l==null&&d<u.length;++d){let p=u2(a);l=a2(u[d],p,r)}return l}function uC(n,e=[],t=[],r=""){let i=(a,u,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(ft(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Oi([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uC(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:i2(p,a.index),routesMeta:m})};return n.forEach((a,u)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,u);else for(let d of lC(a.path))i(a,u,d)}),e}function lC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=lC(r.join("/")),l=[];return l.push(...u.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...u),l.map(d=>n.startsWith("/")&&d===""?"/":d)}function XO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:s2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var JO=/^:[\w-]+$/,ZO=3,e2=2,t2=1,n2=10,r2=-2,f1=n=>n==="*";function i2(n,e){let t=n.split("/"),r=t.length;return t.some(f1)&&(r+=r2),e&&(r+=e2),t.filter(i=>!f1(i)).reduce((i,a)=>i+(JO.test(a)?ZO:a===""?t2:n2),r)}function s2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function a2(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",u=[];for(let l=0;l<r.length;++l){let d=r[l],p=l===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=Sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),y=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Oi([a,v.pathname]),pathnameBase:f2(Oi([a,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(a=Oi([a,v.pathnameBase]))}return u}function Sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=o2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},y)=>{if(m==="*"){let b=l[y]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const E=l[y];return v&&!E?p[m]=void 0:p[m]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function o2(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function l2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Na(n):n;return{pathname:t?t.startsWith("/")?t:c2(t,e):e,search:h2(r),hash:p2(i)}}function c2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uw(n){let e=d2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function lw(n,e,t,r=!1){let i;typeof n=="string"?i=Na(n):(i={...n},ft(!i.pathname||!i.pathname.includes("?"),bm("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),bm("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),bm("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,l;if(u==null)l=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}l=v>=0?e[v]:"/"}let d=l2(i,l),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),f2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,p2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function m2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cC=["POST","PUT","PATCH","DELETE"];new Set(cC);var g2=["GET",...cC];new Set(g2);var eu=$.createContext(null);eu.displayName="DataRouter";var eh=$.createContext(null);eh.displayName="DataRouterState";var dC=$.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var v2=$.createContext(new Map);v2.displayName="Fetchers";var y2=$.createContext(null);y2.displayName="Await";var Fr=$.createContext(null);Fr.displayName="Navigation";var ec=$.createContext(null);ec.displayName="Location";var ui=$.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var cw=$.createContext(null);cw.displayName="RouteError";function _2(n,{relative:e}={}){ft(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Fr),{hash:i,pathname:a,search:u}=tc(n,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Oi([t,a])),r.createHref({pathname:l,search:u,hash:i})}function tu(){return $.useContext(ec)!=null}function li(){return ft(tu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(ec).location}var fC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hC(n){$.useContext(Fr).static||$.useLayoutEffect(n)}function Ma(){let{isDataRoute:n}=$.useContext(ui);return n?D2():w2()}function w2(){ft(tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(eu),{basename:e,navigator:t}=$.useContext(Fr),{matches:r}=$.useContext(ui),{pathname:i}=li(),a=JSON.stringify(uw(r)),u=$.useRef(!1);return hC(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(dr(u.current,fC),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=lw(d,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,i,n])}$.createContext(null);function tc(n,{relative:e}={}){let{matches:t}=$.useContext(ui),{pathname:r}=li(),i=JSON.stringify(uw(t));return $.useMemo(()=>lw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function E2(n,e){return pC(n,e)}function pC(n,e,t,r){var A;ft(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(Fr),{matches:a}=$.useContext(ui),u=a[a.length-1],l=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let P=m&&m.path||"";mC(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=li(),y;if(e){let P=typeof e=="string"?Na(e):e;ft(p==="/"||((A=P.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),y=P}else y=v;let E=y.pathname||"/",b=E;if(p!=="/"){let P=p.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=oC(n,{pathname:b});dr(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),dr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=R2(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Oi([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Oi([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&I?$.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},I):I}function T2(){let n=k2(),e=m2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:i},t):null,u)}var b2=$.createElement(T2,null),S2=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ui.Provider,{value:this.props.routeContext},$.createElement(cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I2({routeContext:n,match:e,children:t}){let r=$.useContext(eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ui.Provider,{value:n},t)}function R2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let d=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ft(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,l=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:m,errors:v}=t,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){u=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let v,y=!1,E=null,b=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,E=p.route.errorElement||b2,u&&(l<0&&m===0?(mC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===m&&(y=!0,b=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),I=()=>{let A;return v?A=E:y?A=b:p.route.Component?A=$.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,$.createElement(I2,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?$.createElement(S2,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function dw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(n){let e=$.useContext(eu);return ft(e,dw(n)),e}function C2(n){let e=$.useContext(eh);return ft(e,dw(n)),e}function A2(n){let e=$.useContext(ui);return ft(e,dw(n)),e}function fw(n){let e=A2(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P2(){return fw("useRouteId")}function k2(){var r;let n=$.useContext(cw),e=C2("useRouteError"),t=fw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function D2(){let{router:n}=x2("useNavigate"),e=fw("useNavigate"),t=$.useRef(!1);return hC(()=>{t.current=!0}),$.useCallback(async(i,a={})=>{dr(t.current,fC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var h1={};function mC(n,e,t){!e&&!h1[n]&&(h1[n]=!0,dr(!1,t))}$.memo(O2);function O2({routes:n,future:e,state:t}){return pC(n,void 0,t,e)}function fl({to:n,replace:e,state:t,relative:r}){ft(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=$.useContext(Fr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(ui),{pathname:u}=li(),l=Ma(),d=lw(n,uw(a),u,r==="path"),p=JSON.stringify(d);return $.useEffect(()=>{l(JSON.parse(p),{replace:e,state:t,relative:r})},[l,p,r,e,t]),null}function xi(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ft(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),l=$.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=Na(t));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:y="default"}=t,E=$.useMemo(()=>{let b=Rs(d,u);return b==null?null:{location:{pathname:b,search:p,hash:m,state:v,key:y},navigationType:r}},[u,d,p,m,v,y,r]);return dr(E!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:$.createElement(Fr.Provider,{value:l},$.createElement(ec.Provider,{children:e,value:E}))}function M2({children:n,location:e}){return E2(b_(n),e)}function b_(n,e=[]){let t=[];return $.Children.forEach(n,(r,i)=>{if(!$.isValidElement(r))return;let a=[...e,i];if(r.type===$.Fragment){t.push.apply(t,b_(r.props.children,a));return}ft(r.type===xi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=b_(r.props.children,a)),t.push(u)}),t}var ef="get",tf="application/x-www-form-urlencoded";function th(n){return n!=null&&typeof n.tagName=="string"}function L2(n){return th(n)&&n.tagName.toLowerCase()==="button"}function V2(n){return th(n)&&n.tagName.toLowerCase()==="form"}function F2(n){return th(n)&&n.tagName.toLowerCase()==="input"}function j2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function q2(n,e){return n.button===0&&(!e||e==="_self")&&!j2(n)}var $d=null;function U2(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(n){return n!=null&&!$2.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):n}function z2(n,e){let t,r,i,a,u;if(V2(n)){let l=n.getAttribute("action");r=l?Rs(l,e):null,t=n.getAttribute("method")||ef,i=Sm(n.getAttribute("enctype"))||tf,a=new FormData(n)}else if(L2(n)||F2(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||l.getAttribute("action");if(r=d?Rs(d,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||ef,i=Sm(n.getAttribute("formenctype"))||Sm(l.getAttribute("enctype"))||tf,a=new FormData(l,n),!U2()){let{name:p,type:m,value:v}=n;if(m==="image"){let y=p?`${p}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else p&&a.append(p,v)}}else{if(th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ef,r=null,i=tf,u=n}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:u}}function hw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function B2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function W2(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await B2(a,t);return u.links?u.links():[]}return[]}));return Q2(r.flat(1).filter(H2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function p1(n,e,t,r,i,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,l=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||l(d,p)):a==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,p)||l(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function G2(n,e){return K2(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function K2(n){return[...new Set(n)]}function Y2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Q2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(Y2(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function X2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J2(){let n=$.useContext(eu);return hw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z2(){let n=$.useContext(eh);return hw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pw=$.createContext(void 0);pw.displayName="FrameworkContext";function gC(){let n=$.useContext(pw);return hw(n,"You must render this element inside a <HydratedRouter> element"),n}function eN(n,e){let t=$.useContext(pw),[r,i]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,y=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=A=>{A.forEach(P=>{u(P.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return y.current&&I.observe(y.current),()=>{I.disconnect()}}},[n]),$.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:al(l,E),onBlur:al(d,b),onMouseEnter:al(p,E),onMouseLeave:al(m,b),onTouchStart:al(v,E)}]:[!1,y,{}]}function al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tN({page:n,...e}){let{router:t}=J2(),r=$.useMemo(()=>oC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(rN,{page:n,matches:r,...e}):null}function nN(n){let{manifest:e,routeModules:t}=gC(),[r,i]=$.useState([]);return $.useEffect(()=>{let a=!1;return W2(n,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[n,e,t]),r}function rN({page:n,matches:e,...t}){let r=li(),{manifest:i,routeModules:a}=gC(),{loaderData:u,matches:l}=Z2(),d=$.useMemo(()=>p1(n,e,l,i,r,"data"),[n,e,l,i,r]),p=$.useMemo(()=>p1(n,e,l,i,r,"assets"),[n,e,l,i,r]),m=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,b=!1;if(e.forEach(I=>{var P;let A=i.routes[I.route.id];!A||!A.hasLoader||(!d.some(F=>F.route.id===I.route.id)&&I.route.id in u&&((P=a[I.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?b=!0:E.add(I.route.id))}),E.size===0)return[];let S=X2(n);return b&&E.size>0&&S.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[u,r,i,d,e,n,a]),v=$.useMemo(()=>G2(p,i),[p,i]),y=nN(p);return $.createElement($.Fragment,null,m.map(E=>$.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>$.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),y.map(({key:E,link:b})=>$.createElement("link",{key:E,...b})))}function iN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vC&&(window.__reactRouterVersion="7.1.1")}catch{}function sN({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=GO({window:t,v5Compat:!0}));let i=r.current,[a,u]=$.useState({action:i.action,location:i.location}),l=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>i.listen(l),[i,l]),$.createElement(N2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var yC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_C=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:l,target:d,to:p,preventScrollReset:m,viewTransition:v,...y},E){let{basename:b}=$.useContext(Fr),S=typeof p=="string"&&yC.test(p),I,A=!1;if(typeof p=="string"&&S&&(I=p,vC))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),M=Rs(N.pathname,b);N.origin===C.origin&&M!=null?p=M+N.search+N.hash:A=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=_2(p,{relative:i}),[F,V,H]=eN(r,y),z=lN(p,{replace:u,state:l,target:d,preventScrollReset:m,relative:i,viewTransition:v});function k(C){e&&e(C),C.defaultPrevented||z(C)}let R=$.createElement("a",{...y,...H,href:I||P,onClick:A||a?e:k,ref:iN(E,V),target:d,"data-discover":!S&&t==="render"?"true":void 0});return F&&!S?$.createElement($.Fragment,null,R,$.createElement(tN,{page:P})):R});_C.displayName="Link";var aN=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:l,children:d,...p},m){let v=tc(u,{relative:p.relative}),y=li(),E=$.useContext(eh),{navigator:b,basename:S}=$.useContext(Fr),I=E!=null&&pN(v)&&l===!0,A=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,P=y.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(P=P.toLowerCase(),F=F?F.toLowerCase():null,A=A.toLowerCase()),F&&S&&(F=Rs(F,S)||F);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=P===A||!i&&P.startsWith(A)&&P.charAt(V)==="/",z=F!=null&&(F===A||!i&&F.startsWith(A)&&F.charAt(A.length)==="/"),k={isActive:H,isPending:z,isTransitioning:I},R=H?e:void 0,C;typeof r=="function"?C=r(k):C=[r,H?"active":null,z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return $.createElement(_C,{...p,"aria-current":R,className:C,ref:m,style:N,to:u,viewTransition:l},typeof d=="function"?d(k):d)});aN.displayName="NavLink";var oN=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:u=ef,action:l,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...y},E)=>{let b=fN(),S=hN(l,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&yC.test(l),P=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let V=F.nativeEvent.submitter,H=(V==null?void 0:V.getAttribute("formmethod"))||u;b(V||F.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return $.createElement("form",{ref:E,method:I,action:S,onSubmit:r?d:P,...y,"data-discover":!A&&n==="render"?"true":void 0})});oN.displayName="Form";function uN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wC(n){let e=$.useContext(eu);return ft(e,uN(n)),e}function lN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let l=Ma(),d=li(),p=tc(n,{relative:a});return $.useCallback(m=>{if(q2(m,e)){m.preventDefault();let v=t!==void 0?t:Pl(d)===Pl(p);l(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[d,l,p,t,r,e,n,i,a,u])}var cN=0,dN=()=>`__${String(++cN)}__`;function fN(){let{router:n}=wC("useSubmit"),{basename:e}=$.useContext(Fr),t=P2();return $.useCallback(async(r,i={})=>{let{action:a,method:u,encType:l,formData:d,body:p}=z2(r,e);if(i.navigate===!1){let m=i.fetcherKey||dN();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function hN(n,{relative:e}={}){let{basename:t}=$.useContext(Fr),r=$.useContext(ui);ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...tc(n||".",{relative:e})},u=li();if(n==null){a.search=u.search;let l=new URLSearchParams(a.search),d=l.getAll("index");if(d.some(m=>m==="")){l.delete("index"),d.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Oi([t,a.pathname])),Pl(a)}function pN(n,e={}){let t=$.useContext(dC);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wC("useViewTransitionState"),i=tc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Sf(i.pathname,u)!=null||Sf(i.pathname,a)!=null}new TextEncoder;var mN=aC();const EC=jn(mN);var m1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},gN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],l=n[t++],d=((i&7)<<18|(a&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,l=u?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=a>>2,v=(a&3)<<4|l>>4;let y=(l&15)<<2|p>>6,E=p&63;d||(E=64,u||(y=64)),r.push(t[m],t[v],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||l==null||p==null||v==null)throw new vN;const y=a<<2|l>>4;if(r.push(y),p!==64){const E=l<<4&240|p>>2;if(r.push(E),v!==64){const b=p<<6&192|v;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yN=function(n){const e=TC(n);return bC.encodeByteArray(e,!0)},If=function(n){return yN(n).replace(/\./g,"")},SC=function(n){try{return bC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=()=>_N().__FIREBASE_DEFAULTS__,EN=()=>{if(typeof process>"u"||typeof m1>"u")return;const n=m1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SC(n[1]);return e&&JSON.parse(e)},nh=()=>{try{return wN()||EN()||TN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IC=n=>{var e,t;return(t=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bN=n=>{const e=IC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},RC=()=>{var n;return(n=nh())===null||n===void 0?void 0:n.config},xC=n=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[If(JSON.stringify(t)),If(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function xN(){var n;const e=(n=nh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DN(){return!xN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ON(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="FirebaseError";class zi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?LN(a,r):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new zi(i,l,r)}}function LN(n,e){return n.replace(VN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VN=/\{\$([^}]+)}/g;function FN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(g1(a)&&g1(u)){if(!kl(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function g1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jN(n,e){const t=new qN(n,e);return t.subscribe.bind(t)}class qN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new SN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BN(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(n){return n===ha?void 0:n}function BN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $N(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const WN={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},GN=je.INFO,KN={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},YN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=KN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mw{constructor(e){this.name=e,this._logLevel=GN,this._logHandler=YN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const QN=(n,e)=>e.some(t=>n instanceof t);let v1,y1;function XN(){return v1||(v1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return y1||(y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CC=new WeakMap,S_=new WeakMap,AC=new WeakMap,Rm=new WeakMap,gw=new WeakMap;function ZN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Es(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&CC.set(t,n)}).catch(()=>{}),gw.set(e,n),e}function eM(n){if(S_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});S_.set(n,e)}let I_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return S_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tM(n){I_=n(I_)}function nM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xm(this),e,...t);return AC.set(r,e.sort?e.sort():[e]),Es(r)}:JN().includes(n)?function(...e){return n.apply(xm(this),e),Es(CC.get(this))}:function(...e){return Es(n.apply(xm(this),e))}}function rM(n){return typeof n=="function"?nM(n):(n instanceof IDBTransaction&&eM(n),QN(n,XN())?new Proxy(n,I_):n)}function Es(n){if(n instanceof IDBRequest)return ZN(n);if(Rm.has(n))return Rm.get(n);const e=rM(n);return e!==n&&(Rm.set(n,e),gw.set(e,n)),e}const xm=n=>gw.get(n);function iM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),l=Es(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Es(u.result),d.oldVersion,d.newVersion,Es(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),l.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const sM=["get","getKey","getAll","getAllKeys","count"],aM=["put","add","delete","clear"],Cm=new Map;function _1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=aM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sM.includes(t)))return;const a=async function(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[t](...l),i&&d.done]))[0]};return Cm.set(e,a),a}tM(n=>({...n,get:(e,t,r)=>_1(e,t)||n.get(e,t,r),has:(e,t)=>!!_1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function uM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R_="@firebase/app",w1="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new mw("@firebase/app"),lM="@firebase/app-compat",cM="@firebase/analytics-compat",dM="@firebase/analytics",fM="@firebase/app-check-compat",hM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",vM="@firebase/data-connect",yM="@firebase/database-compat",_M="@firebase/functions",wM="@firebase/functions-compat",EM="@firebase/installations",TM="@firebase/installations-compat",bM="@firebase/messaging",SM="@firebase/messaging-compat",IM="@firebase/performance",RM="@firebase/performance-compat",xM="@firebase/remote-config",CM="@firebase/remote-config-compat",AM="@firebase/storage",PM="@firebase/storage-compat",kM="@firebase/firestore",DM="@firebase/vertexai",OM="@firebase/firestore-compat",NM="firebase",MM="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="[DEFAULT]",LM={[R_]:"fire-core",[lM]:"fire-core-compat",[dM]:"fire-analytics",[cM]:"fire-analytics-compat",[hM]:"fire-app-check",[fM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[vM]:"fire-data-connect",[yM]:"fire-rtdb-compat",[_M]:"fire-fn",[wM]:"fire-fn-compat",[EM]:"fire-iid",[TM]:"fire-iid-compat",[bM]:"fire-fcm",[SM]:"fire-fcm-compat",[IM]:"fire-perf",[RM]:"fire-perf-compat",[xM]:"fire-rc",[CM]:"fire-rc-compat",[AM]:"fire-gcs",[PM]:"fire-gcs-compat",[kM]:"fire-fst",[OM]:"fire-fst-compat",[DM]:"fire-vertex","fire-js":"fire-js",[NM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,VM=new Map,C_=new Map;function E1(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(C_.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;C_.set(e,n);for(const t of Rf.values())E1(t,n);for(const t of VM.values())E1(t,n);return!0}function vw(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Or(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new nc("app","Firebase",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=MM;function PC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:x_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(t||(t=RC()),!t)throw Ts.create("no-options");const a=Rf.get(i);if(a){if(kl(t,a.options)&&kl(r,a.config))return a;throw Ts.create("duplicate-app",{appName:i})}const u=new HN(i);for(const d of C_.values())u.addComponent(d);const l=new jM(t,r,u);return Rf.set(i,l),l}function kC(n=x_){const e=Rf.get(n);if(!e&&n===x_&&RC())return PC();if(!e)throw Ts.create("no-app",{appName:n});return e}function bs(n,e,t){var r;let i=(r=LM[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&l.push("and"),u&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(l.join(" "));return}Fo(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebase-heartbeat-database",UM=1,Dl="firebase-heartbeat-store";let Am=null;function DC(){return Am||(Am=iM(qM,UM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),Am}async function $M(n){try{const t=(await DC()).transaction(Dl),r=await t.objectStore(Dl).get(OC(n));return await t.done,r}catch(e){if(e instanceof zi)Mi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function T1(n,e){try{const r=(await DC()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,OC(n)),await r.done}catch(t){if(t instanceof zi)Mi.warn(t.message);else{const r=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(r.message)}}}function OC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1024,BM=30*24*60*60*1e3;class HM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const l=new Date(u.date).valueOf();return Date.now()-l<=BM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b1(),{heartbeatsToSend:r,unsentEntries:i}=WM(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Mi.warn(t),""}}}function b1(){return new Date().toISOString().substring(0,10)}function WM(n,e=zM){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),S1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),S1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class GM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ON()?NN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $M(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return T1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return T1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function S1(n){return If(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n){Fo(new Ea("platform-logger",e=>new oM(e),"PRIVATE")),Fo(new Ea("heartbeat",e=>new HM(e),"PRIVATE")),bs(R_,w1,n),bs(R_,w1,"esm2017"),bs("fire-js","")}KM("");function yw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function NC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YM=NC,MC=new nc("auth","Firebase",NC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new mw("@firebase/auth");function QM(n,...e){xf.logLevel<=je.WARN&&xf.warn(`Auth (${nu}): ${n}`,...e)}function nf(n,...e){xf.logLevel<=je.ERROR&&xf.error(`Auth (${nu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(n,...e){throw ww(n,...e)}function Nr(n,...e){return ww(n,...e)}function _w(n,e,t){const r=Object.assign(Object.assign({},YM()),{[e]:t});return new nc("auth","Firebase",r).create(e,{appName:n.name})}function Ni(n){return _w(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XM(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fr(n,"argument-error"),_w(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ww(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MC.create(n,...e)}function Ae(n,e,...t){if(!n)throw ww(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nf(e),new Error(e)}function Li(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JM(){return I1()==="http:"||I1()==="https:"}function I1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||AN()||"connection"in navigator)?navigator.onLine:!0}function eL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=RN()||PN()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new ic(3e4,6e4);function Ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ms(n,e,t,r,i={}){return VC(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const l=rc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},a);return CN()||(p.referrerPolicy="no-referrer"),LC.fetch()(FC(n,n.config.apiHost,t,l),p)})}async function VC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tL),e);try{const i=new iL(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw zd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const l=a.ok?u.errorMessage:u.error.message,[d,p]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw zd(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw zd(n,"user-disabled",u);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _w(n,m,p);fr(n,m)}}catch(i){if(i instanceof zi)throw i;fr(n,"network-request-failed",{message:String(i)})}}async function sc(n,e,t,r,i={}){const a=await Ms(n,e,t,r,i);return"mfaPendingCredential"in a&&fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function FC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Ew(n.config,i):`${n.config.apiScheme}://${i}`}function rL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),nL.get())})}}function zd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Nr(n,e,r);return i.customData._tokenResponse=t,i}function R1(n){return n!==void 0&&n.enterprise!==void 0}class sL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aL(n,e){return Ms(n,"GET","/v2/recaptchaConfig",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function jC(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uL(n,e=!1){const t=Yt(n),r=await t.getIdToken(e),i=Tw(r);Ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Tl(Pm(i.auth_time)),issuedAtTime:Tl(Pm(i.iat)),expirationTime:Tl(Pm(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Pm(n){return Number(n)*1e3}function Tw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const i=SC(t);return i?JSON.parse(i):(nf("Failed to decode base64 JWT payload"),null)}catch(i){return nf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x1(n){const e=Tw(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zi&&lL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function lL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ol(n,jC(t,{idToken:r}));Ae(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qC(a.providerUserInfo):[],l=fL(n.providerData,u),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(l!=null&&l.length),m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new P_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function dL(n){const e=Yt(n);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qC(n){return n.map(e=>{var{providerId:t}=e,r=yw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(n,e){const t=await VC(n,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=FC(n,i,"/v1/token",`key=${a}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",LC.fetch()(u,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pL(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=x1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await hL(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Oo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=yw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new P_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uL(this,e)}reload(){return dL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Ol(this,oL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,u,l,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,E=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(l=t.tenantId)!==null&&l!==void 0?l:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,A=(p=t.createdAt)!==null&&p!==void 0?p:void 0,P=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:V,isAnonymous:H,providerData:z,stsTokenManager:k}=t;Ae(F&&k,e,"internal-error");const R=Oo.fromJSON(this.name,k);Ae(typeof F=="string",e,"internal-error"),ms(v,e.name),ms(y,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof H=="boolean",e,"internal-error"),ms(E,e.name),ms(b,e.name),ms(S,e.name),ms(I,e.name),ms(A,e.name),ms(P,e.name);const C=new ki({uid:F,auth:e,email:y,emailVerified:V,displayName:v,isAnonymous:H,photoURL:b,phoneNumber:E,tenantId:S,stsTokenManager:R,createdAt:A,lastLoginAt:P});return z&&Array.isArray(z)&&(C.providerData=z.map(N=>Object.assign({},N))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Oo;i.updateFromServerResponse(t);const a=new ki({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ae(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?qC(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Oo;l.updateFromIdToken(r);const d=new ki({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new P_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;function Di(n){Li(n instanceof Function,"Expected a class definition");let e=C1.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,C1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UC.type="NONE";const A1=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=rf(this.userKey,i.apiKey,a),this.fullPersistenceKey=rf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new No(Di(A1),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||Di(A1);const u=rf(r,e.config.apiKey,e.name);let l=null;for(const p of t)try{const m=await p._get(u);if(m){const v=ki._fromJSON(e,m);p!==a&&(l=v),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new No(a,e,r):(a=d[0],l&&await a._set(u,l.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new No(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(KC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||BC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $C(n=mn()){return/firefox\//i.test(n)}function zC(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BC(n=mn()){return/crios\//i.test(n)}function HC(n=mn()){return/iemobile/i.test(n)}function WC(n=mn()){return/android/i.test(n)}function GC(n=mn()){return/blackberry/i.test(n)}function KC(n=mn()){return/webos/i.test(n)}function bw(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mL(n=mn()){var e;return bw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gL(){return kN()&&document.documentMode===10}function YC(n=mn()){return bw(n)||WC(n)||KC(n)||GC(n)||/windows phone/i.test(n)||HC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n,e=[]){let t;switch(n){case"Browser":t=P1(mn());break;case"Worker":t=`${P1(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,l)=>{try{const d=e(a);u(d)}catch(d){l(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",Ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=6;class wL{constructor(e){var t,r,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:_L,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,u,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k1(this),this.idTokenSubscription=new k1(this),this.beforeStateQueue=new vL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jC(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===l)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Ni(this));const t=e?Yt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yL(this),t=new wL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ls(n){return Yt(n)}class k1{constructor(e){this.auth=e,this.observer=null,this.addObserver=jN(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TL(n){rh=n}function XC(n){return rh.loadJS(n)}function bL(){return rh.recaptchaEnterpriseScript}function SL(){return rh.gapiScript}function IL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RL{constructor(){this.enterprise=new xL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const CL="recaptcha-enterprise",JC="NO_RECAPTCHA";class AL{constructor(e){this.type=CL,this.auth=Ls(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,l)=>{aL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const p=new sL(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(d=>{l(d)})})}function i(a,u,l){const d=window.grecaptcha;R1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(JC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RL().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(l=>{if(!t&&R1(window.grecaptcha))i(l,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=bL();d.length!==0&&(d+=l),XC(d).then(()=>{i(l,a,u)}).catch(p=>{u(p)})}}).catch(l=>{u(l)})})}}async function D1(n,e,t,r=!1,i=!1){const a=new AL(n);let u;if(i)u=JC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const d=l.phoneEnrollmentInfo.phoneNumber,p=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:u}):Object.assign(l,{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function k_(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await D1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await D1(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n,e){const t=vw(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(kl(a,e??{}))return i;fr(i,"already-initialized")}return t.initialize({options:e})}function kL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DL(n,e,t){const r=Ls(n);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=ZC(e),{host:u,port:l}=OL(e),d=l===null?"":`:${l}`;r.config.emulator={url:`${a}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),NL()}function ZC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OL(n){const e=ZC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:O1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:O1(u)}}}function O1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function ML(n,e){return Ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e){return sc(n,"POST","/v1/accounts:signInWithPassword",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}async function FL(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Sw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k_(e,t,"signInWithPassword",LL);case"emailLink":return VL(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k_(e,r,"signUpPassword",ML);case"emailLink":return FL(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return sc(n,"POST","/v1/accounts:signInWithIdp",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="http://localhost";class Ta extends Sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=yw(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Ta(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:jL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UL(n){const e=hl(pl(n)).link,t=e?hl(pl(e)).deep_link_id:null,r=hl(pl(n)).deep_link_id;return(r?hl(pl(r)).link:null)||r||t||e||n}class Iw{constructor(e){var t,r,i,a,u,l;const d=hl(pl(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=qL((i=d.mode)!==null&&i!==void 0?i:null);Ae(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=UL(e);try{return new Iw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Iw.parseLink(t);return Ae(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Rw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ac{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ai.credential(t,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ac{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ac{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _s.credential(t,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(n,e){return sc(n,"POST","/v1/accounts:signUp",Ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ki._fromIdTokenResponse(e,r,i),u=N1(r);return new ba({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=N1(r);return new ba({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function N1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends zi{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Af(e,t,r,i)}}function eA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,a,e,r):a})}async function zL(n,e,t=!1){const r=await Ol(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ba._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(n,e,t=!1){const{auth:r}=n;if(Or(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const a=await Ol(n,eA(r,i,e,n),t);Ae(a.idToken,r,"internal-error");const u=Tw(a.idToken);Ae(u,r,"internal-error");const{sub:l}=u;return Ae(n.uid===l,r,"user-mismatch"),ba._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n,e,t=!1){if(Or(n.app))return Promise.reject(Ni(n));const r="signIn",i=await eA(n,r,e),a=await ba._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function HL(n,e){return tA(Ls(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n){const e=Ls(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WL(n,e,t){if(Or(n.app))return Promise.reject(Ni(n));const r=Ls(n),u=await k_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$L).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nA(n),d}),l=await ba._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(l.user),l}function GL(n,e,t){return Or(n.app)?Promise.reject(Ni(n)):HL(Yt(n),ru.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nA(n),r})}function KL(n,e,t,r){return Yt(n).onIdTokenChanged(e,t,r)}function YL(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function rA(n,e,t,r){return Yt(n).onAuthStateChanged(e,t,r)}function QL(n){return Yt(n).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e3,JL=10;class sA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,l,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);gL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JL):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sA.type="LOCAL";const ZL=sA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aA.type="SESSION";const oA=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(u).map(async p=>p(t.origin,a)),d=await eV(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((l,d)=>{const p=xw("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===p)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function nV(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function rV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sV(){return uA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",aV=1,kf="firebaseLocalStorage",cA="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sh(n,e){return n.transaction([kf],e?"readwrite":"readonly").objectStore(kf)}function oV(){const n=indexedDB.deleteDatabase(lA);return new oc(n).toPromise()}function D_(){const n=indexedDB.open(lA,aV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kf,{keyPath:cA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kf)?e(r):(r.close(),await oV(),e(await D_()))})})}async function M1(n,e,t){const r=sh(n,!0).put({[cA]:e,value:t});return new oc(r).toPromise()}async function uV(n,e){const t=sh(n,!1).get(e),r=await new oc(t).toPromise();return r===void 0?null:r.value}function L1(n,e){const t=sh(n,!0).delete(e);return new oc(t).toPromise()}const lV=800,cV=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await D_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(sV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rV(),!this.activeServiceWorker)return;this.sender=new tV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await D_();return await M1(e,Pf,"1"),await L1(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>uV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=sh(i,!1).getAll();return new oc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const dV=dA;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e){return e?Di(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Sw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fV(n){return tA(n.auth,new Cw(n),n.bypassAuthState)}function hV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),BL(t,new Cw(n),n.bypassAuthState)}async function pV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),zL(t,new Cw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:l}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fV;case"linkViaPopup":case"linkViaRedirect":return pV;case"reauthViaPopup":case"reauthViaRedirect":return hV;default:fr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new ic(2e3,1e4);async function pA(n,e,t){if(Or(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const r=Ls(n);XM(n,e,Rw);const i=fA(r,t);return new ga(r,"signInViaPopup",e,i).executeNotNull()}class ga extends hA{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mV.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="pendingRedirect",sf=new Map;class vV extends hA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const r=await yV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yV(n,e){const t=EV(e),r=wV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function _V(n,e){sf.set(n._key(),e)}function wV(n){return Di(n._redirectPersistence)}function EV(n){return rf(gV,n.config.apiKey,n.name)}async function TV(n,e,t=!1){if(Or(n.app))return Promise.reject(Ni(n));const r=Ls(n),i=fA(r,e),u=await new vV(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=10*60*1e3;class SV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bV&&this.cachedEventUids.clear(),this.cachedEventUids.has(V1(e))}saveEventToCache(e){this.cachedEventUids.add(V1(e)),this.lastProcessedEventTime=Date.now()}}function V1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CV=/^https?/;async function AV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RV(n);for(const t of e)try{if(PV(t))return}catch{}fr(n,"unauthorized-domain")}function PV(n){const e=A_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!CV.test(t))return!1;if(xV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new ic(3e4,6e4);function F1(){const n=ti().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DV(n){return new Promise((e,t)=>{var r,i,a;function u(){F1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F1(),t(Nr(n,"network-request-failed"))},timeout:kV.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ti().gapi)===null||a===void 0)&&a.load)u();else{const l=IL("iframefcb");return ti()[l]=()=>{gapi.load?u():t(Nr(n,"network-request-failed"))},XC(`${SL()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw af=null,e})}let af=null;function OV(n){return af=af||DV(n),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new ic(5e3,15e3),MV="__/auth/iframe",LV="emulator/auth/iframe",VV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jV(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ew(e,LV):`https://${n.config.authDomain}/${MV}`,r={apiKey:e.apiKey,appName:n.name,v:nu},i=FV.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${rc(r).slice(1)}`}async function qV(n){const e=await OV(n),t=ti().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:jV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VV,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Nr(n,"network-request-failed"),l=ti().setTimeout(()=>{a(u)},NV.get());function d(){ti().clearTimeout(l),i(r)}r.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$V=500,zV=600,BV="_blank",HV="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WV(n,e,t,r=$V,i=zV){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const d=Object.assign(Object.assign({},UV),{width:r.toString(),height:i.toString(),top:a,left:u}),p=mn().toLowerCase();t&&(l=BC(p)?BV:t),$C(p)&&(e=e||HV,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[E,b])=>`${y}${E}=${b},`,"");if(mL(p)&&l!=="_self")return GV(e||"",l),new j1(null);const v=window.open(e||"",l,m);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new j1(v)}function GV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="__/auth/handler",YV="emulator/auth/handler",QV=encodeURIComponent("fac");async function q1(n,e,t,r,i,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:nu,eventId:i};if(e instanceof Rw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",FN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(e instanceof ac){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const l=u;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const d=await n._getAppCheckToken(),p=d?`#${QV}=${encodeURIComponent(d)}`:"";return`${XV(n)}?${rc(l).slice(1)}${p}`}function XV({config:n}){return n.emulator?Ew(n,YV):`https://${n.authDomain}/${KV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class JV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=TV,this._overrideRedirectResult=_V}async _openPopup(e,t,r,i){var a;Li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await q1(e,t,r,A_(),i);return WV(e,u,xw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await q1(e,t,r,A_(),i);return nV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await qV(e),r=new SV(e);return t.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(km,{type:km},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[km];u!==void 0&&t(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YC()||zC()||bw()}}const ZV=JV;var U1="@firebase/auth",$1="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(n){Fo(new Ea("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(n)},p=new EL(r,i,a,d);return kL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Ea("auth-internal",e=>{const t=Ls(e.getProvider("auth").getImmediate());return(r=>new e4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(U1,$1,t4(n)),bs(U1,$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=5*60,i4=xC("authIdTokenMaxAge")||r4;let z1=null;const s4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>i4)return;const i=t==null?void 0:t.token;z1!==i&&(z1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a4(n=kC()){const e=vw(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PL(n,{popupRedirectResolver:ZV,persistence:[dV,ZL,oA]}),r=xC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=s4(a.toString());YL(t,u,()=>u(t.currentUser)),KL(t,l=>u(l))}}const i=IC("auth");return i&&DL(t,`http://${i}`),t}function o4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Nr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");var u4="firebase",l4="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(u4,l4,"app");var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,gA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function C(){}C.prototype=R.prototype,k.D=R.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(N,M,q){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return R.prototype[M].apply(N,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=k.g[0],C=k.g[1],M=k.g[2];var q=k.g[3],D=R+(q^C&(M^q))+N[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=q+(M^R&(C^M))+N[1]+3905402710&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(C^q&(R^C))+N[2]+606105819&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(R^M&(q^R))+N[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(q^C&(M^q))+N[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=q+(M^R&(C^M))+N[5]+1200080426&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(C^q&(R^C))+N[6]+2821735955&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(R^M&(q^R))+N[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(q^C&(M^q))+N[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=q+(M^R&(C^M))+N[9]+2336552879&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(C^q&(R^C))+N[10]+4294925233&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(R^M&(q^R))+N[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(q^C&(M^q))+N[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=q+(M^R&(C^M))+N[13]+4254626195&4294967295,q=R+(D<<12&4294967295|D>>>20),D=M+(C^q&(R^C))+N[14]+2792965006&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(R^M&(q^R))+N[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=R+(M^q&(C^M))+N[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(R^C))+N[6]+3225465664&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(q^R))+N[11]+643717713&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^R&(M^q))+N[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(C^M))+N[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(R^C))+N[10]+38016083&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(q^R))+N[15]+3634488961&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^R&(M^q))+N[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(C^M))+N[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(R^C))+N[14]+3275163606&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(q^R))+N[3]+4107603335&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^R&(M^q))+N[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(M^q&(C^M))+N[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(R^C))+N[2]+4243563512&4294967295,q=R+(D<<9&4294967295|D>>>23),D=M+(R^C&(q^R))+N[7]+1735328473&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^R&(M^q))+N[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=R+(C^M^q)+N[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=q+(R^C^M)+N[8]+2272392833&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^C)+N[11]+1839030562&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^R)+N[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^q)+N[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=q+(R^C^M)+N[4]+1272893353&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^C)+N[7]+4139469664&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^R)+N[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^q)+N[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=q+(R^C^M)+N[0]+3936430074&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^C)+N[3]+3572445317&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^R)+N[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(C^M^q)+N[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=q+(R^C^M)+N[12]+3873151461&4294967295,q=R+(D<<11&4294967295|D>>>21),D=M+(q^R^C)+N[15]+530742520&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^R)+N[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=R+(M^(C|~q))+N[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=q+(C^(R|~M))+N[7]+1126891415&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~C))+N[14]+2878612391&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~R))+N[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~q))+N[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=q+(C^(R|~M))+N[3]+2399980690&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~C))+N[10]+4293915773&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~R))+N[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~q))+N[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=q+(C^(R|~M))+N[15]+4264355552&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~C))+N[6]+2734768916&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~R))+N[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=R+(M^(C|~q))+N[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=q+(C^(R|~M))+N[11]+3174756917&4294967295,q=R+(D<<10&4294967295|D>>>22),D=M+(R^(q|~C))+N[2]+718787259&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var C=R-this.blockSize,N=this.B,M=this.h,q=0;q<R;){if(M==0)for(;q<=C;)i(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<R;)if(N[M++]=k.charCodeAt(q++),M==this.blockSize){i(this,N),M=0;break}}else for(;q<R;)if(N[M++]=k[q++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var C=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.u(k),k=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)k[C++]=this.g[R]>>>N&255;return k};function a(k,R){var C=l;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=R(k)}function u(k,R){this.h=R;for(var C=[],N=!0,M=k.length-1;0<=M;M--){var q=k[M]|0;N&&q==R||(C[M]=q,N=!1)}this.g=C}var l={};function d(k){return-128<=k&&128>k?a(k,function(R){return new u([R|0],0>R?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return I(p(-k));for(var R=[],C=1,N=0;k>=C;N++)R[N]=k/C|0,C*=4294967296;return new u(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return I(m(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),N=v,M=0;M<k.length;M+=8){var q=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+q),R);8>q?(q=p(Math.pow(R,q)),N=N.j(q).add(p(D))):(N=N.j(C),N=N.add(p(D)))}return N}var v=d(0),y=d(1),E=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-I(this).m();for(var k=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(S(this))return"-"+I(this).toString(k);for(var R=p(Math.pow(k,6)),C=this,N="";;){var M=V(C,R).g;C=A(C,M.j(R));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=M,b(C))return q+N;for(;6>q.length;)q="0"+q;N=q+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}n.l=function(k){return k=A(this,k),S(k)?-1:b(k)?0:1};function I(k){for(var R=k.g.length,C=[],N=0;N<R;N++)C[N]=~k.g[N];return new u(C,~k.h).add(y)}n.abs=function(){return S(this)?I(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0,M=0;M<=R;M++){var q=N+(this.i(M)&65535)+(k.i(M)&65535),D=(q>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);N=D>>>16,q&=65535,D&=65535,C[M]=D<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function A(k,R){return k.add(I(R))}n.j=function(k){if(b(this)||b(k))return v;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<k.g.length;M++){var q=this.i(N)>>>16,D=this.i(N)&65535,ce=k.i(M)>>>16,be=k.i(M)&65535;C[2*N+2*M]+=D*be,P(C,2*N+2*M),C[2*N+2*M+1]+=q*be,P(C,2*N+2*M+1),C[2*N+2*M+1]+=D*ce,P(C,2*N+2*M+1),C[2*N+2*M+2]+=q*ce,P(C,2*N+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new u(C,0)};function P(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function F(k,R){this.g=k,this.h=R}function V(k,R){if(b(R))throw Error("division by zero");if(b(k))return new F(v,v);if(S(k))return R=V(I(k),R),new F(I(R.g),I(R.h));if(S(R))return R=V(k,I(R)),new F(I(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var C=y,N=R;0>=N.l(k);)C=H(C),N=H(N);var M=z(C,1),q=z(N,1);for(N=z(N,2),C=z(C,2);!b(N);){var D=q.add(N);0>=D.l(k)&&(M=M.add(C),q=D),N=z(N,1),C=z(C,1)}return R=A(k,M.j(R)),new F(M,R)}for(M=v;0<=k.l(R);){for(C=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),q=p(C),D=q.j(R);S(D)||0<D.l(k);)C-=N,q=p(C),D=q.j(R);b(q)&&(q=y),M=M.add(q),k=A(k,D)}return new F(M,k)}n.A=function(k){return V(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&k.i(N);return new u(C,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|k.i(N);return new u(C,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^k.i(N);return new u(C,this.h^k.h)};function H(k){for(var R=k.g.length+1,C=[],N=0;N<R;N++)C[N]=k.i(N)<<1|k.i(N-1)>>>31;return new u(C,k.h)}function z(k,R){var C=R>>5;R%=32;for(var N=k.g.length-C,M=[],q=0;q<N;q++)M[q]=0<R?k.i(q+C)>>>R|k.i(q+C+1)<<32-R:k.i(q+C);return new u(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,ya=u}).apply(typeof B1<"u"?B1:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vA,ml,yA,of,O_,_A,wA,EA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,T){return f==Array.prototype||f==Object.prototype||(f[_]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,_){if(_)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var K=f[O];if(!(K in T))break e;T=T[K]}f=f[f.length-1],O=T[f],_=_(O),_!=O&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}function a(f,_){f instanceof String&&(f+="");var T=0,O=!1,K={next:function(){if(!O&&T<f.length){var J=T++;return{value:_(J,f[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(f){return f||function(){return a(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},l=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,T){return f.call.apply(f.bind,arguments)}function v(f,_,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),f.apply(_,K)}}return function(){return f.apply(_,arguments)}}function y(f,_,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function E(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function b(f,_){function T(){}T.prototype=_.prototype,f.aa=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,K,J){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return _.prototype[K].apply(O,le)}}function S(f){const _=f.length;if(0<_){const T=Array(_);for(let O=0;O<_;O++)T[O]=f[O];return T}return[]}function I(f,_){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(d(O)){const K=f.length||0,J=O.length||0;f.length=K+J;for(let le=0;le<J;le++)f[K+le]=O[le]}else f.push(O)}}class A{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function V(f){return V[" "](f),f}V[" "]=function(){};var H=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function z(f,_,T){for(const O in f)_.call(T,f[O],O,f)}function k(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function R(f){const _={};for(const T in f)_[T]=f[T];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,_){let T,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(T in O)f[T]=O[T];for(let J=0;J<C.length;J++)T=C[J],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function M(f){var _=1;f=f.split(":");const T=[];for(;0<_&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function q(f){l.setTimeout(()=>{throw f},0)}function D(){var f=de;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,T){const O=be.get();O.set(_,T),this.h?this.h.next=O:this.g=O,this.h=O}}var be=new A(()=>new Ee,f=>f.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ne=!1,de=new ce,ue=()=>{const f=l.Promise.resolve(void 0);_e=()=>{f.then(W)}};var W=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){q(T)}var _=be;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};l.addEventListener("test",T,_),l.removeEventListener("test",T,_)}catch{}return f}();function xe(f,_){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(H){e:{try{V(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}b(xe,fe);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ge(f,_,T,O,K){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!O,this.ha=K,this.key=++Me,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function yn(f){this.src=f,this.g={},this.h=0}yn.prototype.add=function(f,_,T,O,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var le=qn(f,_,O,K);return-1<le?(_=f[le],T||(_.fa=!1)):(_=new Ge(_,this.src,J,!!O,K),_.fa=T,f.push(_)),_};function jr(f,_){var T=_.type;if(T in f.g){var O=f.g[T],K=Array.prototype.indexOf.call(O,_,void 0),J;(J=0<=K)&&Array.prototype.splice.call(O,K,1),J&&(vt(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function qn(f,_,T,O){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==O)return K}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Ue={};function Un(f,_,T,O,K){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Un(f,_[J],T,O,K);return null}return T=zn(T),f&&f[Le]?f.K(_,T,p(O)?!!O.capture:!1,K):Ve(f,_,T,!1,O,K)}function Ve(f,_,T,O,K,J){if(!_)throw Error("Invalid event type");var le=p(K)?!!K.capture:!!K,Xe=ut(f);if(Xe||(f[gr]=Xe=new yn(f)),T=Xe.add(_,T,O,le,J),T.proxy)return T;if(O=$n(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)Ce||(K=le),K===void 0&&(K=!1),f.addEventListener(_.toString(),O,K);else if(f.attachEvent)f.attachEvent(Nt(_.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $n(){function f(T){return _.call(f.src,f.listener,T)}const _=Xt;return f}function _n(f,_,T,O,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)_n(f,_[J],T,O,K);else O=p(O)?!!O.capture:!!O,T=zn(T),f&&f[Le]?(f=f.i,_=String(_).toString(),_ in f.g&&(J=f.g[_],T=qn(J,T,O,K),-1<T&&(vt(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete f.g[_],f.h--)))):f&&(f=ut(f))&&(_=f.g[_.toString()],f=-1,_&&(f=qn(_,T,O,K)),(T=-1<f?_[f]:null)&&Ot(T))}function Ot(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])jr(_.i,f);else{var T=f.type,O=f.proxy;_.removeEventListener?_.removeEventListener(T,O,f.capture):_.detachEvent?_.detachEvent(Nt(T),O):_.addListener&&_.removeListener&&_.removeListener(O),(T=ut(_))?(jr(T,f),T.h==0&&(T.src=null,_[gr]=null)):vt(f)}}}function Nt(f){return f in Ue?Ue[f]:Ue[f]="on"+f}function Xt(f,_){if(f.da)f=!0;else{_=new xe(_,this);var T=f.listener,O=f.ha||f.src;f.fa&&Ot(f),f=T.call(O,_)}return f}function ut(f){return f=f[gr],f instanceof yn?f:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(f){return typeof f=="function"?f:(f[wn]||(f[wn]=function(_){return f.handleEvent(_)}),f[wn])}function lt(){Z.call(this),this.i=new yn(this),this.M=this,this.F=null}b(lt,Z),lt.prototype[Le]=!0,lt.prototype.removeEventListener=function(f,_,T,O){_n(this,f,_,T,O)};function rt(f,_){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=_.type||_,typeof _=="string")_=new fe(_,f);else if(_ instanceof fe)_.target=_.target||f;else{var K=_;_=new fe(O,f),N(_,K)}if(K=!0,T)for(var J=T.length-1;0<=J;J--){var le=_.g=T[J];K=Mt(le,O,!0,_)&&K}if(le=_.g=f,K=Mt(le,O,!0,_)&&K,K=Mt(le,O,!1,_)&&K,T)for(J=0;J<T.length;J++)le=_.g=T[J],K=Mt(le,O,!1,_)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var T=f.g[_],O=0;O<T.length;O++)vt(T[O]);delete f.g[_],f.h--}}this.F=null},lt.prototype.K=function(f,_,T,O){return this.i.add(String(f),_,!1,T,O)},lt.prototype.L=function(f,_,T,O){return this.i.add(String(f),_,!0,T,O)};function Mt(f,_,T,O){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,J=0;J<_.length;++J){var le=_[J];if(le&&!le.da&&le.capture==T){var Xe=le.listener,Lt=le.ha||le.src;le.fa&&jr(f.i,le),K=Xe.call(Lt,O)!==!1&&K}}return K&&!O.defaultPrevented}function Hi(f,_,T){if(typeof f=="function")T&&(f=y(f,T));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(f,_||0)}function vr(f){f.g=Hi(()=>{f.g=null,f.i&&(f.i=!1,vr(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class di extends Z{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(f){Z.call(this),this.h=f,this.g={}}b(qr,Z);var In=[];function Bn(f){z(f.g,function(_,T){this.g.hasOwnProperty(T)&&Ot(_)},f),f.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Bn(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vu=l.JSON.stringify,yu=l.JSON.parse,_u=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function $s(){}$s.prototype.h=null;function ja(f){return f.h||(f.h=f.i())}function qa(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){fe.call(this,"d")}b(Ur,fe);function Ua(){fe.call(this,"c")}b(Ua,fe);var $r={},wu=null;function zs(){return wu=wu||new lt}$r.La="serverreachability";function Eu(f){fe.call(this,$r.La,f)}b(Eu,fe);function fi(f){const _=zs();rt(_,new Eu(_))}$r.STAT_EVENT="statevent";function Tu(f,_){fe.call(this,$r.STAT_EVENT,f),this.stat=_}b(Tu,fe);function Tt(f){const _=zs();rt(_,new Tu(_,f))}$r.Ma="timingevent";function $a(f,_){fe.call(this,$r.Ma,f),this.size=_}b($a,fe);function yr(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},_)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function Hs(f,_,T,O,K,J){f.info(function(){if(f.g)if(J)for(var le="",Xe=J.split("&"),Lt=0;Lt<Xe.length;Lt++){var Be=Xe[Lt].split("=");if(1<Be.length){var zt=Be[0];Be=Be[1];var Ct=zt.split("_");le=2<=Ct.length&&Ct[1]=="type"?le+(zt+"="+Be+"&"):le+(zt+"=redacted&")}}else le=null;else le=J;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+_+`
`+T+`
`+le})}function za(f,_,T,O,K,J,le){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+_+`
`+T+`
`+J+" "+le})}function _r(f,_,T,O){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wh(f,T)+(O?" "+O:"")})}function bu(f,_){f.info(function(){return"TIMEOUT: "+_})}Bs.prototype.info=function(){};function Wh(f,_){if(!f.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var le=1;le<K.length;le++)K[le]=""}}}}return vu(T)}catch{return _}}var Ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function Ws(){}b(Ws,$s),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},wr=new Ws;function Er(f,_,T,O){this.j=f,this.i=_,this.l=T,this.R=O||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}var Su={},Ha={};function Wa(f,_,T){f.L=1,f.v=Qi(Wn(_)),f.m=T,f.P=!0,Iu(f,null)}function Iu(f,_){f.F=Date.now(),tt(f),f.A=Wn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Ji(T.i,"t",O),f.C=0,T=f.j.J,f.h=new xc,f.g=Hc(f.j,T?_:null,!f.m),0<f.O&&(f.M=new di(y(f.Y,f,f.g),f.O)),_=f.U,T=f.g,O=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(In[0]=K.toString()),K=In);for(var J=0;J<K.length;J++){var le=Un(T,K[J],O||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),fi(),Hs(f.i,f.u,f.A,f.l,f.R,f.m)}Er.prototype.ca=function(f){f=f.target;const _=this.M;_&&xn(f)==3?_.j():this.Y(f)},Er.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=xn(this.g);var _=this.g.Ba();const ir=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Ct!=4||_==7||(_==8||0>=ir?fi(3):fi(2)),Gs(this);var T=this.g.Z();this.X=T;t:if(Cc(this)){var O=ku(this.g);f="";var K=O.length,J=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Wi(this);var le="";break t}this.h.i=new l.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,f+=this.h.i.decode(O[_],{stream:!(J&&_==K-1)});O.length=0,this.h.g+=f,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,za(this.i,this.u,this.A,this.l,this.R,Ct,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Lt=this.g;if((Xe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Xe)){var Be=Xe;break t}}Be=null}if(T=Be)_r(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ru(this,T);else{this.o=!1,this.s=3,Tt(12),nr(this),Wi(this);break e}}if(this.P){T=!0;let Kn;for(;!this.J&&this.C<le.length;)if(Kn=Gh(this,le),Kn==Ha){Ct==4&&(this.s=4,Tt(14),T=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Su){this.s=4,Tt(15),_r(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else _r(this.i,this.l,Kn,null),Ru(this,Kn);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||le.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)_r(this.i,this.l,le,"[Invalid Chunked Response]"),nr(this),Wi(this);else if(0<le.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ou(zt),zt.M=!0,Tt(11))}}else _r(this.i,this.l,le,null),Ru(this,le);Ct==4&&nr(this),this.o&&!this.J&&(Ct==4?ro(this.j,this):(this.o=!1,tt(this)))}else Ja(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),nr(this),Wi(this)}}}catch{}finally{}};function Cc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Gh(f,_){var T=f.C,O=_.indexOf(`
`,T);return O==-1?Ha:(T=Number(_.substring(T,O)),isNaN(T)?Su:(O+=1,O+T>_.length?Ha:(_=_.slice(O,O+T),f.C=O+T,_)))}Er.prototype.cancel=function(){this.J=!0,nr(this)};function tt(f){f.S=Date.now()+f.I,Ac(f,f.I)}function Ac(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yr(y(f.ba,f),_)}function Gs(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Er.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(bu(this.i,this.A),this.L!=2&&(fi(),Tt(17)),nr(this),this.s=2,Wi(this)):Ac(this,this.S-f)};function Wi(f){f.j.G==0||f.J||ro(f.j,f)}function nr(f){Gs(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Bn(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Ru(f,_){try{var T=f.j;if(T.G!=0&&(T.g==f||En(T.h,f))){if(!f.K&&En(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)no(T),Rr(T);else break e;to(T),Tt(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=yr(y(T.Za,T),6e3));if(1>=kc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vi(T,11)}else if((f.K||T.g==f)&&no(T),!P(_))for(K=T.Da.g.parse(_),_=0;_<K.length;_++){let Be=K[_];if(T.T=Be[0],Be=Be[1],T.G==2)if(Be[0]=="c"){T.K=Be[1],T.ia=Be[2];const zt=Be[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Ct=Be[4];Ct!=null&&(T.Aa=Ct,T.j.info("SVER="+T.Aa));const ir=Be[5];ir!=null&&typeof ir=="number"&&0<ir&&(O=1.5*ir,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Kn=f.g;if(Kn){const ea=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var J=O.h;J.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(xu(J,J.h),J.h=null))}if(O.D){const so=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(O.ya=so,Ze(O.I,O.D,so))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var le=f;if(O.qa=Bc(O,O.J?O.ia:null,O.W),le.K){Dc(O.h,le);var Xe=le,Lt=O.L;Lt&&(Xe.I=Lt),Xe.B&&(Gs(Xe),tt(Xe)),O.g=le}else Zs(O);0<T.i.length&&Wr(T)}else Be[0]!="stop"&&Be[0]!="close"||vi(T,7);else T.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?vi(T,7):Zt(T):Be[0]!="noop"&&T.l&&T.l.ta(Be),T.v=0)}}fi(4)}catch{}}var Pc=class{constructor(f,_){this.g=f,this.map=_}};function Ks(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function kc(f){return f.h?1:f.g?f.g.size:0}function En(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function xu(f,_){f.g?f.g.add(_):f.h=_}function Dc(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ks.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Oc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.D);return _}return S(f.i)}function Ga(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],T=f.length,O=0;O<T;O++)_.push(f[O]);return _}_=[],T=0;for(O in f)_[T++]=f[O];return _}function Ka(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var T=0;T<f;T++)_.push(T);return _}_=[],T=0;for(const O in f)_[T++]=O;return _}}}function Gi(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var T=Ka(f),O=Ga(f),K=O.length,J=0;J<K;J++)_.call(void 0,O[J],T&&T[J],f)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(f,_){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),K=null;if(0<=O){var J=f[T].substring(0,O);K=f[T].substring(O+1)}else J=f[T];_(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function hi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof hi){this.h=f.h,Qs(this,f.j),this.o=f.o,this.g=f.g,Ki(this,f.s),this.l=f.l;var _=f.i,T=new zr;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Yi(this,T),this.m=f.m}else f&&(_=String(f).match(Ys))?(this.h=!1,Qs(this,_[1]||"",!0),this.o=$e(_[2]||""),this.g=$e(_[3]||"",!0),Ki(this,_[4]),this.l=$e(_[5]||"",!0),Yi(this,_[6]||"",!0),this.m=$e(_[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}hi.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Xi(_,Ya,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Xi(_,Ya,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Xi(T,T.charAt(0)=="/"?Lc:Mc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Xi(T,Cu)),f.join("")};function Wn(f){return new hi(f)}function Qs(f,_,T){f.j=T?$e(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ki(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Yi(f,_,T){_ instanceof zr?(f.i=_,Br(f.i,f.h)):(T||(_=Xi(_,Vc)),f.i=new zr(_,f.h))}function Ze(f,_,T){f.i.set(_,T)}function Qi(f){return Ze(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $e(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xi(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,Nc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Nc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ya=/[#\/\?@]/g,Mc=/[#\?:]/g,Lc=/[#\?]/g,Vc=/[#\?@]/g,Cu=/#/g;function zr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Jt(f){f.g||(f.g=new Map,f.h=0,f.i&&Kh(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=zr.prototype,n.add=function(f,_){Jt(this),this.i=null,f=rr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function Tr(f,_){Jt(f),_=rr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function br(f,_){return Jt(f),_=rr(f,_),f.g.has(_)}n.forEach=function(f,_){Jt(this),this.g.forEach(function(T,O){T.forEach(function(K){f.call(_,K,O,this)},this)},this)},n.na=function(){Jt(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let O=0;O<_.length;O++){const K=f[O];for(let J=0;J<K.length;J++)T.push(_[O])}return T},n.V=function(f){Jt(this);let _=[];if(typeof f=="string")br(this,f)&&(_=_.concat(this.g.get(rr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)_=_.concat(f[T])}return _},n.set=function(f,_){return Jt(this),this.i=null,f=rr(this,f),br(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Ji(f,_,T){Tr(f,_),0<T.length&&(f.i=null,f.g.set(rr(f,_),S(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var O=_[T];const J=encodeURIComponent(String(O)),le=this.V(O);for(O=0;O<le.length;O++){var K=J;le[O]!==""&&(K+="="+encodeURIComponent(String(le[O]))),f.push(K)}}return this.i=f.join("&")};function rr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Br(f,_){_&&!f.j&&(Jt(f),f.i=null,f.g.forEach(function(T,O){var K=O.toLowerCase();O!=K&&(Tr(this,O),Ji(this,K,T))},f)),f.j=_}function Yh(f,_){const T=new Bs;if(l.Image){const O=new Image;O.onload=E(Rn,T,"TestLoadImage: loaded",!0,_,O),O.onerror=E(Rn,T,"TestLoadImage: error",!1,_,O),O.onabort=E(Rn,T,"TestLoadImage: abort",!1,_,O),O.ontimeout=E(Rn,T,"TestLoadImage: timeout",!1,_,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else _(!1)}function Fc(f,_){const T=new Bs,O=new AbortController,K=setTimeout(()=>{O.abort(),Rn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:O.signal}).then(J=>{clearTimeout(K),J.ok?Rn(T,"TestPingServer: ok",!0,_):Rn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),Rn(T,"TestPingServer: error",!1,_)})}function Rn(f,_,T,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(T)}catch{}}function Qh(){this.g=new _u}function jc(f,_,T){const O=T||"";try{Gi(f,function(K,J){let le=K;p(K)&&(le=vu(K)),_.push(O+J+"="+encodeURIComponent(le))})}catch(K){throw _.push(O+"type="+encodeURIComponent("_badmap")),K}}function pi(f){this.l=f.Ub||null,this.j=f.eb||!1}b(pi,$s),pi.prototype.g=function(){return new Xs(this.l,this.j)},pi.prototype.i=function(f){return function(){return f}}({});function Xs(f,_){lt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Xs,lt),n=Xs.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Sr(this):Ir(this),this.readyState==3&&qc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Sr(this))},n.Qa=function(f){this.g&&(this.response=f,Sr(this))},n.ga=function(){this.g&&Sr(this)};function Sr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mi(f){let _="";return z(f,function(T,O){_+=O,_+=":",_+=T,_+=`\r
`}),_}function Zi(f,_,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=mi(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Ze(f,_,T))}function ct(f){lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ct,lt);var Xh=/^https?$/i,Au=["POST","PUT"];n=ct.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?ja(this.o):ja(wr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){Js(this,J);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)T.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())T.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Au,_,void 0))||O||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,le]of T)this.g.setRequestHeader(J,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Js(this,J)}};function Js(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Qa(f),Gn(f)}function Qa(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},n.bb=function(){Pu(this)};function Pu(f){if(f.h&&typeof u<"u"&&(!f.v[1]||xn(f)!=4||f.Z()!=2)){if(f.u&&xn(f)==4)Hi(f.Ea,0,f);else if(rt(f,"readystatechange"),xn(f)==4){f.h=!1;try{const le=f.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var O;if(O=le===0){var K=String(f.D).match(Ys)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),O=!Xh.test(K?K.toLowerCase():"")}T=O}if(T)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var J=2<xn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Qa(f)}}finally{Gn(f)}}}}function Gn(f,_){if(f.g){Xa(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||rt(f,"ready");try{T.onreadystatechange=O}catch{}}}function Xa(f){f.I&&(l.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function xn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),yu(_)}};function ku(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(f){const _={};f=(f.g&&2<=xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(P(f[O]))continue;var T=M(f[O]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[K]||[];_[K]=J,J.push(T)}k(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function Du(f){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,f),this.cb=Hr("retryDelaySeedMs",1e4,f),this.Wa=Hr("forwardChannelMaxRetries",2,f),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ks(f&&f.concurrentRequestLimit),this.Da=new Qh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Du.prototype,n.la=8,n.G=1,n.connect=function(f,_,T,O){Tt(0),this.W=f,this.H=_||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=Bc(this,null,this.W),Wr(this)};function Zt(f){if(Za(f),f.G==3){var _=f.U++,T=Wn(f.I);if(Ze(T,"SID",f.K),Ze(T,"RID",_),Ze(T,"TYPE","terminate"),gi(f,T),_=new Er(f,f.j,_),_.L=2,_.v=Qi(Wn(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=_.v,T=!0),T||(_.g=Hc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),tt(_)}zc(f)}function Rr(f){f.g&&(Ou(f),f.g.cancel(),f.g=null)}function Za(f){Rr(f),f.u&&(l.clearTimeout(f.u),f.u=null),no(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Wr(f){if(!Hn(f.h)&&!f.s){f.s=!0;var _=f.Ga;_e||ue(),ne||(_e(),ne=!0),de.add(_,f),f.B=0}}function Jh(f,_){return kc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yr(y(f.Ga,f,_),$c(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new Er(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=es(this,K,_),T=Wn(this.I),Ze(T,"RID",f),Ze(T,"CVER",22),this.D&&Ze(T,"X-HTTP-Session-Id",this.D),gi(this,T),J&&(this.O?_="headers="+encodeURIComponent(String(mi(J)))+"&"+_:this.m&&Zi(T,this.m,J)),xu(this.h,K),this.Ua&&Ze(T,"TYPE","init"),this.P?(Ze(T,"$req",_),Ze(T,"SID","null"),K.T=!0,Wa(K,T,null)):Wa(K,T,_),this.G=2}}else this.G==3&&(f?eo(this,f):this.i.length==0||Hn(this.h)||eo(this))};function eo(f,_){var T;_?T=_.l:T=f.U++;const O=Wn(f.I);Ze(O,"SID",f.K),Ze(O,"RID",T),Ze(O,"AID",f.T),gi(f,O),f.m&&f.o&&Zi(O,f.m,f.o),T=new Er(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),_&&(f.i=_.D.concat(f.i)),_=es(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xu(f.h,T),Wa(T,O,_)}function gi(f,_){f.H&&z(f.H,function(T,O){Ze(_,O,T)}),f.l&&Gi({},function(T,O){Ze(_,O,T)})}function es(f,_,T){T=Math.min(f.i.length,T);var O=f.l?y(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const le=["count="+T];J==-1?0<T?(J=K[0].g,le.push("ofs="+J)):J=0:le.push("ofs="+J);let Xe=!0;for(let Lt=0;Lt<T;Lt++){let Be=K[Lt].g;const zt=K[Lt].map;if(Be-=J,0>Be)J=Math.max(0,K[Lt].g-100),Xe=!1;else try{jc(zt,le,"req"+Be+"_")}catch{O&&O(zt)}}if(Xe){O=le.join("&");break e}}}return f=f.i.splice(0,T),_.D=f,O}function Zs(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;_e||ue(),ne||(_e(),ne=!0),de.add(_,f),f.v=0}}function to(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yr(y(f.Fa,f),$c(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yr(y(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Rr(this),Uc(this))};function Ou(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Uc(f){f.g=new Er(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Wn(f.qa);Ze(_,"RID","rpc"),Ze(_,"SID",f.K),Ze(_,"AID",f.T),Ze(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ze(_,"TO",f.ja),Ze(_,"TYPE","xmlhttp"),gi(f,_),f.m&&f.o&&Zi(_,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Qi(Wn(_)),T.m=null,T.P=!0,Iu(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Rr(this),to(this),Tt(19))};function no(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ro(f,_){var T=null;if(f.g==_){no(f),Ou(f),f.g=null;var O=2}else if(En(f.h,_))T=_.D,Dc(f.h,_),O=1;else return;if(f.G!=0){if(_.o)if(O==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var K=f.B;O=zs(),rt(O,new $a(O,T)),Wr(f)}else Zs(f);else if(K=_.s,K==3||K==0&&0<_.X||!(O==1&&Jh(f,_)||O==2&&to(f)))switch(T&&0<T.length&&(_=f.h,_.i=_.i.concat(T)),K){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function $c(f,_){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*_}function vi(f,_){if(f.j.info("Error code "+_),_==2){var T=y(f.fb,f),O=f.Xa;const K=!O;O=new hi(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qs(O,"https"),Qi(O),K?Yh(O.toString(),T):Fc(O.toString(),T)}else Tt(2);f.G=0,f.l&&f.l.sa(_),zc(f),Za(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function zc(f){if(f.G=0,f.ka=[],f.l){const _=Oc(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ka,_),I(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Bc(f,_,T){var O=T instanceof hi?Wn(T):new hi(T);if(O.g!="")_&&(O.g=_+"."+O.g),Ki(O,O.s);else{var K=l.location;O=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var J=new hi(null);O&&Qs(J,O),_&&(J.g=_),K&&Ki(J,K),T&&(J.l=T),O=J}return T=f.D,_=f.ya,T&&_&&Ze(O,T,_),Ze(O,"VER",f.la),gi(f,O),O}function Hc(f,_,T){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new ct(new pi({eb:T})):new ct(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}n=Nu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(f,_){return new Tn(f,_)};function Tn(f,_){lt.call(this),this.g=new Du(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!P(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Gr(this)}b(Tn,lt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Zt(this.g)},Tn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=vu(f),f=T);_.i.push(new Pc(_.Ya++,f)),_.G==3&&Wr(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,Tn.aa.N.call(this)};function Wc(f){Ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(Wc,Ur);function Gc(){Ua.call(this),this.status=1}b(Gc,Ua);function Gr(f){this.g=f}b(Gr,Nu),Gr.prototype.ua=function(){rt(this.g,"a")},Gr.prototype.ta=function(f){rt(this.g,new Wc(f))},Gr.prototype.sa=function(f){rt(this.g,new Gc)},Gr.prototype.ra=function(){rt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,EA=function(){return new io},wA=function(){return zs()},_A=$r,O_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,of=Ba,Rc.COMPLETE="complete",yA=Rc,qa.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ml=qa,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,vA=ct}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const H1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new mw("@firebase/firestore");function Co(){return Sa.logLevel}function me(n,...e){if(Sa.logLevel<=je.DEBUG){const t=e.map(Aw);Sa.debug(`Firestore (${iu}): ${n}`,...t)}}function Vi(n,...e){if(Sa.logLevel<=je.ERROR){const t=e.map(Aw);Sa.error(`Firestore (${iu}): ${n}`,...t)}}function jo(n,...e){if(Sa.logLevel<=je.WARN){const t=e.map(Aw);Sa.warn(`Firestore (${iu}): ${n}`,...t)}}function Aw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function Qe(n,e){n||ke()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class d4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ss,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},l=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ss)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new TA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new hn(e)}}class h4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new h4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new m4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function qo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Dt(0,0))}static max(){return new De(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ml.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ml?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends Ml{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ml{construct(e,t,r){return new rn(e,t,r)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(r+=l,i++):(a(),i++)}if(a(),u)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ot.fromString(e))}static fromName(e){return new Se(ot.fromString(e).popFirst(5))}static empty(){return new Se(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ot(e.slice()))}}function _4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new xs(i,Se.empty(),e)}function w4(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xs(De.min(),Se.empty(),-1)}static max(){return new xs(De.max(),Se.empty(),-1)}}function E4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==T4)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,a=0,u=!1;e.forEach(l=>{++i,l.next(()=>{++a,u&&a===i&&t()},d=>r(d))}),u=!0,a===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const a=e.length,u=new Array(a);let l=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(m=>{u[p]=m,++l,l===a&&r(u)},m=>i(m))}})}static doWhile(e,t){return new ee((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function S4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ah.oe=-1;function oh(n){return n==null}function Df(n){return n===0&&1/n==-1/0}function I4(n){return typeof n=="number"&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=W1(e)),e=x4(n.get(t),e);return W1(e)}function x4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function W1(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new nn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,i,a){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new K1(this.data.getIterator())}getIteratorFrom(e){return new K1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class K1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new jt(rn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IA("Invalid base64 string: "+a):a}}(e);return new sn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const C4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=C4.exec(n);if(Qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function uh(n){const e=n.mapValue.fields.__previous_value__;return Pw(e)?uh(e):e}function Ll(n){const e=Cs(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t,r,i,a,u,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=p}}class Vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pw(n)?4:k4(n)?9007199254740991:P4(n)?10:11:ke()}function ai(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ll(n).isEqual(Ll(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Cs(i.timestampValue),l=Cs(a.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return As(i.bytesValue).isEqual(As(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=St(i.doubleValue),l=St(a.doubleValue);return u===l?Df(u)===Df(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},l=a.mapValue.fields||{};if(G1(u)!==G1(l))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(l[d]===void 0||!ai(u[d],l[d])))return!1;return!0}(n,e);default:return ke()}}function Fl(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function Uo(n,e){if(n===e)return 0;const t=Ps(n),r=Ps(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const l=St(a.integerValue||a.doubleValue),d=St(u.integerValue||u.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return Y1(n.timestampValue,e.timestampValue);case 4:return Y1(Ll(n),Ll(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(a,u){const l=As(a),d=As(u);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const l=a.split("/"),d=u.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=ze(l[p],d[p]);if(m!==0)return m}return ze(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const l=ze(St(a.latitude),St(u.latitude));return l!==0?l:ze(St(a.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Q1(n.arrayValue,e.arrayValue);case 10:return function(a,u){var l,d,p,m;const v=a.fields||{},y=u.fields||{},E=(l=v.value)===null||l===void 0?void 0:l.arrayValue,b=(d=y.value)===null||d===void 0?void 0:d.arrayValue,S=ze(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:Q1(E,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Wd.mapValue&&u===Wd.mapValue)return 0;if(a===Wd.mapValue)return 1;if(u===Wd.mapValue)return-1;const l=a.fields||{},d=Object.keys(l),p=u.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const y=ze(d[v],m[v]);if(y!==0)return y;const E=Uo(l[d[v]],p[m[v]]);if(E!==0)return E}return ze(d.length,m.length)}(n.mapValue,e.mapValue);default:throw ke()}}function Y1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Cs(n),r=Cs(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function Q1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Uo(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function $o(n){return N_(n)}function N_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Cs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return As(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=N_(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${N_(t.fields[u])}`;return i+"}"}(n.mapValue):ke()}function uf(n){switch(Ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(n);return e?16+uf(e):16;case 5:return 2*n.stringValue.length;case 6:return As(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+uf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Vs(r.fields,(a,u)=>{i+=a.length+uf(u)}),i}(n.mapValue);default:throw ke()}}function X1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function M_(n){return!!n&&"integerValue"in n}function kw(n){return!!n&&"arrayValue"in n}function J1(n){return!!n&&"nullValue"in n}function Z1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lf(n){return!!n&&"mapValue"in n}function P4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((u,l)=>{if(!t.isImmediateParentOf(l)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=l.popLast()}u?r[l.lastSegment()]=bl(u):i.push(l.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vs(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Mn(bl(this.value))}}function RA(n){const e=[];return Vs(n.fields,(t,r)=>{const i=new rn([t]);if(lf(r)){const a=RA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,i,a,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=l}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.position=e,this.inclusive=t}}function eb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(u.referenceValue),t.key):r=Uo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function tb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function D4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class kt extends xA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new N4(e,t,r):t==="array-contains"?new V4(e,r):t==="in"?new F4(e,r):t==="not-in"?new j4(e,r):t==="array-contains-any"?new q4(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new M4(e,r):new L4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Uo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends xA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Lr(e,t)}matches(e){return CA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CA(n){return n.op==="and"}function AA(n){return O4(n)&&CA(n)}function O4(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function L_(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(AA(n))return n.filters.map(e=>L_(e)).join(",");{const e=n.filters.map(t=>L_(t)).join(",");return`${n.op}(${e})`}}function PA(n,e){return n instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)}(n,e):n instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,l)=>a&&PA(u,i.filters[l]),!0):!1}(n,e):void ke()}function kA(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(kA).join(" ,")+"}"}(n):"Filter"}class N4 extends kt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class M4 extends kt{constructor(e,t){super(e,"in",t),this.keys=DA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class L4 extends kt{constructor(e,t){super(e,"not-in",t),this.keys=DA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Se.fromName(r.referenceValue))}class V4 extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kw(t)&&Fl(t.arrayValue,this.value)}}class F4 extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fl(this.value.arrayValue,t)}}class j4 extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Fl(this.value.arrayValue,t)}}class q4 extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t=null,r=[],i=[],a=null,u=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=l,this.ue=null}}function nb(n,e=null,t=[],r=[],i=null,a=null,u=null){return new U4(n,e,t,r,i,a,u)}function Dw(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>L_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$o(r)).join(",")),e.ue=t}return e.ue}function Ow(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!D4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tb(n.startAt,e.startAt)&&tb(n.endAt,e.endAt)}function V_(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t=null,r=[],i=[],a=null,u="F",l=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=l,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $4(n,e,t,r,i,a,u,l){return new uc(n,e,t,r,i,a,u,l)}function OA(n){return new uc(n)}function rb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NA(n){return n.collectionGroup!==null}function Sl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new jt(rn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Nf(a,r))}),t.has(rn.keyField().canonicalString())||e.ce.push(new Nf(rn.keyField(),r))}return e.ce}function ni(n){const e=Oe(n);return e.le||(e.le=z4(e,Sl(n))),e.le}function z4(n,e){if(n.limitType==="F")return nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Nf(i.field,a)});const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function F_(n,e){const t=n.filters.concat([e]);return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function j_(n,e,t){return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lh(n,e){return Ow(ni(n),ni(e))&&n.limitType===e.limitType}function MA(n){return`${Dw(ni(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>kA(i)).join(", ")}]`),oh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$o(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Sl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,l,d){const p=eb(u,l,d);return u.inclusive?p<=0:p<0}(r.startAt,Sl(r),i)||r.endAt&&!function(u,l,d){const p=eb(u,l,d);return u.inclusive?p>=0:p>0}(r.endAt,Sl(r),i))}(n,e)}function B4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LA(n){return(e,t)=>{let r=!1;for(const i of Sl(n)){const a=H4(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function H4(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,u,l){const d=u.data.field(a),p=l.data.field(a);return d!==null&&p!==null?Uo(d,p):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new gt(Se.comparator);function Fi(){return W4}const VA=new gt(Se.comparator);function gl(...n){let e=VA;for(const t of n)e=e.insert(t.key,t);return e}function FA(n){let e=VA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function va(){return Il()}function jA(){return Il()}function Il(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const G4=new gt(Se.comparator),K4=new jt(Se.comparator);function qe(...n){let e=K4;for(const t of n)e=e.add(t);return e}const Y4=new jt(ze);function Q4(){return Y4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function qA(n){return{integerValue:""+n}}function X4(n,e){return I4(e)?qA(e):Nw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function J4(n,e,t){return n instanceof Mf?function(i,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Pw(a)&&(a=uh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof zo?$A(n,e):n instanceof jl?zA(n,e):function(i,a){const u=UA(i,a),l=ib(u)+ib(i.Pe);return M_(u)&&M_(i.Pe)?qA(l):Nw(i.serializer,l)}(n,e)}function Z4(n,e,t){return n instanceof zo?$A(n,e):n instanceof jl?zA(n,e):t}function UA(n,e){return n instanceof Lf?function(r){return M_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Mf extends dh{}class zo extends dh{constructor(e){super(),this.elements=e}}function $A(n,e){const t=BA(e);for(const r of n.elements)t.some(i=>ai(i,r))||t.push(r);return{arrayValue:{values:t}}}class jl extends dh{constructor(e){super(),this.elements=e}}function zA(n,e){let t=BA(e);for(const r of n.elements)t=t.filter(i=>!ai(i,r));return{arrayValue:{values:t}}}class Lf extends dh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ib(n){return St(n.integerValue||n.doubleValue)}function BA(n){return kw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,t){this.field=e,this.transform=t}}function tF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof zo&&i instanceof zo||r instanceof jl&&i instanceof jl?qo(r.elements,i.elements,ai):r instanceof Lf&&i instanceof Lf?ai(r.Pe,i.Pe):r instanceof Mf&&i instanceof Mf}(n.transform,e.transform)}class nF{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fh{}function HA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mw(n.key,Mr.none()):new lc(n.key,n.data,Mr.none());{const t=n.data,r=Mn.empty();let i=new jt(rn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Fs(n.key,r,new Jn(i.toArray()),Mr.none())}}function rF(n,e,t){n instanceof lc?function(i,a,u){const l=i.value.clone(),d=ab(i.fieldTransforms,a,u.transformResults);l.setAll(d),a.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(i,a,u){if(!cf(i.precondition,a))return void a.convertToUnknownDocument(u.version);const l=ab(i.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(WA(i)),d.setAll(l),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,r){return n instanceof lc?function(a,u,l,d){if(!cf(a.precondition,u))return l;const p=a.value.clone(),m=ob(a.fieldTransforms,d,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fs?function(a,u,l,d){if(!cf(a.precondition,u))return l;const p=ob(a.fieldTransforms,d,u),m=u.data;return m.setAll(WA(a)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,l){return cf(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l}(n,e,t)}function iF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=UA(r.transform,i||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function sb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qo(r,i,(a,u)=>tF(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends fh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends fh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ab(n,e,t){const r=new Map;Qe(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,l=e.data.field(a.field);r.set(a.field,Z4(u,l,t[i]))}return r}function ob(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,J4(a,u,e))}return r}class Mw extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sF extends fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rF(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jA();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let l=this.applyToLocalView(u,a.mutatedFields);l=t.has(i.key)?null:l;const d=HA(u,l);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,r)=>sb(t,r))&&qo(this.baseMutations,e.baseMutations,(t,r)=>sb(t,r))}}class Lw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length);let i=function(){return G4}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Lw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oF=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,He;function lF(n){switch(n){default:return ke();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function GA(n){if(n===void 0)return Vi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return ke()}}(He=Pt||(Pt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new ya([4294967295,4294967295],0);function ub(n){const e=cF().encode(n),t=new gA;return t.update(e),new Uint8Array(t.digest())}function lb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ya([t,r],0),new ya([i,a],0)]}class Vw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vl(`Invalid padding: ${t}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ya.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(ya.fromNumber(r)));return i.compare(dF)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ub(e),[r,i]=lb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Vw(a,i,t);return r.forEach(l=>u.insert(l)),u}insert(e){if(this.Te===0)return;const t=ub(e),[r,i]=lb(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,i,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hh(De.min(),i,new gt(ze),Fi(),qe())}}class cc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cc(r,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class KA{constructor(e,t){this.targetId=e,this.me=t}}class YA{constructor(e,t,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cb{constructor(){this.fe=0,this.ge=db(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),t=qe(),r=qe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new cc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=db()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=Gd(),this.Qe=Gd(),this.Ke=new gt(ze)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const a=i.target;if(V_(a))if(r===0){const u=new Se(a.path);this.We(t,u,pn.newNoDocument(u,De.min()))}else Qe(r===1);else{const u=this.Ze(t);if(u!==r){const l=this.Xe(e),d=l?this.et(l,e,u):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,l;try{u=As(r).toUint8Array()}catch(d){if(d instanceof IA)return jo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new Vw(u,i,a)}catch(d){return jo(d instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const u=this.Le.nt(),l=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.We(t,a,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((a,u)=>{const l=this.Ye(u);if(l){if(a.current&&V_(l.target)){const d=new Se(l.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,pn.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=qe();this.Qe.forEach((a,u)=>{let l=!0;u.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const i=new hh(e,t,this.Ke,this.ke,r);return this.ke=Fi(),this.qe=Gd(),this.Qe=Gd(),this.Ke=new gt(ze),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new cb,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new jt(ze),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new jt(ze),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new cb),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new gt(Se.comparator)}function db(){return new gt(Se.comparator)}const hF={asc:"ASCENDING",desc:"DESCENDING"},pF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mF={and:"AND",or:"OR"};class gF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function q_(n,e){return n.useProto3Json||oh(e)?e:{value:e}}function Vf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vF(n,e){return Vf(n,e.toTimestamp())}function ri(n){return Qe(!!n),De.fromTimestamp(function(t){const r=Cs(t);return new Dt(r.seconds,r.nanos)}(n))}function Fw(n,e){return U_(n,e).canonicalString()}function U_(n,e){const t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XA(n){const e=ot.fromString(n);return Qe(nP(e)),e}function $_(n,e){return Fw(n.databaseId,e.path)}function Dm(n,e){const t=XA(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(ZA(t))}function JA(n,e){return Fw(n.databaseId,e)}function yF(n){const e=XA(n);return e.length===4?ot.emptyPath():ZA(e)}function z_(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZA(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fb(n,e,t){return{name:$_(n,e),fields:t.value.mapValue.fields}}function _F(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Qe(m===void 0||typeof m=="string"),sn.fromBase64String(m||"")):(Qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),sn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&function(p){const m=p.code===void 0?te.UNKNOWN:GA(p.code);return new ye(m,p.message||"")}(u);t=new YA(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dm(n,r.document.name),a=ri(r.document.updateTime),u=r.document.createTime?ri(r.document.createTime):De.min(),l=new Mn({mapValue:{fields:r.document.fields}}),d=pn.newFoundDocument(i,a,u,l),p=r.targetIds||[],m=r.removedTargetIds||[];t=new df(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dm(n,r.document),a=r.readTime?ri(r.readTime):De.min(),u=pn.newNoDocument(i,a),l=r.removedTargetIds||[];t=new df([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dm(n,r.document),a=r.removedTargetIds||[];t=new df([],a,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new uF(i,a),l=r.targetId;t=new KA(l,u)}}return t}function wF(n,e){let t;if(e instanceof lc)t={update:fb(n,e.key,e.value)};else if(e instanceof Mw)t={delete:$_(n,e.key)};else if(e instanceof Fs)t={update:fb(n,e.key,e.data),updateMask:AF(e.fieldMask)};else{if(!(e instanceof sF))return ke();t={verify:$_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const l=u.transform;if(l instanceof Mf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Lf)return{fieldPath:u.field.canonicalString(),increment:l.Pe};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:vF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()}(n,e.precondition)),t}function EF(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(i,a){let u=i.updateTime?ri(i.updateTime):ri(a);return u.isEqual(De.min())&&(u=ri(a)),new nF(u,i.transformResults||[])}(t,e))):[]}function TF(n,e){return{documents:[JA(n,e.path)]}}function bF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JA(n,i);const a=function(p){if(p.length!==0)return tP(Lr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(m=>function(y){return{field:Po(y.field),direction:RF(y.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=q_(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function SF(n){let e=yF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const y=eP(v);return y instanceof Lr&&AA(y)?y.getFilters():[y]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(y=>function(b){return new Nf(ko(b.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(y))}(t.orderBy));let l=null;t.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,oh(y)?null:y}(t.limit));let d=null;t.startAt&&(d=function(v){const y=!!v.before,E=v.values||[];return new Of(E,y)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const y=!v.before,E=v.values||[];return new Of(E,y)}(t.endAt)),$4(e,i,u,a,l,"F",d,p)}function IF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ko(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ko(t.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ko(t.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ko(t.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(ko(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(r=>eP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function RF(n){return hF[n]}function xF(n){return pF[n]}function CF(n){return mF[n]}function Po(n){return{fieldPath:n.canonicalString()}}function ko(n){return rn.fromServerFormat(n.fieldPath)}function tP(n){return n instanceof kt?function(t){if(t.op==="=="){if(Z1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(J1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(J1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:xF(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const r=t.getFilters().map(i=>tP(i));return r.length===1?r[0]:{compositeFilter:{op:CF(t.op),filters:r}}}(n):ke()}function AF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r,i,a=De.min(),u=De.min(),l=sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.ht=e}}function kF(n){const e=SF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?j_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.ln=new OF}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(xs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class OF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jt(ot.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(41943040,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Bo(0)}static Qn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class NF{constructor(e){this.Gn=e,this.buffer=new jt(pb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){au(t)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await su(t)}await this.Yn(3e5)})}}class LF{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(ah.oe);const r=new NF(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(hb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,a,u,l,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,l=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Co()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${a} targets in `+(d-l)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function VF(n,e){return new LF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rl(r.mutation,i,Jn.empty(),Dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qe()){const i=va();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=gl();return a.forEach((l,d)=>{u=u.insert(l,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=va();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qe()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,l)=>{t.set(u,l)})})}computeViews(e,t,r,i){let a=Fi();const u=Il(),l=function(){return Il()}();return t.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Fs)?a=a.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),Rl(m.mutation,p,m.mutation.getFieldMask(),Dt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>u.set(p,m)),t.forEach((p,m)=>{var v;return l.set(p,new jF(m,(v=u.get(p))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Il();let i=new gt((u,l)=>u-l),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const l of u)l.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Jn.empty();m=l.applyToLocalView(p,m),r.set(d,m);const v=(i.get(l.batchId)||qe()).add(d);i=i.insert(l.batchId,v)})}).next(()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),p=d.key,m=d.value,v=jA();m.forEach(y=>{if(!a.has(y)){const E=HA(t.get(y),r.get(y));E!==null&&v.set(y,E),a=a.add(y)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ee.resolve(va());let l=-1,d=a;return u.next(p=>ee.forEach(p,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),a.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,qe())).next(m=>({batchId:l,changes:FA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(r=>{let i=gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=gl();return this.indexManager.getCollectionParents(e,a).next(l=>ee.forEach(l,d=>{const p=function(v,y){return new uc(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,y)=>{u=u.insert(v,y)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(u=>{a.forEach((d,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,pn.newInvalidDocument(m)))});let l=gl();return u.forEach((d,p)=>{const m=a.get(d);m!==void 0&&Rl(m.mutation,p,Jn.empty(),Dt.now()),ch(t,p)&&(l=l.insert(d,p))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ri(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:kF(i.bundledQuery),readTime:ri(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.overlays=new gt(Se.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=va();return ee.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Tt(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=va(),a=t.length+1,u=new Se(t.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const d=l.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gt((p,m)=>p-m);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=va(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const l=va(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>l.set(p,m)),!(l.size()>=i)););return ee.resolve(l)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new oF(t,r));let a=this.Er.get(t);a===void 0&&(a=qe(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.dr=new jt(Gt.Ar),this.Rr=new jt(Gt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Gt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Se(new ot([])),r=new Gt(t,e),i=new Gt(t,e+1),a=[];return this.Rr.forEachInRange([r,i],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new ot([])),r=new Gt(t,e),i=new Gt(t,e+1);let a=qe();return this.Rr.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Gt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||ze(e.br,t.br)}static Vr(e,t){return ze(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new jt(Gt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new aF(a,t,r,i);this.mutationQueue.push(u);for(const l of i)this.vr=this.vr.add(new Gt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),i=new Gt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],u=>{const l=this.Cr(u.br);a.push(l)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jt(ze);return t.forEach(i=>{const a=new Gt(i,0),u=new Gt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],l=>{r=r.add(l.br)})}),ee.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const u=new Gt(new Se(a),0);let l=new jt(ze);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(d.br)),!0)},u),ee.resolve(this.Mr(l))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ee.forEach(t.mutations,i=>{const a=new Gt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Gt(t,0),i=this.vr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.Nr=e,this.docs=function(){return new gt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Fi();const u=t.path,l=new Se(u.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||E4(w4(m),r)<=0||(i.has(m.key)||ch(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke()}Lr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WF(this)}getSize(e){return ee.resolve(this.size)}}class WF extends FF{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.persistence=e,this.Br=new La(t=>Dw(t),Ow),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.kr=0,this.qr=new jw,this.targetCount=0,this.Qr=Bo.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Br.forEach((u,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ah(0),this.Ur=!1,this.Ur=!0,this.Wr=new zF,this.referenceDelegate=e(this),this.Gr=new GF(this),this.indexManager=new DF,this.remoteDocumentCache=function(i){return new HF(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new PF(t),this.jr=new UF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $F,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new BF(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const i=new KF(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,t){return ee.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class KF extends b4{constructor(e){super(),this.currentSequenceNumber=e}}class qw{constructor(e){this.persistence=e,this.Zr=new jw,this.Xr=null}static ei(e){return new qw(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,r=>{const i=Se.fromPath(r);return this.ni(e,i).next(a=>{a||t.removeEntry(i,De.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ff{constructor(e,t){this.persistence=e,this.ri=new La(r=>R4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VF(this,t)}static ei(e,t){return new Ff(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,u=>this.ir(e,u,t).next(l=>{l||(r++,a.removeEntry(u,De.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uf(e.data.value)),t}ir(e,t,r){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=qe(),i=qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Uw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return DN()?8:S4(mn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new YF;return this.ts(e,t,u).next(l=>{if(a.result=l,this.Hi)return this.ns(e,t,u,l.size)})}).next(()=>a.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Co()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(Co()<=je.DEBUG&&me("QueryEngine","Query:",Ao(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Co()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):ee.resolve())}Xi(e,t){if(rb(t))return ee.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=j_(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=qe(...a);return this.Zi.getDocuments(e,u).next(l=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,l);return this.ss(t,p,u,d.readTime)?this.Xi(e,j_(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,i){return rb(t)||i.isEqual(De.min())?ee.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,i)?ee.resolve(null):(Co()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(t)),this.os(e,u,t,_4(i,-1)).next(l=>l))})}rs(e,t){let r=new jt(LA(e));return t.forEach((i,a)=>{ch(e,a)&&(r=r.add(a))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,t,r){return Co()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.Zi.getDocumentsMatchingQuery(e,t,xs.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new gt(ze),this.cs=new La(a=>Dw(a),Ow),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function JF(n,e,t,r){return new XF(n,e,t,r)}async function iP(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],l=[];let d=qe();for(const p of i){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:l}))})})}function ZF(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(l,d,p,m){const v=p.batch,y=v.keys();let E=ee.resolve();return y.forEach(b=>{E=E.next(()=>m.getEntry(d,b)).next(S=>{const I=p.docVersions.get(b);Qe(I!==null),S.version.compareTo(I)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let d=qe();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function sP(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function ej(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const l=[];e.targetChanges.forEach((m,v)=>{const y=i.get(v);if(!y)return;l.push(t.Gr.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,m.addedDocuments,v)));let E=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),function(S,I,A){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,E,m)&&l.push(t.Gr.updateTargetData(a,E))});let d=Fi(),p=qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),l.push(tj(a,u,e.documentUpdates).next(m=>{d=m.Is,p=m.Es})),!r.isEqual(De.min())){const m=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(m)}return ee.waitFor(l).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.us=i,a))}function tj(n,e,t){let r=qe(),i=qe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Fi();return t.forEach((l,d)=>{const p=a.get(l);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(l,d.readTime),u=u.insert(l,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(l,d)):me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",d.version)}),{Is:u,Es:i}})}function nj(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rj(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):t.Gr.allocateTargetId(r).next(u=>(i=new ws(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function B_(n,e,t){const r=Oe(n),i=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!au(u))throw u;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function mb(n,e,t){const r=Oe(n);let i=De.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,m){const v=Oe(d),y=v.cs.get(m);return y!==void 0?ee.resolve(v.us.get(y)):v.Gr.getTargetData(p,m)}(r,u,ni(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,l.targetId).next(d=>{a=d})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?i:De.min(),t?a:qe())).next(l=>(ij(r,B4(e),l),{documents:l,ds:a})))}function ij(n,e,t){let r=n.ls.get(e)||De.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class gb{constructor(){this.activeTargetIds=Q4()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sj{constructor(){this._o=new gb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function Om(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class lj extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(t,r,i,a,u){const l=Om(),d=this.No(t,r.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${l}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,d,p,i).then(m=>(me("RestConnection",`Received RPC '${t}' ${l}: `,m),m),m=>{throw jo("RestConnection",`RPC '${t}' ${l} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,a,u,l){return this.Oo(t,r,i,a,u)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),i&&i.headers.forEach((a,u)=>t[u]=a)}No(t,r){const i=oj[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const a=Om();return new Promise((u,l)=>{const d=new vA;d.setWithCredentials(!0),d.listenOnce(yA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case of.NO_ERROR:const m=d.getResponseJson();me(dn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),u(m);break;case of.TIMEOUT:me(dn,`RPC '${e}' ${a} timed out`),l(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const v=d.getStatus();if(me(dn,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const b=function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(A)>=0?A:te.UNKNOWN}(E.status);l(new ye(b,E.message))}else l(new ye(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new ye(te.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(dn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);me(dn,`RPC '${e}' ${a} sending request:`,i),d.send(t,"POST",p,r,15)})}qo(e,t,r){const i=Om(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=EA(),l=wA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");me(dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=u.createWebChannel(m,d);let y=!1,E=!1;const b=new uj({Eo:I=>{E?me(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(y||(me(dn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),me(dn,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Ao:()=>v.close()}),S=(I,A,P)=>{I.listen(A,F=>{try{P(F)}catch(V){setTimeout(()=>{throw V},0)}})};return S(v,ml.EventType.OPEN,()=>{E||(me(dn,`RPC '${e}' stream ${i} transport opened.`),b.So())}),S(v,ml.EventType.CLOSE,()=>{E||(E=!0,me(dn,`RPC '${e}' stream ${i} transport closed`),b.Do())}),S(v,ml.EventType.ERROR,I=>{E||(E=!0,jo(dn,`RPC '${e}' stream ${i} transport errored:`,I),b.Do(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),S(v,ml.EventType.MESSAGE,I=>{var A;if(!E){const P=I.data[0];Qe(!!P);const F=P,V=(F==null?void 0:F.error)||((A=F[0])===null||A===void 0?void 0:A.error);if(V){me(dn,`RPC '${e}' stream ${i} received error:`,V);const H=V.status;let z=function(C){const N=Pt[C];if(N!==void 0)return GA(N)}(H),k=V.message;z===void 0&&(z=te.INTERNAL,k="Unknown error status: "+H+" with message "+V.message),E=!0,b.Do(new ye(z,k)),v.close()}else me(dn,`RPC '${e}' stream ${i} received:`,P),b.vo(P)}}),S(l,_A.STAT_EVENT,I=>{I.stat===O_.PROXY?me(dn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===O_.NOPROXY&&me(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new gF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,r,i,a,u,l,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new aP(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ye(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cj extends oP{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=_F(this.serializer,e),r=function(a){if(!("targetChange"in a))return De.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?De.min():u.readTime?ri(u.readTime):De.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=z_(this.serializer),t.addTarget=function(a,u){let l;const d=u.target;if(l=V_(d)?{documents:TF(a,d)}:{query:bF(a,d).ct},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=QA(a,u.resumeToken);const p=q_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}else if(u.snapshotVersion.compareTo(De.min())>0){l.readTime=Vf(a,u.snapshotVersion.toTimestamp());const p=q_(a,u.expectedCount);p!==null&&(l.expectedCount=p)}return l}(this.serializer,e);const r=IF(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=z_(this.serializer),t.removeTarget=e,this.c_(t)}}class dj extends oP{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=EF(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=z_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wF(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,U_(t,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(te.UNKNOWN,a.toString())})}ko(e,t,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.ko(e,U_(t,r),i,u,l,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(te.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class hj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vi(t),this.C_=!1):me("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Va(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Oe(d);p.k_.add(4),await dc(p),p.K_.set("Unknown"),p.k_.delete(4),await mh(p)}(this))})}),this.K_=new hj(r,i)}}async function mh(n){if(Va(n))for(const e of n.q_)await e(!0)}async function dc(n){for(const e of n.q_)await e(!1)}function uP(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Hw(t)?Bw(t):ou(t).s_()&&zw(t,e))}function $w(n,e){const t=Oe(n),r=ou(t);t.B_.delete(e),r.s_()&&lP(t,e),t.B_.size===0&&(r.s_()?r.a_():Va(t)&&t.K_.set("Unknown"))}function zw(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(n).V_(e)}function lP(n,e){n.U_.xe(e),ou(n).m_(e)}function Bw(n){n.U_=new fF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.K_.F_()}function Hw(n){return Va(n)&&!ou(n).i_()&&n.B_.size>0}function Va(n){return Oe(n).k_.size===0}function cP(n){n.U_=void 0}async function mj(n){n.K_.set("Online")}async function gj(n){n.B_.forEach((e,t)=>{zw(n,e)})}async function vj(n,e){cP(n),Hw(n)?(n.K_.O_(e),Bw(n)):n.K_.set("Unknown")}async function yj(n,e,t){if(n.K_.set("Online"),e instanceof YA&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const l of a.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i.B_.delete(l),i.U_.removeTarget(l))}(n,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(n,r)}else if(e instanceof df?n.U_.$e(e):e instanceof KA?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(De.min()))try{const r=await sP(n.localStore);t.compareTo(r)>=0&&await function(a,u){const l=a.U_.it(u);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.B_.get(p);m&&a.B_.set(p,m.withResumeToken(d.resumeToken,u))}}),l.targetMismatches.forEach((d,p)=>{const m=a.B_.get(d);if(!m)return;a.B_.set(d,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),lP(a,d);const v=new ws(m.target,d,p,m.sequenceNumber);zw(a,v)}),a.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await jf(n,r)}}async function jf(n,e,t){if(!au(e))throw e;n.k_.add(1),await dc(n),n.K_.set("Offline"),t||(t=()=>sP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mh(n)})}function dP(n,e){return e().catch(t=>jf(n,t,e))}async function gh(n){const e=Oe(n),t=ks(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_j(e);)try{const i=await nj(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,wj(e,i)}catch(i){await jf(e,i)}fP(e)&&hP(e)}function _j(n){return Va(n)&&n.L_.length<10}function wj(n,e){n.L_.push(e);const t=ks(n);t.s_()&&t.f_&&t.g_(e.mutations)}function fP(n){return Va(n)&&!ks(n).i_()&&n.L_.length>0}function hP(n){ks(n).start()}async function Ej(n){ks(n).w_()}async function Tj(n){const e=ks(n);for(const t of n.L_)e.g_(t.mutations)}async function bj(n,e,t){const r=n.L_.shift(),i=Lw.from(r,e,t);await dP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await gh(n)}async function Sj(n,e){e&&ks(n).f_&&await async function(r,i){if(function(u){return lF(u)&&u!==te.ABORTED}(i.code)){const a=r.L_.shift();ks(r).__(),await dP(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await gh(r)}}(n,e),fP(n)&&hP(n)}async function yb(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Va(t);t.k_.add(3),await dc(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mh(t)}async function Ij(n,e){const t=Oe(n);e?(t.k_.delete(2),await mh(t)):e||(t.k_.add(2),await dc(t),t.K_.set("Unknown"))}function ou(n){return n.W_||(n.W_=function(t,r,i){const a=Oe(t);return a.b_(),new cj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:mj.bind(null,n),mo:gj.bind(null,n),po:vj.bind(null,n),R_:yj.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Hw(n)?Bw(n):n.K_.set("Unknown")):(await n.W_.stop(),cP(n))})),n.W_}function ks(n){return n.G_||(n.G_=function(t,r,i){const a=Oe(t);return a.b_(),new dj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ej.bind(null,n),po:Sj.bind(null,n),p_:Tj.bind(null,n),y_:bj.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await gh(n)):(await n.G_.stop(),n.L_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,l=new Ww(e,t,u,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),au(n))return new ye(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=gl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.z_=new gt(Se.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ho{constructor(e,t,r,i,a,u,l,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new Ho(e,t,Lo.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class xj{constructor(){this.queries=wb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Oe(t),a=i.queries;i.queries=wb(),a.forEach((u,l)=>{for(const d of l.J_)d.onError(r)})})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function wb(){return new La(n=>MA(n),lh)}async function Cj(n,e){const t=Oe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Y_()&&e.Z_()&&(r=2):(a=new Rj,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(i,!0);break;case 1:a.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const l=Gw(u,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Kw(t)}async function Aj(n,e){const t=Oe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Pj(n,e){const t=Oe(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const l of u.J_)l.ta(i)&&(r=!0);u.H_=i}}r&&Kw(t)}function kj(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const a of i.J_)a.onError(t);r.queries.delete(e)}function Kw(n){n.X_.forEach(e=>{e.next()})}var H_,Eb;(Eb=H_||(H_={})).na="default",Eb.Cache="cache";class Dj{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==H_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.key=e}}class mP{constructor(e){this.key=e}}class Oj{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qe(),this.mutatedKeys=qe(),this.Va=LA(e),this.ma=new Lo(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new _b,i=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const y=i.get(m),E=ch(this.query,v)?v:null,b=!!y&&this.mutatedKeys.has(y.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;y&&E?y.data.isEqual(E.data)?b!==S&&(r.track({type:3,doc:E}),I=!0):this.ya(y,E)||(r.track({type:2,doc:E}),I=!0,(d&&this.Va(E,d)>0||p&&this.Va(E,p)<0)&&(l=!0)):!y&&E?(r.track({type:0,doc:E}),I=!0):y&&!E&&(r.track({type:1,doc:y}),I=!0,(d||p)&&(l=!0)),I&&(E?(u=u.add(E),a=S?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{ma:u,pa:r,ss:l,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((m,v)=>function(E,b){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return S(E)-S(b)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(r),i=i!=null&&i;const l=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,u.length!==0||p?{snapshot:new Ho(this.query,e.ma,a,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new _b,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new mP(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new pP(r))}),t}va(e){this.da=e.ds,this.Ra=qe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ho.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Nj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Mj{constructor(e){this.key=e,this.Fa=!1}}class Lj{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new La(l=>MA(l),lh),this.Oa=new Map,this.Na=new Set,this.La=new gt(Se.comparator),this.Ba=new Map,this.ka=new jw,this.qa={},this.Qa=new Map,this.Ka=Bo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Vj(n,e,t=!0){const r=EP(n);let i;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await gP(r,e,t,!0),i}async function Fj(n,e){const t=EP(n);await gP(t,e,!0,!1)}async function gP(n,e,t,r){const i=await rj(n.localStore,ni(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let l;return r&&(l=await jj(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&uP(n.remoteStore,i),l}async function jj(n,e,t,r,i){n.Ua=(v,y,E)=>async function(S,I,A,P){let F=I.view.ga(A);F.ss&&(F=await mb(S.localStore,I.query,!1).then(({documents:k})=>I.view.ga(k,F)));const V=P&&P.targetChanges.get(I.targetId),H=P&&P.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(F,S.isPrimaryClient,V,H);return bb(S,I.targetId,z.ba),z.snapshot}(n,v,y,E);const a=await mb(n.localStore,e,!0),u=new Oj(e,a.ds),l=u.ga(a.documents),d=cc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=u.applyChanges(l,n.isPrimaryClient,d);bb(n,t,p.ba);const m=new Nj(e,t,u);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function qj(n,e,t){const r=Oe(n),i=r.xa.get(e),a=r.Oa.get(i.targetId);if(a.length>1)return r.Oa.set(i.targetId,a.filter(u=>!lh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$w(r.remoteStore,i.targetId),W_(r,i.targetId)}).catch(su)):(W_(r,i.targetId),await B_(r.localStore,i.targetId,!0))}async function Uj(n,e){const t=Oe(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$w(t.remoteStore,r.targetId))}async function $j(n,e,t){const r=Yj(n);try{const i=await function(u,l){const d=Oe(u),p=Dt.now(),m=l.reduce((E,b)=>E.add(b.key),qe());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let b=Fi(),S=qe();return d.hs.getEntries(E,m).next(I=>{b=I,b.forEach((A,P)=>{P.isValidDocument()||(S=S.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,b)).next(I=>{v=I;const A=[];for(const P of l){const F=iF(P,v.get(P.key).overlayedDocument);F!=null&&A.push(new Fs(P.key,F,RA(F.value.mapValue),Mr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,A,l)}).next(I=>{y=I;const A=I.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,I.batchId,A)})}).then(()=>({batchId:y.batchId,changes:FA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,d){let p=u.qa[u.currentUser.toKey()];p||(p=new gt(ze)),p=p.insert(l,d),u.qa[u.currentUser.toKey()]=p}(r,i.batchId,t),await fc(r,i.changes),await gh(r.remoteStore)}catch(i){const a=Gw(i,"Failed to persist write");t.reject(a)}}async function vP(n,e){const t=Oe(n);try{const r=await ej(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.Ba.get(a);u&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Fa=!0:i.modifiedDocuments.size>0?Qe(u.Fa):i.removedDocuments.size>0&&(Qe(u.Fa),u.Fa=!1))}),await fc(t,r,e)}catch(r){await su(r)}}function Tb(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((a,u)=>{const l=u.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(u,l){const d=Oe(u);d.onlineState=l;let p=!1;d.queries.forEach((m,v)=>{for(const y of v.J_)y.ea(l)&&(p=!0)}),p&&Kw(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zj(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),a=i&&i.key;if(a){let u=new gt(Se.comparator);u=u.insert(a,pn.newNoDocument(a,De.min()));const l=qe().add(a),d=new hh(De.min(),new Map,new gt(ze),u,l);await vP(r,d),r.La=r.La.remove(a),r.Ba.delete(e),Yw(r)}else await B_(r.localStore,e,!1).then(()=>W_(r,e,t)).catch(su)}async function Bj(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=await ZF(t.localStore,e);_P(t,r,null),yP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await fc(t,i)}catch(i){await su(i)}}async function Hj(n,e,t){const r=Oe(n);try{const i=await function(u,l){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,l).next(v=>(Qe(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);_P(r,e,t),yP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await fc(r,i)}catch(i){await su(i)}}function yP(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function _P(n,e,t){const r=Oe(n);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function W_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||wP(n,r)})}function wP(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&($w(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Yw(n))}function bb(n,e,t){for(const r of t)r instanceof pP?(n.ka.addReference(r.key,e),Wj(n,r)):r instanceof mP?(me("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||wP(n,r.key)):ke()}function Wj(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(me("SyncEngine","New document in limbo: "+t),n.Na.add(r),Yw(n))}function Yw(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(ot.fromString(e)),r=n.Ka.next();n.Ba.set(r,new Mj(t)),n.La=n.La.insert(t,r),uP(n.remoteStore,new ws(ni(OA(t.path)),r,"TargetPurposeLimboResolution",ah.oe))}}async function fc(n,e,t){const r=Oe(n),i=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((l,d)=>{u.push(r.Ua(d,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Uw.zi(d.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Ma.R_(i),await async function(d,p){const m=Oe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,y=>ee.forEach(y.Wi,E=>m.persistence.referenceDelegate.addReference(v,y.targetId,E)).next(()=>ee.forEach(y.Gi,E=>m.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))}catch(v){if(!au(v))throw v;me("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const y=v.targetId;if(!v.fromCache){const E=m.us.get(y),b=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(b);m.us=m.us.insert(y,S)}}}(r.localStore,a))}async function Gj(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await iP(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(l=>{l.forEach(d=>{d.reject(new ye(te.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(t,r.Ts)}}function Kj(n,e){const t=Oe(n),r=t.Ba.get(e);if(r&&r.Fa)return qe().add(r.key);{let i=qe();const a=t.Oa.get(e);if(!a)return i;for(const u of a){const l=t.xa.get(u);i=i.unionWith(l.view.fa)}return i}}function EP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zj.bind(null,e),e.Ma.R_=Pj.bind(null,e.eventManager),e.Ma.Wa=kj.bind(null,e.eventManager),e}function Yj(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hj.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return JF(this.persistence,new QF,e.initialUser,this.serializer)}ja(e){return new rP(qw.ei,this.serializer)}za(e){return new sj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class Qj extends qf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof Ff);const r=this.persistence.referenceDelegate.garbageCollector;return new MF(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new rP(r=>Ff.ei(r,t),this.serializer)}}class G_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gj.bind(null,this.syncEngine),await Ij(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xj}()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),r=function(a){return new lj(a)}(e.databaseInfo);return function(a,u,l,d){return new fj(a,u,l,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,u,l){return new pj(r,i,a,u,l)}(this.localStore,this.datastore,e.asyncQueue,t=>Tb(this.syncEngine,t,0),function(){return vb.p()?new vb:new aj}())}createSyncEngine(e,t){return function(i,a,u,l,d,p,m){const v=new Lj(i,a,u,l,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Oe(i);me("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await dc(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}G_.provider={build:()=>new G_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=bA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mm(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Sb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Zj(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yb(e.remoteStore,i)),n._onlineComponents=e}async function Zj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Mm(n,new qf)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Mm(n,new Qj(void 0));return n._offlineComponents}async function TP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Sb(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Sb(n,new G_))),n._onlineComponents}function e3(n){return TP(n).then(e=>e.syncEngine)}async function t3(n){const e=await TP(n),t=e.eventManager;return t.onListen=Vj.bind(null,e.syncEngine),t.onUnlisten=qj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Fj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Uj.bind(null,e.syncEngine),t}function n3(n,e,t={}){const r=new Ss;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,l,d,p){const m=new Xj({next:y=>{m.eu(),u.enqueueAndForget(()=>Aj(a,v)),y.fromCache&&d.source==="server"?p.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:y=>p.reject(y)}),v=new Dj(l,m,{includeMetadataChanges:!0,ua:!0});return Cj(a,v)}(await t3(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e,t){if(!t)throw new ye(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,r){if(e===!0&&r===!0)throw new ye(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rb(n){if(!Se.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xb(n){if(Se.isDocumentKey(n))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vh(n);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c4;switch(r.type){case"firstParty":return new p4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Ib.get(t);r&&(me("ComponentProvider","Removing Datastore"),Ib.delete(t),r.terminate())}(this),Promise.resolve()}}function i3(n,e,t,r={}){var i;const a=(n=Ia(n,yh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let l,d;if(typeof r.mockUserToken=="string")l=r.mockUserToken,d=hn.MOCK_USER;else{l=IN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hn(p)}n._authCredentials=new d4(new TA(l,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Is extends uu{constructor(e,t,r){super(e,t,OA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Se(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function IP(n,e,...t){if(n=Yt(n),SP("collection","path",e),n instanceof yh){const r=ot.fromString(e,...t);return xb(r),new Is(n,null,r)}{if(!(n instanceof Zn||n instanceof Is))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return xb(r),new Is(n.firestore,null,r)}}function Uf(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=bA.newId()),SP("doc","path",e),n instanceof yh){const r=ot.fromString(e,...t);return Rb(r),new Zn(n,null,new Se(r))}{if(!(n instanceof Zn||n instanceof Is))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return Rb(r),new Zn(n.firestore,n instanceof Is?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new aP(this,"async_queue_retry"),this.fu=()=>{const r=Nm();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ss;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!au(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),l}(r);throw Vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Ww.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class hc extends yh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ab,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ab(e),this._firestoreClient=void 0,await e}}}function s3(n,e){const t=typeof n=="object"?n:kC(),r=typeof n=="string"?n:"(default)",i=vw(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=bN("firestore");a&&i3(i,...a)}return i}function RP(n){if(n._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||a3(n),n._firestoreClient}function a3(n){var e,t,r;const i=n._freezeSettings(),a=function(l,d,p,m){return new A4(l,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bP(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Jj(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(sn.fromBase64String(e))}catch(t){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wo(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^__.*__$/;class u3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class xP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Eh{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return $f(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(CP(this.Mu)&&o3.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class l3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ph(e)}$u(e,t,r,i=!1){return new Eh({Mu:e,methodName:t,Ku:r,path:rn.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jw(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new l3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c3(n,e,t,r,i,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,i);eE("Data must be an object, but it was:",u,r);const l=AP(r,u);let d,p;if(a.merge)d=new Jn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const y=K_(e,v,t);if(!u.contains(y))throw new ye(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);kP(m,y)||m.push(y)}d=new Jn(m),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new u3(new Mn(l),d,p)}class Th extends wh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function d3(n,e,t){return new Eh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zw extends wh{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=d3(this,e,!0),r=this.Uu.map(a=>lu(a,t)),i=new zo(r);return new eF(e.path,i)}isEqual(e){return e instanceof Zw&&kl(this.Uu,e.Uu)}}function f3(n,e,t,r){const i=n.$u(1,e,t);eE("Data must be an object, but it was:",i,r);const a=[],u=Mn.empty();Vs(r,(d,p)=>{const m=tE(e,d,t);p=Yt(p);const v=i.Bu(m);if(p instanceof Th)a.push(m);else{const y=lu(p,v);y!=null&&(a.push(m),u.set(m,y))}});const l=new Jn(a);return new xP(u,l,i.fieldTransforms)}function h3(n,e,t,r,i,a){const u=n.$u(1,e,t),l=[K_(e,r,t)],d=[i];if(a.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(K_(e,a[y])),d.push(a[y+1]);const p=[],m=Mn.empty();for(let y=l.length-1;y>=0;--y)if(!kP(p,l[y])){const E=l[y];let b=d[y];b=Yt(b);const S=u.Bu(E);if(b instanceof Th)p.push(E);else{const I=lu(b,S);I!=null&&(p.push(E),m.set(E,I))}}const v=new Jn(p);return new xP(m,v,u.fieldTransforms)}function p3(n,e,t,r=!1){return lu(t,n.$u(r?4:3,e))}function lu(n,e){if(PP(n=Yt(n)))return eE("Unsupported field value:",e,n),AP(n,e);if(n instanceof wh)return function(r,i){if(!CP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const l of r){let d=lu(l,i.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:Vf(i.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vf(i.serializer,a)}}if(r instanceof Qw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:QA(i.serializer,r._byteString)};if(r instanceof Zn){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xw)return function(u,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw l.qu("VectorValues must only contain numeric values.");return Nw(l.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${vh(r)}`)}(n,e)}function AP(n,e){const t={};return SA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(n,(r,i)=>{const a=lu(i,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function PP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof Qw||n instanceof Wo||n instanceof Zn||n instanceof wh||n instanceof Xw)}function eE(n,e,t){if(!PP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=vh(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function K_(n,e,t){if((e=Yt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return tE(n,e);throw $f("Field path arguments must be of type string or ",n,!1,void 0,t)}const m3=new RegExp("[~\\*/\\[\\]]");function tE(n,e,t){if(e.search(m3)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _h(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $f(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new ye(te.INVALID_ARGUMENT,l+n+d)}function kP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class g3 extends DP{data(){return super.data()}}function nE(n,e){return typeof e=="string"?tE(n,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rE{}class y3 extends rE{}function _3(n,e,...t){let r=[];e instanceof rE&&r.push(e),r=r.concat(t),function(a){const u=a.filter(d=>d instanceof iE).length,l=a.filter(d=>d instanceof bh).length;if(u>1||u>0&&l>0)throw new ye(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class bh extends y3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bh(e,t,r)}_apply(e){const t=this._parse(e);return OP(e._query,t),new uu(e.firestore,e.converter,F_(e._query,t))}_parse(e){const t=Jw(e.firestore);return function(a,u,l,d,p,m,v){let y;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){kb(v,m);const E=[];for(const b of v)E.push(Pb(d,a,b));y={arrayValue:{values:E}}}else y=Pb(d,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||kb(v,m),y=p3(l,u,v,m==="in"||m==="not-in");return kt.create(p,m,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function w3(n,e,t){const r=e,i=nE("where",n);return bh._create(i,r,t)}class iE extends rE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iE(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let u=i;const l=a.getFlattenedFilters();for(const d of l)OP(u,d),u=F_(u,d)}(e._query,t),new uu(e.firestore,e.converter,F_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Pb(n,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NA(e)&&t.indexOf("/")!==-1)throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!Se.isDocumentKey(r))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X1(n,new Se(r))}if(t instanceof Zn)return X1(n,t._key);throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(t)}.`)}function kb(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OP(n,e){const t=function(i,a){for(const u of i)for(const l of u.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class E3{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vs(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>St(u.doubleValue));return new Xw(a)}convertGeoPoint(e){return new Qw(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);Qe(nP(r));const i=new Vl(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(t)||Vi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b3 extends DP{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ff extends b3{data(e={}){return super.data(e)}}class S3{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ff(this._firestore,this._userDataWriter,r.key,r,new Yd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(l=>{const d=new ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const d=new ff(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),m=u.indexOf(l.doc.key)),{type:I3(l.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function I3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class R3 extends E3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function NP(n){n=Ia(n,uu);const e=Ia(n.firestore,hc),t=RP(e),r=new R3(e);return v3(n._query),n3(t,n._query).then(i=>new S3(e,r,n,i))}function MP(n,e,t,...r){n=Ia(n,Zn);const i=Ia(n.firestore,hc),a=Jw(i);let u;return u=typeof(e=Yt(e))=="string"||e instanceof _h?h3(a,"updateDoc",n._key,e,t,r):f3(a,"updateDoc",n._key,e),sE(i,[u.toMutation(n._key,Mr.exists(!0))])}function x3(n){return sE(Ia(n.firestore,hc),[new Mw(n._key,Mr.none())])}function C3(n,e){const t=Ia(n.firestore,hc),r=Uf(n),i=T3(n.converter,e);return sE(t,[c3(Jw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function sE(n,e){return function(r,i){const a=new Ss;return r.asyncQueue.enqueueAndForget(async()=>$j(await e3(r),i,a)),a.promise}(RP(n),e)}function A3(...n){return new Zw("arrayUnion",n)}(function(e,t=!0){(function(i){iu=i})(nu),Fo(new Ea("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),l=new hc(new f4(r.getProvider("auth-internal")),new g4(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(p.options.projectId,m)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),bs(H1,"4.7.5",e),bs(H1,"4.7.5","esm2017")})();const P3={apiKey:"AIzaSyC3DZIHW49UVq2uYJt5M8SXbgo3nVfXnjU",authDomain:"fretnot-attendance-b3026.firebaseapp.com",projectId:"fretnot-attendance-b3026",storageBucket:"fretnot-attendance-b3026.firebasestorage.app",messagingSenderId:"1068497148466",appId:"1:1068497148466:web:538e53b89fc500b9ce3a2b"},LP=PC(P3),ji=a4(LP),VP=new Ai,xl=s3(LP);var FP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Db=G.createContext&&G.createContext(FP),k3=["attr","size","title"];function D3(n,e){if(n==null)return{};var t=O3(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function O3(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function zf(){return zf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zf.apply(this,arguments)}function Ob(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(t),!0).forEach(function(r){N3(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ob(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function N3(n,e,t){return e=M3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M3(n){var e=L3(n,"string");return typeof e=="symbol"?e:e+""}function L3(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jP(n){return n&&n.map((e,t)=>G.createElement(e.tag,Bf({key:t},e.attr),jP(e.child)))}function pc(n){return e=>G.createElement(V3,zf({attr:Bf({},n.attr)},e),jP(n.child))}function V3(n){var e=t=>{var{attr:r,size:i,title:a}=n,u=D3(n,k3),l=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),G.createElement("svg",zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Bf(Bf({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),n.children)};return Db!==void 0?G.createElement(Db.Consumer,null,t=>e(t)):e(FP)}function qP(n){return pc({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UP=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...l},d)=>$.createElement("svg",{ref:d,...j3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:UP("lucide",i),...l},[...u.map(([p,m])=>$.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(n,e)=>{const t=$.forwardRef(({className:r,...i},a)=>$.createElement(q3,{ref:a,iconNode:e,className:UP(`lucide-${F3(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=qt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=qt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=qt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=qt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=qt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=qt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=qt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=qt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=qt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=qt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=qt("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=qt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=qt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=qt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),GP="/attendio/assets/bg-BJQISwya.jpeg",J3=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState({}),[a,u]=$.useState(""),[l,d]=$.useState(!1),[p,m]=$.useState(!1);$.useEffect(()=>{a&&u("")},[e]);const v=()=>{const I={},A=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?A.test(e.email)||(I.email="Please enter a valid email"):I.email="Email is required",e.password?e.password.length<6&&(I.password="Password must be at least 6 characters"):I.password="Password is required",i(I),Object.keys(I).length===0},y=I=>{const{name:A,value:P}=I.target;t(F=>({...F,[A]:P})),r[A]&&i(F=>({...F,[A]:""}))},E=async I=>{if(I.preventDefault(),!!v()){d(!0);try{await WL(ji,e.email,e.password),t({email:"",password:""})}catch(A){const P=S(A.code);u(P)}finally{d(!1)}}},b=async()=>{d(!0);try{await pA(ji,VP)}catch(I){const A=S(I.code);u(A)}finally{d(!1)}},S=I=>{switch(I){case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password must be at least 6 characters.";default:return"An error occurred. Please try again."}};return L.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${GP})`,backgroundSize:"cover"},children:L.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white  p-8 rounded-xl shadow-2xl",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up"}),L.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign up to continue"})]}),a&&L.jsx("p",{className:"text-red-600 mb-4",children:a}),L.jsxs("form",{onSubmit:E,className:"mt-8 space-y-6",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",required:!0,value:e.email,onChange:y,placeholder:"Email address",className:`appearance-none relative block w-full px-3 py-2 border ${r.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),r.email&&L.jsx("p",{className:"text-red-500 text-sm",children:r.email})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:p?"text":"password",name:"password",value:e.password,onChange:y,placeholder:"Password",className:`appearance-none relative block w-full px-3 py-2 border ${r.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),L.jsx("button",{type:"button",onClick:()=>m(I=>!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":p?"Hide password":"Show password",children:p?L.jsx(zP,{size:16}):L.jsx(BP,{size:16})}),r.password&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:r.password})]}),L.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?L.jsx(HP,{className:"animate-spin mx-auto"}):"Sign Up"})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-0 flex items-center",children:L.jsx("div",{className:"w-full border-t border-gray-300"})}),L.jsx("div",{className:"relative flex justify-center text-sm",children:L.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),L.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[L.jsx(qP,{className:"h-5 w-5 mr-2"}),"Sign Up with Google"]}),L.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",L.jsx("button",{onClick:()=>n(!1),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Log in"})]})]})})},Z3=({setShowSignUp:n})=>{const[e,t]=$.useState({email:"",password:""}),[r,i]=$.useState(!1),[a,u]=$.useState(!1),[l,d]=$.useState(""),[p,m]=$.useState({}),v=Ma();$.useEffect(()=>{l&&d("")},[e]);const y=()=>{const A={},P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.email?P.test(e.email)||(A.email="Please enter a valid email"):A.email="Email is required",e.password?e.password.length<6&&(A.password="Password must be at least 6 characters"):A.password="Password is required",m(A),Object.keys(A).length===0},E=A=>{const{name:P,value:F}=A.target;t(V=>({...V,[P]:F})),p[P]&&m(V=>({...V,[P]:""}))},b=async A=>{if(A.preventDefault(),!!y()){u(!0);try{await GL(ji,e.email,e.password),v("/home")}catch(P){const F=I(P.code);d(F)}finally{u(!1)}}},S=async()=>{u(!0);try{await pA(ji,VP),v("/home")}catch(A){const P=I(A.code);d(P)}finally{u(!1)}},I=A=>{switch(A){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}};return L.jsx("div",{className:"flex items-center justify-center h-screen text-center p-5",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${GP})`,backgroundSize:"cover"},children:L.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-2xl",children:[L.jsxs("div",{children:[L.jsx("h1",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome Back"}),L.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in to continue"})]}),L.jsxs("form",{onSubmit:b,className:"mt-8 space-y-6",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),L.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address","aria-invalid":p.email?"true":"false","aria-describedby":p.email?"email-error":void 0}),p.email&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"email-error",children:p.email})]}),L.jsxs("div",{className:"relative",children:[L.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),L.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:E,className:`appearance-none relative block w-full px-3 py-2 border ${p.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Password","aria-invalid":p.password?"true":"false","aria-describedby":p.password?"password-error":void 0}),L.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":r?"Hide password":"Show password",children:r?L.jsx(zP,{size:16}):L.jsx(BP,{size:16})}),p.password&&L.jsx("p",{className:"mt-1 text-sm text-red-600",id:"password-error",children:p.password})]})]}),l&&L.jsx("div",{className:"rounded-md bg-red-50 p-4",children:L.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})}),L.jsx("div",{children:L.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?L.jsx(HP,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}):"Sign in"})})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute inset-0 flex items-center",children:L.jsx("div",{className:"w-full border-t border-gray-300"})}),L.jsx("div",{className:"relative flex justify-center text-sm",children:L.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),L.jsxs("button",{onClick:S,disabled:a,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[L.jsx(qP,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),L.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",L.jsx("button",{onClick:()=>n(!0),className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Sign up"})]})]})})},e6=({title:n,description:e,onClick:t,bgColor:r="bg-white"})=>L.jsx("button",{onClick:t,className:`${r} rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-200 w-full text-left hover:scale-105`,children:L.jsxs("div",{className:"flex flex-col space-y-2",children:[L.jsx("h3",{className:"text-xl font-bold",children:n}),L.jsx("p",{className:"text-gray-600 text-sm",children:e})]})}),t6=()=>L.jsxs("div",{className:"bg-zen-gradient rounded-lg shadow-lg p-8 text-white relative overflow-hidden",children:[L.jsx("div",{className:"relative z-10",children:L.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to the Dashboard"})}),L.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 transform rotate-45 -translate-y-8 translate-x-8"})]}),n6=()=>{const n=Ma(),e=[{title:"Students",description:"Edit or view all students or add new ones",onClick:()=>n("/students"),bgColor:"bg-blue-50 hover:bg-blue-100"},{title:"Attendance",description:"Mark and view student attendance",onClick:()=>n("/attendance"),bgColor:"bg-purple-50 hover:bg-purple-100"},{title:"Teaching Schedule",description:"View or edit your teaching schedule",onClick:()=>n("/schedule"),bgColor:"bg-green-50 hover:bg-green-100"},{title:"Settings",description:"Manage your preferences and profile settings",onClick:()=>n("/settings"),bgColor:"bg-yellow-50 hover:bg-yellow-100"}];return L.jsxs("div",{className:"px-4 sm:px-6 pb-24 py-6 md:ml-16 max-w-7xl mx-auto space-y-6 transition-all duration-300",children:[L.jsx(t6,{}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>L.jsx(e6,{title:t.title,description:t.description,onClick:t.onClick,bgColor:t.bgColor},r))})]})},r6=({student:n,index:e,handleInputChange:t,toggleEditMode:r,handleRemoveRow:i})=>L.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden ",children:[L.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(WP,{className:"w-5 h-5 text-gray-400"}),L.jsx("h2",{className:"font-semibold text-gray-800",children:n.name||"New Student"})]}),L.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm bg-gray-100 text-gray-600",children:n.day||"No Day Set"})]}),L.jsxs("div",{className:"p-4 space-y-4",children:[n.isEditable?L.jsxs(L.Fragment,{children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),L.jsx("input",{type:"text",value:n.name,onChange:a=>t(a,e,"name"),placeholder:"Enter Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrument"}),L.jsx("input",{type:"text",value:n.instrument,onChange:a=>t(a,e,"instrument"),placeholder:"Enter Instrument",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),L.jsxs("select",{value:n.day,onChange:a=>t(a,e,"day"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[L.jsx("option",{value:"",children:"Select Day"}),L.jsx("option",{value:"Monday",children:"Monday"}),L.jsx("option",{value:"Tuesday",children:"Tuesday"}),L.jsx("option",{value:"Wednesday",children:"Wednesday"}),L.jsx("option",{value:"Thursday",children:"Thursday"}),L.jsx("option",{value:"Friday",children:"Friday"})]})]})]}):L.jsxs("div",{className:"space-y-2",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(W3,{className:"w-4 h-4 text-gray-400"}),L.jsx("span",{className:"text-sm text-gray-600",children:n.instrument||"No Instrument"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx($P,{className:"w-4 h-4 text-gray-400"}),L.jsx("span",{className:"text-sm text-gray-600",children:n.day||"No Day"})]})]}),L.jsxs("div",{className:"flex gap-2 pt-2 border-t mt-4",children:[L.jsx("button",{onClick:()=>r(e),className:`flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${n.isEditable?"bg-green text-white":"bg-blue text-white"}`,children:n.isEditable?L.jsxs(L.Fragment,{children:[L.jsx(Y3,{className:"h-4 w-4"}),"Save"]}):L.jsxs(L.Fragment,{children:[L.jsx(G3,{className:"h-4 w-4"}),"Edit"]})}),L.jsxs("button",{onClick:()=>i(e),className:"flex-1 bg-red text-white inline-flex items-center justify-center gap-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:[L.jsx(Q3,{className:"h-4 w-4"}),"Remove"]})]})]})]}),i6=()=>{const[n,e]=$.useState([]),t=IP(xl,"students");$.useEffect(()=>{const l=rA(ji,async d=>{try{const p=_3(t,w3("userid","===",d.id)),v=(await NP(p)).docs.map(y=>({id:y.id,...y.data(),isEditable:!1}));e(v)}catch(p){console.error("Error fetching students: ",p)}});return()=>l()},[]);const r=()=>{e([{name:"",instrument:"",day:"",time:"",isEditable:!0},...n])},i=(l,d,p)=>{const{value:m}=l.target,v=n.map((y,E)=>E===d?{...y,[p]:m}:y);e(v)},a=async l=>{const d=ji.currentUser,p=n[l],m=n.map((v,y)=>y===l?{...v,isEditable:!v.isEditable}:v);if(p.isEditable)try{if(p.id)await MP(Uf(xl,"students",p.id),{name:p.name,instrument:p.instrument,day:p.day,time:p.time,userId:d==null?void 0:d.uid});else{const v=await C3(t,{name:p.name,instrument:p.instrument,day:p.day});m[l].id=v.id}}catch(v){console.error("Error saving document: ",v);return}e(m)},u=async l=>{try{const d=n[l];d.id&&await x3(Uf(xl,"students",d.id));const p=n.filter((m,v)=>v!==l);e(p)}catch(d){console.error("Error deleting document: ",d)}};return L.jsx("div",{className:"max-w-6xl mx-auto my-8 px-4 pb-20",children:L.jsxs("div",{className:"overflow-hidden",children:[L.jsx("div",{className:"px-4 md:px-6 py-4 ",children:L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[L.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 mb-6",children:[L.jsx(H3,{className:"h-8 w-8 "}),"Students"]}),L.jsxs("button",{onClick:r,className:"w-full md:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue text-white rounded-md transition-colors duration-200",children:[L.jsx(K3,{className:"w-4 h-4 mr-2"}),"Add Student"]})]})}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:n.map((l,d)=>L.jsx(r6,{student:l,index:d,handleInputChange:i,toggleEditMode:a,handleRemoveRow:u},l.id||d))})]})})},s6=()=>{const[n,e]=$.useState([]),[t,r]=$.useState(!0),[i,a]=$.useState(null),[u,l]=$.useState(null),[d,p]=$.useState(null);$.useEffect(()=>{(async()=>{try{const I=(await NP(IP(xl,"students"))).docs.map(A=>({id:A.id,...A.data(),attendanceHistory:A.data().attendanceHistory||[]}));e(I),a(null)}catch(S){a("Failed to fetch students. Please try again later."),console.error("Error fetching students:",S)}finally{r(!1)}})()},[]);const m=async(b,S)=>{l(b);try{const I=Uf(xl,"students",b),A={status:S,timestamp:Dt.now(),date:new Date().toISOString().split("T")[0]};await MP(I,{attendance:S,attendanceHistory:A3(A)}),e(P=>P.map(F=>F.id===b?{...F,attendance:S,attendanceHistory:[...F.attendanceHistory||[],A]}:F))}catch(I){a("Failed to update attendance. Please try again."),console.error("Error updating attendance:",I)}finally{l(null)}},v=b=>!b||b.length===0?{present:0,absent:0}:b.reduce((S,I)=>({present:S.present+(I.status==="Present"?1:0),absent:S.absent+(I.status==="Absent"?1:0)}),{present:0,absent:0}),y=b=>b!=null&&b.seconds?new Date(b.seconds*1e3).toLocaleDateString():new Date(b).toLocaleDateString(),E=b=>b!=null&&b.seconds?new Date(b.seconds*1e3).toLocaleTimeString():new Date(b).toLocaleTimeString();return t?L.jsx("div",{className:"flex items-center justify-center min-h-screen",children:L.jsx(Fm,{className:"h-8 w-8 animate-spin text-blue-500"})}):L.jsxs("div",{className:"max-w-6xl mx-auto my-8 px-4",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[L.jsx(X3,{className:"h-6 w-6"}),L.jsx("h1",{className:"text-2xl font-bold",children:"Student Attendance"})]}),i&&L.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-center gap-2 text-red-700",children:[L.jsx(z3,{className:"h-5 w-5"}),L.jsx("p",{children:i})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>{const S=v(b.attendanceHistory);return L.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[L.jsx("div",{className:"p-4 border-b bg-gray-50",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(WP,{className:"h-5 w-5 text-gray-400"}),L.jsx("h2",{className:"font-semibold text-gray-800",children:b.name})]}),L.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm ${b.attendance==="Present"?"bg-green-100 text-green-600":b.attendance==="Absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:[b.attendance==="Present"&&L.jsx(Lm,{className:"h-4 w-4"}),b.attendance==="Absent"&&L.jsx(Vm,{className:"h-4 w-4"}),b.attendance||"Not marked"]})]})}),L.jsxs("div",{className:"p-4 bg-white",children:[L.jsxs("div",{className:"flex justify-around mb-4",children:[L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-green-600 font-semibold",children:S.present}),L.jsx("div",{className:"text-sm text-gray-500",children:"Present"})]}),L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-red-600 font-semibold",children:S.absent}),L.jsx("div",{className:"text-sm text-gray-500",children:"Absent"})]})]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:()=>m(b.id,"Present"),disabled:u===b.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===b.id?L.jsx(Fm,{className:"h-4 w-4 animate-spin"}):L.jsxs(L.Fragment,{children:[L.jsx(Lm,{className:"h-4 w-4"}),"Present"]})}),L.jsx("button",{onClick:()=>m(b.id,"Absent"),disabled:u===b.id,className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",children:u===b.id?L.jsx(Fm,{className:"h-4 w-4 animate-spin"}):L.jsxs(L.Fragment,{children:[L.jsx(Vm,{className:"h-4 w-4"}),"Absent"]})})]}),L.jsx("button",{onClick:()=>p(d===b.id?null:b.id),className:"w-full mt-4 flex items-center justify-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:d===b.id?L.jsxs(L.Fragment,{children:["Hide History ",L.jsx($3,{className:"h-4 w-4"})]}):L.jsxs(L.Fragment,{children:["View History ",L.jsx(U3,{className:"h-4 w-4"})]})}),d===b.id&&L.jsx("div",{className:"mt-4 space-y-2 border-t pt-4",children:[...b.attendanceHistory].sort((I,A)=>A.timestamp.seconds-I.timestamp.seconds).slice(0,5).map((I,A)=>L.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b last:border-0",children:[L.jsxs("span",{className:`flex items-center gap-1
                            ${I.status==="Present"?"text-green-600":"text-red-600"}`,children:[I.status==="Present"?L.jsx(Lm,{className:"h-4 w-4"}):L.jsx(Vm,{className:"h-4 w-4"}),I.status]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[L.jsx($P,{className:"h-4 w-4"}),y(I.timestamp)]}),L.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[L.jsx(B3,{className:"h-4 w-4"}),E(I.timestamp)]})]})]},A))})]})]},b.id)})})]})};function qi(n){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(n)}function a6(n,e){if(qi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KP(n){var e=a6(n,"string");return qi(e)=="symbol"?e:e+""}function ma(n,e,t){return(e=KP(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(t),!0).forEach(function(r){ma(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Sh(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function oi(n,e){if(n==null)return{};var t,r,i=Sh(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Ut(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mb(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,KP(r.key),r)}}function $t(n,e,t){return e&&Mb(n.prototype,e),t&&Mb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Hf(n){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hf(n)}function YP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!n})()}function o6(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function u6(n,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o6(n)}function gn(n,e,t){return e=Hf(e),u6(n,YP()?Reflect.construct(e,t||[],Hf(n).constructor):e.apply(n,t))}function Wf(n,e){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Wf(n,e)}function vn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Wf(n,e)}function QP(n){if(Array.isArray(n))return n}function l6(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,u,l=[],d=!0,p=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(d=(r=a.call(t)).done)&&(l.push(r.value),l.length!==e);d=!0);}catch(m){p=!0,i=m}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw i}}return l}}function Y_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function aE(n,e){if(n){if(typeof n=="string")return Y_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y_(n,e):void 0}}function XP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(n,e){return QP(n)||l6(n,e)||aE(n,e)||XP()}function JP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=JP(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function wt(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=JP(n))&&(r&&(r+=" "),r+=e);return r}function _t(){return _t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_t.apply(null,arguments)}var jm,Lb;function c6(){if(Lb)return jm;Lb=1;var n=function(e,t,r,i,a,u,l,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,a,u,l,d],v=0;p=new Error(t.replace(/%s/g,function(){return m[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return jm=n,jm}var d6=c6();const ql=jn(d6);var f6=function(){};function h6(n,e){var t={};return Object.keys(n).forEach(function(r){t[hf(r)]=f6}),t}function Vb(n,e){return n[e]!==void 0}function hf(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function p6(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function m6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Wf(n,e)}function ZP(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function ek(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function tk(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}ZP.__suppressDeprecationWarning=!0;ek.__suppressDeprecationWarning=!0;tk.__suppressDeprecationWarning=!0;function g6(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||r!==null||i!==null){var a=n.displayName||n.name,u=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+u+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=ZP,e.componentWillReceiveProps=ek),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=tk;var l=e.componentDidUpdate;e.componentDidUpdate=function(p,m,v){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;l.call(this,p,m,y)}}return n}var v6="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function nk(n,e,t){t===void 0&&(t=[]);var r=n.displayName||n.name||"Component",i=p6(n),a=Object.keys(e),u=a.map(hf);i||!t.length||ql(!1);var l=function(p){m6(m,p);function m(){for(var y,E=arguments.length,b=new Array(E),S=0;S<E;S++)b[S]=arguments[S];y=p.call.apply(p,[this].concat(b))||this,y.handlers=Object.create(null),a.forEach(function(A){var P=e[A],F=function(H){if(y.props[P]){var z;y._notifying=!0;for(var k=arguments.length,R=new Array(k>1?k-1:0),C=1;C<k;C++)R[C-1]=arguments[C];(z=y.props)[P].apply(z,[H].concat(R)),y._notifying=!1}y.unmounted||y.setState(function(N){var M,q=N.values;return{values:_t(Object.create(null),q,(M={},M[A]=H,M))}})};y.handlers[P]=F}),t.length&&(y.attachRef=function(A){y.inner=A});var I=Object.create(null);return a.forEach(function(A){I[A]=y.props[hf(A)]}),y.state={values:I,prevProps:{}},y}var v=m.prototype;return v.shouldComponentUpdate=function(){return!this._notifying},m.getDerivedStateFromProps=function(E,b){var S=b.values,I=b.prevProps,A={values:_t(Object.create(null),S),prevProps:{}};return a.forEach(function(P){A.prevProps[P]=E[P],!Vb(E,P)&&Vb(I,P)&&(A.values[P]=E[hf(P)])}),A},v.componentWillUnmount=function(){this.unmounted=!0},v.render=function(){var E=this,b=this.props,S=b.innerRef,I=Sh(b,["innerRef"]);u.forEach(function(P){delete I[P]});var A={};return a.forEach(function(P){var F=E.props[P];A[P]=F!==void 0?F:E.state.values[P]}),G.createElement(n,_t({},I,A,this.handlers,{ref:S||this.attachRef}))},m}(G.Component);g6(l),l.displayName="Uncontrolled("+r+")",l.propTypes=_t({innerRef:function(){}},h6(e)),t.forEach(function(p){l.prototype[p]=function(){var v;return(v=this.inner)[p].apply(v,arguments)}});var d=l;return G.forwardRef&&(d=G.forwardRef(function(p,m){return G.createElement(l,_t({},p,{innerRef:m,__source:{fileName:v6,lineNumber:128},__self:this}))}),d.propTypes=l.propTypes),d.ControlledComponent=n,d.deferControlTo=function(p,m,v){return m===void 0&&(m={}),nk(p,_t({},e,m),v)},d}var qm={exports:{}},Um,Fb;function y6(){if(Fb)return Um;Fb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Um=n,Um}var $m,jb;function _6(){if(jb)return $m;jb=1;var n=y6();function e(){}function t(){}return t.resetWarningCache=e,$m=function(){function r(u,l,d,p,m,v){if(v!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},$m}var qb;function w6(){return qb||(qb=1,qm.exports=_6()()),qm.exports}var E6=w6();const oe=jn(E6);var Gf="milliseconds",Ul="seconds",$l="minutes",zl="hours",xa="day",Go="week",Bl="month",Ca="year",Aa="decade",Pa="century",rk={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},T6={month:1,year:12,decade:10*12,century:100*12};function b6(n){return[31,S6(n),31,30,31,30,31,31,30,31,30,31]}function S6(n){return n%4===0&&n%100!==0||n%400===0?29:28}function Vr(n,e,t){switch(n=new Date(n),t){case Gf:case Ul:case $l:case zl:case xa:case Go:return I6(n,e*rk[t]);case Bl:case Ca:case Aa:case Pa:return R6(n,e*T6[t])}throw new TypeError('Invalid units: "'+t+'"')}function I6(n,e){var t=new Date(+n+e);return x6(n,t)}function R6(n,e){var t=n.getFullYear(),r=n.getMonth(),i=n.getDate(),a=t*12+r+e,u=Math.trunc(a/12),l=a%12,d=Math.min(i,b6(u)[l]),p=new Date(n);return p.setFullYear(u),p.setDate(1),p.setMonth(l),p.setDate(d),p}function x6(n,e){var t=n.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-t;return new Date(+e+i*rk.minutes)}function Hl(n,e,t){return Vr(n,-e,t)}function an(n,e,t){switch(n=new Date(n),e){case Pa:case Aa:case Ca:n=Yf(n,0);case Bl:n=uk(n,1);case Go:case xa:n=Kl(n,0);case zl:n=Ko(n,0);case $l:n=Gl(n,0);case Ul:n=Wl(n,0)}return e===Aa&&(n=Hl(n,ka(n)%10,"year")),e===Pa&&(n=Hl(n,ka(n)%100,"year")),e===Go&&(n=lk(n,0,t)),n}function Kf(n,e,t){switch(n=new Date(n),n=an(n,e,t),e){case Pa:case Aa:case Ca:case Bl:case Go:n=Vr(n,1,e),n=Hl(n,1,xa),n.setHours(23,59,59,999);break;case xa:n.setHours(23,59,59,999);break;case zl:case $l:case Ul:n=Vr(n,1,e),n=Hl(n,1,Gf)}return n}var cu=fu(function(n,e){return n===e}),oE=fu(function(n,e){return n!==e}),Ih=fu(function(n,e){return n>e}),mc=fu(function(n,e){return n>=e}),uE=fu(function(n,e){return n<e}),du=fu(function(n,e){return n<=e});function ik(){return new Date(Math.min.apply(Math,arguments))}function sk(){return new Date(Math.max.apply(Math,arguments))}function ak(n,e,t,r){return r=r||"day",(!e||mc(n,e,r))&&(!t||du(n,t,r))}var Wl=js("Milliseconds"),Gl=js("Seconds"),Ko=js("Minutes"),Kl=js("Hours"),ok=js("Day"),uk=js("Date"),Yf=js("Month"),ka=js("FullYear");function C6(n,e){return e===void 0?ka(an(n,Aa)):Vr(n,e+10,Ca)}function A6(n,e){return e===void 0?ka(an(n,Pa)):Vr(n,e+100,Ca)}function lk(n,e,t){var r=(ok(n)+7-(t||0))%7;return e===void 0?r:Vr(n,e-r,xa)}function P6(n,e,t,r){var i,a,u;switch(t){case Gf:case Ul:case $l:case zl:case xa:case Go:i=e.getTime()-n.getTime();break;case Bl:case Ca:case Aa:case Pa:i=(ka(e)-ka(n))*12+Yf(e)-Yf(n);break;default:throw new TypeError('Invalid units: "'+t+'"')}switch(t){case Gf:a=1;break;case Ul:a=1e3;break;case $l:a=1e3*60;break;case zl:a=1e3*60*60;break;case xa:a=1e3*60*60*24;break;case Go:a=1e3*60*60*24*7;break;case Bl:a=1;break;case Ca:a=12;break;case Aa:a=120;break;case Pa:a=1200;break;default:throw new TypeError('Invalid units: "'+t+'"')}return u=i/a,r?u:Math.round(u)}function js(n){var e=function(t){switch(t){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(t,r){if(r===void 0)return t["get"+n]();var i=new Date(t);return i["set"+n](r),e&&i["get"+n]()!=r&&(n==="Hours"||r>=e&&i.getHours()-t.getHours()<Math.floor(r/e))&&i["set"+n](r+e),i}}function fu(n){return function(e,t,r){return n(+an(e,r),+an(t,r))}}const Ub=Object.freeze(Object.defineProperty({__proto__:null,add:Vr,century:A6,date:uk,day:ok,decade:C6,diff:P6,endOf:Kf,eq:cu,gt:Ih,gte:mc,hours:Kl,inRange:ak,lt:uE,lte:du,max:sk,milliseconds:Wl,min:ik,minutes:Ko,month:Yf,neq:oE,seconds:Gl,startOf:an,subtract:Hl,weekday:lk,year:ka},Symbol.toStringTag,{value:"Module"}));function k6(n){if(Array.isArray(n))return Y_(n)}function ck(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function D6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pf(n){return k6(n)||ck(n)||aE(n)||D6()}var zm,$b;function dk(){if($b)return zm;$b=1;function n(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var u=Array(a);++i<a;)u[i]=e[i+t];return u}return zm=n,zm}var Bm,zb;function gc(){if(zb)return Bm;zb=1;function n(e,t){return e===t||e!==e&&t!==t}return Bm=n,Bm}var Hm,Bb;function fk(){if(Bb)return Hm;Bb=1;var n=typeof qd=="object"&&qd&&qd.Object===Object&&qd;return Hm=n,Hm}var Wm,Hb;function ci(){if(Hb)return Wm;Hb=1;var n=fk(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Wm=t,Wm}var Gm,Wb;function hu(){if(Wb)return Gm;Wb=1;var n=ci(),e=n.Symbol;return Gm=e,Gm}var Km,Gb;function O6(){if(Gb)return Km;Gb=1;var n=hu(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(u){var l=t.call(u,i),d=u[i];try{u[i]=void 0;var p=!0}catch{}var m=r.call(u);return p&&(l?u[i]=d:delete u[i]),m}return Km=a,Km}var Ym,Kb;function N6(){if(Kb)return Ym;Kb=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Ym=t,Ym}var Qm,Yb;function pu(){if(Yb)return Qm;Yb=1;var n=hu(),e=O6(),t=N6(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function u(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):t(l)}return Qm=u,Qm}var Xm,Qb;function Bi(){if(Qb)return Xm;Qb=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Xm=n,Xm}var Jm,Xb;function lE(){if(Xb)return Jm;Xb=1;var n=pu(),e=Bi(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(l){if(!e(l))return!1;var d=n(l);return d==r||d==i||d==t||d==a}return Jm=u,Jm}var Zm,Jb;function cE(){if(Jb)return Zm;Jb=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Zm=e,Zm}var eg,Zb;function vc(){if(Zb)return eg;Zb=1;var n=lE(),e=cE();function t(r){return r!=null&&e(r.length)&&!n(r)}return eg=t,eg}var tg,eS;function dE(){if(eS)return tg;eS=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return tg=t,tg}var ng,tS;function Rh(){if(tS)return ng;tS=1;var n=gc(),e=vc(),t=dE(),r=Bi();function i(a,u,l){if(!r(l))return!1;var d=typeof u;return(d=="number"?e(l)&&t(u,l.length):d=="string"&&u in l)?n(l[u],a):!1}return ng=i,ng}var rg,nS;function M6(){if(nS)return rg;nS=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return rg=e,rg}var ig,rS;function L6(){if(rS)return ig;rS=1;var n=M6(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return ig=t,ig}var sg,iS;function qs(){if(iS)return sg;iS=1;function n(e){return e!=null&&typeof e=="object"}return sg=n,sg}var ag,sS;function yc(){if(sS)return ag;sS=1;var n=pu(),e=qs(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return ag=r,ag}var og,aS;function V6(){if(aS)return og;aS=1;var n=L6(),e=Bi(),t=yc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(p){if(typeof p=="number")return p;if(t(p))return r;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=n(p);var v=a.test(p);return v||u.test(p)?l(p.slice(2),v?2:8):i.test(p)?r:+p}return og=d,og}var ug,oS;function hk(){if(oS)return ug;oS=1;var n=V6(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-1/0){var a=i<0?-1:1;return a*t}return i===i?i:0}return ug=r,ug}var lg,uS;function pk(){if(uS)return lg;uS=1;var n=hk();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return lg=e,lg}var cg,lS;function F6(){if(lS)return cg;lS=1;var n=dk(),e=Rh(),t=pk(),r=Math.ceil,i=Math.max;function a(u,l,d){(d?e(u,l,d):l===void 0)?l=1:l=i(t(l),0);var p=u==null?0:u.length;if(!p||l<1)return[];for(var m=0,v=0,y=Array(r(p/l));m<p;)y[v++]=n(u,m,m+=l);return y}return cg=a,cg}var j6=F6();const q6=jn(j6);function _c(n){return n&&n.ownerDocument||document}function U6(n){var e=_c(n);return e&&e.defaultView||window}function $6(n,e){return U6(n).getComputedStyle(n,e)}var z6=/([A-Z])/g;function B6(n){return n.replace(z6,"-$1").toLowerCase()}var H6=/^ms-/;function Qd(n){return B6(n).replace(H6,"-ms-")}var W6=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function G6(n){return!!(n&&W6.test(n))}function Do(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Qd(e))||$6(n).getPropertyValue(Qd(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Qd(i)):G6(i)?r+=i+"("+a+") ":t+=Qd(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}function Yl(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function K6(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function fE(n){return"window"in n&&n.window===n?n:K6(n)&&n.defaultView||!1}function mk(n){var e=n==="pageXOffset"?"scrollLeft":"scrollTop";function t(r,i){var a=fE(r);if(i===void 0)return a?a[n]:r[e];a?a.scrollTo(a[n],i):r[e]=i}return t}const gk=mk("pageXOffset"),vk=mk("pageYOffset");function _a(n){var e=_c(n),t={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Yl(r,n)||(n.getBoundingClientRect!==void 0&&(t=n.getBoundingClientRect()),t={top:t.top+vk(r)-(r.clientTop||0),left:t.left+gk(r)-(r.clientLeft||0),width:t.width,height:t.height}),t}var Y6=function(e){return!!e&&"offsetParent"in e};function Q6(n){for(var e=_c(n),t=n&&n.offsetParent;Y6(t)&&t.nodeName!=="HTML"&&Do(t,"position")==="static";)t=t.offsetParent;return t||e.documentElement}var X6=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function yk(n,e){var t={top:0,left:0},r;if(Do(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=e||Q6(n);r=_a(n),X6(i)!=="html"&&(t=_a(i));var a=String(Do(i,"borderTopWidth")||0);t.top+=parseInt(a,10)-vk(i)||0;var u=String(Do(i,"borderLeftWidth")||0);t.left+=parseInt(u,10)-gk(i)||0}var l=String(Do(n,"marginTop")||0),d=String(Do(n,"marginLeft")||0);return _t({},r,{top:r.top-t.top-(parseInt(l,10)||0),left:r.left-t.left-(parseInt(d,10)||0)})}const hE=!!(typeof window<"u"&&window.document&&window.document.createElement);var cS=new Date().getTime();function J6(n){var e=new Date().getTime(),t=Math.max(0,16-(e-cS)),r=setTimeout(n,t);return cS=e,r}var Z6=["","webkit","moz","o","ms"],Q_="clearTimeout",X_=J6,dS=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};hE&&Z6.some(function(n){var e=dS(n,"request");return e in window&&(Q_=dS(n,"cancel"),X_=function(r){return window[e](r)}),!!X_});var fS=function(e){typeof window[Q_]=="function"&&window[Q_](e)},_k=X_,dg;function eq(n,e){if(!dg){var t=document.body,r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;dg=function(a,u){return r.call(a,u)}}return dg(n,e)}var tq=Function.prototype.bind.call(Function.prototype.call,[].slice);function nq(n,e){return tq(n.querySelectorAll(e))}var J_=!1,Z_=!1;try{var fg={get passive(){return J_=!0},get once(){return Z_=J_=!0}};hE&&(window.addEventListener("test",fg,fg),window.removeEventListener("test",fg,!0))}catch{}function rq(n,e,t,r){if(r&&typeof r!="boolean"&&!Z_){var i=r.once,a=r.capture,u=t;!Z_&&i&&(u=t.__once||function l(d){this.removeEventListener(e,l,a),t.call(this,d)},t.__once=u),n.addEventListener(e,u,J_?r:a)}n.addEventListener(e,t,r)}function iq(n){const e=$.useRef(n);return $.useEffect(()=>{e.current=n},[n]),e}function hS(n){const e=iq(n);return $.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function pS(){return $.useState(null)}function sq(){const n=$.useRef(!0),e=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function aq(n){const e=sq();return[n[0],$.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Ln="top",hr="bottom",pr="right",Vn="left",pE="auto",wc=[Ln,hr,pr,Vn],Yo="start",Ql="end",oq="clippingParents",wk="viewport",ol="popper",uq="reference",mS=wc.reduce(function(n,e){return n.concat([e+"-"+Yo,e+"-"+Ql])},[]),mE=[].concat(wc,[pE]).reduce(function(n,e){return n.concat([e,e+"-"+Yo,e+"-"+Ql])},[]),lq="beforeRead",cq="read",dq="afterRead",fq="beforeMain",hq="main",pq="afterMain",mq="beforeWrite",gq="write",vq="afterWrite",yq=[lq,cq,dq,fq,hq,pq,mq,gq,vq];function ii(n){return n.split("-")[0]}function er(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Da(n){var e=er(n).Element;return n instanceof e||n instanceof Element}function si(n){var e=er(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function gE(n){if(typeof ShadowRoot>"u")return!1;var e=er(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var wa=Math.max,Qf=Math.min,Qo=Math.round;function ew(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ek(){return!/^((?!chrome|android).)*safari/i.test(ew())}function Xo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&si(n)&&(i=n.offsetWidth>0&&Qo(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Qo(r.height)/n.offsetHeight||1);var u=Da(n)?er(n):window,l=u.visualViewport,d=!Ek()&&t,p=(r.left+(d&&l?l.offsetLeft:0))/i,m=(r.top+(d&&l?l.offsetTop:0))/a,v=r.width/i,y=r.height/a;return{width:v,height:y,top:m,right:p+v,bottom:m+y,left:p,x:p,y:m}}function vE(n){var e=Xo(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Tk(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&gE(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ds(n){return n?(n.nodeName||"").toLowerCase():null}function Ui(n){return er(n).getComputedStyle(n)}function _q(n){return["table","td","th"].indexOf(Ds(n))>=0}function Us(n){return((Da(n)?n.ownerDocument:n.document)||window.document).documentElement}function xh(n){return Ds(n)==="html"?n:n.assignedSlot||n.parentNode||(gE(n)?n.host:null)||Us(n)}function gS(n){return!si(n)||Ui(n).position==="fixed"?null:n.offsetParent}function wq(n){var e=/firefox/i.test(ew()),t=/Trident/i.test(ew());if(t&&si(n)){var r=Ui(n);if(r.position==="fixed")return null}var i=xh(n);for(gE(i)&&(i=i.host);si(i)&&["html","body"].indexOf(Ds(i))<0;){var a=Ui(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Ec(n){for(var e=er(n),t=gS(n);t&&_q(t)&&Ui(t).position==="static";)t=gS(t);return t&&(Ds(t)==="html"||Ds(t)==="body"&&Ui(t).position==="static")?e:t||wq(n)||e}function yE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Cl(n,e,t){return wa(n,Qf(e,t))}function Eq(n,e,t){var r=Cl(n,e,t);return r>t?t:r}function bk(){return{top:0,right:0,bottom:0,left:0}}function Sk(n){return Object.assign({},bk(),n)}function Ik(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Tq=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Sk(typeof e!="number"?e:Ik(e,wc))};function bq(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,l=ii(t.placement),d=yE(l),p=[Vn,pr].indexOf(l)>=0,m=p?"height":"width";if(!(!a||!u)){var v=Tq(i.padding,t),y=vE(a),E=d==="y"?Ln:Vn,b=d==="y"?hr:pr,S=t.rects.reference[m]+t.rects.reference[d]-u[d]-t.rects.popper[m],I=u[d]-t.rects.reference[d],A=Ec(a),P=A?d==="y"?A.clientHeight||0:A.clientWidth||0:0,F=S/2-I/2,V=v[E],H=P-y[m]-v[b],z=P/2-y[m]/2+F,k=Cl(V,z,H),R=d;t.modifiersData[r]=(e={},e[R]=k,e.centerOffset=k-z,e)}}function Sq(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Tk(e.elements.popper,i)&&(e.elements.arrow=i))}const Iq={name:"arrow",enabled:!0,phase:"main",fn:bq,effect:Sq,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jo(n){return n.split("-")[1]}var Rq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xq(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Qo(t*i)/i||0,y:Qo(r*i)/i||0}}function vS(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,u=n.offsets,l=n.position,d=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,y=u.x,E=y===void 0?0:y,b=u.y,S=b===void 0?0:b,I=typeof m=="function"?m({x:E,y:S}):{x:E,y:S};E=I.x,S=I.y;var A=u.hasOwnProperty("x"),P=u.hasOwnProperty("y"),F=Vn,V=Ln,H=window;if(p){var z=Ec(t),k="clientHeight",R="clientWidth";if(z===er(t)&&(z=Us(t),Ui(z).position!=="static"&&l==="absolute"&&(k="scrollHeight",R="scrollWidth")),z=z,i===Ln||(i===Vn||i===pr)&&a===Ql){V=hr;var C=v&&z===H&&H.visualViewport?H.visualViewport.height:z[k];S-=C-r.height,S*=d?1:-1}if(i===Vn||(i===Ln||i===hr)&&a===Ql){F=pr;var N=v&&z===H&&H.visualViewport?H.visualViewport.width:z[R];E-=N-r.width,E*=d?1:-1}}var M=Object.assign({position:l},p&&Rq),q=m===!0?xq({x:E,y:S},er(t)):{x:E,y:S};if(E=q.x,S=q.y,d){var D;return Object.assign({},M,(D={},D[V]=P?"0":"",D[F]=A?"0":"",D.transform=(H.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",D))}return Object.assign({},M,(e={},e[V]=P?S+"px":"",e[F]=A?E+"px":"",e.transform="",e))}function Cq(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,l=t.roundOffsets,d=l===void 0?!0:l,p={placement:ii(e.placement),variation:Jo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vS(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vS(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Aq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cq,data:{}};var Xd={passive:!0};function Pq(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,u=r.resize,l=u===void 0?!0:u,d=er(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(m){m.addEventListener("scroll",t.update,Xd)}),l&&d.addEventListener("resize",t.update,Xd),function(){a&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Xd)}),l&&d.removeEventListener("resize",t.update,Xd)}}const kq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Pq,data:{}};var Dq={left:"right",right:"left",bottom:"top",top:"bottom"};function mf(n){return n.replace(/left|right|bottom|top/g,function(e){return Dq[e]})}var Oq={start:"end",end:"start"};function yS(n){return n.replace(/start|end/g,function(e){return Oq[e]})}function _E(n){var e=er(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function wE(n){return Xo(Us(n)).left+_E(n).scrollLeft}function Nq(n,e){var t=er(n),r=Us(n),i=t.visualViewport,a=r.clientWidth,u=r.clientHeight,l=0,d=0;if(i){a=i.width,u=i.height;var p=Ek();(p||!p&&e==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:u,x:l+wE(n),y:d}}function Mq(n){var e,t=Us(n),r=_E(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=wa(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=wa(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+wE(n),d=-r.scrollTop;return Ui(i||t).direction==="rtl"&&(l+=wa(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:u,x:l,y:d}}function EE(n){var e=Ui(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Rk(n){return["html","body","#document"].indexOf(Ds(n))>=0?n.ownerDocument.body:si(n)&&EE(n)?n:Rk(xh(n))}function Al(n,e){var t;e===void 0&&(e=[]);var r=Rk(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=er(r),u=i?[a].concat(a.visualViewport||[],EE(r)?r:[]):r,l=e.concat(u);return i?l:l.concat(Al(xh(u)))}function tw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Lq(n,e){var t=Xo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _S(n,e,t){return e===wk?tw(Nq(n,t)):Da(e)?Lq(e,t):tw(Mq(Us(n)))}function Vq(n){var e=Al(xh(n)),t=["absolute","fixed"].indexOf(Ui(n).position)>=0,r=t&&si(n)?Ec(n):n;return Da(r)?e.filter(function(i){return Da(i)&&Tk(i,r)&&Ds(i)!=="body"}):[]}function Fq(n,e,t,r){var i=e==="clippingParents"?Vq(n):[].concat(e),a=[].concat(i,[t]),u=a[0],l=a.reduce(function(d,p){var m=_S(n,p,r);return d.top=wa(m.top,d.top),d.right=Qf(m.right,d.right),d.bottom=Qf(m.bottom,d.bottom),d.left=wa(m.left,d.left),d},_S(n,u,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function xk(n){var e=n.reference,t=n.element,r=n.placement,i=r?ii(r):null,a=r?Jo(r):null,u=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,d;switch(i){case Ln:d={x:u,y:e.y-t.height};break;case hr:d={x:u,y:e.y+e.height};break;case pr:d={x:e.x+e.width,y:l};break;case Vn:d={x:e.x-t.width,y:l};break;default:d={x:e.x,y:e.y}}var p=i?yE(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(a){case Yo:d[p]=d[p]-(e[m]/2-t[m]/2);break;case Ql:d[p]=d[p]+(e[m]/2-t[m]/2);break}}return d}function Xl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,l=t.boundary,d=l===void 0?oq:l,p=t.rootBoundary,m=p===void 0?wk:p,v=t.elementContext,y=v===void 0?ol:v,E=t.altBoundary,b=E===void 0?!1:E,S=t.padding,I=S===void 0?0:S,A=Sk(typeof I!="number"?I:Ik(I,wc)),P=y===ol?uq:ol,F=n.rects.popper,V=n.elements[b?P:y],H=Fq(Da(V)?V:V.contextElement||Us(n.elements.popper),d,m,u),z=Xo(n.elements.reference),k=xk({reference:z,element:F,strategy:"absolute",placement:i}),R=tw(Object.assign({},F,k)),C=y===ol?R:z,N={top:H.top-C.top+A.top,bottom:C.bottom-H.bottom+A.bottom,left:H.left-C.left+A.left,right:C.right-H.right+A.right},M=n.modifiersData.offset;if(y===ol&&M){var q=M[i];Object.keys(N).forEach(function(D){var ce=[pr,hr].indexOf(D)>=0?1:-1,be=[Ln,hr].indexOf(D)>=0?"y":"x";N[D]+=q[be]*ce})}return N}function jq(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,u=t.padding,l=t.flipVariations,d=t.allowedAutoPlacements,p=d===void 0?mE:d,m=Jo(r),v=m?l?mS:mS.filter(function(b){return Jo(b)===m}):wc,y=v.filter(function(b){return p.indexOf(b)>=0});y.length===0&&(y=v);var E=y.reduce(function(b,S){return b[S]=Xl(n,{placement:S,boundary:i,rootBoundary:a,padding:u})[ii(S)],b},{});return Object.keys(E).sort(function(b,S){return E[b]-E[S]})}function qq(n){if(ii(n)===pE)return[];var e=mf(n);return[yS(n),e,yS(e)]}function Uq(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!0:u,d=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,y=t.altBoundary,E=t.flipVariations,b=E===void 0?!0:E,S=t.allowedAutoPlacements,I=e.options.placement,A=ii(I),P=A===I,F=d||(P||!b?[mf(I)]:qq(I)),V=[I].concat(F).reduce(function(Ce,xe){return Ce.concat(ii(xe)===pE?jq(e,{placement:xe,boundary:m,rootBoundary:v,padding:p,flipVariations:b,allowedAutoPlacements:S}):xe)},[]),H=e.rects.reference,z=e.rects.popper,k=new Map,R=!0,C=V[0],N=0;N<V.length;N++){var M=V[N],q=ii(M),D=Jo(M)===Yo,ce=[Ln,hr].indexOf(q)>=0,be=ce?"width":"height",Ee=Xl(e,{placement:M,boundary:m,rootBoundary:v,altBoundary:y,padding:p}),_e=ce?D?pr:Vn:D?hr:Ln;H[be]>z[be]&&(_e=mf(_e));var ne=mf(_e),de=[];if(a&&de.push(Ee[q]<=0),l&&de.push(Ee[_e]<=0,Ee[ne]<=0),de.every(function(Ce){return Ce})){C=M,R=!1;break}k.set(M,de)}if(R)for(var ue=b?3:1,W=function(xe){var Ne=V.find(function(Le){var Me=k.get(Le);if(Me)return Me.slice(0,xe).every(function(Ge){return Ge})});if(Ne)return C=Ne,"break"},Z=ue;Z>0;Z--){var fe=W(Z);if(fe==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const $q={name:"flip",enabled:!0,phase:"main",fn:Uq,requiresIfExists:["offset"],data:{_skip:!1}};function wS(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ES(n){return[Ln,pr,hr,Vn].some(function(e){return n[e]>=0})}function zq(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,u=Xl(e,{elementContext:"reference"}),l=Xl(e,{altBoundary:!0}),d=wS(u,r),p=wS(l,i,a),m=ES(d),v=ES(p);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const Bq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zq};function Hq(n,e,t){var r=ii(n),i=[Vn,Ln].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],l=a[1];return u=u||0,l=(l||0)*i,[Vn,pr].indexOf(r)>=0?{x:l,y:u}:{x:u,y:l}}function Wq(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,u=mE.reduce(function(m,v){return m[v]=Hq(v,e.rects,a),m},{}),l=u[e.placement],d=l.x,p=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=u}const Gq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wq};function Kq(n){var e=n.state,t=n.name;e.modifiersData[t]=xk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Yq={name:"popperOffsets",enabled:!0,phase:"read",fn:Kq,data:{}};function Qq(n){return n==="x"?"y":"x"}function Xq(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,u=t.altAxis,l=u===void 0?!1:u,d=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,y=t.tether,E=y===void 0?!0:y,b=t.tetherOffset,S=b===void 0?0:b,I=Xl(e,{boundary:d,rootBoundary:p,padding:v,altBoundary:m}),A=ii(e.placement),P=Jo(e.placement),F=!P,V=yE(A),H=Qq(V),z=e.modifiersData.popperOffsets,k=e.rects.reference,R=e.rects.popper,C=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,N=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(z){if(a){var D,ce=V==="y"?Ln:Vn,be=V==="y"?hr:pr,Ee=V==="y"?"height":"width",_e=z[V],ne=_e+I[ce],de=_e-I[be],ue=E?-R[Ee]/2:0,W=P===Yo?k[Ee]:R[Ee],Z=P===Yo?-R[Ee]:-k[Ee],fe=e.elements.arrow,Ce=E&&fe?vE(fe):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:bk(),Ne=xe[ce],Le=xe[be],Me=Cl(0,k[Ee],Ce[Ee]),Ge=F?k[Ee]/2-ue-Me-Ne-N.mainAxis:W-Me-Ne-N.mainAxis,vt=F?-k[Ee]/2+ue+Me+Le+N.mainAxis:Z+Me+Le+N.mainAxis,yn=e.elements.arrow&&Ec(e.elements.arrow),jr=yn?V==="y"?yn.clientTop||0:yn.clientLeft||0:0,qn=(D=M==null?void 0:M[V])!=null?D:0,gr=_e+Ge-qn-jr,Ue=_e+vt-qn,Un=Cl(E?Qf(ne,gr):ne,_e,E?wa(de,Ue):de);z[V]=Un,q[V]=Un-_e}if(l){var Ve,$n=V==="x"?Ln:Vn,_n=V==="x"?hr:pr,Ot=z[H],Nt=H==="y"?"height":"width",Xt=Ot+I[$n],ut=Ot-I[_n],wn=[Ln,Vn].indexOf(A)!==-1,zn=(Ve=M==null?void 0:M[H])!=null?Ve:0,lt=wn?Xt:Ot-k[Nt]-R[Nt]-zn+N.altAxis,rt=wn?Ot+k[Nt]+R[Nt]-zn-N.altAxis:ut,Mt=E&&wn?Eq(lt,Ot,rt):Cl(E?lt:Xt,Ot,E?rt:ut);z[H]=Mt,q[H]=Mt-Ot}e.modifiersData[r]=q}}const Jq={name:"preventOverflow",enabled:!0,phase:"main",fn:Xq,requiresIfExists:["offset"]};function Zq(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function eU(n){return n===er(n)||!si(n)?_E(n):Zq(n)}function tU(n){var e=n.getBoundingClientRect(),t=Qo(e.width)/n.offsetWidth||1,r=Qo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function nU(n,e,t){t===void 0&&(t=!1);var r=si(e),i=si(e)&&tU(e),a=Us(e),u=Xo(n,i,t),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Ds(e)!=="body"||EE(a))&&(l=eU(e)),si(e)?(d=Xo(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=wE(a))),{x:u.left+l.scrollLeft-d.x,y:u.top+l.scrollTop-d.y,width:u.width,height:u.height}}function rU(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(l){if(!t.has(l)){var d=e.get(l);d&&i(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function iU(n){var e=rU(n);return yq.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function sU(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function aU(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var TS={placement:"bottom",modifiers:[],strategy:"absolute"};function bS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function oU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?TS:i;return function(l,d,p){p===void 0&&(p=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},TS,a),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,E={state:m,setOptions:function(A){var P=typeof A=="function"?A(m.options):A;S(),m.options=Object.assign({},a,m.options,P),m.scrollParents={reference:Da(l)?Al(l):l.contextElement?Al(l.contextElement):[],popper:Al(d)};var F=iU(aU([].concat(r,m.options.modifiers)));return m.orderedModifiers=F.filter(function(V){return V.enabled}),b(),E.update()},forceUpdate:function(){if(!y){var A=m.elements,P=A.reference,F=A.popper;if(bS(P,F)){m.rects={reference:nU(P,Ec(F),m.options.strategy==="fixed"),popper:vE(F)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var V=0;V<m.orderedModifiers.length;V++){if(m.reset===!0){m.reset=!1,V=-1;continue}var H=m.orderedModifiers[V],z=H.fn,k=H.options,R=k===void 0?{}:k,C=H.name;typeof z=="function"&&(m=z({state:m,options:R,name:C,instance:E})||m)}}}},update:sU(function(){return new Promise(function(I){E.forceUpdate(),I(m)})}),destroy:function(){S(),y=!0}};if(!bS(l,d))return E;E.setOptions(p).then(function(I){!y&&p.onFirstUpdate&&p.onFirstUpdate(I)});function b(){m.orderedModifiers.forEach(function(I){var A=I.name,P=I.options,F=P===void 0?{}:P,V=I.effect;if(typeof V=="function"){var H=V({state:m,name:A,instance:E,options:F}),z=function(){};v.push(H||z)}})}function S(){v.forEach(function(I){return I()}),v=[]}return E}}var uU=oU({defaultModifiers:[Bq,Yq,Aq,kq,Gq,$q,Jq,Iq]}),SS=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},lU={name:"applyStyles",enabled:!1},cU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var r=t.elements,i=r.reference,a=r.popper;if("removeAttribute"in i){var u=(i.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});u.length?i.setAttribute("aria-describedby",u.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var t,r=e.state,i=r.elements,a=i.popper,u=i.reference,l=(t=a.getAttribute("role"))==null?void 0:t.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in u){var d=u.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(a.id)!==-1)return;u.setAttribute("aria-describedby",d?d+","+a.id:a.id)}}},dU=[];function fU(n,e,t){var r=t===void 0?{}:t,i=r.enabled,a=i===void 0?!0:i,u=r.placement,l=u===void 0?"bottom":u,d=r.strategy,p=d===void 0?"absolute":d,m=r.modifiers,v=m===void 0?dU:m,y=Sh(r,["enabled","placement","strategy","modifiers"]),E=$.useRef(),b=$.useCallback(function(){var V;(V=E.current)==null||V.update()},[]),S=$.useCallback(function(){var V;(V=E.current)==null||V.forceUpdate()},[]),I=aq($.useState({placement:l,update:b,forceUpdate:S,attributes:{},styles:{popper:SS(p),arrow:{}}})),A=I[0],P=I[1],F=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(H){var z=H.state,k={},R={};Object.keys(z.elements).forEach(function(C){k[C]=z.styles[C],R[C]=z.attributes[C]}),P({state:z,styles:k,attributes:R,update:b,forceUpdate:S,placement:z.placement})}}},[b,S,P]);return $.useEffect(function(){!E.current||!a||E.current.setOptions({placement:l,strategy:p,modifiers:[].concat(v,[F,lU])})},[p,l,F,a]),$.useEffect(function(){if(!(!a||n==null||e==null))return E.current=uU(n,e,_t({},y,{placement:l,strategy:p,modifiers:[].concat(v,[cU,F])})),function(){E.current!=null&&(E.current.destroy(),E.current=void 0,P(function(V){return _t({},V,{attributes:{},styles:{popper:SS(p)}})}))}},[a,n,e]),A}function hU(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function yl(n,e,t,r){return rq(n,e,t,r),function(){hU(n,e,t,r)}}var hg,IS;function pU(){if(IS)return hg;IS=1;var n=function(){};return hg=n,hg}var mU=pU();const gU=jn(mU);function vU(n){return n&&"setState"in n?EC.findDOMNode(n):n??null}const yU=function(n){return _c(vU(n))};var _U=27,RS=function(){};function wU(n){return n.button===0}function EU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var xS=function(e){return e&&("current"in e?e.current:e)};function TU(n,e,t){var r=t===void 0?{}:t,i=r.disabled,a=r.clickTrigger,u=a===void 0?"click":a,l=$.useRef(!1),d=e||RS,p=$.useCallback(function(y){var E,b=xS(n);gU(!!b,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!b||EU(y)||!wU(y)||!!Yl(b,(E=y.composedPath==null?void 0:y.composedPath()[0])!=null?E:y.target)},[n]),m=hS(function(y){l.current||d(y)}),v=hS(function(y){y.keyCode===_U&&d(y)});$.useEffect(function(){if(!(i||n==null)){var y=window.event,E=yU(xS(n)),b=yl(E,u,p,!0),S=yl(E,u,function(P){if(P===y){y=void 0;return}m(P)}),I=yl(E,"keyup",function(P){if(P===y){y=void 0;return}v(P)}),A=[];return"ontouchstart"in E.documentElement&&(A=[].slice.call(E.body.children).map(function(P){return yl(P,"mousemove",RS)})),function(){b(),S(),I(),A.forEach(function(P){return P()})}}},[n,i,u,p,m,v])}function bU(n){var e={};return Array.isArray(n)?(n==null||n.forEach(function(t){e[t.name]=t}),e):n||e}function SU(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]})}function IU(n){var e,t,r,i,a=n.enabled,u=n.enableEvents,l=n.placement,d=n.flip,p=n.offset,m=n.fixed,v=n.containerPadding,y=n.arrowElement,E=n.popperConfig,b=E===void 0?{}:E,S=bU(b.modifiers);return _t({},b,{placement:l,enabled:a,strategy:m?"fixed":b.strategy,modifiers:SU(_t({},S,{eventListeners:{enabled:u},preventOverflow:_t({},S.preventOverflow,{options:v?_t({padding:v},(e=S.preventOverflow)==null?void 0:e.options):(t=S.preventOverflow)==null?void 0:t.options}),offset:{options:_t({offset:p},(r=S.offset)==null?void 0:r.options)},arrow:_t({},S.arrow,{enabled:!!y,options:_t({},(i=S.arrow)==null?void 0:i.options,{element:y})}),flip:_t({enabled:!!d},S.flip)}))})}function RU(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function xU(n,e){n.classList?n.classList.add(e):RU(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function CS(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CU(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=CS(n.className,e):n.setAttribute("class",CS(n.className&&n.className.baseVal||"",e))}var Jd;function TE(n){if((!Jd&&Jd!==0||n)&&hE){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Jd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Jd}var pg=function(e){var t;return typeof document>"u"?null:e==null?_c().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(t=e)!=null&&t.nodeType&&e||null)};function AS(n,e){var t=$.useState(function(){return pg(n)}),r=t[0],i=t[1];if(!r){var a=pg(n);a&&i(a)}return $.useEffect(function(){},[e,r]),$.useEffect(function(){var u=pg(n);u!==r&&i(u)},[n,r]),r}const PS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function AU(n,e){const t=PS(n),r=PS(e);return i=>{t&&t(i),r&&r(i)}}function PU(n,e){return $.useMemo(()=>AU(n,e),[n,e])}var bE=G.forwardRef(function(n,e){var t=n.flip,r=n.offset,i=n.placement,a=n.containerPadding,u=a===void 0?5:a,l=n.popperConfig,d=l===void 0?{}:l,p=n.transition,m=pS(),v=m[0],y=m[1],E=pS(),b=E[0],S=E[1],I=PU(y,e),A=AS(n.container),P=AS(n.target),F=$.useState(!n.show),V=F[0],H=F[1],z=fU(P,v,IU({placement:i,enableEvents:!!n.show,containerPadding:u||5,flip:t,offset:r,arrowElement:b,popperConfig:d})),k=z.styles,R=z.attributes,C=Sh(z,["styles","attributes"]);n.show?V&&H(!1):!n.transition&&!V&&H(!0);var N=function(){H(!0),n.onExited&&n.onExited.apply(n,arguments)},M=n.show||p&&!V;if(TU(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!M)return null;var q=n.children(_t({},C,{show:!!n.show,props:_t({},R.popper,{style:k.popper,ref:I}),arrowProps:_t({},R.arrow,{style:k.arrow,ref:S})}));if(p){var D=n.onExit,ce=n.onExiting,be=n.onEnter,Ee=n.onEntering,_e=n.onEntered;q=G.createElement(p,{in:n.show,appear:!0,onExit:D,onExiting:ce,onExited:N,onEnter:be,onEntering:Ee,onEntered:_e},q)}return A?EC.createPortal(q,A):null});bE.displayName="Overlay";bE.propTypes={show:oe.bool,placement:oe.oneOf(mE),target:oe.any,container:oe.any,flip:oe.bool,children:oe.func.isRequired,containerPadding:oe.number,popperConfig:oe.object,rootClose:oe.bool,rootCloseEvent:oe.oneOf(["click","mousedown"]),rootCloseDisabled:oe.bool,onHide:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(e.rootClose){var a;return(a=oe.func).isRequired.apply(a,[e].concat(r))}return oe.func.apply(oe,[e].concat(r))},transition:oe.elementType,onEnter:oe.func,onEntering:oe.func,onEntered:oe.func,onExit:oe.func,onExiting:oe.func,onExited:oe.func};var mg,kS;function kU(){if(kS)return mg;kS=1;function n(){this.__data__=[],this.size=0}return mg=n,mg}var gg,DS;function Ch(){if(DS)return gg;DS=1;var n=gc();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return gg=e,gg}var vg,OS;function DU(){if(OS)return vg;OS=1;var n=Ch(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,u=n(a,i);if(u<0)return!1;var l=a.length-1;return u==l?a.pop():t.call(a,u,1),--this.size,!0}return vg=r,vg}var yg,NS;function OU(){if(NS)return yg;NS=1;var n=Ch();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return yg=e,yg}var _g,MS;function NU(){if(MS)return _g;MS=1;var n=Ch();function e(t){return n(this.__data__,t)>-1}return _g=e,_g}var wg,LS;function MU(){if(LS)return wg;LS=1;var n=Ch();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return wg=e,wg}var Eg,VS;function Ah(){if(VS)return Eg;VS=1;var n=kU(),e=DU(),t=OU(),r=NU(),i=MU();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Eg=a,Eg}var Tg,FS;function LU(){if(FS)return Tg;FS=1;var n=Ah();function e(){this.__data__=new n,this.size=0}return Tg=e,Tg}var bg,jS;function VU(){if(jS)return bg;jS=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return bg=n,bg}var Sg,qS;function FU(){if(qS)return Sg;qS=1;function n(e){return this.__data__.get(e)}return Sg=n,Sg}var Ig,US;function jU(){if(US)return Ig;US=1;function n(e){return this.__data__.has(e)}return Ig=n,Ig}var Rg,$S;function qU(){if($S)return Rg;$S=1;var n=ci(),e=n["__core-js_shared__"];return Rg=e,Rg}var xg,zS;function UU(){if(zS)return xg;zS=1;var n=qU(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return xg=t,xg}var Cg,BS;function Ck(){if(BS)return Cg;BS=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Cg=t,Cg}var Ag,HS;function $U(){if(HS)return Ag;HS=1;var n=lE(),e=UU(),t=Bi(),r=Ck(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,d=u.toString,p=l.hasOwnProperty,m=RegExp("^"+d.call(p).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(y){if(!t(y)||e(y))return!1;var E=n(y)?m:a;return E.test(r(y))}return Ag=v,Ag}var Pg,WS;function zU(){if(WS)return Pg;WS=1;function n(e,t){return e==null?void 0:e[t]}return Pg=n,Pg}var kg,GS;function Fa(){if(GS)return kg;GS=1;var n=$U(),e=zU();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return kg=t,kg}var Dg,KS;function SE(){if(KS)return Dg;KS=1;var n=Fa(),e=ci(),t=n(e,"Map");return Dg=t,Dg}var Og,YS;function Ph(){if(YS)return Og;YS=1;var n=Fa(),e=n(Object,"create");return Og=e,Og}var Ng,QS;function BU(){if(QS)return Ng;QS=1;var n=Ph();function e(){this.__data__=n?n(null):{},this.size=0}return Ng=e,Ng}var Mg,XS;function HU(){if(XS)return Mg;XS=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Mg=n,Mg}var Lg,JS;function WU(){if(JS)return Lg;JS=1;var n=Ph(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var u=this.__data__;if(n){var l=u[a];return l===e?void 0:l}return r.call(u,a)?u[a]:void 0}return Lg=i,Lg}var Vg,ZS;function GU(){if(ZS)return Vg;ZS=1;var n=Ph(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return Vg=r,Vg}var Fg,eI;function KU(){if(eI)return Fg;eI=1;var n=Ph(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return Fg=t,Fg}var jg,tI;function YU(){if(tI)return jg;tI=1;var n=BU(),e=HU(),t=WU(),r=GU(),i=KU();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,jg=a,jg}var qg,nI;function QU(){if(nI)return qg;nI=1;var n=YU(),e=Ah(),t=SE();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return qg=r,qg}var Ug,rI;function XU(){if(rI)return Ug;rI=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Ug=n,Ug}var $g,iI;function kh(){if(iI)return $g;iI=1;var n=XU();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return $g=e,$g}var zg,sI;function JU(){if(sI)return zg;sI=1;var n=kh();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return zg=e,zg}var Bg,aI;function ZU(){if(aI)return Bg;aI=1;var n=kh();function e(t){return n(this,t).get(t)}return Bg=e,Bg}var Hg,oI;function e9(){if(oI)return Hg;oI=1;var n=kh();function e(t){return n(this,t).has(t)}return Hg=e,Hg}var Wg,uI;function t9(){if(uI)return Wg;uI=1;var n=kh();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return Wg=e,Wg}var Gg,lI;function IE(){if(lI)return Gg;lI=1;var n=QU(),e=JU(),t=ZU(),r=e9(),i=t9();function a(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var p=u[l];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,Gg=a,Gg}var Kg,cI;function n9(){if(cI)return Kg;cI=1;var n=Ah(),e=SE(),t=IE(),r=200;function i(a,u){var l=this.__data__;if(l instanceof n){var d=l.__data__;if(!e||d.length<r-1)return d.push([a,u]),this.size=++l.size,this;l=this.__data__=new t(d)}return l.set(a,u),this.size=l.size,this}return Kg=i,Kg}var Yg,dI;function RE(){if(dI)return Yg;dI=1;var n=Ah(),e=LU(),t=VU(),r=FU(),i=jU(),a=n9();function u(l){var d=this.__data__=new n(l);this.size=d.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=i,u.prototype.set=a,Yg=u,Yg}var Qg,fI;function r9(){if(fI)return Qg;fI=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Qg=e,Qg}var Xg,hI;function i9(){if(hI)return Xg;hI=1;function n(e){return this.__data__.has(e)}return Xg=n,Xg}var Jg,pI;function s9(){if(pI)return Jg;pI=1;var n=IE(),e=r9(),t=i9();function r(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new n;++a<u;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Jg=r,Jg}var Zg,mI;function a9(){if(mI)return Zg;mI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return Zg=n,Zg}var ev,gI;function o9(){if(gI)return ev;gI=1;function n(e,t){return e.has(t)}return ev=n,ev}var tv,vI;function Ak(){if(vI)return tv;vI=1;var n=s9(),e=a9(),t=o9(),r=1,i=2;function a(u,l,d,p,m,v){var y=d&r,E=u.length,b=l.length;if(E!=b&&!(y&&b>E))return!1;var S=v.get(u),I=v.get(l);if(S&&I)return S==l&&I==u;var A=-1,P=!0,F=d&i?new n:void 0;for(v.set(u,l),v.set(l,u);++A<E;){var V=u[A],H=l[A];if(p)var z=y?p(H,V,A,l,u,v):p(V,H,A,u,l,v);if(z!==void 0){if(z)continue;P=!1;break}if(F){if(!e(l,function(k,R){if(!t(F,R)&&(V===k||m(V,k,d,p,v)))return F.push(R)})){P=!1;break}}else if(!(V===H||m(V,H,d,p,v))){P=!1;break}}return v.delete(u),v.delete(l),P}return tv=a,tv}var nv,yI;function Pk(){if(yI)return nv;yI=1;var n=ci(),e=n.Uint8Array;return nv=e,nv}var rv,_I;function u9(){if(_I)return rv;_I=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return rv=n,rv}var iv,wI;function l9(){if(wI)return iv;wI=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return iv=n,iv}var sv,EI;function c9(){if(EI)return sv;EI=1;var n=hu(),e=Pk(),t=gc(),r=Ak(),i=u9(),a=l9(),u=1,l=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",y="[object Number]",E="[object RegExp]",b="[object Set]",S="[object String]",I="[object Symbol]",A="[object ArrayBuffer]",P="[object DataView]",F=n?n.prototype:void 0,V=F?F.valueOf:void 0;function H(z,k,R,C,N,M,q){switch(R){case P:if(z.byteLength!=k.byteLength||z.byteOffset!=k.byteOffset)return!1;z=z.buffer,k=k.buffer;case A:return!(z.byteLength!=k.byteLength||!M(new e(z),new e(k)));case d:case p:case y:return t(+z,+k);case m:return z.name==k.name&&z.message==k.message;case E:case S:return z==k+"";case v:var D=i;case b:var ce=C&u;if(D||(D=a),z.size!=k.size&&!ce)return!1;var be=q.get(z);if(be)return be==k;C|=l,q.set(z,k);var Ee=r(D(z),D(k),C,N,M,q);return q.delete(z),Ee;case I:if(V)return V.call(z)==V.call(k)}return!1}return sv=H,sv}var av,TI;function xE(){if(TI)return av;TI=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return av=n,av}var ov,bI;function mr(){if(bI)return ov;bI=1;var n=Array.isArray;return ov=n,ov}var uv,SI;function kk(){if(SI)return uv;SI=1;var n=xE(),e=mr();function t(r,i,a){var u=i(r);return e(r)?u:n(u,a(r))}return uv=t,uv}var lv,II;function d9(){if(II)return lv;II=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,u=[];++r<i;){var l=e[r];t(l,r,e)&&(u[a++]=l)}return u}return lv=n,lv}var cv,RI;function Dk(){if(RI)return cv;RI=1;function n(){return[]}return cv=n,cv}var dv,xI;function CE(){if(xI)return dv;xI=1;var n=d9(),e=Dk(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),n(i(u),function(l){return r.call(u,l)}))}:e;return dv=a,dv}var fv,CI;function f9(){if(CI)return fv;CI=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return fv=n,fv}var hv,AI;function h9(){if(AI)return hv;AI=1;var n=pu(),e=qs(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return hv=r,hv}var pv,PI;function AE(){if(PI)return pv;PI=1;var n=h9(),e=qs(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!i.call(u,"callee")};return pv=a,pv}var _l={exports:{}},mv,kI;function p9(){if(kI)return mv;kI=1;function n(){return!1}return mv=n,mv}_l.exports;var DI;function Dh(){return DI||(DI=1,function(n,e){var t=ci(),r=p9(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===i,l=u?t.Buffer:void 0,d=l?l.isBuffer:void 0,p=d||r;n.exports=p}(_l,_l.exports)),_l.exports}var gv,OI;function m9(){if(OI)return gv;OI=1;var n=pu(),e=cE(),t=qs(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",E="[object Set]",b="[object String]",S="[object WeakMap]",I="[object ArrayBuffer]",A="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",H="[object Int16Array]",z="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",M={};M[P]=M[F]=M[V]=M[H]=M[z]=M[k]=M[R]=M[C]=M[N]=!0,M[r]=M[i]=M[I]=M[a]=M[A]=M[u]=M[l]=M[d]=M[p]=M[m]=M[v]=M[y]=M[E]=M[b]=M[S]=!1;function q(D){return t(D)&&e(D.length)&&!!M[n(D)]}return gv=q,gv}var vv,NI;function Oh(){if(NI)return vv;NI=1;function n(e){return function(t){return e(t)}}return vv=n,vv}var wl={exports:{}};wl.exports;var MI;function PE(){return MI||(MI=1,function(n,e){var t=fk(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a&&t.process,l=function(){try{var d=i&&i.require&&i.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();n.exports=l}(wl,wl.exports)),wl.exports}var yv,LI;function kE(){if(LI)return yv;LI=1;var n=m9(),e=Oh(),t=PE(),r=t&&t.isTypedArray,i=r?e(r):n;return yv=i,yv}var _v,VI;function Ok(){if(VI)return _v;VI=1;var n=f9(),e=AE(),t=mr(),r=Dh(),i=dE(),a=kE(),u=Object.prototype,l=u.hasOwnProperty;function d(p,m){var v=t(p),y=!v&&e(p),E=!v&&!y&&r(p),b=!v&&!y&&!E&&a(p),S=v||y||E||b,I=S?n(p.length,String):[],A=I.length;for(var P in p)(m||l.call(p,P))&&!(S&&(P=="length"||E&&(P=="offset"||P=="parent")||b&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,A)))&&I.push(P);return I}return _v=d,_v}var wv,FI;function DE(){if(FI)return wv;FI=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return wv=e,wv}var Ev,jI;function Nk(){if(jI)return Ev;jI=1;function n(e,t){return function(r){return e(t(r))}}return Ev=n,Ev}var Tv,qI;function g9(){if(qI)return Tv;qI=1;var n=Nk(),e=n(Object.keys,Object);return Tv=e,Tv}var bv,UI;function v9(){if(UI)return bv;UI=1;var n=DE(),e=g9(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var u=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&u.push(l);return u}return bv=i,bv}var Sv,$I;function Tc(){if($I)return Sv;$I=1;var n=Ok(),e=v9(),t=vc();function r(i){return t(i)?n(i):e(i)}return Sv=r,Sv}var Iv,zI;function Mk(){if(zI)return Iv;zI=1;var n=kk(),e=CE(),t=Tc();function r(i){return n(i,t,e)}return Iv=r,Iv}var Rv,BI;function y9(){if(BI)return Rv;BI=1;var n=Mk(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l,d,p,m){var v=l&e,y=n(a),E=y.length,b=n(u),S=b.length;if(E!=S&&!v)return!1;for(var I=E;I--;){var A=y[I];if(!(v?A in u:r.call(u,A)))return!1}var P=m.get(a),F=m.get(u);if(P&&F)return P==u&&F==a;var V=!0;m.set(a,u),m.set(u,a);for(var H=v;++I<E;){A=y[I];var z=a[A],k=u[A];if(d)var R=v?d(k,z,A,u,a,m):d(z,k,A,a,u,m);if(!(R===void 0?z===k||p(z,k,l,d,m):R)){V=!1;break}H||(H=A=="constructor")}if(V&&!H){var C=a.constructor,N=u.constructor;C!=N&&"constructor"in a&&"constructor"in u&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(V=!1)}return m.delete(a),m.delete(u),V}return Rv=i,Rv}var xv,HI;function _9(){if(HI)return xv;HI=1;var n=Fa(),e=ci(),t=n(e,"DataView");return xv=t,xv}var Cv,WI;function w9(){if(WI)return Cv;WI=1;var n=Fa(),e=ci(),t=n(e,"Promise");return Cv=t,Cv}var Av,GI;function E9(){if(GI)return Av;GI=1;var n=Fa(),e=ci(),t=n(e,"Set");return Av=t,Av}var Pv,KI;function T9(){if(KI)return Pv;KI=1;var n=Fa(),e=ci(),t=n(e,"WeakMap");return Pv=t,Pv}var kv,YI;function Nh(){if(YI)return kv;YI=1;var n=_9(),e=SE(),t=w9(),r=E9(),i=T9(),a=pu(),u=Ck(),l="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",y="[object DataView]",E=u(n),b=u(e),S=u(t),I=u(r),A=u(i),P=a;return(n&&P(new n(new ArrayBuffer(1)))!=y||e&&P(new e)!=l||t&&P(t.resolve())!=p||r&&P(new r)!=m||i&&P(new i)!=v)&&(P=function(F){var V=a(F),H=V==d?F.constructor:void 0,z=H?u(H):"";if(z)switch(z){case E:return y;case b:return l;case S:return p;case I:return m;case A:return v}return V}),kv=P,kv}var Dv,QI;function b9(){if(QI)return Dv;QI=1;var n=RE(),e=Ak(),t=c9(),r=y9(),i=Nh(),a=mr(),u=Dh(),l=kE(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",y=Object.prototype,E=y.hasOwnProperty;function b(S,I,A,P,F,V){var H=a(S),z=a(I),k=H?m:i(S),R=z?m:i(I);k=k==p?v:k,R=R==p?v:R;var C=k==v,N=R==v,M=k==R;if(M&&u(S)){if(!u(I))return!1;H=!0,C=!1}if(M&&!C)return V||(V=new n),H||l(S)?e(S,I,A,P,F,V):t(S,I,k,A,P,F,V);if(!(A&d)){var q=C&&E.call(S,"__wrapped__"),D=N&&E.call(I,"__wrapped__");if(q||D){var ce=q?S.value():S,be=D?I.value():I;return V||(V=new n),F(ce,be,A,P,V)}}return M?(V||(V=new n),r(S,I,A,P,F,V)):!1}return Dv=b,Dv}var Ov,XI;function OE(){if(XI)return Ov;XI=1;var n=b9(),e=qs();function t(r,i,a,u,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,u,t,l)}return Ov=t,Ov}var Nv,JI;function S9(){if(JI)return Nv;JI=1;var n=OE();function e(t,r){return n(t,r)}return Nv=e,Nv}var I9=S9();const R9=jn(I9);function Mv(n,e){var t=fE(n);return t?t.innerHeight:_a(n).height}function Lk(n,e,t){n.closest&&!t&&n.closest(e);var r=n;do{if(eq(r,e))return r;r=r.parentElement}while(r&&r!==t&&r.nodeType===document.ELEMENT_NODE);return null}var Lv,ZI;function x9(){if(ZI)return Lv;ZI=1;function n(e,t,r,i){for(var a=e.length,u=r+(i?1:-1);i?u--:++u<a;)if(t(e[u],u,e))return u;return-1}return Lv=n,Lv}var Vv,eR;function C9(){if(eR)return Vv;eR=1;var n=RE(),e=OE(),t=1,r=2;function i(a,u,l,d){var p=l.length,m=p,v=!d;if(a==null)return!m;for(a=Object(a);p--;){var y=l[p];if(v&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++p<m;){y=l[p];var E=y[0],b=a[E],S=y[1];if(v&&y[2]){if(b===void 0&&!(E in a))return!1}else{var I=new n;if(d)var A=d(b,S,E,a,u,I);if(!(A===void 0?e(S,b,t|r,d,I):A))return!1}}return!0}return Vv=i,Vv}var Fv,tR;function Vk(){if(tR)return Fv;tR=1;var n=Bi();function e(t){return t===t&&!n(t)}return Fv=e,Fv}var jv,nR;function A9(){if(nR)return jv;nR=1;var n=Vk(),e=Tc();function t(r){for(var i=e(r),a=i.length;a--;){var u=i[a],l=r[u];i[a]=[u,l,n(l)]}return i}return jv=t,jv}var qv,rR;function Fk(){if(rR)return qv;rR=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return qv=n,qv}var Uv,iR;function P9(){if(iR)return Uv;iR=1;var n=C9(),e=A9(),t=Fk();function r(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(u){return u===i||n(u,i,a)}}return Uv=r,Uv}var $v,sR;function NE(){if(sR)return $v;sR=1;var n=mr(),e=yc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){if(n(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!t.test(a)||u!=null&&a in Object(u)}return $v=i,$v}var zv,aR;function k9(){if(aR)return zv;aR=1;var n=IE(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var u=arguments,l=i?i.apply(this,u):u[0],d=a.cache;if(d.has(l))return d.get(l);var p=r.apply(this,u);return a.cache=d.set(l,p)||d,p};return a.cache=new(t.Cache||n),a}return t.Cache=n,zv=t,zv}var Bv,oR;function D9(){if(oR)return Bv;oR=1;var n=k9(),e=500;function t(r){var i=n(r,function(u){return a.size===e&&a.clear(),u}),a=i.cache;return i}return Bv=t,Bv}var Hv,uR;function O9(){if(uR)return Hv;uR=1;var n=D9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(u,l,d,p){a.push(d?p.replace(t,"$1"):l||u)}),a});return Hv=r,Hv}var Wv,lR;function ME(){if(lR)return Wv;lR=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}return Wv=n,Wv}var Gv,cR;function N9(){if(cR)return Gv;cR=1;var n=hu(),e=ME(),t=mr(),r=yc(),i=n?n.prototype:void 0,a=i?i.toString:void 0;function u(l){if(typeof l=="string")return l;if(t(l))return e(l,u)+"";if(r(l))return a?a.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Gv=u,Gv}var Kv,dR;function M9(){if(dR)return Kv;dR=1;var n=N9();function e(t){return t==null?"":n(t)}return Kv=e,Kv}var Yv,fR;function Mh(){if(fR)return Yv;fR=1;var n=mr(),e=NE(),t=O9(),r=M9();function i(a,u){return n(a)?a:e(a,u)?[a]:t(r(a))}return Yv=i,Yv}var Qv,hR;function bc(){if(hR)return Qv;hR=1;var n=yc();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return Qv=e,Qv}var Xv,pR;function Lh(){if(pR)return Xv;pR=1;var n=Mh(),e=bc();function t(r,i){i=n(i,r);for(var a=0,u=i.length;r!=null&&a<u;)r=r[e(i[a++])];return a&&a==u?r:void 0}return Xv=t,Xv}var Jv,mR;function L9(){if(mR)return Jv;mR=1;var n=Lh();function e(t,r,i){var a=t==null?void 0:n(t,r);return a===void 0?i:a}return Jv=e,Jv}var Zv,gR;function V9(){if(gR)return Zv;gR=1;function n(e,t){return e!=null&&t in Object(e)}return Zv=n,Zv}var ey,vR;function F9(){if(vR)return ey;vR=1;var n=Mh(),e=AE(),t=mr(),r=dE(),i=cE(),a=bc();function u(l,d,p){d=n(d,l);for(var m=-1,v=d.length,y=!1;++m<v;){var E=a(d[m]);if(!(y=l!=null&&p(l,E)))break;l=l[E]}return y||++m!=v?y:(v=l==null?0:l.length,!!v&&i(v)&&r(E,v)&&(t(l)||e(l)))}return ey=u,ey}var ty,yR;function j9(){if(yR)return ty;yR=1;var n=V9(),e=F9();function t(r,i){return r!=null&&e(r,i,n)}return ty=t,ty}var ny,_R;function q9(){if(_R)return ny;_R=1;var n=OE(),e=L9(),t=j9(),r=NE(),i=Vk(),a=Fk(),u=bc(),l=1,d=2;function p(m,v){return r(m)&&i(v)?a(u(m),v):function(y){var E=e(y,m);return E===void 0&&E===v?t(y,m):n(v,E,l|d)}}return ny=p,ny}var ry,wR;function Vh(){if(wR)return ry;wR=1;function n(e){return e}return ry=n,ry}var iy,ER;function U9(){if(ER)return iy;ER=1;function n(e){return function(t){return t==null?void 0:t[e]}}return iy=n,iy}var sy,TR;function $9(){if(TR)return sy;TR=1;var n=Lh();function e(t){return function(r){return n(r,t)}}return sy=e,sy}var ay,bR;function z9(){if(bR)return ay;bR=1;var n=U9(),e=$9(),t=NE(),r=bc();function i(a){return t(a)?n(r(a)):e(a)}return ay=i,ay}var oy,SR;function Fh(){if(SR)return oy;SR=1;var n=P9(),e=q9(),t=Vh(),r=mr(),i=z9();function a(u){return typeof u=="function"?u:u==null?t:typeof u=="object"?r(u)?e(u[0],u[1]):n(u):i(u)}return oy=a,oy}var uy,IR;function B9(){if(IR)return uy;IR=1;var n=x9(),e=Fh(),t=pk(),r=Math.max;function i(a,u,l){var d=a==null?0:a.length;if(!d)return-1;var p=l==null?0:t(l);return p<0&&(p=r(d+p,0)),n(a,e(u,3),p)}return uy=i,uy}var H9=B9();const W9=jn(H9);var ly,RR;function G9(){if(RR)return ly;RR=1;var n=Math.ceil,e=Math.max;function t(r,i,a,u){for(var l=-1,d=e(n((i-r)/(a||1)),0),p=Array(d);d--;)p[u?d:++l]=r,r+=a;return p}return ly=t,ly}var cy,xR;function K9(){if(xR)return cy;xR=1;var n=G9(),e=Rh(),t=hk();function r(i){return function(a,u,l){return l&&typeof l!="number"&&e(a,u,l)&&(u=l=void 0),a=t(a),u===void 0?(u=a,a=0):u=t(u),l=l===void 0?a<u?1:-1:t(l),n(a,u,l,i)}}return cy=r,cy}var dy,CR;function Y9(){if(CR)return dy;CR=1;var n=K9(),e=n();return dy=e,dy}var Q9=Y9();const X9=jn(Q9);var AR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function J9(n,e){return!!(n===e||AR(n)&&AR(e))}function Z9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!J9(n[t],e[t]))return!1;return!0}function jk(n,e){e===void 0&&(e=Z9);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var u=n.apply(this,i);return t={lastResult:u,lastArgs:i,lastThis:this},u}return r.clear=function(){t=null},r}function nw(n,e){var t=fE(n);return t?t.innerWidth:_a(n).width}var fy,PR;function e$(){if(PR)return fy;PR=1;var n=hu(),e=AE(),t=mr(),r=n?n.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(r&&a&&a[r])}return fy=i,fy}var hy,kR;function qk(){if(kR)return hy;kR=1;var n=xE(),e=e$();function t(r,i,a,u,l){var d=-1,p=r.length;for(a||(a=e),l||(l=[]);++d<p;){var m=r[d];i>0&&a(m)?i>1?t(m,i-1,a,u,l):n(l,m):u||(l[l.length]=m)}return l}return hy=t,hy}var py,DR;function t$(){if(DR)return py;DR=1;function n(e){return function(t,r,i){for(var a=-1,u=Object(t),l=i(t),d=l.length;d--;){var p=l[e?d:++a];if(r(u[p],p,u)===!1)break}return t}}return py=n,py}var my,OR;function n$(){if(OR)return my;OR=1;var n=t$(),e=n();return my=e,my}var gy,NR;function LE(){if(NR)return gy;NR=1;var n=n$(),e=Tc();function t(r,i){return r&&n(r,i,e)}return gy=t,gy}var vy,MR;function r$(){if(MR)return vy;MR=1;var n=vc();function e(t,r){return function(i,a){if(i==null)return i;if(!n(i))return t(i,a);for(var u=i.length,l=r?u:-1,d=Object(i);(r?l--:++l<u)&&a(d[l],l,d)!==!1;);return i}}return vy=e,vy}var yy,LR;function i$(){if(LR)return yy;LR=1;var n=LE(),e=r$(),t=e(n);return yy=t,yy}var _y,VR;function s$(){if(VR)return _y;VR=1;var n=i$(),e=vc();function t(r,i){var a=-1,u=e(r)?Array(r.length):[];return n(r,function(l,d,p){u[++a]=i(l,d,p)}),u}return _y=t,_y}var wy,FR;function a$(){if(FR)return wy;FR=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return wy=n,wy}var Ey,jR;function o$(){if(jR)return Ey;jR=1;var n=yc();function e(t,r){if(t!==r){var i=t!==void 0,a=t===null,u=t===t,l=n(t),d=r!==void 0,p=r===null,m=r===r,v=n(r);if(!p&&!v&&!l&&t>r||l&&d&&m&&!p&&!v||a&&d&&m||!i&&m||!u)return 1;if(!a&&!l&&!v&&t<r||v&&i&&u&&!a&&!l||p&&i&&u||!d&&u||!m)return-1}return 0}return Ey=e,Ey}var Ty,qR;function u$(){if(qR)return Ty;qR=1;var n=o$();function e(t,r,i){for(var a=-1,u=t.criteria,l=r.criteria,d=u.length,p=i.length;++a<d;){var m=n(u[a],l[a]);if(m){if(a>=p)return m;var v=i[a];return m*(v=="desc"?-1:1)}}return t.index-r.index}return Ty=e,Ty}var by,UR;function l$(){if(UR)return by;UR=1;var n=ME(),e=Lh(),t=Fh(),r=s$(),i=a$(),a=Oh(),u=u$(),l=Vh(),d=mr();function p(m,v,y){v.length?v=n(v,function(S){return d(S)?function(I){return e(I,S.length===1?S[0]:S)}:S}):v=[l];var E=-1;v=n(v,a(t));var b=r(m,function(S,I,A){var P=n(v,function(F){return F(S)});return{criteria:P,index:++E,value:S}});return i(b,function(S,I){return u(S,I,y)})}return by=p,by}var Sy,$R;function c$(){if($R)return Sy;$R=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Sy=n,Sy}var Iy,zR;function Uk(){if(zR)return Iy;zR=1;var n=c$(),e=Math.max;function t(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var u=arguments,l=-1,d=e(u.length-i,0),p=Array(d);++l<d;)p[l]=u[i+l];l=-1;for(var m=Array(i+1);++l<i;)m[l]=u[l];return m[i]=a(p),n(r,this,m)}}return Iy=t,Iy}var Ry,BR;function d$(){if(BR)return Ry;BR=1;function n(e){return function(){return e}}return Ry=n,Ry}var xy,HR;function $k(){if(HR)return xy;HR=1;var n=Fa(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return xy=e,xy}var Cy,WR;function f$(){if(WR)return Cy;WR=1;var n=d$(),e=$k(),t=Vh(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return Cy=r,Cy}var Ay,GR;function h$(){if(GR)return Ay;GR=1;var n=800,e=16,t=Date.now;function r(i){var a=0,u=0;return function(){var l=t(),d=e-(l-u);if(u=l,d>0){if(++a>=n)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ay=r,Ay}var Py,KR;function zk(){if(KR)return Py;KR=1;var n=f$(),e=h$(),t=e(n);return Py=t,Py}var ky,YR;function Bk(){if(YR)return ky;YR=1;var n=Vh(),e=Uk(),t=zk();function r(i,a){return t(e(i,a,n),i+"")}return ky=r,ky}var Dy,QR;function p$(){if(QR)return Dy;QR=1;var n=qk(),e=l$(),t=Bk(),r=Rh(),i=t(function(a,u){if(a==null)return[];var l=u.length;return l>1&&r(a,u[0],u[1])?u=[]:l>2&&r(u[0],u[1],u[2])&&(u=[u[0]]),e(a,n(u,1),[])});return Dy=i,Dy}var m$=p$();const g$=jn(m$);function Hk(n){return QP(n)||ck(n)||aE(n)||XP()}var Oy,XR;function v$(){if(XR)return Oy;XR=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Oy=n,Oy}var Ny,JR;function y$(){if(JR)return Ny;JR=1;var n=Bi(),e=DE(),t=v$(),r=Object.prototype,i=r.hasOwnProperty;function a(u){if(!n(u))return t(u);var l=e(u),d=[];for(var p in u)p=="constructor"&&(l||!i.call(u,p))||d.push(p);return d}return Ny=a,Ny}var My,ZR;function jh(){if(ZR)return My;ZR=1;var n=Ok(),e=y$(),t=vc();function r(i){return t(i)?n(i,!0):e(i)}return My=r,My}var Ly,ex;function _$(){if(ex)return Ly;ex=1;var n=Bk(),e=gc(),t=Rh(),r=jh(),i=Object.prototype,a=i.hasOwnProperty,u=n(function(l,d){l=Object(l);var p=-1,m=d.length,v=m>2?d[2]:void 0;for(v&&t(d[0],d[1],v)&&(m=1);++p<m;)for(var y=d[p],E=r(y),b=-1,S=E.length;++b<S;){var I=E[b],A=l[I];(A===void 0||e(A,i[I])&&!a.call(l,I))&&(l[I]=y[I])}return l});return Ly=u,Ly}var w$=_$();const E$=jn(w$);var Vy,tx;function VE(){if(tx)return Vy;tx=1;var n=$k();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return Vy=e,Vy}var Fy,nx;function T$(){if(nx)return Fy;nx=1;var n=VE(),e=LE(),t=Fh();function r(i,a){var u={};return a=t(a,3),e(i,function(l,d,p){n(u,d,a(l,d,p))}),u}return Fy=r,Fy}var b$=T$();const S$=jn(b$);var jy,rx;function Wk(){if(rx)return jy;rx=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return jy=n,jy}var qy,ix;function Gk(){if(ix)return qy;ix=1;var n=VE(),e=gc(),t=Object.prototype,r=t.hasOwnProperty;function i(a,u,l){var d=a[u];(!(r.call(a,u)&&e(d,l))||l===void 0&&!(u in a))&&n(a,u,l)}return qy=i,qy}var Uy,sx;function Sc(){if(sx)return Uy;sx=1;var n=Gk(),e=VE();function t(r,i,a,u){var l=!a;a||(a={});for(var d=-1,p=i.length;++d<p;){var m=i[d],v=u?u(a[m],r[m],m,a,r):void 0;v===void 0&&(v=r[m]),l?e(a,m,v):n(a,m,v)}return a}return Uy=t,Uy}var $y,ax;function I$(){if(ax)return $y;ax=1;var n=Sc(),e=Tc();function t(r,i){return r&&n(i,e(i),r)}return $y=t,$y}var zy,ox;function R$(){if(ox)return zy;ox=1;var n=Sc(),e=jh();function t(r,i){return r&&n(i,e(i),r)}return zy=t,zy}var El={exports:{}};El.exports;var ux;function x$(){return ux||(ux=1,function(n,e){var t=ci(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,u=a?t.Buffer:void 0,l=u?u.allocUnsafe:void 0;function d(p,m){if(m)return p.slice();var v=p.length,y=l?l(v):new p.constructor(v);return p.copy(y),y}n.exports=d}(El,El.exports)),El.exports}var By,lx;function C$(){if(lx)return By;lx=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return By=n,By}var Hy,cx;function A$(){if(cx)return Hy;cx=1;var n=Sc(),e=CE();function t(r,i){return n(r,e(r),i)}return Hy=t,Hy}var Wy,dx;function qh(){if(dx)return Wy;dx=1;var n=Nk(),e=n(Object.getPrototypeOf,Object);return Wy=e,Wy}var Gy,fx;function Kk(){if(fx)return Gy;fx=1;var n=xE(),e=qh(),t=CE(),r=Dk(),i=Object.getOwnPropertySymbols,a=i?function(u){for(var l=[];u;)n(l,t(u)),u=e(u);return l}:r;return Gy=a,Gy}var Ky,hx;function P$(){if(hx)return Ky;hx=1;var n=Sc(),e=Kk();function t(r,i){return n(r,e(r),i)}return Ky=t,Ky}var Yy,px;function Yk(){if(px)return Yy;px=1;var n=kk(),e=Kk(),t=jh();function r(i){return n(i,t,e)}return Yy=r,Yy}var Qy,mx;function k$(){if(mx)return Qy;mx=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Qy=t,Qy}var Xy,gx;function FE(){if(gx)return Xy;gx=1;var n=Pk();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return Xy=e,Xy}var Jy,vx;function D$(){if(vx)return Jy;vx=1;var n=FE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return Jy=e,Jy}var Zy,yx;function O$(){if(yx)return Zy;yx=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return Zy=e,Zy}var e_,_x;function N$(){if(_x)return e_;_x=1;var n=hu(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return e_=r,e_}var t_,wx;function M$(){if(wx)return t_;wx=1;var n=FE();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return t_=e,t_}var n_,Ex;function L$(){if(Ex)return n_;Ex=1;var n=FE(),e=D$(),t=O$(),r=N$(),i=M$(),a="[object Boolean]",u="[object Date]",l="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",F="[object Int32Array]",V="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",k="[object Uint32Array]";function R(C,N,M){var q=C.constructor;switch(N){case E:return n(C);case a:case u:return new q(+C);case b:return e(C,M);case S:case I:case A:case P:case F:case V:case H:case z:case k:return i(C,M);case l:return new q;case d:case v:return new q(C);case p:return t(C);case m:return new q;case y:return r(C)}}return n_=R,n_}var r_,Tx;function Qk(){if(Tx)return r_;Tx=1;var n=Bi(),e=Object.create,t=function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return r_=t,r_}var i_,bx;function V$(){if(bx)return i_;bx=1;var n=Qk(),e=qh(),t=DE();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return i_=r,i_}var s_,Sx;function F$(){if(Sx)return s_;Sx=1;var n=Nh(),e=qs(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return s_=r,s_}var a_,Ix;function j$(){if(Ix)return a_;Ix=1;var n=F$(),e=Oh(),t=PE(),r=t&&t.isMap,i=r?e(r):n;return a_=i,a_}var o_,Rx;function q$(){if(Rx)return o_;Rx=1;var n=Nh(),e=qs(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return o_=r,o_}var u_,xx;function U$(){if(xx)return u_;xx=1;var n=q$(),e=Oh(),t=PE(),r=t&&t.isSet,i=r?e(r):n;return u_=i,u_}var l_,Cx;function $$(){if(Cx)return l_;Cx=1;var n=RE(),e=Wk(),t=Gk(),r=I$(),i=R$(),a=x$(),u=C$(),l=A$(),d=P$(),p=Mk(),m=Yk(),v=Nh(),y=k$(),E=L$(),b=V$(),S=mr(),I=Dh(),A=j$(),P=Bi(),F=U$(),V=Tc(),H=jh(),z=1,k=2,R=4,C="[object Arguments]",N="[object Array]",M="[object Boolean]",q="[object Date]",D="[object Error]",ce="[object Function]",be="[object GeneratorFunction]",Ee="[object Map]",_e="[object Number]",ne="[object Object]",de="[object RegExp]",ue="[object Set]",W="[object String]",Z="[object Symbol]",fe="[object WeakMap]",Ce="[object ArrayBuffer]",xe="[object DataView]",Ne="[object Float32Array]",Le="[object Float64Array]",Me="[object Int8Array]",Ge="[object Int16Array]",vt="[object Int32Array]",yn="[object Uint8Array]",jr="[object Uint8ClampedArray]",qn="[object Uint16Array]",gr="[object Uint32Array]",Ue={};Ue[C]=Ue[N]=Ue[Ce]=Ue[xe]=Ue[M]=Ue[q]=Ue[Ne]=Ue[Le]=Ue[Me]=Ue[Ge]=Ue[vt]=Ue[Ee]=Ue[_e]=Ue[ne]=Ue[de]=Ue[ue]=Ue[W]=Ue[Z]=Ue[yn]=Ue[jr]=Ue[qn]=Ue[gr]=!0,Ue[D]=Ue[ce]=Ue[fe]=!1;function Un(Ve,$n,_n,Ot,Nt,Xt){var ut,wn=$n&z,zn=$n&k,lt=$n&R;if(_n&&(ut=Nt?_n(Ve,Ot,Nt,Xt):_n(Ve)),ut!==void 0)return ut;if(!P(Ve))return Ve;var rt=S(Ve);if(rt){if(ut=y(Ve),!wn)return u(Ve,ut)}else{var Mt=v(Ve),Hi=Mt==ce||Mt==be;if(I(Ve))return a(Ve,wn);if(Mt==ne||Mt==C||Hi&&!Nt){if(ut=zn||Hi?{}:b(Ve),!wn)return zn?d(Ve,i(ut,Ve)):l(Ve,r(ut,Ve))}else{if(!Ue[Mt])return Nt?Ve:{};ut=E(Ve,Mt,wn)}}Xt||(Xt=new n);var vr=Xt.get(Ve);if(vr)return vr;Xt.set(Ve,ut),F(Ve)?Ve.forEach(function(In){ut.add(Un(In,$n,_n,In,Ve,Xt))}):A(Ve)&&Ve.forEach(function(In,Bn){ut.set(Bn,Un(In,$n,_n,Bn,Ve,Xt))});var di=lt?zn?m:p:zn?H:V,qr=rt?void 0:di(Ve);return e(qr||Ve,function(In,Bn){qr&&(Bn=In,In=Ve[Bn]),t(ut,Bn,Un(In,$n,_n,Bn,Ve,Xt))}),ut}return l_=Un,l_}var c_,Ax;function z$(){if(Ax)return c_;Ax=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return c_=n,c_}var d_,Px;function B$(){if(Px)return d_;Px=1;var n=Lh(),e=dk();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return d_=t,d_}var f_,kx;function H$(){if(kx)return f_;kx=1;var n=Mh(),e=z$(),t=B$(),r=bc();function i(a,u){return u=n(u,a),a=t(a,u),a==null||delete a[r(e(u))]}return f_=i,f_}var h_,Dx;function W$(){if(Dx)return h_;Dx=1;var n=pu(),e=qh(),t=qs(),r="[object Object]",i=Function.prototype,a=Object.prototype,u=i.toString,l=a.hasOwnProperty,d=u.call(Object);function p(m){if(!t(m)||n(m)!=r)return!1;var v=e(m);if(v===null)return!0;var y=l.call(v,"constructor")&&v.constructor;return typeof y=="function"&&y instanceof y&&u.call(y)==d}return h_=p,h_}var p_,Ox;function G$(){if(Ox)return p_;Ox=1;var n=W$();function e(t){return n(t)?void 0:t}return p_=e,p_}var m_,Nx;function K$(){if(Nx)return m_;Nx=1;var n=qk();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return m_=e,m_}var g_,Mx;function Y$(){if(Mx)return g_;Mx=1;var n=K$(),e=Uk(),t=zk();function r(i){return t(e(i,void 0,n),i+"")}return g_=r,g_}var v_,Lx;function Q$(){if(Lx)return v_;Lx=1;var n=ME(),e=$$(),t=H$(),r=Mh(),i=Sc(),a=G$(),u=Y$(),l=Yk(),d=1,p=2,m=4,v=u(function(y,E){var b={};if(y==null)return b;var S=!1;E=n(E,function(A){return A=r(A,y),S||(S=A.length>1),A}),i(y,l(y),b),S&&(b=e(b,d|p|m,a));for(var I=E.length;I--;)t(b,E[I]);return b});return v_=v,v_}var X$=Q$();const J$=jn(X$);var y_,Vx;function Z$(){if(Vx)return y_;Vx=1;var n=Wk(),e=Qk(),t=LE(),r=Fh(),i=qh(),a=mr(),u=Dh(),l=lE(),d=Bi(),p=kE();function m(v,y,E){var b=a(v),S=b||u(v)||p(v);if(y=r(y,4),E==null){var I=v&&v.constructor;S?E=b?new I:[]:d(v)?E=l(I)?e(i(v)):{}:E={}}return(S?n:t)(v,function(A,P,F){return y(E,A,P,F)}),E}return y_=m,y_}var e5=Z$();const t5=jn(e5);var gf={exports:{}},n5=gf.exports,Fx;function r5(){return Fx||(Fx=1,function(n,e){(function(t,r){n.exports=r()})(n5,function(){return function(t,r,i){r.prototype.isBetween=function(a,u,l,d){var p=i(a),m=i(u),v=(d=d||"()")[0]==="(",y=d[1]===")";return(v?this.isAfter(p,l):!this.isBefore(p,l))&&(y?this.isBefore(m,l):!this.isAfter(m,l))||(v?this.isBefore(p,l):!this.isAfter(p,l))&&(y?this.isAfter(m,l):!this.isBefore(m,l))}}})}(gf)),gf.exports}r5();var vf={exports:{}},i5=vf.exports,jx;function s5(){return jx||(jx=1,function(n,e){(function(t,r){n.exports=r()})(i5,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})}(vf)),vf.exports}s5();var yf={exports:{}},a5=yf.exports,qx;function o5(){return qx||(qx=1,function(n,e){(function(t,r){n.exports=r()})(a5,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})}(yf)),yf.exports}o5();var _f={exports:{}},u5=_f.exports,Ux;function l5(){return Ux||(Ux=1,function(n,e){(function(t,r){n.exports=r()})(u5,function(){return function(t,r,i){var a=r.prototype,u=function(v){return v&&(v.indexOf?v:v.s)},l=function(v,y,E,b,S){var I=v.name?v:v.$locale(),A=u(I[y]),P=u(I[E]),F=A||P.map(function(H){return H.slice(0,b)});if(!S)return F;var V=I.weekStart;return F.map(function(H,z){return F[(z+(V||0))%7]})},d=function(){return i.Ls[i.locale()]},p=function(v,y){return v.formats[y]||function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,S,I){return S||I.slice(1)})}(v.formats[y.toUpperCase()])},m=function(){var v=this;return{months:function(y){return y?y.format("MMMM"):l(v,"months")},monthsShort:function(y){return y?y.format("MMM"):l(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):l(v,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):l(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):l(v,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return p(v.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=d();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(y){return p(v,y)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return l(d(),"months")},i.monthsShort=function(){return l(d(),"monthsShort","months",3)},i.weekdays=function(v){return l(d(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return l(d(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return l(d(),"weekdaysMin","weekdays",2,v)}}})}(_f)),_f.exports}l5();var wf={exports:{}},c5=wf.exports,$x;function d5(){return $x||($x=1,function(n,e){(function(t,r){n.exports=r()})(c5,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var u=i.prototype,l=u.format;a.en.formats=t,u.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,m=function(v,y){return v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,b,S){var I=S&&S.toUpperCase();return b||y[S]||t[S]||y[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,P,F){return P||F.slice(1)})})}(d,p===void 0?{}:p);return l.call(this,m)}}})}(wf)),wf.exports}d5();var Ef={exports:{}},f5=Ef.exports,zx;function h5(){return zx||(zx=1,function(n,e){(function(t,r){n.exports=r()})(f5,function(){return function(t,r,i){var a=function(u,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var d;l.length===1&&l[0].length>0&&(l=l[0]),d=(l=l.filter(function(m){return m}))[0];for(var p=1;p<l.length;p+=1)l[p].isValid()&&!l[p][u](d)||(d=l[p]);return d};i.max=function(){var u=[].slice.call(arguments,0);return a("isAfter",u)},i.min=function(){var u=[].slice.call(arguments,0);return a("isBefore",u)}}})}(Ef)),Ef.exports}h5();var Tf={exports:{}},p5=Tf.exports,Bx;function m5(){return Bx||(Bx=1,function(n,e){(function(t,r){n.exports=r()})(p5,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,u,l){var d=u.prototype;l.utc=function(S){var I={date:S,utc:!0,args:arguments};return new u(I)},d.utc=function(S){var I=l(this.toDate(),{locale:this.$L,utc:!0});return S?I.add(this.utcOffset(),t):I},d.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var p=d.parse;d.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),p.call(this,S)};var m=d.init;d.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else m.call(this)};var v=d.utcOffset;d.utcOffset=function(S,I){var A=this.$utils().u;if(A(S))return this.$u?0:A(this.$offset)?v.call(this):this.$offset;if(typeof S=="string"&&(S=function(H){H===void 0&&(H="");var z=H.match(r);if(!z)return null;var k=(""+z[0]).match(i)||["-",0,0],R=k[0],C=60*+k[1]+ +k[2];return C===0?0:R==="+"?C:-C}(S),S===null))return this;var P=Math.abs(S)<=16?60*S:S,F=this;if(I)return F.$offset=P,F.$u=S===0,F;if(S!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(P+V,t)).$offset=P,F.$x.$localOffset=V}else F=this.utc();return F};var y=d.format;d.format=function(S){var I=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,I)},d.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var E=d.toDate;d.toDate=function(S){return S==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var b=d.diff;d.diff=function(S,I,A){if(S&&this.$u===S.$u)return b.call(this,S,I,A);var P=this.local(),F=l(S).local();return b.call(P,F,I,A)}}})}(Tf)),Tf.exports}m5();function Ci(n){return n.children}var Fn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Kt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Hx=Object.keys(Kt).map(function(n){return Kt[n]});oe.oneOfType([oe.string,oe.func]);oe.any;oe.func;oe.oneOfType([oe.arrayOf(oe.oneOf(Hx)),oe.objectOf(function(n,e){var t=Hx.indexOf(e)!==-1&&typeof n[e]=="boolean";if(t)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return oe.elementType.apply(oe,[n,e].concat(i))})]);oe.oneOfType([oe.oneOf(["overlap","no-overlap"]),oe.func]);var Wx={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Xk(n,e){var t=an(n,"month");return an(t,"week",e.startOfWeek())}function Jk(n,e){var t=Kf(n,"month");return Kf(t,"week",e.startOfWeek())}function g5(n,e){for(var t=Xk(n,e),r=Jk(n,e),i=[];du(t,r,"day");)i.push(t),t=Vr(t,1,"day");return i}function v5(n,e){var t=an(n,e);return cu(t,n)?t:Vr(t,1,e)}function y5(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];du(r,e,t);)i.push(r),r=Vr(r,1,t);return i}function _5(n,e){return e==null&&n==null?null:(e==null&&(e=new Date),n==null&&(n=new Date),n=an(n,"day"),n=Kl(n,Kl(e)),n=Ko(n,Ko(e)),n=Gl(n,Gl(e)),Wl(n,Wl(e)))}function Gx(n){return Kl(n)===0&&Ko(n)===0&&Gl(n)===0&&Wl(n)===0}function w5(n,e,t,r){return t==="day"&&(t="date"),Math.abs(Ub[t](n,void 0,r)-Ub[t](e,void 0,r))}function jE(n,e,t){return!t||t==="milliseconds"?Math.abs(+n-+e):Math.round(Math.abs(+an(n,t)/Wx[t]-+an(e,t)/Wx[t]))}var E5=oe.oneOfType([oe.string,oe.func]);function T5(n,e,t,r,i){var a=typeof r=="function"?r(t,i,n):e.call(n,t,r,i);return ql(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function b5(n,e,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,e+t,0,0)}function qE(n,e){return n.getTimezoneOffset()-e.getTimezoneOffset()}function S5(n,e){return jE(n,e,"minutes")+qE(n,e)}function I5(n){var e=an(n,"day");return jE(e,n,"minutes")+qE(e,n)}function R5(n,e){return uE(n,e,"day")}function x5(n,e,t){var r=cu(n,e,"minutes");return r?mc(e,t,"minutes"):Ih(e,t,"minutes")}function rw(n,e){return w5(n,e,"day")}function C5(n){var e=n.evtA,t=e.start,r=e.end,i=e.allDay,a=n.evtB,u=a.start,l=a.end,d=a.allDay,p=+an(t,"day")-+an(u,"day"),m=rw(t,r),v=rw(u,l);return p||v-m||!!d-!!i||+t-+u||+r-+l}function A5(n){var e=n.event,t=e.start,r=e.end,i=n.range,a=i.start,u=i.end,l=an(t,"day"),d=du(l,u,"day"),p=oE(l,r,"minutes"),m=p?Ih(r,a,"minutes"):mc(r,a,"minutes");return d&&m}function P5(n,e){return cu(n,e,"day")}function k5(n,e){return Gx(n)&&Gx(e)}var D5=$t(function n(e){var t=this;Ut(this,n),ql(typeof e.format=="function","date localizer `format(..)` must be a function"),ql(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||E5,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return T5.apply(void 0,[t,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||_5,this.inRange=e.inRange||ak,this.lt=e.lt||uE,this.lte=e.lte||du,this.gt=e.gt||Ih,this.gte=e.gte||mc,this.eq=e.eq||cu,this.neq=e.neq||oE,this.startOf=e.startOf||an,this.endOf=e.endOf||Kf,this.add=e.add||Vr,this.range=e.range||y5,this.diff=e.diff||jE,this.ceil=e.ceil||v5,this.min=e.min||ik,this.max=e.max||sk,this.minutes=e.minutes||Ko,this.daySpan=e.daySpan||rw,this.firstVisibleDay=e.firstVisibleDay||Xk,this.lastVisibleDay=e.lastVisibleDay||Jk,this.visibleDays=e.visibleDays||g5,this.getSlotDate=e.getSlotDate||b5,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||qE,this.getTotalMin=e.getTotalMin||S5,this.getMinutesFromMidnight=e.getMinutesFromMidnight||I5,this.continuesPrior=e.continuesPrior||R5,this.continuesAfter=e.continuesAfter||x5,this.sortEvents=e.sortEvents||C5,this.inEventRange=e.inEventRange||A5,this.isSameDate=e.isSameDate||P5,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||k5,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function O5(n,e,t,r){var i=et(et({},n.formats),t);return et(et({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(e)},format:function(u,l){return n.format(u,i[l]||l,e)}})}var N5=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.navigate=function(u){t.props.onNavigate(u)},t.view=function(u){t.props.onView(u)},t}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,a=r.label;return G.createElement("div",{className:"rbc-toolbar"},G.createElement("span",{className:"rbc-btn-group"},G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.TODAY)},i.today),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.PREVIOUS)},i.previous),G.createElement("button",{type:"button",onClick:this.navigate.bind(null,Fn.NEXT)},i.next)),G.createElement("span",{className:"rbc-toolbar-label"},a),G.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,a=this.props.views,u=this.props.view;if(a.length>1)return a.map(function(l){return G.createElement("button",{type:"button",key:l,className:wt({"rbc-active":u===l}),onClick:i.view.bind(null,l)},r[l])})}}])}(G.Component);function at(n,e){n&&n.apply(null,[].concat(e))}var M5={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function L5(n){return et(et({},M5),n)}function V5(n){var e=n.ref,t=n.callback;$.useEffect(function(){var r=function(a){e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,t])}var F5=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Zk=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,u=r.event,l=r.selected,d=r.isAllDay,p=r.onSelect,m=r.onDoubleClick,v=r.onKeyPress,y=r.localizer,E=r.continuesPrior,b=r.continuesAfter,S=r.accessors,I=r.getters,A=r.children,P=r.components,F=P.event,V=P.eventWrapper,H=r.slotStart,z=r.slotEnd,k=oi(r,F5);delete k.resizable;var R=S.title(u),C=S.tooltip(u),N=S.end(u),M=S.start(u),q=S.allDay(u),D=d||q||y.diff(M,y.ceil(N,"day"),"day")>1,ce=I.eventProp(u,M,N,l),be=G.createElement("div",{className:"rbc-event-content",title:C||void 0},F?G.createElement(F,{event:u,continuesPrior:E,continuesAfter:b,title:R,isAllDay:q,localizer:y,slotStart:H,slotEnd:z}):R);return G.createElement(V,Object.assign({},this.props,{type:"date"}),G.createElement("div",Object.assign({},k,{style:et(et({},ce.style),i),className:wt("rbc-event",a,ce.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":E,"rbc-event-continues-after":b}),onClick:function(_e){return p&&p(u,_e)},onDoubleClick:function(_e){return m&&m(u,_e)},onKeyDown:function(_e){return v&&v(u,_e)}}),typeof A=="function"?A(be):be))}}])}(G.Component);function Uh(n,e){return!n||e==null?!1:R9(n,e)}function eD(n,e){var t=n.right-n.left,r=t/e;return r}function tD(n,e,t,r){var i=eD(n,r);return t?r-1-Math.floor((e-n.left)/i):Math.floor((e-n.left)/i)}function j5(n,e){var t=e.x,r=e.y;return r>=n.top&&r<=n.bottom&&t>=n.left&&t<=n.right}function q5(n,e,t,r,i){var a=-1,u=-1,l=r-1,d=eD(e,r),p=tD(e,t.x,i,r),m=e.top<t.y&&e.bottom>t.y,v=e.top<n.y&&e.bottom>n.y,y=n.y>e.bottom,E=e.top>n.y,b=t.top<e.top&&t.bottom>e.bottom;return b&&(a=0,u=l),m&&(E?(a=0,u=p):y&&(a=p,u=l)),v&&(a=u=i?l-Math.floor((n.x-e.left)/d):Math.floor((n.x-e.left)/d),m?p<a?a=p:u=p:n.y<t.y?u=l:a=0),{startIdx:a,endIdx:u}}function U5(n){var e=n.target,t=n.offset,r=n.container,i=n.box,a=_a(e),u=a.top,l=a.left,d=a.width,p=a.height,m=_a(r),v=m.top,y=m.left,E=m.width,b=m.height,S=_a(i),I=S.width,A=S.height,P=v+b,F=y+E,V=u+A,H=l+I,z=t.x,k=t.y,R=V>P?u-A-k:u+k+p,C=H>F?l+z-I+d:l+z;return{topOffset:R,leftOffset:C}}function $5(n){var e=n.containerRef,t=n.accessors,r=n.getters,i=n.selected,a=n.components,u=n.localizer,l=n.position,d=n.show,p=n.events,m=n.slotStart,v=n.slotEnd,y=n.onSelect,E=n.onDoubleClick,b=n.onKeyPress,S=n.handleDragStart,I=n.popperRef,A=n.target,P=n.offset;V5({ref:I,callback:d}),$.useLayoutEffect(function(){var H=U5({target:A,offset:P,container:e.current,box:I.current}),z=H.topOffset,k=H.leftOffset;I.current.style.top="".concat(z,"px"),I.current.style.left="".concat(k,"px")},[P.x,P.y,A]);var F=l.width,V={minWidth:F+F/2};return G.createElement("div",{style:V,className:"rbc-overlay",ref:I},G.createElement("div",{className:"rbc-overlay-header"},u.format(m,"dayHeaderFormat")),p.map(function(H,z){return G.createElement(Zk,{key:z,type:"popup",localizer:u,event:H,getters:r,onSelect:y,accessors:t,components:a,onDoubleClick:E,onKeyPress:b,continuesPrior:u.lt(t.end(H),m,"day"),continuesAfter:u.gte(t.start(H),v,"day"),slotStart:m,slotEnd:v,selected:Uh(H,i),draggable:!0,onDragStart:function(){return S(H)},onDragEnd:function(){return d()}})}))}var nD=G.forwardRef(function(n,e){return G.createElement($5,Object.assign({},n,{popperRef:e}))});nD.propTypes={accessors:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,components:oe.object.isRequired,localizer:oe.object.isRequired,position:oe.object.isRequired,show:oe.func.isRequired,events:oe.array.isRequired,slotStart:oe.instanceOf(Date).isRequired,slotEnd:oe.instanceOf(Date),onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func,handleDragStart:oe.func,style:oe.object,offset:oe.shape({x:oe.number,y:oe.number})};function z5(n){var e=n.containerRef,t=n.popupOffset,r=t===void 0?5:t,i=n.overlay,a=n.accessors,u=n.localizer,l=n.components,d=n.getters,p=n.selected,m=n.handleSelectEvent,v=n.handleDoubleClickEvent,y=n.handleKeyPressEvent,E=n.handleDragStart,b=n.onHide,S=n.overlayDisplay,I=$.useRef(null);if(!i.position)return null;var A=r;isNaN(r)||(A={x:r,y:r});var P=i.position,F=i.events,V=i.date,H=i.end;return G.createElement(bE,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:b,target:i.target},function(z){var k=z.props;return G.createElement(nD,Object.assign({},k,{containerRef:e,ref:I,target:i.target,offset:A,accessors:a,getters:d,selected:p,components:l,localizer:u,position:P,show:S,events:F,slotStart:V,slotEnd:H,onSelect:m,onDoubleClick:v,onKeyPress:y,handleDragStart:E}))})}var UE=G.forwardRef(function(n,e){return G.createElement(z5,Object.assign({},n,{containerRef:e}))});UE.propTypes={popupOffset:oe.oneOfType([oe.number,oe.shape({x:oe.number,y:oe.number})]),overlay:oe.shape({position:oe.object,events:oe.array,date:oe.instanceOf(Date),end:oe.instanceOf(Date)}),accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,handleSelectEvent:oe.func,handleDoubleClickEvent:oe.func,handleKeyPressEvent:oe.func,handleDragStart:oe.func,onHide:oe.func,overlayDisplay:oe.func};function fn(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return yl(t,n,e,{passive:!1})}function B5(n,e,t){return!n||Yl(n,document.elementFromPoint(e,t))}function H5(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Lk(i,".rbc-event",n)}function W5(n,e){var t=e.clientX,r=e.clientY,i=document.elementFromPoint(t,r);return Lk(i,".rbc-show-more",n)}function Xf(n,e){return!!H5(n,e)}function G5(n,e){return!!W5(n,e)}function ul(n){var e=n;return n.touches&&n.touches.length&&(e=n.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var Kx=5,K5=250,rD=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.global,i=r===void 0?!1:r,a=t.longPressThreshold,u=a===void 0?250:a,l=t.validContainers,d=l===void 0?[]:l;Ut(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=u,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=fn("touchmove",function(){},window),this._removeKeyDownListener=fn("keydown",this._keyListener),this._removeKeyUpListener=fn("keyup",this._keyListener),this._removeDropFromOutsideListener=fn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=fn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return $t(n,[{key:"on",value:function(t,r){var i=this._listeners[t]||(this._listeners[t]=[]);return i.push(r),{remove:function(){var u=i.indexOf(r);u!==-1&&i.splice(u,1)}}}},{key:"emit",value:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u,l=this._listeners[t]||[];return l.forEach(function(d){u===void 0&&(u=d.apply(void 0,i))}),u}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var r=this._selectRect;return!r||!this.selecting?!1:Yx(r,Oa(t))}},{key:"filter",value:function(t){var r=this._selectRect;return!r||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,r){var i=this,a=null,u=null,l=null,d=function(y){a=setTimeout(function(){m(),t(y)},i.longPressThreshold),u=fn("touchmove",function(){return m()}),l=fn("touchend",function(){return m()})},p=fn("touchstart",d),m=function(){a&&clearTimeout(a),u&&u(),l&&l(),a=null,u=null,l=null};return r&&d(r),function(){m(),p()}}},{key:"_addInitialEventListener",value:function(){var t=this,r=fn("mousedown",function(a){t._removeInitialEventListener(),t._handleInitialEvent(a),t._removeInitialEventListener=fn("mousedown",t._handleInitialEvent)}),i=fn("touchstart",function(a){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(t){var r=ul(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var r=ul(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:u,clientY:l}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var r=ul(t),i=r.clientX,a=r.clientY,u=r.pageX,l=r.pageY,d=this.container(),p,m;if(!(t.which===3||t.button===2||!B5(d,i,a))){if(!this.globalMouse&&d&&!Yl(d,t.target)){var v=Y5(0),y=v.top,E=v.left,b=v.bottom,S=v.right;if(m=Oa(d),p=Yx({top:m.top-y,left:m.left-E,bottom:m.bottom+b,right:m.right+S},{top:l,left:u}),!p)return}var I=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:u,y:l,clientX:i,clientY:a});if(I!==!1)switch(t.type){case"mousedown":this._removeEndListener=fn("mouseup",this._handleTerminatingEvent),this._onEscListener=fn("keydown",this._handleTerminatingEvent),this._removeMoveListener=fn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=fn("touchend",this._handleTerminatingEvent),this._removeMoveListener=fn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var r=t.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(t){var r=this.selecting,i=this._selectRect;if(!r&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var a=!this.container||Yl(this.container(),t.target),u=this._isWithinValidContainer(t);return t.key==="Escape"||!u?this.emit("reset"):!r&&a?this._handleClickEvent(t):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var r=ul(t),i=r.pageX,a=r.pageY,u=r.clientX,l=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<K5?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:u,clientY:l})):(this._lastClickData={timestamp:d},this.emit("click",{x:i,y:a,clientX:u,clientY:l}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,u=ul(t),l=u.pageX,d=u.pageY,p=Math.abs(i-l),m=Math.abs(a-d),v=Math.min(l,i),y=Math.min(d,a),E=this.selecting,b=this.isClick(l,d);b&&!E&&!(p||m)||(!E&&!b&&this.emit("selectStart",this._initialEventData),b||(this.selecting=!0,this._selectRect={top:y,left:v,x:l,y:d,right:v+p,bottom:y+m},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,r){var i=this._initialEventData,a=i.x,u=i.y,l=i.isTouch;return!l&&Math.abs(t-a)<=Kx&&Math.abs(r-u)<=Kx}}])}();function Y5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return qi(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function Yx(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Oa(n),i=r.top,a=r.left,u=r.right,l=u===void 0?a:u,d=r.bottom,p=d===void 0?i:d,m=Oa(e),v=m.top,y=m.left,E=m.right,b=E===void 0?y:E,S=m.bottom,I=S===void 0?v:S;return!(p-t<v||i+t>I||l-t<y||a+t>b)}function Oa(n){if(!n.getBoundingClientRect)return n;var e=n.getBoundingClientRect(),t=e.left+Qx("left"),r=e.top+Qx("top");return{top:r,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+r}}function Qx(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var Q5=function(n){function e(t,r){var i;return Ut(this,e),i=gn(this,e,[t,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,a=r.getNow,u=r.getters,l=r.date,d=r.components.dateCellWrapper,p=r.localizer,m=this.state,v=m.selecting,y=m.startIdx,E=m.endIdx,b=a();return G.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(S,I){var A=v&&I>=y&&I<=E,P=u.dayProp(S),F=P.className,V=P.style;return G.createElement(d,{key:I,value:S,range:i},G.createElement("div",{style:V,className:wt("rbc-day-bg",F,A&&"rbc-selected-cell",p.isSameDate(S,b)&&"rbc-today",l&&p.neq(l,S,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,a=this._selector=new rD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),u=function(d,p){if(!Xf(i,d)&&!G5(i,d)){var m=Oa(i),v=r.props,y=v.range,E=v.rtl;if(j5(m,d)){var b=tD(m,d.x,E,y.length);r._selectSlot({startIdx:b,endIdx:b,action:p,box:d})}}r._initial={},r.setState({selecting:!1})};a.on("selecting",function(l){var d=r.props,p=d.range,m=d.rtl,v=-1,y=-1;if(r.state.selecting||(at(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),a.isSelected(i)){var E=Oa(i),b=q5(r._initial,E,l,p.length,m);v=b.startIdx,y=b.endIdx}r.setState({selecting:!0,startIdx:v,endIdx:y})}),a.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!Xf(r.containerRef.current,l)}),a.on("click",function(l){return u(l,"click")}),a.on("doubleClick",function(l){return u(l,"doubleClick")}),a.on("select",function(l){r._selectSlot(et(et({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),at(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,a=r.startIdx,u=r.action,l=r.bounds,d=r.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:u,bounds:l,box:d,resourceId:this.props.resourceId})}}])}(G.Component),Jr={propTypes:{slotMetrics:oe.object.isRequired,selected:oe.object,isAllDay:oe.bool,accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var r=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,u=e.onSelect,l=e.onDoubleClick,d=e.onKeyPress,p=e.localizer,m=e.slotMetrics,v=e.components,y=e.resizable,E=m.continuesPrior(t),b=m.continuesAfter(t);return G.createElement(Zk,{event:t,getters:a,localizer:p,accessors:i,components:v,onSelect:u,onDoubleClick:l,onKeyPress:d,continuesPrior:E,continuesAfter:b,slotStart:m.first,slotEnd:m.last,selected:Uh(t,r),resizable:y})},renderSpan:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(t)/e*100+"%";return G.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},iD=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,u=i.slotMetrics.slots,l=i.className,d=1;return G.createElement("div",{className:wt(l,"rbc-row")},a.reduce(function(p,m,v){var y=m.event,E=m.left,b=m.right,S=m.span,I="_lvl_"+v,A=E-d,P=Jr.renderEvent(r.props,y);return A&&p.push(Jr.renderSpan(u,A,"".concat(I,"_gap"))),p.push(Jr.renderSpan(u,S,I,P)),d=b+1,p},[]))}}])}(G.Component);iD.defaultProps=et({},Jr.defaultProps);function sD(n){var e=n.dateRange,t=n.unit,r=t===void 0?"day":t,i=n.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function X5(n,e,t,r){var i=sD({dateRange:e,localizer:r}),a=i.first,u=i.last,l=r.diff(a,u,"day"),d=r.max(r.startOf(t.start(n),"day"),a),p=r.min(r.ceil(t.end(n),"day"),u),m=W9(e,function(y){return r.isSameDate(y,d)}),v=r.diff(d,p,"day");return v=Math.min(v,l),v=Math.max(v-r.segmentOffset,1),{event:n,span:v,left:m+1,right:Math.max(m+v,1)}}function aD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,r,i,a=[],u=[];for(t=0;t<n.length;t++){for(i=n[t],r=0;r<a.length&&J5(i,a[r]);r++);r>=e?u.push(i):(a[r]||(a[r]=[])).push(i)}for(t=0;t<a.length;t++)a[t].sort(function(l,d){return l.left-d.left});return{levels:a,extra:u}}function Jl(n,e,t,r,i){var a={start:r.start(n),end:r.end(n)},u={start:e,end:t};return i.inEventRange({event:a,range:u})}function J5(n,e){return e.some(function(t){return t.left<=n.right&&t.right>=n.left})}function Z5(n,e,t){var r=pf(n),i=[],a=[];r.forEach(function(d){var p=e.start(d),m=e.end(d);t.daySpan(p,m)>1?i.push(d):a.push(d)});var u=i.sort(function(d,p){return iw(d,p,e,t)}),l=a.sort(function(d,p){return iw(d,p,e,t)});return[].concat(pf(u),pf(l))}function iw(n,e,t,r){var i={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},a={start:t.start(e),end:t.end(e),allDay:t.allDay(e)};return r.sortEvents({evtA:i,evtB:a})}var oD=function(e,t){return e.left<=t&&e.right>=t},Xx=function(e,t){return e.filter(function(r){return oD(r,t)}).map(function(r){return r.event})},uD=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,a=r.slotMetrics.slots,u=aD(i).levels[0],l=1,d=1,p=[];l<=a;){var m="_lvl_"+l,v=u.filter(function(P){return oD(P,l)})[0]||{},y=v.event,E=v.left,b=v.right,S=v.span;if(!y){l++;continue}var I=Math.max(0,E-d);if(this.canRenderSlotEvent(E,S)){var A=Jr.renderEvent(this.props,y);I&&p.push(Jr.renderSpan(a,I,m+"_gap")),p.push(Jr.renderSpan(a,S,m,A)),d=l=b+1}else I&&p.push(Jr.renderSpan(a,I,m+"_gap")),p.push(Jr.renderSpan(a,1,m,this.renderShowMore(i,l))),d=l=l+1}return G.createElement("div",{className:"rbc-row"},p)}},{key:"canRenderSlotEvent",value:function(r,i){var a=this.props.segments;return X9(r,r+i).every(function(u){var l=Xx(a,u).length;return l===1})}},{key:"renderShowMore",value:function(r,i){var a=this,u=this.props,l=u.localizer,d=u.slotMetrics,p=u.components,m=d.getEventsForSlot(i),v=Xx(r,i),y=v.length;if(p!=null&&p.showMore){var E=p.showMore,b=d.getDateForSlot(i-1);return y?G.createElement(E,{localizer:l,slotDate:b,slot:i,count:y,events:m,remainingEvents:v}):!1}return y?G.createElement("button",{type:"button",key:"sm_"+i,className:wt("rbc-button-link","rbc-show-more"),onClick:function(I){return a.showMore(i,I)}},l.messages.showMore(y,v,m)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(G.Component);uD.defaultProps=et({},Jr.defaultProps);var ez=function(e){var t=e.children;return G.createElement("div",{className:"rbc-row-content-scroll-container"},t)},tz=function(e,t){return e.left<=t&&e.right>=t},nz=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function lD(){return jk(function(n){for(var e=n.range,t=n.events,r=n.maxRows,i=n.minRows,a=n.accessors,u=n.localizer,l=sD({dateRange:e,localizer:u}),d=l.first,p=l.last,m=t.map(function(S){return X5(S,e,a,u)}),v=aD(m,Math.max(r-1,1)),y=v.levels,E=v.extra,b=E.length>0?i-1:i;y.length<b;)y.push([]);return{first:d,last:p,levels:y,extra:E,range:e,slots:e.length,clone:function(I){var A=lD();return A(et(et({},n),I))},getDateForSlot:function(I){return e[I]},getSlotForDate:function(I){return e.find(function(A){return u.isSameDate(A,I)})},getEventsForSlot:function(I){return m.filter(function(A){return tz(A,I)}).map(function(A){return A.event})},continuesPrior:function(I){return u.continuesPrior(a.start(I),d)},continuesAfter:function(I){var A=a.start(I),P=a.end(I);return u.continuesAfter(A,P,p)}}},nz)}var Zl=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleSelectSlot=function(u){var l=t.props,d=l.range,p=l.onSelectSlot;p(d.slice(u.start,u.end+1),u)},t.handleShowMore=function(u,l){var d=t.props,p=d.range,m=d.onShowMore,v=t.slotMetrics(t.props),y=nq(t.containerRef.current,".rbc-row-bg")[0],E;y&&(E=y.children[u-1]);var b=v.getEventsForSlot(u);m(b,p[u-1],E,u,l)},t.getContainer=function(){var u=t.props.container;return u?u():t.containerRef.current},t.renderHeadingCell=function(u,l){var d=t.props,p=d.renderHeader,m=d.getNow,v=d.localizer;return p({date:u,key:"header_".concat(l),className:wt("rbc-date-cell",v.isSameDate(u,m())&&"rbc-now")})},t.renderDummy=function(){var u=t.props,l=u.className,d=u.range,p=u.renderHeader,m=u.showAllEvents;return G.createElement("div",{className:l,ref:t.containerRef},G.createElement("div",{className:wt("rbc-row-content",m&&"rbc-row-content-scrollable")},p&&G.createElement("div",{className:"rbc-row",ref:t.headingRowRef},d.map(t.renderHeadingCell)),G.createElement("div",{className:"rbc-row",ref:t.eventRowRef},G.createElement("div",{className:"rbc-row-segment"},G.createElement("div",{className:"rbc-event"},G.createElement("div",{className:"rbc-event-content"},""))))))},t.containerRef=$.createRef(),t.headingRowRef=$.createRef(),t.eventRowRef=$.createRef(),t.slotMetrics=lD(),t}return vn(e,n),$t(e,[{key:"getRowLimit",value:function(){var r,i=Mv(this.eventRowRef.current),a=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Mv(this.headingRowRef.current):0,u=Mv(this.containerRef.current)-a;return Math.max(Math.floor(u/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.rtl,u=r.range,l=r.className,d=r.selected,p=r.selectable,m=r.renderForMeasure,v=r.accessors,y=r.getters,E=r.components,b=r.getNow,S=r.renderHeader,I=r.onSelect,A=r.localizer,P=r.onSelectStart,F=r.onSelectEnd,V=r.onDoubleClick,H=r.onKeyPress,z=r.resourceId,k=r.longPressThreshold,R=r.isAllDay,C=r.resizable,N=r.showAllEvents;if(m)return this.renderDummy();var M=this.slotMetrics(this.props),q=M.levels,D=M.extra,ce=N?ez:Ci,be=E.weekWrapper,Ee={selected:d,accessors:v,getters:y,localizer:A,components:E,onSelect:I,onDoubleClick:V,onKeyPress:H,resourceId:z,slotMetrics:M,resizable:C};return G.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},G.createElement(Q5,{localizer:A,date:i,getNow:b,rtl:a,range:u,selectable:p,container:this.getContainer,getters:y,onSelectStart:P,onSelectEnd:F,onSelectSlot:this.handleSelectSlot,components:E,longPressThreshold:k,resourceId:z}),G.createElement("div",{className:wt("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},S&&G.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},u.map(this.renderHeadingCell)),G.createElement(ce,null,G.createElement(be,Object.assign({isAllDay:R},Ee,{rtl:this.props.rtl}),q.map(function(_e,ne){return G.createElement(iD,Object.assign({key:ne,segments:_e},Ee))}),!!D.length&&G.createElement(uD,Object.assign({segments:D,onShowMore:this.handleShowMore},Ee))))))}}])}(G.Component);Zl.defaultProps={minRows:0,maxRows:1/0};var $E=function(e){var t=e.label;return G.createElement("span",{role:"columnheader","aria-sort":"none"},t)},rz=function(e){var t=e.label,r=e.drilldownView,i=e.onDrillDown;return r?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},t):G.createElement("span",null,t)},iz=["date","className"],sz=function(e,t,r,i,a){return e.filter(function(u){return Jl(u,t,r,i,a)})},$h=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(u,l){var d=t.props,p=d.events,m=d.components,v=d.selectable,y=d.getNow,E=d.selected,b=d.date,S=d.localizer,I=d.longPressThreshold,A=d.accessors,P=d.getters,F=d.showAllEvents,V=t.state,H=V.needLimitMeasure,z=V.rowLimit,k=sz(pf(p),u[0],u[u.length-1],A,S),R=Z5(k,A,S);return G.createElement(Zl,{key:l,ref:l===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:y,date:b,range:u,events:R,maxRows:F?1/0:z,selected:E,selectable:v,components:m,accessors:A,getters:P,localizer:S,renderHeader:t.readerDateHeading,renderForMeasure:H,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:I,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:F})},t.readerDateHeading=function(u){var l=u.date,d=u.className,p=oi(u,iz),m=t.props,v=m.date,y=m.getDrilldownView,E=m.localizer,b=E.neq(l,v,"month"),S=E.isSameDate(l,v),I=y(l),A=E.format(l,"dateFormat"),P=t.props.components.dateHeader||rz;return G.createElement("div",Object.assign({},p,{className:wt(d,b&&"rbc-off-range",S&&"rbc-current"),role:"cell"}),G.createElement(P,{label:A,date:l,drilldownView:I,isOffRange:b,onDrillDown:function(V){return t.handleHeadingClick(l,I,V)}}))},t.handleSelectSlot=function(u,l){t._pendingSelection=t._pendingSelection.concat(u),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(l)})},t.handleHeadingClick=function(u,l,d){d.preventDefault(),t.clearSelection(),at(t.props.onDrillDown,[u,l])},t.handleSelectEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){t.clearSelection();for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleShowMore=function(u,l,d,p,m){var v=t.props,y=v.popup,E=v.onDrillDown,b=v.onShowMore,S=v.getDrilldownView,I=v.doShowMoreDrillDown;if(t.clearSelection(),y){var A=yk(d,t.containerRef.current);t.setState({overlay:{date:l,events:u,position:A,target:m}})}else I&&at(E,[l,S(l)||Kt.DAY]);at(b,[u,l,p])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=$.createRef(),t.slotRowRef=$.createRef(),t._bgRows=[],t._pendingSelection=[],t}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||_k(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.className,l=a.visibleDays(i,a),d=q6(l,7);return this._weekCount=d.length,G.createElement("div",{className:wt("rbc-month-view",u),role:"table","aria-label":"Month View",ref:this.containerRef},G.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,a=i.localizer,u=i.components,l=r[0],d=r[r.length-1],p=u.header||$E;return a.range(l,d,"day").map(function(m,v){return G.createElement("div",{key:"header_"+v,className:"rbc-header"},G.createElement(p,{date:m,localizer:a,label:a.format(m,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,y=l.selected,E=l.popupOffset,b=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(UE,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(l,d){return+l-+d});var a=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),at(this.props.onSelectSlot,{slots:i,start:a,end:u,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var a=r.date,u=r.localizer;return{date:a,needLimitMeasure:u.neq(a,i.date,"month")}}}])}(G.Component);$h.range=function(n,e){var t=e.localizer,r=t.firstVisibleDay(n,t),i=t.lastVisibleDay(n,t);return{start:r,end:i}};$h.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"month");case Fn.NEXT:return r.add(n,1,"month");default:return n}};$h.title=function(n,e){var t=e.localizer;return t.format(n,"monthHeaderFormat")};var Jx=function(e){var t=e.min,r=e.max,i=e.step,a=e.slots,u=e.localizer;return"".concat(+u.startOf(t,"minutes"))+"".concat(+u.startOf(r,"minutes"))+"".concat(i,"-").concat(a)};function zE(n){for(var e=n.min,t=n.max,r=n.step,i=n.timeslots,a=n.localizer,u=Jx({start:e,end:t,step:r,timeslots:i,localizer:a}),l=1+a.getTotalMin(e,t),d=a.getMinutesFromMidnight(e),p=Math.ceil((l-1)/(r*i)),m=p*i,v=new Array(p),y=new Array(m),E=0;E<p;E++){v[E]=new Array(i);for(var b=0;b<i;b++){var S=E*i+b,I=S*r;y[S]=v[E][b]=a.getSlotDate(e,d,I)}}var A=y.length*r;y.push(a.getSlotDate(e,d,A));function P(F){var V=a.diff(e,F,"minutes")+a.getDstOffset(e,F);return Math.min(V,l)}return{groups:v,update:function(V){return Jx(V)!==u?zE(V):this},dateIsInGroup:function(V,H){var z=v[H+1];return a.inRange(V,v[H][0],z?z[0]:t,"minutes")},nextSlot:function(V){var H=y[Math.min(y.findIndex(function(z){return z===V||a.eq(z,V)})+1,y.length-1)];return a.eq(H,V)&&(H=a.add(V,r,"minutes")),H},closestSlotToPosition:function(V){var H=Math.min(y.length-1,Math.max(0,Math.floor(V*m)));return y[H]},closestSlotFromPoint:function(V,H){var z=Math.abs(H.top-H.bottom);return this.closestSlotToPosition((V.y-H.top)/z)},closestSlotFromDate:function(V){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(V,e,"minutes"))return y[0];if(a.gt(V,t,"minutes"))return y[y.length-1];var z=a.diff(e,V,"minutes");return y[(z-z%r)/r+H]},startsBeforeDay:function(V){return a.lt(V,e,"day")},startsAfterDay:function(V){return a.gt(V,t,"day")},startsBefore:function(V){return a.lt(a.merge(e,V),e,"minutes")},startsAfter:function(V){return a.gt(a.merge(t,V),t,"minutes")},getRange:function(V,H,z,k){z||(V=a.min(t,a.max(e,V))),k||(H=a.min(t,a.max(e,H)));var R=P(V),C=P(H),N=C>r*m&&!a.eq(t,H)?(R-r)/(r*m)*100:R/(r*m)*100;return{top:N,height:C/(r*m)*100-N,start:P(V),startDate:V,end:P(H),endDate:H}},getCurrentTimePosition:function(V){var H=P(V),z=H/(r*m)*100;return z}}}var az=function(){function n(e,t){var r=t.accessors,i=t.slotMetrics;Ut(this,n);var a=i.getRange(r.start(e),r.end(e)),u=a.start,l=a.startDate,d=a.end,p=a.endDate,m=a.top,v=a.height;this.start=u,this.end=d,this.startMs=+l,this.endMs=+p,this.top=m,this.height=v,this.data=e}return $t(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:t;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?t:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,r=t.leaves,i=t.xOffset,a=t._width,u=r.indexOf(this)+1;return i+u*a}}])}();function oz(n,e,t){return Math.abs(e.start-n.start)<t||e.start>n.start&&e.start<n.end}function uz(n){for(var e=g$(n,["startMs",function(l){return-l.endMs}]),t=[];e.length>0;){var r=e.shift();t.push(r);for(var i=0;i<e.length;i++){var a=e[i];if(!(r.endMs>a.startMs)){if(i>0){var u=e.splice(i,1)[0];t.push(u)}break}}}return t}function cD(n){for(var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=e.map(function(m){return new az(m,{slotMetrics:r,accessors:i})}),u=uz(a),l=[],d=function(){var v=u[p],y=l.find(function(S){return S.end>v.start||Math.abs(v.start-S.start)<t});if(!y)return v.rows=[],l.push(v),1;v.container=y;for(var E=null,b=y.rows.length-1;!E&&b>=0;b--)oz(y.rows[b],v,t)&&(E=y.rows[b]);E?(E.leaves.push(v),v.row=E):(v.leaves=[],y.rows.push(v))},p=0;p<u.length;p++)d();return u.map(function(m){return{event:m.data,style:{top:m.top,height:m.height,width:m.width,xOffset:Math.max(0,m.xOffset)}}})}function dD(n,e,t){for(var r=0;r<n.friends.length;++r)if(!(t.indexOf(n.friends[r])>-1)){e=e>n.friends[r].idx?e:n.friends[r].idx,t.push(n.friends[r]);var i=dD(n.friends[r],e,t);e=e>i?e:i}return e}function lz(n){var e=n.events,t=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,a=cD({events:e,minimumStartDifference:t,slotMetrics:r,accessors:i});a.sort(function(be,Ee){return be=be.style,Ee=Ee.style,be.top!==Ee.top?be.top>Ee.top?1:-1:be.height!==Ee.height?be.top+be.height<Ee.top+Ee.height?1:-1:0});for(var u=0;u<a.length;++u)a[u].friends=[],delete a[u].style.left,delete a[u].style.left,delete a[u].idx,delete a[u].size;for(var l=0;l<a.length-1;++l)for(var d=a[l],p=d.style.top,m=d.style.top+d.style.height,v=l+1;v<a.length;++v){var y=a[v],E=y.style.top,b=y.style.top+y.style.height;(E>=p&&b<=m||b>p&&b<=m||E>=p&&E<m)&&(d.friends.push(y),y.friends.push(d))}for(var S=0;S<a.length;++S){for(var I=a[S],A=[],P=0;P<100;++P)A.push(1);for(var F=0;F<I.friends.length;++F)I.friends[F].idx!==void 0&&(A[I.friends[F].idx]=0);I.idx=A.indexOf(1)}for(var V=0;V<a.length;++V){var H=0;if(!a[V].size){var z=[],k=dD(a[V],0,z);H=100/(k+1),a[V].size=H;for(var R=0;R<z.length;++R)z[R].size=H}}for(var C=0;C<a.length;++C){var N=a[C];N.style.left=N.idx*N.size;for(var M=0,q=0;q<N.friends.length;++q){var D=N.friends[q].idx;M=M>D?M:D}M<=N.idx&&(N.size=100-N.idx*N.size);var ce=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(ce,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(ce,"px)")}return a}var Zx={overlap:cD,"no-overlap":lz};function cz(n){return!!(n&&n.constructor&&n.call&&n.apply)}function dz(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var e=n.dayLayoutAlgorithm,t=e;return e in Zx&&(t=Zx[e]),cz(t)?t.apply(this,arguments):[]}var fD=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,a=r.resource,u=r.group,l=r.getters,d=r.components,p=d===void 0?{}:d,m=p.timeSlotWrapper,v=m===void 0?Ci:m,y=l?l.slotGroupProp(u):{};return G.createElement("div",Object.assign({className:"rbc-timeslot-group"},y),u.map(function(E,b){var S=l?l.slotProp(E,a):{};return G.createElement(v,{key:b,value:E,resource:a},G.createElement("div",Object.assign({},S,{className:wt("rbc-time-slot",S.className)}),i&&i(E,b)))}))}}])}($.Component);function Zd(n){return typeof n=="string"?n:n+"%"}function fz(n){var e=n.style,t=n.className,r=n.event,i=n.accessors,a=n.rtl,u=n.selected,l=n.label,d=n.continuesPrior,p=n.continuesAfter,m=n.getters,v=n.onClick,y=n.onDoubleClick,E=n.isBackgroundEvent,b=n.onKeyPress,S=n.components,I=S.event,A=S.eventWrapper,P=i.title(r),F=i.tooltip(r),V=i.end(r),H=i.start(r),z=m.eventProp(r,H,V,u),k=[G.createElement("div",{key:"1",className:"rbc-event-label"},l),G.createElement("div",{key:"2",className:"rbc-event-content"},I?G.createElement(I,{event:r,title:P}):P)],R=e.height,C=e.top,N=e.width,M=e.xOffset,q=et(et({},z.style),{},ma({top:Zd(C),height:Zd(R),width:Zd(N)},a?"right":"left",Zd(M)));return G.createElement(A,Object.assign({type:"time"},n),G.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:y,style:q,onKeyDown:b,title:F?(typeof l=="string"?l+": ":"")+F:void 0,className:wt(E?"rbc-background-event":"rbc-event",t,z.className,{"rbc-selected":u,"rbc-event-continues-earlier":d,"rbc-event-continues-later":p})},k))}var hz=function(e){var t=e.children,r=e.className,i=e.style,a=e.innerRef;return G.createElement("div",{className:r,style:i,ref:a},t)},pz=G.forwardRef(function(n,e){return G.createElement(hz,Object.assign({},n,{innerRef:e}))}),mz=["dayProp"],gz=["eventContainerWrapper"],hD=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(u){var l=u.events,d=u.isBackgroundEvent,p=t.props,m=p.rtl,v=p.selected,y=p.accessors,E=p.localizer,b=p.getters,S=p.components,I=p.step,A=p.timeslots,P=p.dayLayoutAlgorithm,F=p.resizable,V=t,H=V.slotMetrics,z=E.messages,k=dz({events:l,accessors:y,slotMetrics:H,minimumStartDifference:Math.ceil(I*A/2),dayLayoutAlgorithm:P});return k.map(function(R,C){var N,M=R.event,q=R.style,D=y.end(M),ce=y.start(M),be=(N=y.eventId(M))!==null&&N!==void 0?N:"evt_"+C,Ee="eventTimeRangeFormat",_e,ne=H.startsBeforeDay(ce),de=H.startsAfterDay(D);ne?Ee="eventTimeRangeEndFormat":de&&(Ee="eventTimeRangeStartFormat"),ne&&de?_e=z.allDay:_e=E.format({start:ce,end:D},Ee);var ue=ne||H.startsBefore(ce),W=de||H.startsAfter(D);return G.createElement(fz,{style:q,event:M,label:_e,key:be,getters:b,rtl:m,components:S,continuesPrior:ue,continuesAfter:W,accessors:y,resource:t.props.resource,selected:Uh(M,v),onClick:function(fe){return t._select(et(et(et({},M),t.props.resource&&{sourceResource:t.props.resource}),d&&{isBackgroundEvent:!0}),fe)},onDoubleClick:function(fe){return t._doubleClick(M,fe)},isBackgroundEvent:d,onKeyPress:function(fe){return t._keyPress(M,fe)},resizable:F})})},t._selectable=function(){var u=t.containerRef.current,l=t.props,d=l.longPressThreshold,p=l.localizer,m=t._selector=new rD(function(){return u},{longPressThreshold:d}),v=function(S){var I=t.props.onSelecting,A=t.state||{},P=y(S),F=P.startDate,V=P.endDate;I&&(p.eq(A.startDate,F,"minutes")&&p.eq(A.endDate,V,"minutes")||I({start:F,end:V,resourceId:t.props.resource})===!1)||(t.state.start!==P.start||t.state.end!==P.end||t.state.selecting!==P.selecting)&&t.setState(P)},y=function(S){var I=t.slotMetrics.closestSlotFromPoint(S,Oa(u));t.state.selecting||(t._initialSlot=I);var A=t._initialSlot;p.lte(A,I)?I=t.slotMetrics.nextSlot(I):p.gt(A,I)&&(A=t.slotMetrics.nextSlot(A));var P=t.slotMetrics.getRange(p.min(A,I),p.max(A,I));return et(et({},P),{},{selecting:!0,top:"".concat(P.top,"%"),height:"".concat(P.height,"%")})},E=function(S,I){if(!Xf(t.containerRef.current,S)){var A=y(S),P=A.startDate,F=A.endDate;t._selectSlot({startDate:P,endDate:F,action:I,box:S})}t.setState({selecting:!1})};m.on("selecting",v),m.on("selectStart",v),m.on("beforeSelect",function(b){if(t.props.selectable==="ignoreEvents")return!Xf(t.containerRef.current,b)}),m.on("click",function(b){return E(b,"click")}),m.on("doubleClick",function(b){return E(b,"doubleClick")}),m.on("select",function(b){t.state.selecting&&(t._selectSlot(et(et({},t.state),{},{action:"select",bounds:b})),t.setState({selecting:!1}))}),m.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(u){for(var l=u.startDate,d=u.endDate,p=u.action,m=u.bounds,v=u.box,y=l,E=[];t.props.localizer.lte(y,d);)E.push(y),y=new Date(+y+t.props.step*60*1e3);at(t.props.onSelectSlot,{slots:E,start:l,end:d,resourceId:t.props.resource,action:p,bounds:m,box:v})},t._select=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t._doubleClick=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t._keyPress=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.slotMetrics=zE(t.props),t.containerRef=$.createRef(),t}return vn(e,n),$t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var a=this.props,u=a.getNow,l=a.isNow,d=a.localizer,p=a.date,m=a.min,v=a.max,y=d.neq(r.getNow(),u(),"minutes");if(r.isNow!==l||y){if(this.clearTimeIndicatorInterval(),l){var E=!y&&d.eq(r.date,p,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(E)}}else l&&(d.neq(r.min,m,"minutes")||d.neq(r.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,a=r.max,u=r.getNow,l=u();if(l>=i&&l<=a){var d=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.max,u=r.rtl,l=r.isNow,d=r.resource,p=r.accessors,m=r.localizer,v=r.getters,y=v.dayProp,E=oi(v,mz),b=r.components,S=b.eventContainerWrapper,I=oi(b,gz);this.slotMetrics=this.slotMetrics.update(this.props);var A=this.slotMetrics,P=this.state,F=P.selecting,V=P.top,H=P.height,z=P.startDate,k=P.endDate,R={start:z,end:k},C=y(a,d),N=C.className,M=C.style,q=I.dayColumnWrapper||pz;return G.createElement(q,{ref:this.containerRef,date:i,style:M,className:wt(N,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",F&&"rbc-slot-selecting"),slotMetrics:A,resource:d},A.groups.map(function(D,ce){return G.createElement(fD,{key:ce,group:D,resource:d,getters:E,components:I})}),G.createElement(S,{localizer:m,resource:d,accessors:p,getters:E,components:I,slotMetrics:A},G.createElement("div",{className:wt("rbc-events-container",u&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),F&&G.createElement("div",{className:"rbc-slot-selection",style:{top:V,height:H}},G.createElement("span",null,m.format(R,"selectRangeFormat"))),l&&this.intervalTriggered&&G.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(G.Component);hD.defaultProps={dragThroughEvents:!0,timeslots:2};var pD=function(e){var t=e.label;return G.createElement(G.Fragment,null,t)},vz=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t.renderRow=function(u){var l=t.props,d=l.events,p=l.rtl,m=l.selectable,v=l.getNow,y=l.range,E=l.getters,b=l.localizer,S=l.accessors,I=l.components,A=l.resizable,P=S.resourceId(u),F=u?d.filter(function(V){return S.resource(V)===P}):d;return G.createElement(Zl,{isAllDay:!0,rtl:p,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:y,events:F,resourceId:P,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:I,accessors:S,getters:E,localizer:b,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:A})},t}return vn(e,n),$t(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components.header,v=m===void 0?$E:m,y=d();return r.map(function(E,b){var S=l(E),I=u.format(E,"dayFormat"),A=p(E),P=A.className,F=A.style,V=G.createElement(v,{date:E,label:I,localizer:u});return G.createElement("div",{key:b,style:F,className:wt("rbc-header",P,u.isSameDate(E,y)&&"rbc-today")},S?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(E,S,z)}},V):G.createElement("span",null,V))})}},{key:"render",value:function(){var r=this,i=this.props,a=i.width,u=i.rtl,l=i.resources,d=i.range,p=i.events,m=i.getNow,v=i.accessors,y=i.selectable,E=i.components,b=i.getters,S=i.scrollRef,I=i.localizer,A=i.isOverflowing,P=i.components,F=P.timeGutterHeader,V=P.resourceHeader,H=V===void 0?pD:V,z=i.resizable,k={};A&&(k[u?"marginLeft":"marginRight"]="".concat(TE()-1,"px"));var R=l.groupEvents(p);return G.createElement("div",{style:k,ref:S,className:wt("rbc-time-header",A&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},F&&G.createElement(F,null)),l.map(function(C,N){var M=Ra(C,2),q=M[0],D=M[1];return G.createElement("div",{className:"rbc-time-header-content",key:q||N},D&&G.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},G.createElement("div",{className:"rbc-header"},G.createElement(H,{index:N,label:v.resourceTitle(D),resource:D}))),G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),G.createElement(Zl,{isAllDay:!0,rtl:u,getNow:m,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:R.get(q)||[],resourceId:D&&q,className:"rbc-allday-cell",selectable:y,selected:r.props.selected,components:E,accessors:v,getters:b,localizer:I,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])}(G.Component),yz=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.handleHeaderClick=function(u,l,d){d.preventDefault(),at(t.props.onDrillDown,[u,l])},t}return vn(e,n),$t(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,u=a.localizer,l=a.getDrilldownView,d=a.getNow,p=a.getters.dayProp,m=a.components,v=m.header,y=v===void 0?$E:v,E=m.resourceHeader,b=E===void 0?pD:E,S=a.resources,I=a.accessors,A=a.events,P=a.rtl,F=a.selectable,V=a.components,H=a.getters,z=a.resizable,k=d(),R=S.groupEvents(A);return r.map(function(C,N){var M=l(C),q=u.format(C,"dayFormat"),D=p(C),ce=D.className,be=D.style,Ee=G.createElement(y,{date:C,label:q,localizer:u});return G.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},G.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},G.createElement("div",{style:be,className:wt("rbc-header",ce,u.isSameDate(C,k)&&"rbc-today")},M?G.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ne){return i.handleHeaderClick(C,M,ne)}},Ee):G.createElement("span",null,Ee))),G.createElement("div",{className:"rbc-row"},S.map(function(_e,ne){var de=Ra(_e,2),ue=de[0],W=de[1];return G.createElement("div",{key:"resource_".concat(ue,"_").concat(ne),className:wt("rbc-header",ce,u.isSameDate(C,k)&&"rbc-today")},G.createElement(b,{index:ne,label:I.resourceTitle(W),resource:W}))})),G.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},S.map(function(_e,ne){var de=Ra(_e,2),ue=de[0],W=de[1],Z=(R.get(ue)||[]).filter(function(fe){return u.isSameDate(fe.start,C)||u.isSameDate(fe.end,C)});return G.createElement(Zl,{key:"resource_".concat(ue,"_").concat(ne),isAllDay:!0,rtl:P,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[C],events:Z,resourceId:W&&ue,className:"rbc-allday-cell",selectable:F,selected:i.props.selected,components:V,accessors:I,getters:H,localizer:u,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,a=r.rtl,u=r.range,l=r.scrollRef,d=r.isOverflowing,p=r.components.timeGutterHeader,m={};return d&&(m[a?"marginLeft":"marginRight"]="".concat(TE()-1,"px")),G.createElement("div",{style:m,ref:l,className:wt("rbc-time-header",d&&"rbc-overflowing")},G.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},p&&G.createElement(p,null)),this.renderHeaderCells(u))}}])}(G.Component);function _z(n){var e=n.min,t=n.max,r=n.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(t)?{start:r.add(e,-1,"day"),end:r.add(t,-1,"day")}:{start:e,end:t}}var wz=function(e){var t=e.min,r=e.max,i=e.timeslots,a=e.step,u=e.localizer,l=e.getNow,d=e.resource,p=e.components,m=e.getters,v=e.gutterRef,y=p.timeGutterWrapper,E=$.useMemo(function(){return _z({min:t,max:r,localizer:u})},[t==null?void 0:t.toISOString(),r==null?void 0:r.toISOString(),u]),b=E.start,S=E.end,I=$.useState(zE({min:b,max:S,timeslots:i,step:a,localizer:u})),A=Ra(I,2),P=A[0],F=A[1];$.useEffect(function(){P&&F(P.update({min:b,max:S,timeslots:i,step:a,localizer:u}))},[b==null?void 0:b.toISOString(),S==null?void 0:S.toISOString(),i,a]);var V=$.useCallback(function(H,z){if(z)return null;var k=P.dateIsInGroup(l(),z);return G.createElement("span",{className:wt("rbc-label",k&&"rbc-now")},u.format(H,"timeGutterFormat"))},[P,u,l]);return G.createElement(y,{slotMetrics:P},G.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},P.groups.map(function(H,z){return G.createElement(fD,{key:z,group:H,resource:d,components:p,renderSlot:V,getters:m})})))},Ez=G.forwardRef(function(n,e){return G.createElement(wz,Object.assign({gutterRef:e},n))}),__={};function Tz(n,e){return{map:function(r){return n?n.map(function(i,a){return r([e.resourceId(i),i],a)}):[r([__,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(a){var u=e.resource(a)||__;if(Array.isArray(u))u.forEach(function(d){var p=i.get(d)||[];p.push(a),i.set(d,p)});else{var l=i.get(u)||[];l.push(a),i.set(u,l)}}),i):(i.set(__,r),i)}}}var mu=function(n){function e(t){var r;return Ut(this,e),r=gn(this,e,[t]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){fS(r.rafHandle),r.rafHandle=_k(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onKeyPressEvent,a)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];at(r.props.onDoubleClickEvent,a)},r.handleShowMore=function(i,a,u,l,d){var p=r.props,m=p.popup,v=p.onDrillDown,y=p.onShowMore,E=p.getDrilldownView,b=p.doShowMoreDrillDown;if(r.clearSelection(),m){var S=yk(u,r.containerRef.current);r.setState({overlay:{date:a,events:i,position:et(et({},S),{},{width:"200px"}),target:d}})}else b&&at(v,[a,E(a)||Kt.DAY]);at(y,[i,a,l])},r.handleSelectAllDaySlot=function(i,a){var u=r.props.onSelectSlot,l=new Date(i[0]),d=new Date(i[i.length-1]);d.setDate(i[i.length-1].getDate()+1),at(u,{slots:i,start:l,end:d,action:a.action,resourceId:a.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==a&&(r._updatingOverflow=!0,r.setState({isOverflowing:a},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=jk(function(i,a){return Tz(i,a)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=G.createRef(),r.contentRef=G.createRef(),r.containerRef=G.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return vn(e,n),$t(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),fS(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,a,u,l,d,p,m,v,y){var E=this.props,b=E.min,S=E.max,I=(u.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")}),A=(l.get(i)||[]).filter(function(P){return d.inRange(r,p.start(P),p.end(P),"day")});return G.createElement(hD,Object.assign({},this.props,{localizer:d,min:d.merge(r,b),max:d.merge(r,S),resource:a&&i,components:m,isNow:d.isSameDate(r,y),key:"".concat(i,"-").concat(r),date:r,events:I,backgroundEvents:A,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(r,i,a,u,l,d,p,m,v){var y=this;return i.map(function(E){var b=Ra(E,2),S=b[0],I=b[1];return r.map(function(A){return y.renderDayColumn(A,S,I,a,u,l,d,m,v,p)})})}},{key:"renderRangeFirst",value:function(r,i,a,u,l,d,p,m,v){var y=this;return r.map(function(E){return G.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:E},i.map(function(b){var S=Ra(b,2),I=S[0],A=S[1];return G.createElement("div",{style:{flex:1},key:d.resourceId(A)},y.renderDayColumn(E,I,A,a,u,l,d,m,v,p))}))})}},{key:"renderEvents",value:function(r,i,a,u){var l=this.props,d=l.accessors,p=l.localizer,m=l.resourceGroupingLayout,v=l.components,y=l.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,d),b=E.groupEvents(i),S=E.groupEvents(a);return m?this.renderRangeFirst(r,E,b,S,p,d,u,v,y):this.renderResourcesFirst(r,E,b,S,p,d,u,v,y)}},{key:"render",value:function(){var r,i=this.props,a=i.events,u=i.backgroundEvents,l=i.range,d=i.width,p=i.rtl,m=i.selected,v=i.getNow,y=i.resources,E=i.components,b=i.accessors,S=i.getters,I=i.localizer,A=i.min,P=i.max,F=i.showMultiDayTimes,V=i.longPressThreshold,H=i.resizable,z=i.resourceGroupingLayout;d=d||this.state.gutterWidth;var k=l[0],R=l[l.length-1];this.slots=l.length;var C=[],N=[],M=[];a.forEach(function(D){if(Jl(D,k,R,b,I)){var ce=b.start(D),be=b.end(D);b.allDay(D)||I.startAndEndAreDateOnly(ce,be)||!F&&!I.isSameDate(ce,be)?C.push(D):N.push(D)}}),u.forEach(function(D){Jl(D,k,R,b,I)&&M.push(D)}),C.sort(function(D,ce){return iw(D,ce,b,I)});var q={range:l,events:C,width:d,rtl:p,getNow:v,localizer:I,selected:m,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(y,b),selectable:this.props.selectable,accessors:b,getters:S,components:E,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:V,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:H};return G.createElement("div",{className:wt("rbc-time-view",y&&"rbc-time-view-resources"),ref:this.containerRef},y&&y.length>1&&z?G.createElement(yz,q):G.createElement(vz,q),this.props.popup&&this.renderOverlay(),G.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},G.createElement(Ez,{date:k,ref:this.gutterRef,localizer:I,min:I.merge(k,A),max:I.merge(k,P),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:E,className:"rbc-time-gutter",getters:S}),this.renderEvents(l,N,M,v())))}},{key:"renderOverlay",value:function(){var r,i,a=this,u=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},l=this.props,d=l.accessors,p=l.localizer,m=l.components,v=l.getters,y=l.selected,E=l.popupOffset,b=l.handleDragStart,S=function(){return a.setState({overlay:null})};return G.createElement(UE,{overlay:u,accessors:d,localizer:p,components:m,getters:v,selected:y,popupOffset:E,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:b,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:S})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=r.gutterRef)!==null&&i!==void 0&&i.current?nw(r.gutterRef.current):void 0;a&&r.state.gutterWidth!==a&&r.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,a=r.max,u=r.scrollToTime,l=r.localizer,d=l.diff(l.merge(u,i),u,"milliseconds"),p=l.diff(i,a,"milliseconds");this._scrollRatio=d/p}}])}($.Component);mu.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var bz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],zh=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,b=oi(r,bz),S=e.range(i,{localizer:a});return G.createElement(mu,Object.assign({},b,{range:S,eventOffset:10,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);zh.range=function(n,e){var t=e.localizer;return[t.startOf(n,"day")]};zh.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"day");case Fn.NEXT:return r.add(n,1,"day");default:return n}};zh.title=function(n,e){var t=e.localizer;return t.format(n,"dayHeaderFormat")};var Sz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Os=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,b=oi(r,Sz),S=e.range(i,this.props);return G.createElement(mu,Object.assign({},b,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Os.defaultProps=mu.defaultProps;Os.navigate=function(n,e,t){var r=t.localizer;switch(e){case Fn.PREVIOUS:return r.add(n,-1,"week");case Fn.NEXT:return r.add(n,1,"week");default:return n}};Os.range=function(n,e){var t=e.localizer,r=t.startOfWeek(),i=t.startOf(n,"week",r),a=t.endOf(n,"week",r);return t.range(i,a)};Os.title=function(n,e){var t=e.localizer,r=Os.range(n,{localizer:t}),i=Hk(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var Iz=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function BE(n,e){return Os.range(n,e).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var Ic=function(n){function e(){return Ut(this,e),gn(this,e,arguments)}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,u=r.min,l=u===void 0?a.startOf(new Date,"day"):u,d=r.max,p=d===void 0?a.endOf(new Date,"day"):d,m=r.scrollToTime,v=m===void 0?a.startOf(new Date,"day"):m,y=r.enableAutoScroll,E=y===void 0?!0:y,b=oi(r,Iz),S=BE(i,this.props);return G.createElement(mu,Object.assign({},b,{range:S,eventOffset:15,localizer:a,min:l,max:p,scrollToTime:v,enableAutoScroll:E}))}}])}(G.Component);Ic.defaultProps=mu.defaultProps;Ic.range=BE;Ic.navigate=Os.navigate;Ic.title=function(n,e){var t=e.localizer,r=BE(n,{localizer:t}),i=Hk(r),a=i[0],u=i.slice(1);return t.format({start:a,end:u.pop()},"dayRangeHeaderFormat")};var Bh=30;function Hh(n){var e=n.accessors,t=n.components,r=n.date,i=n.events,a=n.getters,u=n.length,l=u===void 0?Bh:u,d=n.localizer,p=n.onDoubleClickEvent,m=n.onSelectEvent,v=n.selected,y=$.useRef(null),E=$.useRef(null),b=$.useRef(null),S=$.useRef(null),I=$.useRef(null);$.useEffect(function(){F()});var A=function(R,C,N){var M=t.event,q=t.date;return C=C.filter(function(D){return Jl(D,d.startOf(R,"day"),d.endOf(R,"day"),e,d)}),C.map(function(D,ce){var be=e.title(D),Ee=e.end(D),_e=e.start(D),ne=a.eventProp(D,_e,Ee,Uh(D,v)),de=ce===0&&d.format(R,"agendaDateFormat"),ue=ce===0?G.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},q?G.createElement(q,{day:R,label:de}):de):!1;return G.createElement("tr",{key:N+"_"+ce,className:ne.className,style:ne.style},ue,G.createElement("td",{className:"rbc-agenda-time-cell"},P(R,D)),G.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return m&&m(D,Z)},onDoubleClick:function(Z){return p&&p(D,Z)}},M?G.createElement(M,{event:D,title:be}):be))},[])},P=function(R,C){var N="",M=t.time,q=d.messages.allDay,D=e.end(C),ce=e.start(C);return e.allDay(C)||(d.eq(ce,D)?q=d.format(ce,"agendaTimeFormat"):d.isSameDate(ce,D)?q=d.format({start:ce,end:D},"agendaTimeRangeFormat"):d.isSameDate(R,ce)?q=d.format(ce,"agendaTimeFormat"):d.isSameDate(R,D)&&(q=d.format(D,"agendaTimeFormat"))),d.gt(R,ce,"day")&&(N="rbc-continues-prior"),d.lt(R,D,"day")&&(N+=" rbc-continues-after"),G.createElement("span",{className:N.trim()},M?G.createElement(M,{event:C,day:R,label:q}):q)},F=function(){if(I.current){var R=y.current,C=I.current.firstChild;if(C){var N=S.current.scrollHeight>S.current.clientHeight,M=[],q=M;M=[nw(C.children[0]),nw(C.children[1])],(q[0]!==M[0]||q[1]!==M[1])&&(E.current.style.width=M[0]+"px",b.current.style.width=M[1]+"px"),N?(xU(R,"rbc-header-overflowing"),R.style.marginRight=TE()+"px"):CU(R,"rbc-header-overflowing")}}},V=d.messages,H=d.add(r,l,"day"),z=d.range(r,H,"day");return i=i.filter(function(k){return Jl(k,d.startOf(r,"day"),d.endOf(H,"day"),e,d)}),i.sort(function(k,R){return+e.start(k)-+e.start(R)}),G.createElement("div",{className:"rbc-agenda-view"},i.length!==0?G.createElement(G.Fragment,null,G.createElement("table",{ref:y,className:"rbc-agenda-table"},G.createElement("thead",null,G.createElement("tr",null,G.createElement("th",{className:"rbc-header",ref:E},V.date),G.createElement("th",{className:"rbc-header",ref:b},V.time),G.createElement("th",{className:"rbc-header"},V.event)))),G.createElement("div",{className:"rbc-agenda-content",ref:S},G.createElement("table",{className:"rbc-agenda-table"},G.createElement("tbody",{ref:I},z.map(function(k,R){return A(k,i,R)}))))):G.createElement("span",{className:"rbc-agenda-empty"},V.noEventsInRange))}Hh.range=function(n,e){var t=e.length,r=t===void 0?Bh:t,i=e.localizer,a=i.add(n,r,"day");return{start:n,end:a}};Hh.navigate=function(n,e,t){var r=t.length,i=r===void 0?Bh:r,a=t.localizer;switch(e){case Fn.PREVIOUS:return a.add(n,-i,"day");case Fn.NEXT:return a.add(n,i,"day");default:return n}};Hh.title=function(n,e){var t=e.length,r=t===void 0?Bh:t,i=e.localizer,a=i.add(n,r,"day");return i.format({start:n,end:a},"agendaHeaderFormat")};var bf=ma(ma(ma(ma(ma({},Kt.MONTH,$h),Kt.WEEK,Os),Kt.WORK_WEEK,Ic),Kt.DAY,zh),Kt.AGENDA,Hh),Rz=["action","date","today"];function xz(n,e){var t=e.action,r=e.date,i=e.today,a=oi(e,Rz);switch(n=typeof n=="string"?bf[n]:n,t){case Fn.TODAY:r=i||new Date;break;case Fn.DATE:break;default:ql(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,t,a)}return r}function Cz(n,e){var t=null;return typeof e=="function"?t=e(n):typeof e=="string"&&qi(n)==="object"&&n!=null&&e in n&&(t=n[e]),t}var Ri=function(e){return function(t){return Cz(t,e)}},Az=["view","date","getNow","onNavigate"],Pz=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function mD(n){if(Array.isArray(n))return n;for(var e=[],t=0,r=Object.entries(n);t<r.length;t++){var i=Ra(r[t],2),a=i[0],u=i[1];u&&e.push(a)}return e}function kz(n,e){var t=e.views,r=mD(t);return r.indexOf(n)!==-1}var gD=function(n){function e(){var t;Ut(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=gn(this,e,[].concat(i)),t.getViews=function(){var u=t.props.views;return Array.isArray(u)?t5(u,function(l,d){return l[d]=bf[d]},{}):qi(u)==="object"?S$(u,function(l,d){return l===!0?bf[d]:l}):bf},t.getView=function(){var u=t.getViews();return u[t.props.view]},t.getDrilldownView=function(u){var l=t.props,d=l.view,p=l.drilldownView,m=l.getDrilldownView;return m?m(u,d,Object.keys(t.getViews())):p},t.handleRangeChange=function(u,l,d){var p=t.props,m=p.onRangeChange,v=p.localizer;m&&l.range&&m(l.range(u,{localizer:v}),d)},t.handleNavigate=function(u,l){var d=t.props,p=d.view,m=d.date,v=d.getNow,y=d.onNavigate,E=oi(d,Az),b=t.getView(),S=v();m=xz(b,et(et({},E),{},{action:u,date:l||m||S,today:S})),y(m,p,u),t.handleRangeChange(m,b)},t.handleViewChange=function(u){u!==t.props.view&&kz(u,t.props)&&t.props.onView(u);var l=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),l[u],u)},t.handleSelectEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onSelectEvent,l)},t.handleDoubleClickEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onDoubleClickEvent,l)},t.handleKeyPressEvent=function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];at(t.props.onKeyPressEvent,l)},t.handleSelectSlot=function(u){at(t.props.onSelectSlot,u)},t.handleDrillDown=function(u,l){var d=t.props.onDrillDown;if(d){d(u,l,t.drilldownView);return}l&&t.handleViewChange(l),t.handleNavigate(Fn.DATE,u)},t.state={context:e.getContext(t.props)},t}return vn(e,n),$t(e,[{key:"render",value:function(){var r=this.props,i=r.view,a=r.toolbar,u=r.events,l=r.backgroundEvents,d=r.resourceGroupingLayout,p=r.style,m=r.className,v=r.elementProps,y=r.date,E=r.getNow,b=r.length,S=r.showMultiDayTimes,I=r.onShowMore,A=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var P=oi(r,Pz);y=y||E();var F=this.getView(),V=this.state.context,H=V.accessors,z=V.components,k=V.getters,R=V.localizer,C=V.viewNames,N=z.toolbar||N5,M=F.title(y,{localizer:R,length:b});return G.createElement("div",Object.assign({},v,{className:wt(m,"rbc-calendar",P.rtl&&"rbc-rtl"),style:p}),a&&G.createElement(N,{date:y,view:i,views:C,label:M,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),G.createElement(F,Object.assign({},P,{events:u,backgroundEvents:l,date:y,getNow:E,length:b,localizer:R,getters:k,components:z,accessors:H,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:I,doShowMoreDrillDown:A,resourceGroupingLayout:d})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,a=r.endAccessor,u=r.allDayAccessor,l=r.tooltipAccessor,d=r.titleAccessor,p=r.resourceAccessor,m=r.resourceIdAccessor,v=r.resourceTitleAccessor,y=r.eventIdAccessor,E=r.eventPropGetter,b=r.backgroundEventPropGetter,S=r.slotPropGetter,I=r.slotGroupPropGetter,A=r.dayPropGetter,P=r.view,F=r.views,V=r.localizer,H=r.culture,z=r.messages,k=z===void 0?{}:z,R=r.components,C=R===void 0?{}:R,N=r.formats,M=N===void 0?{}:N,q=mD(F),D=L5(k);return{viewNames:q,localizer:O5(V,H,M,D),getters:{eventProp:function(){return E&&E.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return I&&I.apply(void 0,arguments)||{}},dayProp:function(){return A&&A.apply(void 0,arguments)||{}}},components:E$(C[P]||{},J$(C,q),{eventWrapper:Ci,backgroundEventWrapper:Ci,eventContainerWrapper:Ci,dateCellWrapper:Ci,weekWrapper:Ci,timeSlotWrapper:Ci,timeGutterWrapper:Ci}),accessors:{start:Ri(i),end:Ri(a),allDay:Ri(u),tooltip:Ri(l),title:Ri(d),resource:Ri(p),resourceId:Ri(m),resourceTitle:Ri(v),eventId:Ri(y)}}}}])}(G.Component);gD.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Kt.MONTH,views:[Kt.MONTH,Kt.WEEK,Kt.DAY,Kt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Kt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Dz=nk(gD,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Oz=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"P",t),"  ").concat(r.format(a,"P",t))},w_=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"p",t),"  ").concat(r.format(a,"p",t))},Nz=function(e,t,r){var i=e.start;return"".concat(r.format(i,"h:mma",t),"  ")},Mz=function(e,t,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",t))},Lz=function(e,t,r){var i=e.start,a=e.end;return"".concat(r.format(i,"MMMM dd",t),"  ").concat(r.format(a,cu(i,a,"month")?"dd":"MMMM dd",t))},Vz={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:w_,eventTimeRangeFormat:w_,eventTimeRangeStartFormat:Nz,eventTimeRangeEndFormat:Mz,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Lz,agendaHeaderFormat:Oz,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:w_},Fz=function(e){var t=e.startOfWeek,r=e.getDay,i=e.format,a=e.locales;return new D5({formats:Vz,firstOfWeek:function(l){return r(t(new Date,{locale:a[l]}))},format:function(l,d,p){return i(new Date(l),d,{locale:a[p]})}})};const vD=6048e5,jz=864e5,qz=6e4,Uz=36e5,$z=1e3,eC=Symbol.for("constructDateFrom");function Qt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&eC in n?n[eC](e):n instanceof Date?new n.constructor(e):new Date(e)}function xt(n,e){return Qt(e||n,n)}function yD(n,e,t){const r=xt(n,t==null?void 0:t.in);return isNaN(e)?Qt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}let zz={};function gu(){return zz}function $i(n,e){var l,d,p,m;const t=gu(),r=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=xt(n,e==null?void 0:e.in),a=i.getDay(),u=(a<r?7:0)+a-r;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function Zo(n,e){return $i(n,{...e,weekStartsOn:1})}function _D(n,e){const t=xt(n,e==null?void 0:e.in),r=t.getFullYear(),i=Qt(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Zo(i),u=Qt(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const l=Zo(u);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Jf(n){const e=xt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Bz(n,...e){const t=Qt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function tC(n,e){const t=xt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Hz(n,e,t){const[r,i]=Bz(t==null?void 0:t.in,n,e),a=tC(r),u=tC(i),l=+a-Jf(a),d=+u-Jf(u);return Math.round((l-d)/jz)}function Wz(n,e){const t=_D(n,e),r=Qt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zo(r)}function Gz(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Kz(n){return!(!Gz(n)&&typeof n!="number"||isNaN(+xt(n)))}function Yz(n,e){const t=xt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Qz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wD=(n,e,t)=>{let r;const i=Qz[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Vo(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Xz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eB={date:Vo({formats:Xz,defaultWidth:"full"}),time:Vo({formats:Jz,defaultWidth:"full"}),dateTime:Vo({formats:Zz,defaultWidth:"full"})},tB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ED=(n,e,t,r)=>tB[n];function ll(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):u;i=n.formattingValues[l]||n.formattingValues[u]}else{const u=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[u]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const nB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uB=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},TD={ordinalNumber:uB,era:ll({values:nB,defaultWidth:"wide"}),quarter:ll({values:rB,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ll({values:iB,defaultWidth:"wide"}),day:ll({values:sB,defaultWidth:"wide"}),dayPeriod:ll({values:aB,defaultWidth:"wide",formattingValues:oB,defaultFormattingWidth:"wide"})};function cl(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const u=a[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(l)?cB(l,v=>v.test(u)):lB(l,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function lB(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function cB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function dB(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let u=n.valueCallback?n.valueCallback(a[0]):a[0];u=t.valueCallback?t.valueCallback(u):u;const l=e.slice(i.length);return{value:u,rest:l}}}const fB=/^(\d+)(th|st|nd|rd)?/i,hB=/\d+/i,pB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mB={any:[/^b/i,/^(a|c)/i]},gB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vB={any:[/1/i,/2/i,/3/i,/4/i]},yB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_B={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bD={ordinalNumber:dB({matchPattern:fB,parsePattern:hB,valueCallback:n=>parseInt(n,10)}),era:cl({matchPatterns:pB,defaultMatchWidth:"wide",parsePatterns:mB,defaultParseWidth:"any"}),quarter:cl({matchPatterns:gB,defaultMatchWidth:"wide",parsePatterns:vB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:cl({matchPatterns:yB,defaultMatchWidth:"wide",parsePatterns:_B,defaultParseWidth:"any"}),day:cl({matchPatterns:wB,defaultMatchWidth:"wide",parsePatterns:EB,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:TB,defaultMatchWidth:"any",parsePatterns:bB,defaultParseWidth:"any"})},SD={code:"en-US",formatDistance:wD,formatLong:eB,formatRelative:ED,localize:TD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SB(n,e){const t=xt(n,e==null?void 0:e.in);return Hz(t,Yz(t))+1}function ID(n,e){const t=xt(n,e==null?void 0:e.in),r=+Zo(t)-+Wz(t);return Math.round(r/vD)+1}function HE(n,e){var m,v,y,E;const t=xt(n,e==null?void 0:e.in),r=t.getFullYear(),i=gu(),a=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(y=i.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,u=Qt((e==null?void 0:e.in)||n,0);u.setFullYear(r+1,0,a),u.setHours(0,0,0,0);const l=$i(u,e),d=Qt((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const p=$i(d,e);return+t>=+l?r+1:+t>=+p?r:r-1}function IB(n,e){var l,d,p,m;const t=gu(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=HE(n,e),a=Qt((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),$i(a,e)}function RD(n,e){const t=xt(n,e==null?void 0:e.in),r=+$i(t,e)-+IB(t,e);return Math.round(r/vD)+1}function Je(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const gs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Je(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Je(t+1,2)},d(n,e){return Je(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Je(n.getHours()%12||12,e.length)},H(n,e){return Je(n.getHours(),e.length)},m(n,e){return Je(n.getMinutes(),e.length)},s(n,e){return Je(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Je(i,e.length)}},xo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nC={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return gs.y(n,e)},Y:function(n,e,t,r){const i=HE(n,r),a=i>0?i:1-i;if(e==="YY"){const u=a%100;return Je(u,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Je(a,e.length)},R:function(n,e){const t=_D(n);return Je(t,e.length)},u:function(n,e){const t=n.getFullYear();return Je(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Je(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Je(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return gs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Je(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=RD(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(n,e,t){const r=ID(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Je(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):gs.d(n,e)},D:function(n,e,t){const r=SB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Je(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Je(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Je(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=xo.noon:r===0?i=xo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=xo.evening:r>=12?i=xo.afternoon:r>=4?i=xo.morning:i=xo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return gs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):gs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Je(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):gs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):gs.s(n,e)},S:function(n,e){return gs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iC(r);case"XXXX":case"XX":return pa(r);case"XXXXX":case"XXX":default:return pa(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return iC(r);case"xxxx":case"xx":return pa(r);case"xxxxx":case"xxx":default:return pa(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rC(r,":");case"OOOO":default:return"GMT"+pa(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rC(r,":");case"zzzz":default:return"GMT"+pa(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Je(r,e.length)},T:function(n,e,t){return Je(+n,e.length)}};function rC(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Je(a,2)}function iC(n,e){return n%60===0?(n>0?"-":"+")+Je(Math.abs(n)/60,2):pa(n,e)}function pa(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Je(Math.trunc(r/60),2),a=Je(r%60,2);return t+i+e+a}const sC=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xD=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return sC(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",sC(r,e)).replace("{{time}}",xD(i,e))},sw={p:xD,P:RB},xB=/^D+$/,CB=/^Y+$/,AB=["D","DD","YY","YYYY"];function CD(n){return xB.test(n)}function AD(n){return CB.test(n)}function aw(n,e,t){const r=PB(n,e,t);if(console.warn(r),AB.includes(n))throw new RangeError(r)}function PB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OB=/^'([^]*?)'?$/,NB=/''/g,MB=/[a-zA-Z]/;function LB(n,e,t){var m,v,y,E,b,S,I,A;const r=gu(),i=(t==null?void 0:t.locale)??r.locale??SD,a=(t==null?void 0:t.firstWeekContainsDate)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((S=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((A=(I=r.locale)==null?void 0:I.options)==null?void 0:A.weekStartsOn)??0,l=xt(n,t==null?void 0:t.in);if(!Kz(l))throw new RangeError("Invalid time value");let d=e.match(DB).map(P=>{const F=P[0];if(F==="p"||F==="P"){const V=sw[F];return V(P,i.formatLong)}return P}).join("").match(kB).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const F=P[0];if(F==="'")return{isToken:!1,value:VB(P)};if(nC[F])return{isToken:!0,value:P};if(F.match(MB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const p={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const F=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&AD(F)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&CD(F))&&aw(F,e,String(n));const V=nC[F[0]];return V(l,F,i.localize,p)}).join("")}function VB(n){const e=n.match(OB);return e?e[1].replace(NB,"'"):n}function FB(n,e){return xt(n,e==null?void 0:e.in).getDay()}function jB(){return Object.assign({},gu())}function qB(n,e){const t=xt(n,e==null?void 0:e.in).getDay();return t===0?7:t}function UB(n,e){const t=$B(e)?new e(0):Qt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function $B(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const zB=10;class PD{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class BB extends PD{constructor(e,t,r,i,a){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class HB extends PD{constructor(t,r){super();pe(this,"priority",zB);pe(this,"subPriority",-1);this.context=t||(i=>Qt(r,i))}set(t,r){return r.timestampIsSet?t:Qt(t,UB(t,this.context))}}class Ye{run(e,t,r,i){const a=this.parse(e,t,r,i);return a?{setter:new BB(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,r){return!0}}class WB extends Ye{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(n,e){return n&&{value:e(n.value),rest:n.rest}}function mt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ei(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:r*(i*Uz+a*qz+u*$z),rest:e.slice(t[0].length)}}function kD(n){return mt(It.anyDigitsSigned,n)}function Et(n,e){switch(n){case 1:return mt(It.singleDigit,e);case 2:return mt(It.twoDigits,e);case 3:return mt(It.threeDigits,e);case 4:return mt(It.fourDigits,e);default:return mt(new RegExp("^\\d{1,"+n+"}"),e)}}function Zf(n,e){switch(n){case 1:return mt(It.singleDigitSigned,e);case 2:return mt(It.twoDigitsSigned,e);case 3:return mt(It.threeDigitsSigned,e);case 4:return mt(It.fourDigitsSigned,e);default:return mt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function WE(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function DD(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const a=r+50,u=Math.trunc(a/100)*100,l=n>=a%100;i=n+u-(l?100:0)}return t?i:1-i}function OD(n){return n%400===0||n%4===0&&n%100!==0}class GB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="yy"});switch(r){case"y":return Rt(Et(4,t),a);case"yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=DD(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const u=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class KB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=u=>({year:u,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Rt(Et(4,t),a);case"Yo":return Rt(i.ordinalNumber(t,{unit:"year"}),a);default:return Rt(Et(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const u=HE(t,a);if(i.isTwoDigitYear){const d=DD(i.year,u);return t.setFullYear(d,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),$i(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),$i(t,a)}}class YB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Zf(r==="R"?4:r.length,t)}set(t,r,i){const a=Qt(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Zo(a)}}class QB extends Ye{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Zf(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class XB extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Et(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class JB extends Ye{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Et(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class ZB extends Ye{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,r,i){const a=u=>u-1;switch(r){case"M":return Rt(mt(It.month,t),a);case"MM":return Rt(Et(2,t),a);case"Mo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class eH extends Ye{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=u=>u-1;switch(r){case"L":return Rt(mt(It.month,t),a);case"LL":return Rt(Et(2,t),a);case"Lo":return Rt(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function tH(n,e,t){const r=xt(n,t==null?void 0:t.in),i=RD(r,t)-e;return r.setDate(r.getDate()-i*7),xt(r,t==null?void 0:t.in)}class nH extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return mt(It.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return $i(tH(t,i,a),a)}}function rH(n,e,t){const r=xt(n,t==null?void 0:t.in),i=ID(r,t)-e;return r.setDate(r.getDate()-i*7),r}class iH extends Ye{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return mt(It.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Zo(rH(t,i))}}const sH=[31,28,31,30,31,30,31,31,30,31,30,31],aH=[31,29,31,30,31,30,31,31,30,31,30,31];class oH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return mt(It.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=OD(i),u=t.getMonth();return a?r>=1&&r<=aH[u]:r>=1&&r<=sH[u]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class uH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return mt(It.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Et(r.length,t)}}validate(t,r){const i=t.getFullYear();return OD(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function GE(n,e,t){var v,y,E,b;const r=gu(),i=(t==null?void 0:t.weekStartsOn)??((y=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(E=r.locale)==null?void 0:E.options)==null?void 0:b.weekStartsOn)??0,a=xt(n,t==null?void 0:t.in),u=a.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(u+p)%7:(d+p)%7-(u+p)%7;return yD(a,m,t)}class lH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=GE(t,i,a),t.setHours(0,0,0,0),t}}class cH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return Rt(Et(r.length,t),u);case"eo":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=GE(t,i,a),t.setHours(0,0,0,0),t}}class dH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const u=l=>{const d=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return Rt(Et(r.length,t),u);case"co":return Rt(i.ordinalNumber(t,{unit:"day"}),u);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=GE(t,i,a),t.setHours(0,0,0,0),t}}function fH(n,e,t){const r=xt(n,t==null?void 0:t.in),i=qB(r,t),a=e-i;return yD(r,a,t)}class hH extends Ye{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=u=>u===0?7:u;switch(r){case"i":case"ii":return Et(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Rt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Rt(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Rt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Rt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=fH(t,i),t.setHours(0,0,0,0),t}}class pH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WE(i),0,0,0),t}}class mH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WE(i),0,0,0),t}}class gH extends Ye{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WE(i),0,0,0),t}}class vH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return mt(It.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class yH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return mt(It.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class _H extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return mt(It.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class wH extends Ye{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return mt(It.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Et(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class EH extends Ye{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return mt(It.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class TH extends Ye{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return mt(It.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Et(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class bH extends Ye{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Rt(Et(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class SH extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ei(Zr.basicOptionalMinutes,t);case"XX":return ei(Zr.basic,t);case"XXXX":return ei(Zr.basicOptionalSeconds,t);case"XXXXX":return ei(Zr.extendedOptionalSeconds,t);case"XXX":default:return ei(Zr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-Jf(t)-i)}}class IH extends Ye{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ei(Zr.basicOptionalMinutes,t);case"xx":return ei(Zr.basic,t);case"xxxx":return ei(Zr.basicOptionalSeconds,t);case"xxxxx":return ei(Zr.extendedOptionalSeconds,t);case"xxx":default:return ei(Zr.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-Jf(t)-i)}}class RH extends Ye{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return kD(t)}set(t,r,i){return[Qt(t,i*1e3),{timestampIsSet:!0}]}}class xH extends Ye{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return kD(t)}set(t,r,i){return[Qt(t,i),{timestampIsSet:!0}]}}const CH={G:new WB,y:new GB,Y:new KB,R:new YB,u:new QB,Q:new XB,q:new JB,M:new ZB,L:new eH,w:new nH,I:new iH,d:new oH,D:new uH,E:new lH,e:new cH,c:new dH,i:new hH,a:new pH,b:new mH,B:new gH,h:new vH,H:new yH,K:new _H,k:new wH,m:new EH,s:new TH,S:new bH,X:new SH,x:new IH,t:new RH,T:new xH},AH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kH=/^'([^]*?)'?$/,DH=/''/g,OH=/\S/,NH=/[a-zA-Z]/;function MH(n,e,t,r){var I,A,P,F,V,H,z,k;const i=()=>Qt((r==null?void 0:r.in)||t,NaN),a=jB(),u=(r==null?void 0:r.locale)??a.locale??SD,l=(r==null?void 0:r.firstWeekContainsDate)??((A=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:A.firstWeekContainsDate)??a.firstWeekContainsDate??((F=(P=a.locale)==null?void 0:P.options)==null?void 0:F.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((H=(V=r==null?void 0:r.locale)==null?void 0:V.options)==null?void 0:H.weekStartsOn)??a.weekStartsOn??((k=(z=a.locale)==null?void 0:z.options)==null?void 0:k.weekStartsOn)??0;if(!e)return n?i():xt(t,r==null?void 0:r.in);const p={firstWeekContainsDate:l,weekStartsOn:d,locale:u},m=[new HB(r==null?void 0:r.in,t)],v=e.match(PH).map(R=>{const C=R[0];if(C in sw){const N=sw[C];return N(R,u.formatLong)}return R}).join("").match(AH),y=[];for(let R of v){!(r!=null&&r.useAdditionalWeekYearTokens)&&AD(R)&&aw(R,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&CD(R)&&aw(R,e,n);const C=R[0],N=CH[C];if(N){const{incompatibleTokens:M}=N;if(Array.isArray(M)){const D=y.find(ce=>M.includes(ce.token)||ce.token===C);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${R}\` at the same time`)}else if(N.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);y.push({token:C,fullToken:R});const q=N.run(n,R,u.match,p);if(!q)return i();m.push(q.setter),n=q.rest}else{if(C.match(NH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(R==="''"?R="'":C==="'"&&(R=LH(R)),n.indexOf(R)===0)n=n.slice(R.length);else return i()}}if(n.length>0&&OH.test(n))return i();const E=m.map(R=>R.priority).sort((R,C)=>C-R).filter((R,C,N)=>N.indexOf(R)===C).map(R=>m.filter(C=>C.priority===R).sort((C,N)=>N.subPriority-C.subPriority)).map(R=>R[0]);let b=xt(t,r==null?void 0:r.in);if(isNaN(+b))return i();const S={};for(const R of E){if(!R.validate(b,p))return i();const C=R.set(b,S,p);Array.isArray(C)?(b=C[0],Object.assign(S,C[1])):b=C}return b}function LH(n){return n.match(kH)[1].replace(DH,"'")}const VH={full:"EEEE, dd MMMM yyyy",long:"dd MMMM yyyy",medium:"dd MMM yyyy",short:"yyyy/MM/dd"},FH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qH={date:Vo({formats:VH,defaultWidth:"full"}),time:Vo({formats:FH,defaultWidth:"full"}),dateTime:Vo({formats:jH,defaultWidth:"full"})},UH={code:"en-ZA",formatDistance:wD,formatLong:qH,formatRelative:ED,localize:TD,match:bD,options:{weekStartsOn:0,firstWeekContainsDate:1}},$H={"en-ZA":UH},zH=Fz({format:LB,parse:MH,startOfWeek:$i,getDay:FB,locales:$H}),BH=()=>{const[n,e]=$.useState([{title:"Math Class",start:new Date,end:new Date(new Date().getTime()+36e5)}]),[t,r]=$.useState(Kt.WEEK);return $.useEffect(()=>{const i=()=>{window.innerWidth<768?r(Kt.DAY):r(Kt.WEEK)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),L.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8 px-4 sm:px-6 ",children:L.jsx("div",{className:"shadow-lg rounded-xl p-4 sm:p-8 max-w-full mx-auto lg:ml-16 ml-0",children:L.jsx(Dz,{localizer:zH,events:Array.isArray(n)?n.filter(i=>(i==null?void 0:i.title)&&(i==null?void 0:i.start)&&(i==null?void 0:i.end)):[],startAccessor:"start",endAccessor:"end",views:{day:!0,week:!0},defaultView:t,style:{height:"80vh",width:"100%"},showMultiDayTimes:!0})})})},HH=()=>{const n=Ma(),e=async()=>{try{await QL(ji),alert("You have been successfully signed out!"),n("/")}catch(t){console.error("Logout Failed:",t.message)}};return L.jsxs("div",{className:"px-4 sm:px-6 py-6 md:ml-16 max-w-2xl mx-auto space-y-6",children:[L.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),L.jsx("div",{className:"border-t pt-6",children:L.jsx("button",{onClick:e,className:"bg-red text-white py-2 px-4 rounded hover:bg-red-700 transition",children:"Log Out"})})]})};function WH(n){return pc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function GH(n){return pc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(n)}function KH(n){return pc({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(n)}function YH(n){return pc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"},child:[]}]})(n)}const E_=()=>{const[n,e]=$.useState(!1),t=li();Ma(),$.useEffect(()=>{e(!1)},[t]),$.useEffect(()=>{const a=u=>{u.key==="Escape"&&e(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]);const r=()=>{e(!n)},i=[{path:"#home",icon:L.jsx(WH,{className:"h-6 w-6"}),label:"Home"},{path:"#students",icon:L.jsx(GH,{className:"h-6 w-6"}),label:"Students"},{path:"#attendance",icon:L.jsx(KH,{className:"h-6 w-6"}),label:"Attendance"},{path:"#schedule",icon:L.jsx(YH,{className:"h-6 w-6"}),label:"Schedule"}];return L.jsxs("div",{className:"relative",children:[L.jsxs("nav",{className:`fixed top-0 left-0 h-full bg-black text-white hidden md:flex flex-col ${n?"md:w-64":"md:w-16"} transition-all duration-300 ease-in-out z-40 shadow-lg`,"aria-expanded":n,role:"navigation",children:[L.jsxs("div",{className:"relative h-16 flex items-center border-b border-white/10",children:[L.jsx("button",{onClick:r,className:`p-2 text-white hover:bg-white/10 focus:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20 rounded-md transition-all duration-300 ${n?"ml-52":"ml-3"}`,"aria-label":n?"Close navigation":"Open navigation",children:n?L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),n&&L.jsx("h1",{className:"text-xl font-semibold absolute left-4",children:"Attendio"})]}),L.jsx("div",{className:"flex flex-col space-y-2 mt-6 px-3",children:i.map(a=>{const u=t.pathname===a.path;return L.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex items-center px-3 py-3 rounded-md transition-all duration-200 ${n?"":"justify-center"} ${u?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"}`,"aria-current":u?"page":void 0,children:[L.jsx("span",{className:"flex items-center justify-center w-6",children:a.icon}),n&&L.jsx("span",{className:"ml-4 font-medium",children:a.label})]},a.path)})}),n&&L.jsx("div",{className:"mt-auto p-4 border-t border-white/10",children:L.jsx("div",{className:"text-sm text-white/60",children:" 2025 Fretnot Music School"})})]}),L.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black text-white z-40 shadow-lg mt-16",children:L.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(a=>{const u=t.pathname===a.path;return L.jsxs("a",{href:a.path,onClick:a.action||void 0,className:`flex flex-col items-center justify-center w-full h-full ${u?"bg-white/20 text-white":"text-white/80 hover:text-white active:bg-white/10"}`,"aria-current":u?"page":void 0,children:[L.jsx("span",{className:"flex items-center justify-center",children:a.icon}),L.jsx("span",{className:"text-xs mt-1",children:a.label})]},a.path)})})}),n&&L.jsx("div",{onClick:r,className:"fixed top-0 left-0 w-full h-full bg-black/50 backdrop-blur-sm transition-all duration-300 z-30 hidden md:block","aria-hidden":"true"})]})},dl=({children:n})=>{const e=li(),[t,r]=$.useState(localStorage.getItem("isAuthenticated")==="true"),[i,a]=$.useState(!0);return $.useEffect(()=>{const u=ji.onAuthStateChanged(d=>{d?(r(!0),localStorage.setItem("isAuthenticated","true")):(r(!1),localStorage.removeItem("isAuthenticated")),a(!1)});return localStorage.getItem("isAuthenticated")==="true"&&r(!0),()=>u()},[]),i?localStorage.getItem("isAuthenticated")==="true"?L.jsxs("div",{children:[L.jsx(E_,{}),L.jsx("main",{children:n})]}):L.jsxs("div",{children:[L.jsx(E_,{}),"Loading..."]}):t?L.jsxs("div",{children:[L.jsx(E_,{}),L.jsx("main",{children:n})]}):L.jsx(fl,{to:"/login",state:{from:e},replace:!0})},QH="/attendio/assets/Calendar-bro-ByK5CIeR.svg",XH=()=>{const n=Ma();return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-purple-200 flex flex-col justify-between",children:[L.jsxs("section",{className:"px-6 py-20 max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[L.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-center md:text-left",children:[L.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800",children:"Attendance, Simplified."}),L.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"A clean, intuitive way to track and manage student presence."}),L.jsx("button",{onClick:()=>n("/login"),className:"mt-8 px-6 py-3 bg-black text-white text-lg rounded-lg hover:bg-blue-700 transition",children:"Get Started / Login"})]}),L.jsx("div",{className:"w-full flex justify-center",children:L.jsx("img",{src:QH,alt:"Calendar illustration",className:"w-full max-w-md"})})]}),L.jsx("footer",{className:"bg-black text-white text-center py-4 text-sm",children:" 2025 Attendio by Waldo Oosthuizen"})]})},JH=()=>{const[n,e]=$.useState(!1),[t,r]=$.useState(!1),[i,a]=$.useState(!1);return $.useEffect(()=>{const u=rA(ji,l=>{a(!!l),r(!0)});return()=>u()},[]),t?L.jsx(sN,{children:L.jsxs(M2,{children:[L.jsx(xi,{path:"/",element:i?L.jsx(fl,{to:"/home"}):L.jsx(XH,{})}),L.jsx(xi,{path:"/login",element:i?L.jsx(fl,{to:"/home"}):n?L.jsx(J3,{setShowSignUp:e}):L.jsx(Z3,{setShowSignUp:e})}),L.jsx(xi,{path:"/home",element:L.jsx(dl,{children:L.jsx(n6,{})})}),L.jsx(xi,{path:"/students",element:L.jsx(dl,{children:L.jsx(i6,{})})}),L.jsx(xi,{path:"/attendance",element:L.jsx(dl,{children:L.jsx(s6,{})})}),L.jsx(xi,{path:"/schedule",element:L.jsx(dl,{children:L.jsx(BH,{})})}),L.jsx(xi,{path:"/settings",element:L.jsx(dl,{children:L.jsx(HH,{})})}),L.jsx(xi,{path:"*",element:i?L.jsx(fl,{to:"/home"}):L.jsx(fl,{to:"/login"})})]})}):null};HO.createRoot(document.getElementById("root")).render(L.jsx($.StrictMode,{children:L.jsx(JH,{})}));
